/*!
 * @vplayer/mango-player v7.0.2-29233fb
 *
 * @author Mgtv.com F2E Group
 * Released under the MIT License.
 */
! function(t, e) {
	"object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define &&
		define.amd ? define(e) : (t = t || self).mangoPlayer = e()
}(this, function() {
	function t(t, e, i, n, r, o, s) {
		try {
			var a = t[o](s),
				h = a.value
		} catch (t) {
			return void i(t)
		}
		a.done ? e(h) : Promise.resolve(h).then(n, r)
	}

	function e(e) {
		return function() {
			var i = this,
				n = arguments;
			return new Promise(function(r, o) {
				var s = e.apply(i, n);

				function a(e) {
					t(s, r, o, a, h, "next", e)
				}

				function h(e) {
					t(s, r, o, a, h, "throw", e)
				}
				a(void 0)
			})
		}
	}

	function i(t, e) {
		for (var i = 0; i < e.length; i++) {
			var n = e[i];
			n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object
				.defineProperty(t, n.key, n)
		}
	}

	function n(t, e, n) {
		return e && i(t.prototype, e), n && i(t, n), t
	}

	function r(t, e) {
		t.prototype = Object.create(e.prototype), t.prototype.constructor = t, s(t, e)
	}

	function o(t) {
		return (o = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
			return t.__proto__ || Object.getPrototypeOf(t)
		})(t)
	}

	function s(t, e) {
		return (s = Object.setPrototypeOf || function(t, e) {
			return t.__proto__ = e, t
		})(t, e)
	}

	function a(t, e, i) {
		return (a = function() {
			if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
			if (Reflect.construct.sham) return !1;
			if ("function" == typeof Proxy) return !0;
			try {
				return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0
			} catch (t) {
				return !1
			}
		}() ? Reflect.construct : function(t, e, i) {
			var n = [null];
			n.push.apply(n, e);
			var r = new(Function.bind.apply(t, n));
			return i && s(r, i.prototype), r
		}).apply(null, arguments)
	}

	function h(t) {
		var e = "function" == typeof Map ? new Map : void 0;
		return (h = function(t) {
			if (null === t || (i = t, -1 === Function.toString.call(i).indexOf("[native code]"))) return t;
			var i;
			if ("function" != typeof t) throw new TypeError(
				"Super expression must either be null or a function");
			if (void 0 !== e) {
				if (e.has(t)) return e.get(t);
				e.set(t, n)
			}

			function n() {
				return a(t, arguments, o(this).constructor)
			}
			return n.prototype = Object.create(t.prototype, {
				constructor: {
					value: n,
					enumerable: !1,
					writable: !0,
					configurable: !0
				}
			}), s(n, t)
		})(t)
	}

	function c(t, e) {
		(null == e || e > t.length) && (e = t.length);
		for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
		return n
	}

	function u(t, e) {
		var i = "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
		if (i) return (i = i.call(t)).next.bind(i);
		if (Array.isArray(t) || (i = function(t, e) {
				if (t) {
					if ("string" == typeof t) return c(t, e);
					var i = Object.prototype.toString.call(t).slice(8, -1);
					return "Object" === i && t.constructor && (i = t.constructor.name), "Map" === i || "Set" ===
						i ? Array.from(t) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/
						.test(i) ? c(t, e) : void 0
				}
			}(t)) || e && t && "number" == typeof t.length) {
			i && (t = i);
			var n = 0;
			return function() {
				return n >= t.length ? {
					done: !0
				} : {
					done: !1,
					value: t[n++]
				}
			}
		}
		throw new TypeError(
			"Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
			)
	}

	function l(t, e, i, n) {
		i && Object.defineProperty(t, e, {
			enumerable: i.enumerable,
			configurable: i.configurable,
			writable: i.writable,
			value: i.initializer ? i.initializer.call(n) : void 0
		})
	}

	function d(t, e, i, n, r) {
		var o = {};
		return Object.keys(n).forEach(function(t) {
				o[t] = n[t]
			}), o.enumerable = !!o.enumerable, o.configurable = !!o.configurable, ("value" in o || o.initializer) &&
			(o.writable = !0), o = i.slice().reverse().reduce(function(i, n) {
				return n(t, e, i) || i
			}, o), r && void 0 !== o.initializer && (o.value = o.initializer ? o.initializer.call(r) : void 0, o
				.initializer = void 0), void 0 === o.initializer && (Object.defineProperty(t, e, o), o = null), o
	}
	var f = Object.defineProperty,
		p = Object.getOwnPropertyDescriptor,
		m = Object.assign,
		g = Object.keys;

	function y(t) {
		return void 0 !== t
	}

	function _(t) {
		return null == t
	}

	function b(t) {
		return Array.isArray(t)
	}

	function w(t) {
		return "function" == typeof t
	}

	function k(t) {
		return Object(t) === t && "[object Object]" === String(t) && !w(t) && !b(t)
	}

	function E(t) {
		return "number" == typeof t
	}

	function S(t) {
		return Number.isInteger(t)
	}

	function T(t) {
		return b(t) ? 0 === t.length : k(t) ? 0 === g(t).length : !t
	}

	function x(t) {
		return t instanceof Event || (t && t.originalEvent) instanceof Event
	}

	function A(t) {
		return "string" == typeof t || t instanceof String
	}

	function C(t) {
		return "boolean" == typeof t
	}

	function R(t) {
		return !!t && ("object" == typeof t || "function" == typeof t) && "function" == typeof t.then
	}

	function I(t) {
		return _(t) || C(t) || A(t) || E(t)
	}

	function L(t) {
		return !!("object" == typeof Node ? t instanceof Node : t && "object" == typeof t && "number" == typeof t
			.nodeType && "string" == typeof t.nodeName)
	}

	function P(t) {
		return !!("object" == typeof HTMLElement ? t instanceof HTMLElement : t && "object" == typeof t && null !==
			t && 1 === t.nodeType && "string" == typeof t.nodeName)
	}

	function D(t, e) {
		if (!L(t) || !L(e)) return !1;
		for (; e.parentNode;)
			if ((e = e.parentNode) === t) return !0;
		return !1
	}

	function M(t) {
		return t instanceof Error
	}
	var B, O, U = (B = function(t) {
		return t
	}, void 0 === O && (O = function(t, e, i) {
		t[e] = i
	}), function t(e, i, n) {
		if (b(e) || k(e)) {
			for (var r in i = I(i) ? k(e) ? {} : [] : i, e) O(i, r, t(e[r], i[r], r));
			return i
		}
		return B(e, i, n)
	});

	function F(t) {
		if (I(t)) throw new TypeError("deepClone only accept non primitive type");
		return U(t)
	}

	function N() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (e.length < 2) throw new Error("deepAssign accept two and more argument");
		for (var n = e.length - 1; n > -1; n--)
			if (I(e[n])) throw new TypeError("deepAssign only accept non primitive type");
		var r = e.shift();
		return e.forEach(function(t) {
			return U(t, r)
		}), r
	}

	function V(t, e) {
		return t.replace(/(^|[^a-zA-Z]+)([a-zA-Z])/g, function(t, i, n, r) {
			return e || 0 !== r ? n.toUpperCase() : n.toLowerCase()
		})
	}

	function z(t, e) {
		return t.bind ? t.bind(e) : t.apply ? function() {
			for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
			return t.apply(e, n)
		} : function() {
			for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
			return t.call.apply(t, [e].concat(n))
		}
	}

	function j(t, e, i) {
		var n = void 0 === i ? {} : i,
			r = n.throwError,
			o = void 0 !== r && r,
			s = n.backup;
		if (A(e) && (e = e.split(".")), !b(e)) throw new TypeError(
			"keys of getDeepProperty must be string or Array<string>");
		for (var a = [], h = t, c = 0, u = e.length; c < u; c++) {
			var l = e[c];
			if (_(h)) {
				if (o) throw new Error("obj" + (a.length > 0 ? "." + a.join(".") : " itself") + " is " + h);
				return s
			}
			h = h[l], a.push(l)
		}
		return h
	}
	var W = "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" !=
		typeof window ? window : {};

	function q() {
		throw new Error("setTimeout has not been defined")
	}

	function G() {
		throw new Error("clearTimeout has not been defined")
	}
	var K = q,
		Y = G;

	function X(t) {
		if (K === setTimeout) return setTimeout(t, 0);
		if ((K === q || !K) && setTimeout) return K = setTimeout, setTimeout(t, 0);
		try {
			return K(t, 0)
		} catch (e) {
			try {
				return K.call(null, t, 0)
			} catch (e) {
				return K.call(this, t, 0)
			}
		}
	}
	"function" == typeof W.setTimeout && (K = setTimeout), "function" == typeof W.clearTimeout && (Y =
	clearTimeout);
	var Z, Q = [],
		J = !1,
		tt = -1;

	function et() {
		J && Z && (J = !1, Z.length ? Q = Z.concat(Q) : tt = -1, Q.length && it())
	}

	function it() {
		if (!J) {
			var t = X(et);
			J = !0;
			for (var e = Q.length; e;) {
				for (Z = Q, Q = []; ++tt < e;) Z && Z[tt].run();
				tt = -1, e = Q.length
			}
			Z = null, J = !1,
				function(t) {
					if (Y === clearTimeout) return clearTimeout(t);
					if ((Y === G || !Y) && clearTimeout) return Y = clearTimeout, clearTimeout(t);
					try {
						Y(t)
					} catch (e) {
						try {
							return Y.call(null, t)
						} catch (e) {
							return Y.call(this, t)
						}
					}
				}(t)
		}
	}

	function nt(t, e) {
		this.fun = t, this.array = e
	}
	nt.prototype.run = function() {
		this.fun.apply(null, this.array)
	};
	var rt = W.performance || {},
		ot = (rt.now || rt.mozNow || rt.msNow || rt.oNow || rt.webkitNow, "undefined" != typeof globalThis ?
			globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global :
			"undefined" != typeof self ? self : {});

	function st(t, e) {
		return t(e = {
			exports: {}
		}, e.exports), e.exports
	}
	var at = st(function(t, e) {
			var i;
			t.exports = (i = "undefined" != typeof window && window.Math === Math ? window : "undefined" !=
				typeof self && self.Math === Math ? self : Function("return this")(), "number" ==
				typeof __g && (__g = i), i)
		}),
		ht = "undefined" != typeof window && window.document || {},
		ct = function(t) {
			if ("string" != typeof t) throw new Error("trim need a string as parameter");
			for (var e = t.length, i = 0, n = e - 1, r = /(\u3000|\s|\t|\u00A0)/; i < e && r.test(t.charAt(i));) ++
			i;
			for (; n >= 0 && r.test(t.charAt(n));) --n;
			return t.substring(i, n + 1)
		},
		ut = function(t) {
			for (var e, i, n, r = t ? t.split("; ") : [], o = {}, s = -1, a = r.length; ++s < a;) ~(e = (t = ct(r[
				s])).indexOf("=")) && (i = t.substring(0, e), n = t.substring(e + 1), o[i] = n);
			return o
		},
		lt = function(t, e, i) {
			if (i = i || {}, void 0 !== e) {
				if (i = function(t) {
						var e = {};
						for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
						return e
					}(i), null === e && (e = "", i.expires = -1), "number" == typeof i.expires) {
					var n = i.expires,
						r = i.expires = new Date;
					r.setTime(r.getTime() + 864e5 * n)
				}
				var o = function(t) {
					try {
						return i.raw ? t : encodeURIComponent(t)
					} catch (t) {}
					return t
				};
				return ht.cookie = [o(t), "=", o(e), i.expires ? "; expires=" + i.expires.toUTCString() : "", i
					.path ? "; path=" + i.path : "", i.domain ? "; domain=" + i.domain : "", i.secure ?
					"; secure" : ""
				].join(""), e
			}
			var s;
			return s = ut(ht.cookie)[t], i.raw ? s : s && decodeURIComponent(s) || null
		};
	lt.set = function(t, e, i) {
		return lt(t, e, i)
	}, lt.get = function(t) {
		return lt(t)
	}, lt.remove = function(t) {
		return lt(t, null)
	}, lt.keys = function() {
		return g(ut(ht.cookie))
	};
	var dt = function() {
			var t = self.navigator.userAgent.toLowerCase(),
				e = /(firefox)\/([\w.]+)/.exec(t) || /(edg)\/([\w.]+)/.exec(t) || /(edge)\/([\w.]+)/.exec(t) ||
				/(opr)[\/]([\w.]+)/.exec(t) || /(chrome)[ \/]([\w.]+)/.exec(t) || /(iemobile)[\/]([\w.]+)/.exec(
				t) || /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t) ||
				/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t) ||
				/(webkit)[ \/]([\w.]+)/.exec(t) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t) || /(msie) ([\w.]+)/
				.exec(t) || t.indexOf("trident") >= 0 && /(rv)(?::| )([\w.]+)/.exec(t) || t.indexOf("compatible") <
				0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t) || [],
				i = /(ipad)/.exec(t) || /(ipod)/.exec(t) || /(windows phone)/.exec(t) || /(iphone)/.exec(t) ||
				/(kindle)/.exec(t) || /(android)/.exec(t) || /(windows)/.exec(t) || /(mac)/.exec(t) || /(linux)/
				.exec(t) || /(cros)/.exec(t) || [],
				n = {
					browser: e[5] || e[3] || e[1] || "",
					version: e[2] || e[4] || "0",
					majorVersion: e[4] || e[2] || "0",
					platform: i[0] || ""
				},
				r = {};
			if (n.browser) {
				r[n.browser] = !0;
				var o = n.majorVersion.split(".");
				r.version = {
					major: parseInt(n.majorVersion, 10),
					string: n.version
				}, o.length > 1 && (r.version.minor = parseInt(o[1], 10)), o.length > 2 && (r.version.build =
					parseInt(o[2], 10))
			}
			return n.platform && (r[n.platform] = !0), (r.chrome || r.opr || r.safari) && (r.webkit = !0), (r.rv ||
					r.iemobile) && (r.rv && delete r.rv, n.browser = "msie", r.msie = !0), (r.edge || r.edg) && (
					delete r.edge, n.browser = "msedge", r.msedge = !0), r.opr && (n.browser = "opera", r.opera = !
					0), r.safari && r.android && (n.browser = "android", r.android = !0), r.name = n.browser, r
				.platform = n.platform, r
		}(),
		ft = void 0 !== at && "[object Object]" !== Object.prototype.toString.call(at);

	function pt(t, e) {
		return void 0 === e && (e = function(t, e) {
			return +t - +e
		}), g(t).sort(e).reduce(function(e, i) {
			return e.concat(t[i])
		}, [])
	}

	function mt(t) {
		for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] = arguments[n];
		return new Promise(function(e, n) {
			var r = function(o) {
				if (!(o >= t.length)) {
					var s = w(t[o]) ? t[o].apply(t, i) : t[o];
					return !1 === s ? n("stop") : Promise.resolve(s).then(function() {
						return r(o + 1)
					}).catch(function(t) {
						return n(t || "stop")
					})
				}
				e()
			};
			r(0)
		})
	}

	function vt(t) {
		for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] = arguments[n];
		var r = function(e) {
			return e >= t.length || !1 !== (w(t[e]) ? t[e].apply(t, i) : t[e]) && r(++e)
		};
		return r(0)
	}

	function gt(t, e, i, n) {
		var r, o, s, a = null,
			h = 0;
		i || (i = {});
		var c = function() {
			h = !1 === i.leading ? 0 : new Date - 0, a = null, s = t.apply(r, o), a || (r = o = null)
		};
		return e = e || 0,
			function() {
				var u = new Date;
				h || !1 !== i.leading || (h = u);
				var l = e - (u - h);
				return r = n || this, o = arguments, l <= 0 || l > e ? (a && (clearTimeout(a), a = null), h = u, s =
					t.apply(r, o), a || (r = o = null)) : a || !1 === i.trailing || (a = setTimeout(c, l)), s
			}
	}
	ft && (at.requestAnimationFrame || at.mozRequestAnimationFrame || at.webkitRequestAnimationFrame || at
		.msRequestAnimationFrame || at.oRequestAnimationFrame), ft && (at.cancelAnimationFrame || at
		.mozCancelAnimationFrame || at.webkitCancelAnimationFrame || at.webkitCancelRequestAnimationFrame || at
		.msCancelAnimationFrame || at.oCancelAnimationFrame);
	var yt = at.setImmediate || function(t) {
		var e = new Array(arguments.length - 1);
		if (arguments.length > 1)
			for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
		Q.push(new nt(t, e)), 1 !== Q.length || J || X(it)
	};

	function _t(t) {
		var e = Math.floor(t / 60) < 10 ? "0" + Math.floor(t / 60) : Math.floor(t / 60);
		return e + ":" + (Math.floor(t - 60 * e) < 10 ? "0" + Math.floor(t - 60 * e) : Math.floor(t - 60 * e))
	}

	function bt(t, e) {
		return t.replace(/{{(\w+)}}/g, function(t, i) {
			return 0 === e[i] ? 0 : e[i] || ""
		})
	}

	function wt(t, e) {
		void 0 === t && (t = new Date), void 0 === e && (e = "yyyy-MM-dd hh:mm:ss.i");
		var i = t.getFullYear().toString(),
			n = {
				M: t.getMonth() + 1,
				d: t.getDate(),
				h: t.getHours(),
				m: t.getMinutes(),
				s: t.getSeconds(),
				i: t.getMilliseconds()
			};
		e = e.replace(/(y+)/gi, function(t, e) {
			return i.substr(4 - Math.min(4, e.length))
		});
		var r = function(t) {
			e = e.replace(new RegExp("(" + t + "+)", "g"), function(e, i) {
				return (n[t] < 10 && i.length > 1 ? "0" : "") + n[t]
			})
		};
		for (var o in n) r(o);
		return e
	}

	function kt(t) {
		return lt.get(t)
	}

	function Et(t, e, i) {
		return lt.set(t, e, i)
	}

	function St(t) {
		return g(t).map(function(e) {
			return encodeURIComponent(e) + "=" + encodeURIComponent(void 0 === t[e] ? "" : t[e])
		}).join("&")
	}

	function Tt(t, e) {
		e = void 0 === e ? location.search.substr(1) : e;
		var i = new RegExp("(^|&)" + t + "=([^&]*)(&|$)"),
			n = e.match(i);
		return null != n ? unescape(n[2]) : null
	}

	function xt(t) {
		return Tt(t)
	}

	function At(t) {
		var e = "clipbrd-" + Math.floor(1e6 * Math.random());
		$("body").append('<input type="textarea" id="' + e + '"/>');
		var i = $("#" + e);
		i.val(t);
		try {
			i.select(), document.execCommand("copy")
		} catch (t) {}
		i.remove()
	}
	var Ct = function(t, e) {
		if (!t) throw new Error("get(o, k): object not valid.");
		if (~e.indexOf("."))
			for (var i = e.split(".").filter(Boolean), n = -1, r = i.length - 1; ++n < r;) t = t && t[i[n]], e =
				i[n + 1];
		return [t, t && t[e]]
	};

	function Rt(t, e, i) {
		var n;
		return k(t) && (n = Ct(t, e)[1]), void 0 === n ? i : n
	}

	function It(t, e, i) {
		try {
			return void 0 !== at && at.playerDebug,
				function(t, e, i) {
					if (t) {
						var n = Ct(t, e),
							r = n[0],
							o = n[1];
						if ("function" == typeof o) return o.apply(r, i || [])
					}
				}(t, e, i)
		} catch (t) {}
	}

	function Lt(t) {
		var e = document.createElement("a");
		return e.href = t, e
	}

	function Pt(t) {
		var e = Lt(t);
		return !(!e || !e.pathname || -1 == e.pathname.indexOf(".mp4"))
	}

	function Dt(t) {
		var e = Lt(t);
		return !(!e || !e.pathname || -1 == e.pathname.indexOf(".mpd"))
	}

	function Mt(t) {
		var e = navigator,
			i = (e.userAgent, at),
			n = (e.userAgent.toLowerCase(), [0, 0, 0]),
			r = null;
		if (void 0 !== e.plugins && "object" == typeof e.plugins["Shockwave Flash"]) !(r = e.plugins[
			"Shockwave Flash"].description) || void 0 !== e.mimeTypes && e.mimeTypes[
			"application/x-shockwave-flash"] && !e.mimeTypes["application/x-shockwave-flash"].enabledPlugin || (
			r = r.replace(/^.*\s+(\S+\s+\S+$)/, "$1"), n[0] = parseInt(r.replace(/^(.*)\..*$/, "$1"), 10), n[
			1] = parseInt(r.replace(/^.*\.(.*)\s.*$/, "$1"), 10), n[2] = /[a-zA-Z]/.test(r) ? parseInt(r
				.replace(/^.*[a-zA-Z]+(.*)$/, "$1"), 10) : 0);
		else if (void 0 !== i.ActiveXObject) try {
			var o = new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
			o && (r = o.GetVariable("$version")) && (r = r.split(" ")[1].split(","), n = [parseInt(r[0], 10),
				parseInt(r[1], 10), parseInt(r[2], 10)
			])
		} catch (t) {}
		var s = t.split(".");
		return s[0] = parseInt(s[0], 10), s[1] = parseInt(s[1], 10) || 0, s[2] = parseInt(s[2], 10) || 0, 100 * n[
			0] + 10 * n[1] + n[2] > 100 * s[0] + 10 * s[1] + s[2]
	}

	function Bt(t, e) {
		void 0 === e && (e = "image/png");
		var i = document.createElement("canvas");
		i.width = t.videoWidth, i.height = t.videoHeight, i.getContext("2d").drawImage(t, 0, 0, i.width, i.height);
		var n = i.toDataURL(e);
		return i.remove(), n
	}

	function Ot(t) {
		void 0 === t && (t = "");
		var e = t.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n\?\=]+)/im);
		return e && e[1] || ""
	}

	function Ut() {
		var t = at.AudioContext || at.webkitAudioContext;
		if (t && dt.chrome && function(t, e) {
				t = String(t).split("."), e = String(e).split(".");
				try {
					for (var i = 0, n = Math.max(t.length, e.length); i < n; i++) {
						var r = isFinite(t[i]) && Number(t[i]) || 0,
							o = isFinite(e[i]) && Number(e[i]) || 0;
						if (r < o) return -1;
						if (r > o) return 1
					}
				} catch (t) {
					return -1
				}
				return 0
			}(dt.version.string, "66.0") >= 1 && "suspended" === (new t).state) return !0;
		return !1
	}

	function Ft(t) {
		return new Promise(function(e, i) {
			var n = 0,
				r = 0,
				o = function() {
					++n > 5 && (a(), e("playing"))
				},
				s = function() {
					t.paused && r++, r >= 2 && n < 5 && (i("fail"), a())
				},
				a = function() {
					t.removeEventListener("timeupdate", o), t.removeEventListener("pause", s)
				};
			t.addEventListener("timeupdate", o), t.addEventListener("pause", s);
			var h = t.play();
			void 0 !== h && h.catch(function(t) {
				dt.chrome && dt.version.major <= 63 ? i("fail") : "NotAllowedError" == t.name && i(
					"fail")
			})
		})
	}
	var Nt = {
			getUserAgent: function() {
				return navigator.userAgent
			},
			getPlatform: function() {
				return navigator.platform
			},
			isIos: function() {
				return /iPhone|iPad|iPod/.test(Nt.getPlatform())
			},
			isAndroid: function() {
				return /Android/.test(Nt.getUserAgent())
			},
			isBlackBerry: function() {
				return /BlackBerry/.test(Nt.getPlatform())
			},
			isMac: function() {
				return /Mac/.test(Nt.getPlatform())
			},
			isWindows: function() {
				return /Win/.test(Nt.getPlatform())
			},
			isLinux: function() {
				return /Linux/.test(Nt.getPlatform()) && !Nt.isAndroid()
			},
			get: function() {
				return Nt.isIos() ? "iOS" : Nt.isAndroid() ? "Android" : Nt.isBlackBerry() ? "BlackBerry" : Nt
					.isMac() ? "Mac" : Nt.isWindows() ? "Windows" : Nt.isLinux() ? "Linux" : "Unknown"
			}
		},
		Vt = {
			getUserAgent: function() {
				return navigator.userAgent
			},
			get: function() {
				var t = Nt.get(),
					e = "Unknown";
				switch (t) {
					case "Android":
						var i = Vt.getUserAgent().split("Android ");
						i.length > 1 && (e = i[1].split(";")[0]);
						break;
					case "Windows":
						var n = Vt.getUserAgent().split("Windows NT ");
						if (n.length > 1) {
							var r = n[1];
							r.startsWith("5.0") ? e = "2000" : r.startsWith("5.1") ? e = "XP" : r.startsWith(
									"5.2") ? e = "Server" : r.startsWith("6.0") ? e = "Vista" : r.startsWith(
									"6.1") ? e = "7" : r.startsWith("6.2") ? e = "8" : r.startsWith("6.3") ? e =
								"8.1" : r.startsWith("10.0") && (e = "10")
						}
						break;
					case "iOS":
						var o = Vt.getUserAgent().split("OS ");
						if (o.length > 1) e = o[1].split(" ")[0].split("_").join(".");
						break;
					case "Mac":
						var s = Vt.getUserAgent().split("Mac OS X ");
						if (s.length > 1) {
							var a = s[1].indexOf(";"),
								h = s[1].indexOf(")");
							h > -1 && (h < a || -1 == a) && (a = h), e = s[1].substring(0, a).split("_").join(
								".")
						}
						break;
					case "BlackBerry":
						var c = Vt.getUserAgent().split("BlackBerry9700/");
						c.length > 1 ? e = c[1].split(" ")[0] : (c = Vt.getUserAgent().split("Version/"))
							.length > 1 && (e = c[1].split(" ")[0])
				}
				return {
					os: t,
					version: e
				}
			}
		},
		zt = Vt.get(),
		Ht = Date.now || function() {
			return +new Date
		},
		jt = function() {
			var t, e, i;
			return "function" == typeof WeakMap && (WeakMap.prototype || 0).set ? (t = new WeakMap, function(e, i) {
				var n = t.get(e);
				return null === i ? void 0 !== n && t.delete(e) : !n && i ? (t.set(e, n = {}), n) : n
			}) : (e = Ht(), i = "__$widΦ" + e.toString(36), t = {}, function(n, r) {
				if (!n || "object" != typeof n) throw TypeError("Invalid host object apply with weak data");
				var o;
				return null === r ? n[i] && (delete t[n[i]], delete n[i]) : (o = n[i] || r && (o = ++e, t[
					o] = {}, n[i] = o)) && t[o]
			})
		}(),
		$t = {}.hasOwnProperty;

	function Wt(t, e) {
		for (var i in t) $t.call(t, i) && e(t[i], i)
	}
	var qt = Date.now || function() {
			return +new Date
		},
		Gt = Object.defineProperty,
		Kt = Gt ? function(t, e, i) {
			return Gt(t, e, {
				writable: !0,
				value: i
			})
		} : function(t, e, i) {
			return t[e] = i
		},
		Yt = Object.keys || function(t) {
			var e = [];
			return Wt(t, function(t, i) {
				e.push(i)
			}), e
		},
		Xt = 2,
		Zt = 0,
		Qt = 1,
		Jt = 2,
		te = /\s+/,
		ee = qt() * Math.random() & 65535,
		ie = function(t, e, i) {
			var n = [];
			return n[Zt] = t, n[Qt] = e, n[Jt] = i, n
		};

	function ne() {}
	var re = ne.prototype;

	function oe(t, e, i) {
		var n;
		switch (i.length) {
			case 0:
				n = e ? t.call(e) : t();
				break;
			case 1:
				n = t.call(e, i[0]);
				break;
			case 2:
				n = t.call(e, i[0], i[1]);
				break;
			default:
				n = t.apply(e, i)
		}
		return n
	}

	function se(t, e, i, n) {
		var r = !0;
		if (e)
			for (var o, s, a, h = -1, c = {
					type: t,
					timeStamp: qt(),
					data: i
				}; o = e[++h];) {
				s = o[Zt], a = o[Qt] || n;
				try {
					r = o[Jt] === Xt ? !1 !== oe(s, a, [c, i]) && r : !1 !== oe(s, a, i) && r
				} catch (t) {
					setTimeout(function() {}, 1)
				}
			}
		return r
	}
	re.addListener = function(t, e, i, n) {
		var r, o, s = 1;
		if (e && "object" == typeof e && (e = (i = e).handleEvent, s = Xt), !e) return this;
		for (r = jt(this, 1), this._events || Kt(this, "_events", r), t = t.split(te); o = t.shift();)(!n && r[
			o] || (r[o] = [])).push(ie(e, i, s));
		return this
	}, re.on = re.addListener, re.once = function(t, e, i) {
		var n = !1,
			r = this,
			o = function o() {
				r.removeListener(t, o), n || (n = !0, e.apply(i || r, arguments))
			};
		return o.guid = e.guid || (e.guid = ee++), r.on(t, o)
	}, re.removeListener = function(t, e, i) {
		var n, r, o, s, a, h;
		if (e && "object" == typeof e && (e = (i = e).handleEvent), !(n = jt(this))) return this;
		if (!(t || e || i)) return Wt(n, function(t, e) {
			delete n[e]
		}), jt(this, null), this;
		for (t = t ? t.split(te) : Yt(n); r = t.shift();)
			if (o = n[r])
				if (e || i) {
					for (s = o.length; --s >= 0;) h = (a = o[s])[Zt], e && h !== e && (void 0 === h.guid || h
						.guid !== e.guid) || i && a[Qt] !== i || o.splice(s, 1);
					o.length || delete n[r]
				} else delete n[r];
		return function(t) {
			for (var e in t)
				if ($t.call(t, e)) return !1;
			return !0
		}(n) && jt(this, null), this
	}, re.off = re.removeListener, re.removeAllListeners = function(t) {
		return this.removeListener(t)
	}, re.emit = function(t) {
		var e, i, n, r, o = !0;
		if (!(e = jt(this))) return this;
		t = t.split(te);
		for (var s = arguments.length, a = new Array(s > 1 ? s - 1 : 0), h = 1; h < s; h++) a[h - 1] =
			arguments[h];
		for (; i = t.shift();)(n = e.all) && (n = n.slice()), (r = e[i]) && (r = r.slice()), "all" !== i && (o =
			se(i, r, a, this) && o), o = se(i, n, [i].concat(a), this) && o;
		return o
	}, re.listenerCount = function(t) {
		var e, i = jt(this);
		return i && (e = i[t]) ? e.length : 0
	}, ne.EventEmitter = ne;
	var ae = function(t, e, i) {
			return f(t, e, {
				writable: !0,
				enumerable: !1,
				configurable: !0,
				value: i
			})
		},
		he = Object.create(null),
		ce = 0;

	function ue(t, e, i) {
		void 0 === i && (i = "__evt_id");
		var n = t[i];
		n || ae(t, i, n = ++ce);
		var r = n + "_" + e,
			o = he[r];
		return o || (o = he[r] = []), o
	}

	function le(t, e, i, n, r) {
		void 0 === n && (n = !1), w(n) && !r && (r = n, n = void 0);
		var o = [i, void 0, n];
		n && !r && (r = function() {
			de(t, e, i, n);
			for (var r = arguments.length, o = new Array(r), s = 0; s < r; s++) o[s] = arguments[s];
			i.apply(t, o)
		}), r && (o[1] = r), ue(t, e).push(o)
	}

	function de(t, e, i, n) {
		void 0 === n && (n = !1);
		var r = ue(t, e);
		if (i || n) {
			var o, s = -1;
			return r.find(function(t, e) {
				if ((!i || t[0] === i) && (!n || t[2])) return s = e, o = t[1], !0
			}), -1 !== s && r.splice(s, 1), o
		}
		r.length = 0
	}
	var fe = function(t) {
			function e() {
				return t.apply(this, arguments) || this
			}
			return r(e, t), e.prototype.emit = function(e, i) {
				var n = m(Object.create(null), {
					type: e,
					data: i,
					target: this
				});
				return t.prototype.emit.call(this, e, n)
			}, e
		}(ne.EventEmitter),
		pe = ft ? document.createElement("div") : {},
		me = "innerText";
	"textContent" in pe && (me = "textContent");
	var ve = Array.prototype;

	function ge(t, e) {
		return t.getAttribute(e)
	}

	function ye(t, e, i) {
		void 0 === i ? t.removeAttribute(e) : t.setAttribute(e, i)
	}

	function _e(t, e) {
		if (e && (e = e.trim())) {
			var i = e.split(/\s+/);
			if (t.classList) i.forEach(function(e) {
				return t.classList.add(e)
			});
			else {
				var n = " " + (t.className || "") + " ";
				i.forEach(function(t) {
					-1 === n.indexOf(" " + t + " ") && (n += " " + t)
				}), t.className = n.trim()
			}
		}
	}

	function be(t, e) {
		if (e && (e = e.trim())) {
			var i = e.split(/\s+/);
			if (t.classList) i.forEach(function(e) {
				return t.classList.remove(e)
			});
			else {
				var n = " " + t.className + " ";
				i.forEach(function(t) {
					for (var e = " " + t + " "; - 1 !== n.indexOf(e);) n = n.replace(e, " ")
				}), t.className = n.trim()
			}
		}
	}

	function we(t, e) {
		return new RegExp("(?:^|\\s)" + e + "(?=\\s|$)").test(t.className)
	}
	var ke = !1;
	try {
		var Ee = f({}, "passive", {
			get: function() {
				ke = !0
			}
		});
		ft && window.addEventListener("test", null, Ee)
	} catch (ba) {}

	function Se(t, e, i, n, r) {
		if (void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 !== r && !C(r) && ke && (r = {
				passive: !0
			}), n) {
			var o = de(t, e + "_once", i);
			o && (i = o)
		}
		t.removeEventListener(e, i, r)
	}

	function Te(t, e, i, n, r) {
		if (void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 !== r && !C(r) && ke && (r = {
				passive: !0
			}), n) {
			var o = i;
			i = function() {
				for (var s = arguments.length, a = new Array(s), h = 0; h < s; h++) a[h] = arguments[h];
				o.apply(this, a), Se(t, e, i, n, r)
			}, le(t, e + "_once", o, i)
		}
		t.addEventListener(e, i, r)
	}

	function xe(t, e) {
		return !t.getBoundingClientRect || "width" !== e && "height" !== e ? (t.currentStyle || document.defaultView
			.getComputedStyle(t, null))[e] || t.style[e] : t.getBoundingClientRect()[e]
	}

	function Ae(t, e, i) {
		if (k(e))
			for (var n in e) Ae(t, n, e[n]);
		else t.style[e] = i
	}

	function Ce(t, e, i) {
		void 0 === e && (e = document);
		var n = e.querySelectorAll(t);
		return i ? Array.from(n) : n
	}
	var Re = function() {
		function t(t, e) {
			void 0 === e && (e = document);
			var i, n;
			this.selector = t, t && t.constructor === NodeList ? (n = t, i = Array.from(n)) : b(t) ? i = t : A(
					t) ? 0 === t.indexOf("<") ? (pe.innerHTML = t, i = Ce("*", pe, !0)) : i = Ce(t, e, !0) :
				i = [t], m(this, i), this.length = i.length
		}
		var e = t.prototype;
		return e.each = function() {
			for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
			return ve.forEach.apply(this, e), this
		}, e.push = function() {
			for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
			return ve.push.apply(this, e), this
		}, e.splice = function() {
			for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
			return Ie(ve.splice.apply(this, e))
		}, e.find = function(t) {
			var e = [];
			this.each(function(i) {
				e = e.concat(Ce(t, i, !0))
			});
			var i = Ie(e);
			return i.parent = this, i.selector = t, i
		}, e.parents = function() {
			return Ie(this[0].parentNode)
		}, e.append = function(t) {
			var e = Ie(t),
				i = this[0];
			return e.each(function(t) {
				return i.appendChild(t)
			}), this
		}, e.appendTo = function(t) {
			return Ie(t).append(this), this
		}, e.text = function(t) {
			return 0 === arguments.length ? this[0][me] : this.each(function(e) {
				e[me] = t
			})
		}, e.hide = function() {
			return this.each(function(t) {
				t.style.display = "none"
			})
		}, e.show = function() {
			return this.each(function(t) {
				t.style.display = "block"
			})
		}, e.html = function(t) {
			return 0 === arguments.length ? this[0].innerHTML : this.each(function(e) {
				e.innerHTML = t
			})
		}, e.attr = function(t, e) {
			return 1 === arguments.length ? ge(this[0], t) : this.each(function(i) {
				return ye(i, t, e)
			})
		}, e.data = function(t, e) {
			return 0 === arguments.length ? this[0].dataset || {} : 1 === arguments.length ? (this[0]
				.dataset || {})[t] : this.each(function(i) {
				(i.dataset || (i.dataset = {}))[t] = e
			})
		}, e.css = function(t, e) {
			return 1 !== arguments.length || k(t) ? this.each(function(i) {
				return Ae(i, t, e)
			}) : xe(this[0], t)
		}, e.addClass = function(t) {
			return this.each(function(e) {
				return _e(e, t)
			})
		}, e.removeClass = function(t) {
			return this.each(function(e) {
				return be(e, t)
			})
		}, e.hasClass = function(t) {
			return we(this[0], t)
		}, e.on = function(t, e, i, n) {
			return void 0 === i && (i = !1), void 0 === n && (n = !1), this.each(function(r) {
				return Te(r, t, e, i, n)
			})
		}, e.off = function(t, e, i, n) {
			return void 0 === i && (i = !1), void 0 === n && (n = !1), this.each(function(r) {
				return Se(r, t, e, i, n)
			})
		}, e.delegate = function(t, e, i, n) {
			return void 0 === n && (n = !1), this.each(function(r) {
				return function(t, e, i, n, r) {
					void 0 === r && (r = !1), void 0 !== r && !C(r) && ke && (r = {
						passive: !0
					});
					var o = function(i) {
						var r, o = function(t, e, i, n) {
								void 0 === e && (e = null);
								var r = [];
								for (i && r.push(t); t && t.parentNode !== e;)(t = t
									.parentNode) && r.push(t);
								return n && r.push(e), r
							}(i.target || i.srcElement, t, !0),
							s = Ce(e, t, !0);
						s.find ? r = s.find(function(t) {
							return o.find(function(e) {
								return t === e
							})
						}) : s.forEach(function(t) {
							return !r && o.forEach(function(e) {
								r || t !== e || (r = e)
							})
						}), r && n.apply(r, arguments)
					};
					le(t, i + "_delegate_" + e, n, o), t.addEventListener(i, o, r)
				}(r, t, e, i, n)
			})
		}, e.undelegate = function(t, e, i, n) {
			return void 0 === n && (n = !1), this.each(function(r) {
				return function(t, e, i, n, r) {
					void 0 === r && (r = !1), void 0 !== r && !C(r) && ke && (r = {
						passive: !0
					});
					var o = de(t, i + "_delegate_" + e, n);
					o && t.removeEventListener(i, o, r)
				}(r, t, e, i, n)
			})
		}, e.remove = function() {
			return this.each(function(t) {
				return function(t) {
					t.parentNode && t.parentNode.removeChild(t)
				}(t)
			})
		}, t
	}();

	function Ie(t, e) {
		return t.constructor === Re ? t : new Re(t, e)
	}
	var Le = [],
		Pe = [],
		De = "undefined" != typeof Uint8Array ? Uint8Array : Array,
		Me = !1;

	function Be() {
		Me = !0;
		for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", e = 0, i = t.length; e <
			i; ++e) Le[e] = t[e], Pe[t.charCodeAt(e)] = e;
		Pe["-".charCodeAt(0)] = 62, Pe["_".charCodeAt(0)] = 63
	}

	function Oe(t, e, i) {
		for (var n, r, o = [], s = e; s < i; s += 3) n = (t[s] << 16) + (t[s + 1] << 8) + t[s + 2], o.push(Le[(r =
			n) >> 18 & 63] + Le[r >> 12 & 63] + Le[r >> 6 & 63] + Le[63 & r]);
		return o.join("")
	}

	function Ue(t) {
		var e;
		Me || Be();
		for (var i = t.length, n = i % 3, r = "", o = [], s = 0, a = i - n; s < a; s += 16383) o.push(Oe(t, s, s +
			16383 > a ? a : s + 16383));
		return 1 === n ? (e = t[i - 1], r += Le[e >> 2], r += Le[e << 4 & 63], r += "==") : 2 === n && (e = (t[i -
				2] << 8) + t[i - 1], r += Le[e >> 10], r += Le[e >> 4 & 63], r += Le[e << 2 & 63], r += "="), o
			.push(r), o.join("")
	}

	function Fe(t, e, i, n, r) {
		var o, s, a = 8 * r - n - 1,
			h = (1 << a) - 1,
			c = h >> 1,
			u = -7,
			l = i ? r - 1 : 0,
			d = i ? -1 : 1,
			f = t[e + l];
		for (l += d, o = f & (1 << -u) - 1, f >>= -u, u += a; u > 0; o = 256 * o + t[e + l], l += d, u -= 8);
		for (s = o & (1 << -u) - 1, o >>= -u, u += n; u > 0; s = 256 * s + t[e + l], l += d, u -= 8);
		if (0 === o) o = 1 - c;
		else {
			if (o === h) return s ? NaN : 1 / 0 * (f ? -1 : 1);
			s += Math.pow(2, n), o -= c
		}
		return (f ? -1 : 1) * s * Math.pow(2, o - n)
	}

	function Ne(t, e, i, n, r, o) {
		var s, a, h, c = 8 * o - r - 1,
			u = (1 << c) - 1,
			l = u >> 1,
			d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
			f = n ? 0 : o - 1,
			p = n ? 1 : -1,
			m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
		for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, s = u) : (s = Math.floor(Math.log(
				e) / Math.LN2), e * (h = Math.pow(2, -s)) < 1 && (s--, h *= 2), (e += s + l >= 1 ? d / h : d *
				Math.pow(2, 1 - l)) * h >= 2 && (s++, h /= 2), s + l >= u ? (a = 0, s = u) : s + l >= 1 ? (a = (
				e * h - 1) * Math.pow(2, r), s += l) : (a = e * Math.pow(2, l - 1) * Math.pow(2, r), s = 0)); r >=
			8; t[i + f] = 255 & a, f += p, a /= 256, r -= 8);
		for (s = s << r | a, c += r; c > 0; t[i + f] = 255 & s, f += p, s /= 256, c -= 8);
		t[i + f - p] |= 128 * m
	}
	var Ve = {}.toString,
		ze = Array.isArray || function(t) {
			return "[object Array]" == Ve.call(t)
		};

	function He() {
		return $e.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
	}

	function je(t, e) {
		if (He() < e) throw new RangeError("Invalid typed array length");
		return $e.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e)).__proto__ = $e.prototype : (null === t && (t =
			new $e(e)), t.length = e), t
	}

	function $e(t, e, i) {
		if (!($e.TYPED_ARRAY_SUPPORT || this instanceof $e)) return new $e(t, e, i);
		if ("number" == typeof t) {
			if ("string" == typeof e) throw new Error(
				"If encoding is specified then the first argument must be a string");
			return Ge(this, t)
		}
		return We(this, t, e, i)
	}

	function We(t, e, i, n) {
		if ("number" == typeof e) throw new TypeError('"value" argument must not be a number');
		return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? function(t, e, i, n) {
			if (e.byteLength, i < 0 || e.byteLength < i) throw new RangeError("'offset' is out of bounds");
			if (e.byteLength < i + (n || 0)) throw new RangeError("'length' is out of bounds");
			e = void 0 === i && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, i) :
				new Uint8Array(e, i, n);
			$e.TYPED_ARRAY_SUPPORT ? (t = e).__proto__ = $e.prototype : t = Ke(t, e);
			return t
		}(t, e, i, n) : "string" == typeof e ? function(t, e, i) {
			"string" == typeof i && "" !== i || (i = "utf8");
			if (!$e.isEncoding(i)) throw new TypeError('"encoding" must be a valid string encoding');
			var n = 0 | Ze(e, i),
				r = (t = je(t, n)).write(e, i);
			r !== n && (t = t.slice(0, r));
			return t
		}(t, e, i) : function(t, e) {
			if (Xe(e)) {
				var i = 0 | Ye(e.length);
				return 0 === (t = je(t, i)).length ? t : (e.copy(t, 0, 0, i), t)
			}
			if (e) {
				if ("undefined" != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer || "length" in e)
					return "number" != typeof e.length || (n = e.length) != n ? je(t, 0) : Ke(t, e);
				if ("Buffer" === e.type && ze(e.data)) return Ke(t, e.data)
			}
			var n;
			throw new TypeError(
				"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
		}(t, e)
	}

	function qe(t) {
		if ("number" != typeof t) throw new TypeError('"size" argument must be a number');
		if (t < 0) throw new RangeError('"size" argument must not be negative')
	}

	function Ge(t, e) {
		if (qe(e), t = je(t, e < 0 ? 0 : 0 | Ye(e)), !$e.TYPED_ARRAY_SUPPORT)
			for (var i = 0; i < e; ++i) t[i] = 0;
		return t
	}

	function Ke(t, e) {
		var i = e.length < 0 ? 0 : 0 | Ye(e.length);
		t = je(t, i);
		for (var n = 0; n < i; n += 1) t[n] = 255 & e[n];
		return t
	}

	function Ye(t) {
		if (t >= He()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + He()
			.toString(16) + " bytes");
		return 0 | t
	}

	function Xe(t) {
		return !(null == t || !t._isBuffer)
	}

	function Ze(t, e) {
		if (Xe(t)) return t.length;
		if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(
				t) || t instanceof ArrayBuffer)) return t.byteLength;
		"string" != typeof t && (t = "" + t);
		var i = t.length;
		if (0 === i) return 0;
		for (var n = !1;;) switch (e) {
			case "ascii":
			case "latin1":
			case "binary":
				return i;
			case "utf8":
			case "utf-8":
			case void 0:
				return Si(t).length;
			case "ucs2":
			case "ucs-2":
			case "utf16le":
			case "utf-16le":
				return 2 * i;
			case "hex":
				return i >>> 1;
			case "base64":
				return Ti(t).length;
			default:
				if (n) return Si(t).length;
				e = ("" + e).toLowerCase(), n = !0
		}
	}

	function Qe(t, e, i) {
		var n = t[e];
		t[e] = t[i], t[i] = n
	}

	function Je(t, e, i, n, r) {
		if (0 === t.length) return -1;
		if ("string" == typeof i ? (n = i, i = 0) : i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -
				2147483648), i = +i, isNaN(i) && (i = r ? 0 : t.length - 1), i < 0 && (i = t.length + i), i >= t
			.length) {
			if (r) return -1;
			i = t.length - 1
		} else if (i < 0) {
			if (!r) return -1;
			i = 0
		}
		if ("string" == typeof e && (e = $e.from(e, n)), Xe(e)) return 0 === e.length ? -1 : ti(t, e, i, n, r);
		if ("number" == typeof e) return e &= 255, $e.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array
			.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(t, e, i) : Uint8Array.prototype
			.lastIndexOf.call(t, e, i) : ti(t, [e], i, n, r);
		throw new TypeError("val must be string, number or Buffer")
	}

	function ti(t, e, i, n, r) {
		var o, s = 1,
			a = t.length,
			h = e.length;
		if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n ||
				"utf-16le" === n)) {
			if (t.length < 2 || e.length < 2) return -1;
			s = 2, a /= 2, h /= 2, i /= 2
		}

		function c(t, e) {
			return 1 === s ? t[e] : t.readUInt16BE(e * s)
		}
		if (r) {
			var u = -1;
			for (o = i; o < a; o++)
				if (c(t, o) === c(e, -1 === u ? 0 : o - u)) {
					if (-1 === u && (u = o), o - u + 1 === h) return u * s
				} else -1 !== u && (o -= o - u), u = -1
		} else
			for (i + h > a && (i = a - h), o = i; o >= 0; o--) {
				for (var l = !0, d = 0; d < h; d++)
					if (c(t, o + d) !== c(e, d)) {
						l = !1;
						break
					} if (l) return o
			}
		return -1
	}

	function ei(t, e, i, n) {
		i = Number(i) || 0;
		var r = t.length - i;
		n ? (n = Number(n)) > r && (n = r) : n = r;
		var o = e.length;
		if (o % 2 != 0) throw new TypeError("Invalid hex string");
		n > o / 2 && (n = o / 2);
		for (var s = 0; s < n; ++s) {
			var a = parseInt(e.substr(2 * s, 2), 16);
			if (isNaN(a)) return s;
			t[i + s] = a
		}
		return s
	}

	function ii(t, e, i, n) {
		return xi(Si(e, t.length - i), t, i, n)
	}

	function ni(t, e, i, n) {
		return xi(function(t) {
			for (var e = [], i = 0; i < t.length; ++i) e.push(255 & t.charCodeAt(i));
			return e
		}(e), t, i, n)
	}

	function ri(t, e, i, n) {
		return ni(t, e, i, n)
	}

	function oi(t, e, i, n) {
		return xi(Ti(e), t, i, n)
	}

	function si(t, e, i, n) {
		return xi(function(t, e) {
			for (var i, n, r, o = [], s = 0; s < t.length && !((e -= 2) < 0); ++s) i = t.charCodeAt(s), n =
				i >> 8, r = i % 256, o.push(r), o.push(n);
			return o
		}(e, t.length - i), t, i, n)
	}

	function ai(t, e, i) {
		return 0 === e && i === t.length ? Ue(t) : Ue(t.slice(e, i))
	}

	function hi(t, e, i) {
		i = Math.min(t.length, i);
		for (var n = [], r = e; r < i;) {
			var o, s, a, h, c = t[r],
				u = null,
				l = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
			if (r + l <= i) switch (l) {
				case 1:
					c < 128 && (u = c);
					break;
				case 2:
					128 == (192 & (o = t[r + 1])) && (h = (31 & c) << 6 | 63 & o) > 127 && (u = h);
					break;
				case 3:
					o = t[r + 1], s = t[r + 2], 128 == (192 & o) && 128 == (192 & s) && (h = (15 & c) << 12 | (
						63 & o) << 6 | 63 & s) > 2047 && (h < 55296 || h > 57343) && (u = h);
					break;
				case 4:
					o = t[r + 1], s = t[r + 2], a = t[r + 3], 128 == (192 & o) && 128 == (192 & s) && 128 == (
							192 & a) && (h = (15 & c) << 18 | (63 & o) << 12 | (63 & s) << 6 | 63 & a) >
						65535 && h < 1114112 && (u = h)
			}
			null === u ? (u = 65533, l = 1) : u > 65535 && (u -= 65536, n.push(u >>> 10 & 1023 | 55296), u = 56320 |
				1023 & u), n.push(u), r += l
		}
		return function(t) {
			var e = t.length;
			if (e <= ci) return String.fromCharCode.apply(String, t);
			var i = "",
				n = 0;
			for (; n < e;) i += String.fromCharCode.apply(String, t.slice(n, n += ci));
			return i
		}(n)
	}
	$e.TYPED_ARRAY_SUPPORT = void 0 === W.TYPED_ARRAY_SUPPORT || W.TYPED_ARRAY_SUPPORT, $e.poolSize = 8192, $e
		._augment = function(t) {
			return t.__proto__ = $e.prototype, t
		}, $e.from = function(t, e, i) {
			return We(null, t, e, i)
		}, $e.TYPED_ARRAY_SUPPORT && ($e.prototype.__proto__ = Uint8Array.prototype, $e.__proto__ = Uint8Array), $e
		.alloc = function(t, e, i) {
			return function(t, e, i, n) {
				return qe(e), e <= 0 ? je(t, e) : void 0 !== i ? "string" == typeof n ? je(t, e).fill(i, n) :
					je(t, e).fill(i) : je(t, e)
			}(null, t, e, i)
		}, $e.allocUnsafe = function(t) {
			return Ge(null, t)
		}, $e.allocUnsafeSlow = function(t) {
			return Ge(null, t)
		}, $e.isBuffer = function(t) {
			return null != t && (!!t._isBuffer || Ai(t) || function(t) {
				return "function" == typeof t.readFloatLE && "function" == typeof t.slice && Ai(t.slice(0,
					0))
			}(t))
		}, $e.compare = function(t, e) {
			if (!Xe(t) || !Xe(e)) throw new TypeError("Arguments must be Buffers");
			if (t === e) return 0;
			for (var i = t.length, n = e.length, r = 0, o = Math.min(i, n); r < o; ++r)
				if (t[r] !== e[r]) {
					i = t[r], n = e[r];
					break
				} return i < n ? -1 : n < i ? 1 : 0
		}, $e.isEncoding = function(t) {
			switch (String(t).toLowerCase()) {
				case "hex":
				case "utf8":
				case "utf-8":
				case "ascii":
				case "latin1":
				case "binary":
				case "base64":
				case "ucs2":
				case "ucs-2":
				case "utf16le":
				case "utf-16le":
					return !0;
				default:
					return !1
			}
		}, $e.concat = function(t, e) {
			if (!ze(t)) throw new TypeError('"list" argument must be an Array of Buffers');
			if (0 === t.length) return $e.alloc(0);
			var i;
			if (void 0 === e)
				for (e = 0, i = 0; i < t.length; ++i) e += t[i].length;
			var n = $e.allocUnsafe(e),
				r = 0;
			for (i = 0; i < t.length; ++i) {
				var o = t[i];
				if (!Xe(o)) throw new TypeError('"list" argument must be an Array of Buffers');
				o.copy(n, r), r += o.length
			}
			return n
		}, $e.byteLength = Ze, $e.prototype._isBuffer = !0, $e.prototype.swap16 = function() {
			var t = this.length;
			if (t % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
			for (var e = 0; e < t; e += 2) Qe(this, e, e + 1);
			return this
		}, $e.prototype.swap32 = function() {
			var t = this.length;
			if (t % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
			for (var e = 0; e < t; e += 4) Qe(this, e, e + 3), Qe(this, e + 1, e + 2);
			return this
		}, $e.prototype.swap64 = function() {
			var t = this.length;
			if (t % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
			for (var e = 0; e < t; e += 8) Qe(this, e, e + 7), Qe(this, e + 1, e + 6), Qe(this, e + 2, e + 5), Qe(
				this, e + 3, e + 4);
			return this
		}, $e.prototype.toString = function() {
			var t = 0 | this.length;
			return 0 === t ? "" : 0 === arguments.length ? hi(this, 0, t) : function(t, e, i) {
				var n = !1;
				if ((void 0 === e || e < 0) && (e = 0), e > this.length) return "";
				if ((void 0 === i || i > this.length) && (i = this.length), i <= 0) return "";
				if ((i >>>= 0) <= (e >>>= 0)) return "";
				for (t || (t = "utf8");;) switch (t) {
					case "hex":
						return di(this, e, i);
					case "utf8":
					case "utf-8":
						return hi(this, e, i);
					case "ascii":
						return ui(this, e, i);
					case "latin1":
					case "binary":
						return li(this, e, i);
					case "base64":
						return ai(this, e, i);
					case "ucs2":
					case "ucs-2":
					case "utf16le":
					case "utf-16le":
						return fi(this, e, i);
					default:
						if (n) throw new TypeError("Unknown encoding: " + t);
						t = (t + "").toLowerCase(), n = !0
				}
			}.apply(this, arguments)
		}, $e.prototype.equals = function(t) {
			if (!Xe(t)) throw new TypeError("Argument must be a Buffer");
			return this === t || 0 === $e.compare(this, t)
		}, $e.prototype.inspect = function() {
			var t = "";
			return this.length > 0 && (t = this.toString("hex", 0, 50).match(/.{2}/g).join(" "), this.length > 50 &&
				(t += " ... ")), "<Buffer " + t + ">"
		}, $e.prototype.compare = function(t, e, i, n, r) {
			if (!Xe(t)) throw new TypeError("Argument must be a Buffer");
			if (void 0 === e && (e = 0), void 0 === i && (i = t ? t.length : 0), void 0 === n && (n = 0), void 0 ===
				r && (r = this.length), e < 0 || i > t.length || n < 0 || r > this.length) throw new RangeError(
				"out of range index");
			if (n >= r && e >= i) return 0;
			if (n >= r) return -1;
			if (e >= i) return 1;
			if (this === t) return 0;
			for (var o = (r >>>= 0) - (n >>>= 0), s = (i >>>= 0) - (e >>>= 0), a = Math.min(o, s), h = this.slice(n,
					r), c = t.slice(e, i), u = 0; u < a; ++u)
				if (h[u] !== c[u]) {
					o = h[u], s = c[u];
					break
				} return o < s ? -1 : s < o ? 1 : 0
		}, $e.prototype.includes = function(t, e, i) {
			return -1 !== this.indexOf(t, e, i)
		}, $e.prototype.indexOf = function(t, e, i) {
			return Je(this, t, e, i, !0)
		}, $e.prototype.lastIndexOf = function(t, e, i) {
			return Je(this, t, e, i, !1)
		}, $e.prototype.write = function(t, e, i, n) {
			if (void 0 === e) n = "utf8", i = this.length, e = 0;
			else if (void 0 === i && "string" == typeof e) n = e, i = this.length, e = 0;
			else {
				if (!isFinite(e)) throw new Error(
					"Buffer.write(string, encoding, offset[, length]) is no longer supported");
				e |= 0, isFinite(i) ? (i |= 0, void 0 === n && (n = "utf8")) : (n = i, i = void 0)
			}
			var r = this.length - e;
			if ((void 0 === i || i > r) && (i = r), t.length > 0 && (i < 0 || e < 0) || e > this.length)
			throw new RangeError("Attempt to write outside buffer bounds");
			n || (n = "utf8");
			for (var o = !1;;) switch (n) {
				case "hex":
					return ei(this, t, e, i);
				case "utf8":
				case "utf-8":
					return ii(this, t, e, i);
				case "ascii":
					return ni(this, t, e, i);
				case "latin1":
				case "binary":
					return ri(this, t, e, i);
				case "base64":
					return oi(this, t, e, i);
				case "ucs2":
				case "ucs-2":
				case "utf16le":
				case "utf-16le":
					return si(this, t, e, i);
				default:
					if (o) throw new TypeError("Unknown encoding: " + n);
					n = ("" + n).toLowerCase(), o = !0
			}
		}, $e.prototype.toJSON = function() {
			return {
				type: "Buffer",
				data: Array.prototype.slice.call(this._arr || this, 0)
			}
		};
	var ci = 4096;

	function ui(t, e, i) {
		var n = "";
		i = Math.min(t.length, i);
		for (var r = e; r < i; ++r) n += String.fromCharCode(127 & t[r]);
		return n
	}

	function li(t, e, i) {
		var n = "";
		i = Math.min(t.length, i);
		for (var r = e; r < i; ++r) n += String.fromCharCode(t[r]);
		return n
	}

	function di(t, e, i) {
		var n = t.length;
		(!e || e < 0) && (e = 0), (!i || i < 0 || i > n) && (i = n);
		for (var r = "", o = e; o < i; ++o) r += Ei(t[o]);
		return r
	}

	function fi(t, e, i) {
		for (var n = t.slice(e, i), r = "", o = 0; o < n.length; o += 2) r += String.fromCharCode(n[o] + 256 * n[o +
			1]);
		return r
	}

	function pi(t, e, i) {
		if (t % 1 != 0 || t < 0) throw new RangeError("offset is not uint");
		if (t + e > i) throw new RangeError("Trying to access beyond buffer length")
	}

	function mi(t, e, i, n, r, o) {
		if (!Xe(t)) throw new TypeError('"buffer" argument must be a Buffer instance');
		if (e > r || e < o) throw new RangeError('"value" argument is out of bounds');
		if (i + n > t.length) throw new RangeError("Index out of range")
	}

	function vi(t, e, i, n) {
		e < 0 && (e = 65535 + e + 1);
		for (var r = 0, o = Math.min(t.length - i, 2); r < o; ++r) t[i + r] = (e & 255 << 8 * (n ? r : 1 - r)) >>>
			8 * (n ? r : 1 - r)
	}

	function gi(t, e, i, n) {
		e < 0 && (e = 4294967295 + e + 1);
		for (var r = 0, o = Math.min(t.length - i, 4); r < o; ++r) t[i + r] = e >>> 8 * (n ? r : 3 - r) & 255
	}

	function yi(t, e, i, n, r, o) {
		if (i + n > t.length) throw new RangeError("Index out of range");
		if (i < 0) throw new RangeError("Index out of range")
	}

	function _i(t, e, i, n, r) {
		return r || yi(t, 0, i, 4), Ne(t, e, i, n, 23, 4), i + 4
	}

	function bi(t, e, i, n, r) {
		return r || yi(t, 0, i, 8), Ne(t, e, i, n, 52, 8), i + 8
	}
	$e.prototype.slice = function(t, e) {
		var i, n = this.length;
		if ((t = ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), (e = void 0 === e ? n : ~~e) < 0 ? (e +=
				n) < 0 && (e = 0) : e > n && (e = n), e < t && (e = t), $e.TYPED_ARRAY_SUPPORT)(i = this
			.subarray(t, e)).__proto__ = $e.prototype;
		else {
			var r = e - t;
			i = new $e(r, void 0);
			for (var o = 0; o < r; ++o) i[o] = this[o + t]
		}
		return i
	}, $e.prototype.readUIntLE = function(t, e, i) {
		t |= 0, e |= 0, i || pi(t, e, this.length);
		for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t + o] * r;
		return n
	}, $e.prototype.readUIntBE = function(t, e, i) {
		t |= 0, e |= 0, i || pi(t, e, this.length);
		for (var n = this[t + --e], r = 1; e > 0 && (r *= 256);) n += this[t + --e] * r;
		return n
	}, $e.prototype.readUInt8 = function(t, e) {
		return e || pi(t, 1, this.length), this[t]
	}, $e.prototype.readUInt16LE = function(t, e) {
		return e || pi(t, 2, this.length), this[t] | this[t + 1] << 8
	}, $e.prototype.readUInt16BE = function(t, e) {
		return e || pi(t, 2, this.length), this[t] << 8 | this[t + 1]
	}, $e.prototype.readUInt32LE = function(t, e) {
		return e || pi(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[
			t + 3]
	}, $e.prototype.readUInt32BE = function(t, e) {
		return e || pi(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t +
			3])
	}, $e.prototype.readIntLE = function(t, e, i) {
		t |= 0, e |= 0, i || pi(t, e, this.length);
		for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t + o] * r;
		return n >= (r *= 128) && (n -= Math.pow(2, 8 * e)), n
	}, $e.prototype.readIntBE = function(t, e, i) {
		t |= 0, e |= 0, i || pi(t, e, this.length);
		for (var n = e, r = 1, o = this[t + --n]; n > 0 && (r *= 256);) o += this[t + --n] * r;
		return o >= (r *= 128) && (o -= Math.pow(2, 8 * e)), o
	}, $e.prototype.readInt8 = function(t, e) {
		return e || pi(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
	}, $e.prototype.readInt16LE = function(t, e) {
		e || pi(t, 2, this.length);
		var i = this[t] | this[t + 1] << 8;
		return 32768 & i ? 4294901760 | i : i
	}, $e.prototype.readInt16BE = function(t, e) {
		e || pi(t, 2, this.length);
		var i = this[t + 1] | this[t] << 8;
		return 32768 & i ? 4294901760 | i : i
	}, $e.prototype.readInt32LE = function(t, e) {
		return e || pi(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
	}, $e.prototype.readInt32BE = function(t, e) {
		return e || pi(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
	}, $e.prototype.readFloatLE = function(t, e) {
		return e || pi(t, 4, this.length), Fe(this, t, !0, 23, 4)
	}, $e.prototype.readFloatBE = function(t, e) {
		return e || pi(t, 4, this.length), Fe(this, t, !1, 23, 4)
	}, $e.prototype.readDoubleLE = function(t, e) {
		return e || pi(t, 8, this.length), Fe(this, t, !0, 52, 8)
	}, $e.prototype.readDoubleBE = function(t, e) {
		return e || pi(t, 8, this.length), Fe(this, t, !1, 52, 8)
	}, $e.prototype.writeUIntLE = function(t, e, i, n) {
		(t = +t, e |= 0, i |= 0, n) || mi(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
		var r = 1,
			o = 0;
		for (this[e] = 255 & t; ++o < i && (r *= 256);) this[e + o] = t / r & 255;
		return e + i
	}, $e.prototype.writeUIntBE = function(t, e, i, n) {
		(t = +t, e |= 0, i |= 0, n) || mi(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
		var r = i - 1,
			o = 1;
		for (this[e + r] = 255 & t; --r >= 0 && (o *= 256);) this[e + r] = t / o & 255;
		return e + i
	}, $e.prototype.writeUInt8 = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 1, 255, 0), $e.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
			this[e] = 255 & t, e + 1
	}, $e.prototype.writeUInt16LE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 2, 65535, 0), $e.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t,
			this[e + 1] = t >>> 8) : vi(this, t, e, !0), e + 2
	}, $e.prototype.writeUInt16BE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 2, 65535, 0), $e.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8,
			this[e + 1] = 255 & t) : vi(this, t, e, !1), e + 2
	}, $e.prototype.writeUInt32LE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 4, 4294967295, 0), $e.TYPED_ARRAY_SUPPORT ? (this[e + 3] =
				t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = 255 & t) : gi(this, t, e, !
			0), e + 4
	}, $e.prototype.writeUInt32BE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 4, 4294967295, 0), $e.TYPED_ARRAY_SUPPORT ? (this[e] = t >>>
				24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : gi(this, t, e, !1),
			e + 4
	}, $e.prototype.writeIntLE = function(t, e, i, n) {
		if (t = +t, e |= 0, !n) {
			var r = Math.pow(2, 8 * i - 1);
			mi(this, t, e, i, r - 1, -r)
		}
		var o = 0,
			s = 1,
			a = 0;
		for (this[e] = 255 & t; ++o < i && (s *= 256);) t < 0 && 0 === a && 0 !== this[e + o - 1] && (a = 1),
			this[e + o] = (t / s >> 0) - a & 255;
		return e + i
	}, $e.prototype.writeIntBE = function(t, e, i, n) {
		if (t = +t, e |= 0, !n) {
			var r = Math.pow(2, 8 * i - 1);
			mi(this, t, e, i, r - 1, -r)
		}
		var o = i - 1,
			s = 1,
			a = 0;
		for (this[e + o] = 255 & t; --o >= 0 && (s *= 256);) t < 0 && 0 === a && 0 !== this[e + o + 1] && (a =
			1), this[e + o] = (t / s >> 0) - a & 255;
		return e + i
	}, $e.prototype.writeInt8 = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 1, 127, -128), $e.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
			t < 0 && (t = 255 + t + 1), this[e] = 255 & t, e + 1
	}, $e.prototype.writeInt16LE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 2, 32767, -32768), $e.TYPED_ARRAY_SUPPORT ? (this[e] = 255 &
			t, this[e + 1] = t >>> 8) : vi(this, t, e, !0), e + 2
	}, $e.prototype.writeInt16BE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 2, 32767, -32768), $e.TYPED_ARRAY_SUPPORT ? (this[e] = t >>>
			8, this[e + 1] = 255 & t) : vi(this, t, e, !1), e + 2
	}, $e.prototype.writeInt32LE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 4, 2147483647, -2147483648), $e.TYPED_ARRAY_SUPPORT ? (this[
			e] = 255 & t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : gi(this,
			t, e, !0), e + 4
	}, $e.prototype.writeInt32BE = function(t, e, i) {
		return t = +t, e |= 0, i || mi(this, t, e, 4, 2147483647, -2147483648), t < 0 && (t = 4294967295 + t +
			1), $e.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8,
			this[e + 3] = 255 & t) : gi(this, t, e, !1), e + 4
	}, $e.prototype.writeFloatLE = function(t, e, i) {
		return _i(this, t, e, !0, i)
	}, $e.prototype.writeFloatBE = function(t, e, i) {
		return _i(this, t, e, !1, i)
	}, $e.prototype.writeDoubleLE = function(t, e, i) {
		return bi(this, t, e, !0, i)
	}, $e.prototype.writeDoubleBE = function(t, e, i) {
		return bi(this, t, e, !1, i)
	}, $e.prototype.copy = function(t, e, i, n) {
		if (i || (i = 0), n || 0 === n || (n = this.length), e >= t.length && (e = t.length), e || (e = 0), n >
			0 && n < i && (n = i), n === i) return 0;
		if (0 === t.length || 0 === this.length) return 0;
		if (e < 0) throw new RangeError("targetStart out of bounds");
		if (i < 0 || i >= this.length) throw new RangeError("sourceStart out of bounds");
		if (n < 0) throw new RangeError("sourceEnd out of bounds");
		n > this.length && (n = this.length), t.length - e < n - i && (n = t.length - e + i);
		var r, o = n - i;
		if (this === t && i < e && e < n)
			for (r = o - 1; r >= 0; --r) t[r + e] = this[r + i];
		else if (o < 1e3 || !$e.TYPED_ARRAY_SUPPORT)
			for (r = 0; r < o; ++r) t[r + e] = this[r + i];
		else Uint8Array.prototype.set.call(t, this.subarray(i, i + o), e);
		return o
	}, $e.prototype.fill = function(t, e, i, n) {
		if ("string" == typeof t) {
			if ("string" == typeof e ? (n = e, e = 0, i = this.length) : "string" == typeof i && (n = i, i =
					this.length), 1 === t.length) {
				var r = t.charCodeAt(0);
				r < 256 && (t = r)
			}
			if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
			if ("string" == typeof n && !$e.isEncoding(n)) throw new TypeError("Unknown encoding: " + n)
		} else "number" == typeof t && (t &= 255);
		if (e < 0 || this.length < e || this.length < i) throw new RangeError("Out of range index");
		if (i <= e) return this;
		var o;
		if (e >>>= 0, i = void 0 === i ? this.length : i >>> 0, t || (t = 0), "number" == typeof t)
			for (o = e; o < i; ++o) this[o] = t;
		else {
			var s = Xe(t) ? t : Si(new $e(t, n).toString()),
				a = s.length;
			for (o = 0; o < i - e; ++o) this[o + e] = s[o % a]
		}
		return this
	};
	var wi, ki = /[^+\/0-9A-Za-z-_]/g;

	function Ei(t) {
		return t < 16 ? "0" + t.toString(16) : t.toString(16)
	}

	function Si(t, e) {
		var i;
		e = e || 1 / 0;
		for (var n = t.length, r = null, o = [], s = 0; s < n; ++s) {
			if ((i = t.charCodeAt(s)) > 55295 && i < 57344) {
				if (!r) {
					if (i > 56319) {
						(e -= 3) > -1 && o.push(239, 191, 189);
						continue
					}
					if (s + 1 === n) {
						(e -= 3) > -1 && o.push(239, 191, 189);
						continue
					}
					r = i;
					continue
				}
				if (i < 56320) {
					(e -= 3) > -1 && o.push(239, 191, 189), r = i;
					continue
				}
				i = 65536 + (r - 55296 << 10 | i - 56320)
			} else r && (e -= 3) > -1 && o.push(239, 191, 189);
			if (r = null, i < 128) {
				if ((e -= 1) < 0) break;
				o.push(i)
			} else if (i < 2048) {
				if ((e -= 2) < 0) break;
				o.push(i >> 6 | 192, 63 & i | 128)
			} else if (i < 65536) {
				if ((e -= 3) < 0) break;
				o.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
			} else {
				if (!(i < 1114112)) throw new Error("Invalid code point");
				if ((e -= 4) < 0) break;
				o.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128)
			}
		}
		return o
	}

	function Ti(t) {
		return function(t) {
			var e, i, n, r, o, s;
			Me || Be();
			var a = t.length;
			if (a % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
			o = "=" === t[a - 2] ? 2 : "=" === t[a - 1] ? 1 : 0, s = new De(3 * a / 4 - o), n = o > 0 ? a - 4 :
				a;
			var h = 0;
			for (e = 0, i = 0; e < n; e += 4, i += 3) r = Pe[t.charCodeAt(e)] << 18 | Pe[t.charCodeAt(e + 1)] <<
				12 | Pe[t.charCodeAt(e + 2)] << 6 | Pe[t.charCodeAt(e + 3)], s[h++] = r >> 16 & 255, s[h++] =
				r >> 8 & 255, s[h++] = 255 & r;
			return 2 === o ? (r = Pe[t.charCodeAt(e)] << 2 | Pe[t.charCodeAt(e + 1)] >> 4, s[h++] = 255 & r) :
				1 === o && (r = Pe[t.charCodeAt(e)] << 10 | Pe[t.charCodeAt(e + 1)] << 4 | Pe[t.charCodeAt(e +
					2)] >> 2, s[h++] = r >> 8 & 255, s[h++] = 255 & r), s
		}(function(t) {
			if ((t = function(t) {
					return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
				}(t).replace(ki, "")).length < 2) return "";
			for (; t.length % 4 != 0;) t += "=";
			return t
		}(t))
	}

	function xi(t, e, i, n) {
		for (var r = 0; r < n && !(r + i >= e.length || r >= t.length); ++r) e[r + i] = t[r];
		return r
	}

	function Ai(t) {
		return !!t.constructor && "function" == typeof t.constructor.isBuffer && t.constructor.isBuffer(t)
	}! function() {
		var t = window.crypto || window.msCrypto;
		if (!wi && t && t.getRandomValues) try {
			var e = new Uint8Array(16);
			wi = function() {
				return t.getRandomValues(e), e
			}, wi()
		} catch (t) {}
		if (!wi) {
			var i = new Array(16);
			wi = function() {
				for (var t, e = 0; e < 16; e++) 0 == (3 & e) && (t = 4294967296 * Math.random()), i[e] = t >>> (
					(3 & e) << 3) & 255;
				return i
			}
		}
	}();
	for (var Ci = $e, Ri = [], Ii = 0; Ii < 256; Ii++) Ri[Ii] = (Ii + 256).toString(16).substr(1);

	function Li(t, e, i) {
		var n = e && i || 0;
		"string" == typeof t && (e = "binary" === t ? new Ci(16) : null, t = null);
		var r = (t = t || {}).random || (t.rng || wi)();
		if (r[6] = 15 & r[6] | 64, r[8] = 63 & r[8] | 128, e)
			for (var o = 0; o < 16; o++) e[n + o] = r[o];
		return e || function(t, e) {
			var i = e || 0,
				n = Ri;
			return n[t[i++]] + n[t[i++]] + n[t[i++]] + n[t[i++]] + "-" + n[t[i++]] + n[t[i++]] + "-" + n[t[
				i++]] + n[t[i++]] + "-" + n[t[i++]] + n[t[i++]] + "-" + n[t[i++]] + n[t[i++]] + n[t[i++]] + n[t[
					i++]] + n[t[i++]] + n[t[i++]]
		}(r)
	}
	var Pi = function(t) {
		var e = /(\d+):(\d{2}):(\d{2}),(\d{3})/.exec(t);
		if (null === e) return 0;
		for (var i = 1; i < 5; i++) e[i] = parseInt(e[i], 10), isNaN(e[i]) && (e[i] = 0);
		return 36e5 * e[1] + 6e4 * e[2] + 1e3 * e[3] + e[4]
	};
	var Di = {
			isBuffered: function(t, e) {
				try {
					if (t)
						for (var i = t.buffered, n = 0; n < i.length; n++)
							if (e >= i.start(n) && e <= i.end(n)) return !0
				} catch (t) {}
				return !1
			},
			bufferInfo: function(t, e, i) {
				try {
					if (t) {
						var n, r = t.buffered,
							o = [];
						for (n = 0; n < r.length; n++) o.push({
							start: r.start(n),
							end: r.end(n)
						});
						return this.bufferedInfo(o, e, i)
					}
				} catch (t) {}
				return {
					len: 0,
					start: e,
					end: e,
					nextStart: void 0
				}
			},
			bufferedInfo: function(t, e, i) {
				var n, r, o, s, a, h = [];
				for (t.sort(function(t, e) {
						var i = t.start - e.start;
						return i || e.end - t.end
					}), a = 0; a < t.length; a++) {
					var c = h.length;
					if (c) {
						var u = h[c - 1].end;
						t[a].start - u < i ? t[a].end > u && (h[c - 1].end = t[a].end) : h.push(t[a])
					} else h.push(t[a])
				}
				for (a = 0, n = 0, r = o = e; a < h.length; a++) {
					var l = h[a].start,
						d = h[a].end;
					if (e + i >= l && e < d) r = l, n = (o = d) - e;
					else if (e + i < l) {
						s = l;
						break
					}
				}
				return {
					len: n,
					start: r,
					end: o,
					nextStart: s
				}
			}
		},
		Mi = {
			timeout: 5e3,
			jsonpCallback: "callback",
			jsonpCallbackFunction: null
		};

	function Bi(t) {
		var e = new Error(t.msg);
		return e.name = e.name, e
	}

	function Oi(t) {
		try {
			delete window[t]
		} catch (e) {
			window[t] = void 0
		}
	}

	function Ui(t) {
		var e = document.getElementById(t);
		e && document.getElementsByTagName("head")[0].removeChild(e)
	}

	function Fi(t, e) {
		void 0 === e && (e = {});
		var i, n = t,
			r = e.timeout || Mi.timeout,
			o = e.jsonpCallback || Mi.jsonpCallback;
		return new Promise(function(s, a) {
			var h = e.jsonpCallbackFunction || "jsonp_" + Date.now() + "_" + Math.ceil(1e5 * Math.random()),
				c = o + "_" + h;
			window[h] = function(t) {
				s({
					ok: !0,
					json: function() {
						return Promise.resolve(t)
					}
				}), i && clearTimeout(i), Ui(c), Oi(h)
			}, n += -1 === n.indexOf("?") ? "?" : "&";
			var u = document.createElement("script");
			u.setAttribute("src", "" + n + o + "=" + h), e.charset && u.setAttribute("charset", e.charset),
				u.id = c, document.getElementsByTagName("head")[0].appendChild(u), i = setTimeout(
			function() {
					a(Bi({
						name: "NETWORK_TIMEOUT",
						msg: "JSONP request to " + t + " timed out"
					})), Oi(h), Ui(c), window[h] = function() {
						Oi(h)
					}
				}, r), u.onerror = function() {
					a(Bi({
						name: "NETWORK_ERROR",
						msg: "JSONP request to " + t + " failed"
					})), Oi(h), Ui(c), i && clearTimeout(i)
				}
		})
	}
	var Ni = at.localStorage,
		Vi = !1;
	try {
		Ni.setItem("a", "a"), Vi = "a" === Ni.getItem("a")
	} catch (ba) {}
	var zi = {
			isSupport: Vi,
			get: function(t) {
				try {
					var e = Ni.getItem(t);
					return e = JSON.parse(e)
				} catch (t) {}
			},
			set: function(t, e) {
				try {
					return (b(e) || k(e)) && (e = JSON.stringify(e)), Ni.setItem(t, e)
				} catch (t) {}
			},
			remove: function(t) {
				try {
					return Ni.removeItem(t)
				} catch (t) {}
			},
			clear: function() {
				try {
					return Ni.clear()
				} catch (t) {}
			}
		},
		Hi = /iPad/i.test(navigator.userAgent) ? "05" : "02",
		ji = {
			FAIL: function(t) {
				return t["common.error.fail"]
			},
			WRONG: function(t) {
				return t["common.error.wrong"]
			},
			PLAY_WRONG: function(t) {
				return t["common.error.play.wrong"]
			},
			STREAM_ERROR: function(t) {
				return t["common.error.stream.error"]
			},
			DRM_NOT_SUPPORT: function(t) {
				return t["common.error.drm.not.support"]
			},
			DRM_TIPS: function(t) {
				return t["common.error.drm.tips"]
			}
		},
		$i = {
			ADINFO_FAIL: {
				type: "ADINFO_FAIL",
				code: Hi + 2210,
				msg: ji.FAIL
			},
			ADINFO_TIMEOUT: {
				type: "ADINFO_TIMEOUT",
				code: Hi + 2211,
				msg: ji.FAIL
			},
			AD_DOWNLOAD_CANCEL: {
				type: "AD_DOWNLOAD_CANCEL",
				code: Hi + 2212,
				msg: ji.FAIL
			},
			AD_DOWNLOAD_TIMEOUT: {
				type: "AD_DOWNLOAD_TIMEOUT",
				code: Hi + 2213,
				msg: ji.FAIL
			},
			AD_MEDIA_ERROR: {
				type: "AD_MEDIA_ERROR",
				code: Hi + 2214,
				msg: ji.FAIL
			},
			AD_MEDIA_UNSUPPORT: {
				type: "AD_MEDIA_UNSUPPORT",
				code: Hi + 2215,
				msg: ji.FAIL
			},
			AD_MEDIA_UNKOWN: {
				type: "AD_MEDIA_UNKOWN",
				code: Hi + 2216,
				msg: ji.FAIL
			},
			VIDEOINFO_FAIL: {
				type: "VIDEOINFO_FAIL",
				code: Hi + 2110,
				msg: ji.FAIL
			},
			VIDEOINFO_TIMEOUT: {
				type: "VIDEOINFO_TIMEOUT",
				code: Hi + 2111,
				msg: ji.FAIL
			},
			VIDEOINFO_DATA_FAIL: {
				type: "VIDEOINFO_DATA_FAIL",
				code: Hi + 2112,
				msg: ji.FAIL
			},
			SOURCE_FAIL: {
				type: "SOURCE_FAIL",
				code: Hi + 2310,
				msg: ji.FAIL
			},
			SOURCE_TIMEOUT: {
				type: "SOURCE_TIMEOUT",
				code: Hi + 2311,
				msg: ji.FAIL
			},
			SOURCE_DATA_FAIL: {
				type: "SOURCE_DATA_FAIL",
				code: Hi + 2312,
				msg: ji.WRONG
			},
			DISPATCHER_WRONG: {
				type: "DISPATCHER_WRONG",
				code: Hi + 2420,
				msg: ji.FAIL
			},
			DISPATCHER_TIMEOUT: {
				type: "DISPATCHER_TIMEOUT",
				code: Hi + 2421,
				msg: ji.FAIL
			},
			DISPATCHER_DATA_FAIL: {
				type: "DISPATCHER_DATA_FAIL",
				code: Hi + 2422,
				msg: ji.WRONG
			},
			CDN_DING_DOWNLOAD_TIMEOUT: {
				type: "CDN_DING_DOWNLOAD_TIMEOUT",
				code: Hi + 2530,
				msg: ji.FAIL
			},
			CDN_METADATA_PARSE_FAIL: {
				type: "CDN_METADATA_PARSE_FAIL",
				code: Hi + 2531,
				msg: ji.PLAY_WRONG
			},
			CDN_MEDIA_TIMEOUT: {
				type: "CDN_MEDIA_TIMEOUT",
				code: Hi + 2532,
				msg: ji.FAIL
			},
			CDN_MEDIA_ERROR: {
				type: "CDN_MEDIA_ERROR",
				code: Hi + 2533,
				msg: ji.FAIL
			},
			CDN_OTHER_ERROR: {
				type: "CDN_OTHER_ERROR",
				code: Hi + 2534,
				msg: ji.FAIL
			},
			DRM_FAIL_ERROR: {
				type: "DRM_FAIL_ERROR",
				code: Hi + 2541,
				msg: ji.FAIL
			},
			DRM_NOT_SUPPORT_ERROR: {
				type: "DRM_NOT_SUPPORT_ERROR",
				code: Hi + 2542,
				tips: ji.DRM_TIPS,
				msg: ji.DRM_NOT_SUPPORT
			},
			AUTOPLAY_FAIL_ERROR: {
				type: "AUTOPLAY_FAIL_ERROR",
				code: Hi + 2610,
				msg: ji.FAIL
			}
		};
	var Wi = window.sessionStorage,
		qi = 0;
	! function() {
		try {
			g(Wi).forEach(function(t, e) {
				-1 !== t.indexOf("vplayer-log-") && Wi.removeItem(t)
			})
		} catch (t) {}
	}();
	var Gi = {
			error: 0,
			warn: 1,
			info: 2,
			log: 3,
			debug: 4,
			verbose: 5
		},
		Ki = function() {
			var t = this;
			t.level = 4;
			var e = W.console || 0;
			["log", "info", "error", "warn", "debug", "verbose"].forEach(function(i) {
				var n = Gi[i];
				t[i] = function(t, r) {
					r && "object" == typeof r && (r = JSON.stringify(r));
					var o = function(t, e) {
						if (!A(t)) throw new TypeError(
							"Log's method only acccept string as argument, but not " + t +
							" in " + typeof t);
						return A(e) ? "[mango-player][" + (t = Ki.FORCE_GLOBAL_TAG ? Ki.GLOBAL_TAG :
							t || Ki.GLOBAL_TAG) + "] > " + e : "[" + Ki.GLOBAL_TAG + "] > " + t
					}(t, r);
					if (n < Gi.log && function(t) {
							var e = "vplayer-log-" + qi;
							yt(function() {
								try {
									Wi.setItem(e, t)
								} catch (t) {}
							}), qi++
						}(o), !(this.level < n) && e) {
						for (var s = e[i] || e.log, a = arguments.length, h = new Array(a > 2 ? a - 2 :
								0), c = 2; c < a; c++) h[c - 2] = arguments[c];
						s.apply(e, [o].concat(h))
					}
				}.bind(t)
			}), t.setLevel = function(t) {
				var e = Gi[t] || 0;
				this.level = e
			}.bind(t)
		};
	Ki.GLOBAL_TAG = "mango-player", Ki.FORCE_GLOBAL_TAG = !1;
	var Yi = new Ki,
		Xi = {}.hasOwnProperty,
		Zi = function(t, e) {
			return Xi.call(t, e)
		},
		Qi = function(t, e, i) {
			return null == e ? t : t + "=" + (i ? function(t) {
				try {
					return encodeURIComponent(t)
				} catch (t) {}
				return t
			}(String(e)) : e)
		};
	var Ji = function(t, e) {
			if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
		},
		tn = window,
		en = function() {},
		nn = tn.setImmediate || function(t) {
			return setTimeout(t, 1)
		},
		rn = function(t) {
			return "function" == typeof t
		},
		on = function() {
			function t() {
				Ji(this, t), this._l = new Image, this._r = !1
			}
			return t.prototype.load = function(t, e) {
				var i = this;
				this._r = !0;
				var n = this._l,
					r = function(t, r) {
						n.onload = n.onerror = en, e(t, r), i.reset()
					};
				n.onload = function(t) {
					return r(null, t)
				}, n.onerror = function(t) {
					return r(t)
				}, n.src = t
			}, t.prototype.reset = function() {
				this._r = !1
			}, t
		}(),
		sn = [],
		an = tn.$nextRequest || (tn.$nextRequest = new function() {
			var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
				e = 0,
				i = t.concurrent || 5,
				n = [],
				r = function(t, e) {
					var i = t[0],
						n = t[1],
						r = t[2],
						o = n && function(t, e) {
							if ("object" != typeof t) return t;
							var i, n, r, o = [];
							for (i in e = void 0 === e ? 1 : 0, t)
								if (Zi(t, i))
									if ((n = t[i]) && "object" == typeof n) {
										if ("number" == typeof n.length)
											for (r = n.length; r--;) o.push(Qi(i, n[r], e))
									} else o.push(Qi(i, n, e));
							return o.join("&").replace(/%20/g, "+")
						}(n),
						s = i + (o ? (~i.indexOf("?") ? "&" : "?") + o : "");
					nn(function() {
						return function() {
							for (var t, e = -1, i = sn.length; ++e < i;)
								if (!(i = sn[e])._r) return i;
							return t = new on, sn.length < 5 && sn.push(t), t
						}().load(s, function(t, i) {
							if (rn(r)) try {
								r(t, i)
							} catch (i) {}
							e(t)
						})
					})
				};
			return {
				push: function() {
					var t = function(t) {
							for (var e = t.length, i = Array(e), n = 0; n < e; n++) i[n] = t[n];
							return i
						}(arguments),
						o = t[1];
					2 === t.length && rn(o) && (t[2] = o, t[1] = null), n.push(t),
						function t() {
							if (n.length && e < i) {
								var o = n.shift();
								++e, r(o, function() {
									--e, t()
								})
							}
						}()
				}
			}
		}),
		hn = function(t, e, i) {
			return an.push.apply(an, arguments)
		};

	function cn(t, e) {
		for (var i in e) t = t.replace(e[i].pattern, e[i].value);
		return t
	}

	function un(t, e) {
		if ((t = t && "string" == typeof t ? [t] : t) && t.length)
			for (var i = 0, n = t.length; i < n; i++) {
				var r = t[i];
				e && (r = cn(r, e)), hn(r)
			}
	}

	function ln(t, e) {
		return new Promise(function(i, n) {
			var r = "messageHandle",
				o = "";
			for (var s in e.reqtype = "form-post", e) o = o.concat('<input type="hidden" name="' + s +
				'" value="' + e[s] + '">');
			var a, h, c, u = document.getElementsByClassName("post-send-form");
			u.length > 0 ? a = u[0] : ((h = document.createElement("iframe")).name = r, h.id = r, h
					.className = "post-send-iframe", h.style.display = "none", document.body.appendChild(h),
					(a = document.createElement("form")).target = r, a.method = "post", a.className =
					"post-send-form", document.body.appendChild(a)), a.action = t, a.innerHTML = o, a
				.submit();
			var l = function(t) {
				var e = "MessengerDanmu",
					n = t.data;
				if (0 == n.indexOf(e)) {
					n = n.substr(e.length);
					var r = JSON.parse(n);
					return i(r)
				}
				window.removeEventListener("message", l), clearTimeout(c)
			};
			window.addEventListener("message", l), c = setTimeout(function() {
				return n("time out")
			}, 5e3)
		})
	}
	/*!
	 * @mango/mango-player-kernel v2.0.6-1ced740
	 *
	 * @author genie88
	 * Released under the MIT License.
	 */
	function dn(t, e) {
		for (var i = 0; i < e.length; i++) {
			var n = e[i];
			n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), f(t, n.key,
				n)
		}
	}

	function fn(t, e, i) {
		return e && dn(t.prototype, e), i && dn(t, i), t
	}

	function pn(t, e) {
		t.prototype = Object.create(e.prototype), t.prototype.constructor = t, mn(t, e)
	}

	function mn(t, e) {
		return (mn = Object.setPrototypeOf || function(t, e) {
			return t.__proto__ = e, t
		})(t, e)
	}

	function vn(t, e, i, n, r) {
		var o = {};
		return g(n).forEach(function(t) {
				o[t] = n[t]
			}), o.enumerable = !!o.enumerable, o.configurable = !!o.configurable, ("value" in o || o.initializer) &&
			(o.writable = !0), o = i.slice().reverse().reduce(function(i, n) {
				return n(t, e, i) || i
			}, o), r && void 0 !== o.initializer && (o.value = o.initializer ? o.initializer.call(r) : void 0, o
				.initializer = void 0), void 0 === o.initializer && (f(t, e, o), o = null), o
	}
	var gn = Object.defineProperty,
		yn = Object.getOwnPropertyDescriptor,
		_n = Object.assign,
		bn = Object.keys;

	function wn(t) {
		return null == t
	}

	function kn(t) {
		return Array.isArray(t)
	}

	function En(t) {
		return "function" == typeof t
	}

	function Sn(t) {
		return Object(t) === t && "[object Object]" === String(t) && !En(t) && !kn(t)
	}

	function Tn(t) {
		return "number" == typeof t
	}

	function xn(t) {
		return "string" == typeof t || t instanceof String
	}

	function An(t) {
		return "boolean" == typeof t
	}

	function Cn(t) {
		return !!t && ("object" == typeof t || "function" == typeof t) && "function" == typeof t.then
	}

	function Rn(t) {
		return wn(t) || An(t) || xn(t) || Tn(t)
	}

	function In(t) {
		return !!("object" == typeof HTMLElement ? t instanceof HTMLElement : t && "object" == typeof t && null !==
			t && 1 === t.nodeType && "string" == typeof t.nodeName)
	}
	var Ln = function(t) {
		return function e(i, n, r) {
			if (kn(i) || Sn(i)) {
				for (var o in n = Rn(n) ? Sn(i) ? {} : [] : n, i) n[o] = e(i[o], n[o], o);
				return n
			}
			return t(i, n, r)
		}
	}(function(t) {
		return t
	});

	function Pn() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (e.length < 2) throw new Error("deepAssign accept two and more argument");
		for (var n = e.length - 1; n > -1; n--)
			if (Rn(e[n])) throw new TypeError("deepAssign only accept non primitive type");
		var r = e.shift();
		return e.forEach(function(t) {
			return Ln(t, r)
		}), r
	}

	function Dn(t, e) {
		return t.bind ? t.bind(e) : t.apply ? function() {
			for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
			return t.apply(e, n)
		} : function() {
			for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
			return t.call.apply(t, [e].concat(n))
		}
	}

	function Mn(t, e, i) {
		var n = void 0 === i ? {} : i,
			r = n.throwError,
			o = void 0 !== r && r,
			s = n.backup;
		if (xn(e) && (e = e.split(".")), !kn(e)) throw new TypeError(
			"keys of getDeepProperty must be string or Array<string>");
		for (var a = [], h = t, c = 0, u = e.length; c < u; c++) {
			var l = e[c];
			if (wn(h)) {
				if (o) throw new Error("obj" + (a.length > 0 ? "." + a.join(".") : " itself") + " is " + h);
				return s
			}
			h = h[l], a.push(l)
		}
		return h
	}
	var Bn = Object.getOwnPropertyDescriptor;

	function On(t) {
		if (!t || !t.hasOwnProperty) return !1;
		for (var e = ["value", "initializer", "get", "set"], i = 0, n = e.length; i < n; i++)
			if (t.hasOwnProperty(e[i])) return !0;
		return !1
	}

	function Un(t) {
		return !!t && t.hasOwnProperty("value") && An(t.configurable) && An(t.enumerable) && An(t.writable)
	}

	function Fn(t, e) {
		if (void 0 === e && (e = "You must pass me an array of function"), !kn(t) || t.length < 1)
		throw new TypeError(e);
		if (1 === t.length) {
			if (!En(t[0])) throw new TypeError(e);
			return t[0]
		}
		return t.reduce(function(t, i) {
			if (!En(i) || !En(t)) throw new TypeError(e);
			return function(e) {
				return Dn(i, this)(Dn(t, this)(e))
			}
		})
	}
	var Nn, Vn, zn = (Nn = Object.getOwnPropertyNames, En(Vn = Object.getOwnPropertySymbols) ? function(t) {
		return Array.from(Nn(t).concat(Vn(t)))
	} : Nn);
	var Hn = En(Object.getOwnPropertyDescriptors) ? Object.getOwnPropertyDescriptors : function(t) {
		return zn(t).reduce(function(e, i) {
			return e[i] = Bn(t, i), e
		}, {})
	};

	function jn(t, e) {
		var i = void 0 === t ? {} : t,
			n = i.get,
			r = i.set,
			o = void 0 === e ? {} : e,
			s = o.preGet,
			a = void 0 !== s && s,
			h = o.preSet,
			c = void 0 === h || h;
		if (!(En(n) || En(r) || kn(n) && n.length > 0 || kn(r) && r.length > 0)) throw new TypeError(
			"@accessor need a getter or setter. If you don't need to add setter/getter. You should remove @accessor"
			);
		var u = "@accessor only accept function or array of function as getter/setter";
		return n = kn(n) ? Fn(n, u) : n, r = kn(r) ? Fn(r, u) : r,
			function(t, e, i) {
				var o = i || {},
					s = o.configurable,
					h = void 0 === s || s,
					u = o.enumerable,
					l = void 0 === u || u,
					d = En(n),
					f = En(r),
					p = function(t) {
						return d ? Dn(n, this)(t) : t
					},
					m = function(t) {
						return f ? Dn(r, this)(t) : t
					};
				if ((E = i) && (En(E.get) || En(E.set)) && An(E.configurable) && An(E.enumerable) && void 0 === E
					.writable) {
					var v = i.get,
						g = i.set,
						y = En(v),
						_ = En(g);
					return {
						get: y || d ? function() {
							var t = this,
								e = Dn(p, this),
								i = function() {
									return y ? Dn(v, t)() : void 0
								};
							return (a ? [e, i] : [i, e]).reduce(function(t, e) {
								return e(t)
							}, void 0)
						} : void 0,
						set: _ || f ? function(t) {
							var e = this,
								i = Dn(m, this),
								n = function(t) {
									return _ ? Dn(g, e)(t) : t
								};
							return (c ? [i, n] : [n, i]).reduce(function(t, e) {
								return e(t)
							}, t)
						} : void 0,
						configurable: h,
						enumerable: l
					}
				}
				if (function(t) {
						return !!t && En(t.initializer) && An(t.configurable) && An(t.enumerable) && An(t.writable)
					}(i)) {
					var b, w = i.initializer,
						k = !1;
					return {
						get: function() {
							var t = Dn(p, this);
							return k ? t(b) : (b = Dn(w, this)(), k = !0, t(b))
						},
						set: function(t) {
							var e = Dn(m, this);
							return b = c ? e(t) : t, k = !0, c || e(b), b
						},
						configurable: h,
						enumerable: l
					}
				}
				var E, S = (i || {}).value;
				return {
					get: function() {
						return Dn(p, this)(S)
					},
					set: function(t) {
						var e = Dn(m, this);
						return S = c ? e(t) : t, c || e(S), S
					},
					configurable: h,
					enumerable: l
				}
			}
	}
	var $n = Object.defineProperty;

	function Wn(t, e) {
		var i = void 0 === e ? {} : e,
			n = i.requirement,
			r = i.customArgs,
			o = void 0 !== r && r;
		return function(e) {
			for (var i = void 0 === e ? {} : e, r = i.exclude, s = void 0 === r ? [] : r, a = i.include, h =
					void 0 === a ? [] : a, c = i.construct, u = void 0 !== c && c, l = i.self, d = void 0 !==
					l && l, f = arguments.length, p = new Array(f > 1 ? f - 1 : 0), m = 1; m < f; m++) p[m -
				1] = arguments[m];
			if (!kn(s)) throw new TypeError("options.exclude must be an array");
			if (!kn(h)) throw new TypeError("options.include must be an array");
			return function(e) {
				var i = En(e);
				if (!d && !i) throw new TypeError("@" + t.name + "Class can only be used on class");
				if (d && Rn(e)) throw new TypeError("@" + t.name +
					"Class must be used on non-primitive type value in 'self' mode");
				var r = d ? e : e.prototype;
				if (wn(r)) throw new Error("The prototype of the " + e.name + " is empty, please check it");
				var a = Hn(r);
				zn(r).concat(h).forEach(function(e) {
					var h = a[e];
					"constructor" === e && !u || d && i && ["name", "length", "prototype"].indexOf(
						e) > -1 || s.indexOf(e) > -1 || En(n) && !1 === n(r, e, h, {
						self: d
					}) || $n(r, e, (o ? t.apply(void 0, p) : t)(r, e, h))
				})
			}
		}
	}
	var qn, Gn = Wn(Kn, {
		requirement: function(t, e, i) {
			return Un(i) && En(i.value)
		}
	});

	function Kn(t, e, i) {
		if (1 === arguments.length) return Gn()(t);
		var n = i || {},
			r = n.value,
			o = n.configurable;
		if (!En(r)) throw new TypeError('@autobind can only be used on functions, not "' + r + '" in ' + typeof r +
			' on property "' + e + '"');
		var s, a = t.constructor;
		return {
			configurable: o,
			enumerable: !1,
			get: function() {
				var i = this,
					n = function() {
						for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
						return r.call.apply(r, [i].concat(e))
					};
				return this === t ? r : this.constructor !== a && Object.getPrototypeOf(this).constructor ===
					a ? r : this.constructor !== a && e in this.constructor.prototype ? function(t, e) {
						if ("undefined" == typeof WeakMap) throw new Error("Using @autobind on " + e.name +
							"() requires WeakMap support due to its use of super." + e.name + "()");
						qn || (qn = new WeakMap), !1 === qn.has(t) && qn.set(t, new WeakMap);
						var i = qn.get(t);
						return !1 === i.has(e) && i.set(e, Dn(e, t)), i.get(e)
					}(this, r) : (gn(this, e, {
						configurable: !0,
						writable: !0,
						enumerable: !1,
						value: n
					}), n)
			},
			set: (s = e, function(t) {
				return gn(this, s, {
					configurable: !0,
					writable: !0,
					enumerable: !0,
					value: t
				}), t
			})
		}
	}
	var Yn = Object.getOwnPropertyDescriptor,
		Xn = Object.defineProperty;
	Wn(function() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (0 === e.length) throw new Error(
			"@before accept at least one parameter. If you don't need to preprocess before your function, do not add @before decorators"
			);
		if (e.length > 2 && On(e[2])) throw new Error(
			"You may use @before straightly, @before return decorators, you should call it before you set it as decorator."
			);
		for (var n = e.length - 1; n > -1; n--)
			if (!En(e[n])) throw new TypeError("@before only accept function parameter");
		return function(t, i, n) {
			var r = n || {},
				o = r.value,
				s = r.configurable,
				a = r.enumerable,
				h = r.writable;
			if (!En(o)) throw new TypeError(
				'@before can only be used on function, please check the property "' + i +
				'" is a method or not.');
			return {
				value: function() {
					for (var t = this, i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[
						r] = arguments[r];
					var s = e.reduce(function(e, i) {
						var n = Dn(i, t).apply(void 0, e);
						return void 0 === n ? e : kn(n) ? n : [n]
					}, n);
					return Dn(o, this).apply(void 0, s)
				},
				configurable: s,
				enumerable: a,
				writable: h
			}
		}
	}, {
		requirement: function(t, e, i) {
			return Un(i) && En(i.value)
		},
		customArgs: !0
	}), Wn(function() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (0 === e.length) throw new Error(
			"@after accept at least one parameter. If you don't need to preprocess after your function, do not add @after decorators"
			);
		if (e.length > 2 && On(e[2])) throw new Error(
			"You may have used @after straightly. @after return decorators. You should call it before you use it as decorators"
			);
		var n = Fn(e, "@after only accept function parameter");
		return function(t, e, i) {
			var r = i || {},
				o = r.value,
				s = r.configurable,
				a = r.enumerable,
				h = r.writable;
			if (!En(o)) throw new TypeError(
				'@after can only be used on function, please checkout your property "' + e +
				'" is a method or not.');
			return {
				value: function() {
					var t = Dn(o, this).apply(void 0, arguments);
					return Dn(n, this)(t)
				},
				configurable: s,
				enumerable: a,
				writable: h
			}
		}
	}, {
		requirement: function(t, e, i) {
			return Un(i) && En(i.value)
		},
		customArgs: !0
	}), Wn(function(t, e) {
		var i = void 0 === e ? {} : e,
			n = i.other,
			r = i.backup;
		if (!En(t) && !xn(t)) throw new TypeError("@runnable only accept Function or String");
		return function(e, i, o) {
			var s = o || {},
				a = s.value,
				h = s.configurable;
			if (!En(a)) throw new TypeError("@runnable can only be used on method, but not " + a +
				' on property "' + i + '".');
			var c = En(t) ? t : function() {
				var e = t.split(".");
				return Mn(Rn(n) ? this : n, e)
			};
			return r = En(r) ? r : function() {}, {
				value: function() {
					return !0 === Dn(c, this).apply(void 0, arguments) ? Dn(a, this).apply(
						void 0, arguments) : Dn(r, this).apply(void 0, arguments)
				},
				enumerable: !1,
				configurable: h,
				writable: !1
			}
		}
	}, {
		requirement: function(t, e, i) {
			return Un(i) && En(i.value)
		},
		customArgs: !0
	}), Wn(function(t, e) {
		var i = (void 0 === e ? {} : e).other;
		if (!En(t) && !Cn(t) && !xn(t)) throw new TypeError(
			"@waitUntil only accept Function, Promise or String");
		return function(e, n, r) {
			var o = r || {},
				s = o.value,
				a = o.configurable;
			if (!En(s)) throw new TypeError("@waituntil can only be used on function, but not " + s +
				' on property "' + n + '"');
			var h = !1,
				c = [],
				u = Cn(t) ? function() {
					return t
				} : En(t) ? t : function() {
					var e = t.split("."),
						n = e.slice(-1),
						r = Rn(i) ? this : i;
					if (!h) {
						var o = Mn(r, e.slice(0, -1));
						if (wn(o)) return o;
						var s = Yn(o, n),
							a = function(t) {
								if (!0 === t)
									for (; c.length > 0;) c[0](), c.shift();
								return t
							},
							u = On(s) ? jn({
								set: a
							})(o, n, s) : jn({
								set: a
							})(o, n, {
								value: void 0,
								configurable: !0,
								enumerable: !0,
								writable: !0
							});
						Xn(o, n, u), h = !0
					}
					return Mn(r, e)
				};
			return {
				value: function() {
					for (var t = this, e = arguments.length, i = new Array(e), n = 0; n < e; n++) i[
						n] = arguments[n];
					var r = Dn(s, this),
						o = Dn(u, this).apply(void 0, i);
					return Cn(o) ? Promise.resolve(o).then(function() {
						return Dn(s, t).apply(void 0, i)
					}) : !0 === o ? Dn(s, this).apply(void 0, i) : new Promise(function(t) {
						c.push(function() {
							r.apply(void 0, i), t()
						})
					})
				},
				enumerable: !1,
				configurable: a,
				writable: !1
			}
		}
	}, {
		requirement: function(t, e, i) {
			return Un(i) && En(i.value)
		},
		customArgs: !0
	});
	var Zn = void 0 !== W ? W : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {};

	function Qn() {
		throw new Error("setTimeout has not been defined")
	}

	function Jn() {
		throw new Error("clearTimeout has not been defined")
	}
	var tr = Qn,
		er = Jn;

	function ir(t) {
		if (tr === setTimeout) return setTimeout(t, 0);
		if ((tr === Qn || !tr) && setTimeout) return tr = setTimeout, setTimeout(t, 0);
		try {
			return tr(t, 0)
		} catch (e) {
			try {
				return tr.call(null, t, 0)
			} catch (e) {
				return tr.call(this, t, 0)
			}
		}
	}
	"function" == typeof Zn.setTimeout && (tr = setTimeout), "function" == typeof Zn.clearTimeout && (er =
		clearTimeout);
	var nr, rr = [],
		or = !1,
		sr = -1;

	function ar() {
		or && nr && (or = !1, nr.length ? rr = nr.concat(rr) : sr = -1, rr.length && hr())
	}

	function hr() {
		if (!or) {
			var t = ir(ar);
			or = !0;
			for (var e = rr.length; e;) {
				for (nr = rr, rr = []; ++sr < e;) nr && nr[sr].run();
				sr = -1, e = rr.length
			}
			nr = null, or = !1,
				function(t) {
					if (er === clearTimeout) return clearTimeout(t);
					if ((er === Jn || !er) && clearTimeout) return er = clearTimeout, clearTimeout(t);
					try {
						er(t)
					} catch (e) {
						try {
							return er.call(null, t)
						} catch (e) {
							return er.call(this, t)
						}
					}
				}(t)
		}
	}

	function cr(t, e) {
		this.fun = t, this.array = e
	}
	cr.prototype.run = function() {
		this.fun.apply(null, this.array)
	};
	var ur = Zn.performance || {};
	ur.now || ur.mozNow || ur.msNow || ur.oNow || ur.webkitNow, "undefined" != typeof globalThis ? globalThis :
		"undefined" != typeof window ? window : void 0 !== W || "undefined" != typeof self && self;

	function lr(t) {
		return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
	}

	function dr(t, e) {
		return t(e = {
			exports: {}
		}, e.exports), e.exports
	}
	var fr = dr(function(t, e) {
			var i;
			t.exports = (i = "undefined" != typeof window && window.Math === Math ? window : "undefined" !=
				typeof self && self.Math === Math ? self : Function("return this")(), "number" ==
				typeof __g && (__g = i), i)
		}),
		pr = "undefined" != typeof window && window.document || {},
		mr = function(t) {
			if ("string" != typeof t) throw new Error("trim need a string as parameter");
			for (var e = t.length, i = 0, n = e - 1, r = /(\u3000|\s|\t|\u00A0)/; i < e && r.test(t.charAt(i));) ++
			i;
			for (; n >= 0 && r.test(t.charAt(n));) --n;
			return t.substring(i, n + 1)
		},
		vr = function(t) {
			for (var e, i, n, r = t ? t.split("; ") : [], o = {}, s = -1, a = r.length; ++s < a;) ~(e = (t = mr(r[
				s])).indexOf("=")) && (i = t.substring(0, e), n = t.substring(e + 1), o[i] = n);
			return o
		},
		gr = function(t, e, i) {
			if (i = i || {}, void 0 !== e) {
				if (i = function(t) {
						var e = {};
						for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
						return e
					}(i), null === e && (e = "", i.expires = -1), "number" == typeof i.expires) {
					var n = i.expires,
						r = i.expires = new Date;
					r.setTime(r.getTime() + 864e5 * n)
				}
				var o = function(t) {
					try {
						return i.raw ? t : encodeURIComponent(t)
					} catch (t) {}
					return t
				};
				return pr.cookie = [o(t), "=", o(e), i.expires ? "; expires=" + i.expires.toUTCString() : "", i
					.path ? "; path=" + i.path : "", i.domain ? "; domain=" + i.domain : "", i.secure ?
					"; secure" : ""
				].join(""), e
			}
			var s;
			return s = vr(pr.cookie)[t], i.raw ? s : s && decodeURIComponent(s) || null
		};
	gr.set = function(t, e, i) {
		return gr(t, e, i)
	}, gr.get = function(t) {
		return gr(t)
	}, gr.remove = function(t) {
		return gr(t, null)
	}, gr.keys = function() {
		return bn(vr(pr.cookie))
	};
	var yr = function() {
			var t = self.navigator.userAgent.toLowerCase(),
				e = /(firefox)\/([\w.]+)/.exec(t) || /(edg)\/([\w.]+)/.exec(t) || /(edge)\/([\w.]+)/.exec(t) ||
				/(opr)[\/]([\w.]+)/.exec(t) || /(chrome)[ \/]([\w.]+)/.exec(t) || /(iemobile)[\/]([\w.]+)/.exec(
				t) || /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t) ||
				/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t) ||
				/(webkit)[ \/]([\w.]+)/.exec(t) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t) || /(msie) ([\w.]+)/
				.exec(t) || t.indexOf("trident") >= 0 && /(rv)(?::| )([\w.]+)/.exec(t) || t.indexOf("compatible") <
				0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t) || [],
				i = /(ipad)/.exec(t) || /(ipod)/.exec(t) || /(windows phone)/.exec(t) || /(iphone)/.exec(t) ||
				/(kindle)/.exec(t) || /(android)/.exec(t) || /(windows)/.exec(t) || /(mac)/.exec(t) || /(linux)/
				.exec(t) || /(cros)/.exec(t) || [],
				n = {
					browser: e[5] || e[3] || e[1] || "",
					version: e[2] || e[4] || "0",
					majorVersion: e[4] || e[2] || "0",
					platform: i[0] || ""
				},
				r = {};
			if (n.browser) {
				r[n.browser] = !0;
				var o = n.majorVersion.split(".");
				r.version = {
					major: parseInt(n.majorVersion, 10),
					string: n.version
				}, o.length > 1 && (r.version.minor = parseInt(o[1], 10)), o.length > 2 && (r.version.build =
					parseInt(o[2], 10))
			}
			return n.platform && (r[n.platform] = !0), (r.chrome || r.opr || r.safari) && (r.webkit = !0), (r.rv ||
					r.iemobile) && (r.rv && delete r.rv, n.browser = "msie", r.msie = !0), (r.edge || r.edg) && (
					delete r.edge, n.browser = "msedge", r.msedge = !0), r.opr && (n.browser = "opera", r.opera = !
					0), r.safari && r.android && (n.browser = "android", r.android = !0), r.name = n.browser, r
				.platform = n.platform, r
		}(),
		_r = void 0 !== fr && "[object Object]" !== Object.prototype.toString.call(fr);
	_r && (fr.requestAnimationFrame || fr.mozRequestAnimationFrame || fr.webkitRequestAnimationFrame || fr
		.msRequestAnimationFrame || fr.oRequestAnimationFrame), _r && (fr.cancelAnimationFrame || fr
		.mozCancelAnimationFrame || fr.webkitCancelAnimationFrame || fr.webkitCancelRequestAnimationFrame || fr
		.msCancelAnimationFrame || fr.oCancelAnimationFrame);
	var br = fr.setImmediate || function(t) {
		var e = new Array(arguments.length - 1);
		if (arguments.length > 1)
			for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
		rr.push(new cr(t, e)), 1 !== rr.length || or || ir(hr)
	};

	function wr(t, e, i) {
		return gr.set(t, e, i)
	}
	var kr = function(t, e) {
		if (!t) throw new Error("get(o, k): object not valid.");
		if (~e.indexOf("."))
			for (var i = e.split(".").filter(Boolean), n = -1, r = i.length - 1; ++n < r;) t = t && t[i[n]], e =
				i[n + 1];
		return [t, t && t[e]]
	};

	function Er(t, e, i) {
		var n;
		return Sn(t) && (n = kr(t, e)[1]), void 0 === n ? i : n
	}

	function Sr(t) {
		var e = document.createElement("a");
		return e.href = t, e
	}
	var Tr = {
			getUserAgent: function() {
				return navigator.userAgent
			},
			getPlatform: function() {
				return navigator.platform
			},
			isIos: function() {
				return /iPhone|iPad|iPod/.test(Tr.getPlatform())
			},
			isAndroid: function() {
				return /Android/.test(Tr.getUserAgent())
			},
			isBlackBerry: function() {
				return /BlackBerry/.test(Tr.getPlatform())
			},
			isMac: function() {
				return /Mac/.test(Tr.getPlatform())
			},
			isWindows: function() {
				return /Win/.test(Tr.getPlatform())
			},
			isLinux: function() {
				return /Linux/.test(Tr.getPlatform()) && !Tr.isAndroid()
			},
			get: function() {
				return Tr.isIos() ? "iOS" : Tr.isAndroid() ? "Android" : Tr.isBlackBerry() ? "BlackBerry" : Tr
					.isMac() ? "Mac" : Tr.isWindows() ? "Windows" : Tr.isLinux() ? "Linux" : "Unknown"
			}
		},
		xr = {
			getUserAgent: function() {
				return navigator.userAgent
			},
			get: function() {
				var t = Tr.get(),
					e = "Unknown";
				switch (t) {
					case "Android":
						var i = xr.getUserAgent().split("Android ");
						i.length > 1 && (e = i[1].split(";")[0]);
						break;
					case "Windows":
						var n = xr.getUserAgent().split("Windows NT ");
						if (n.length > 1) {
							var r = n[1];
							r.startsWith("5.0") ? e = "2000" : r.startsWith("5.1") ? e = "XP" : r.startsWith(
									"5.2") ? e = "Server" : r.startsWith("6.0") ? e = "Vista" : r.startsWith(
									"6.1") ? e = "7" : r.startsWith("6.2") ? e = "8" : r.startsWith("6.3") ? e =
								"8.1" : r.startsWith("10.0") && (e = "10")
						}
						break;
					case "iOS":
						var o = xr.getUserAgent().split("OS ");
						if (o.length > 1) e = o[1].split(" ")[0].split("_").join(".");
						break;
					case "Mac":
						var s = xr.getUserAgent().split("Mac OS X ");
						if (s.length > 1) {
							var a = s[1].indexOf(";"),
								h = s[1].indexOf(")");
							h > -1 && (h < a || -1 == a) && (a = h), e = s[1].substring(0, a).split("_").join(
								".")
						}
						break;
					case "BlackBerry":
						var c = xr.getUserAgent().split("BlackBerry9700/");
						c.length > 1 ? e = c[1].split(" ")[0] : (c = xr.getUserAgent().split("Version/"))
							.length > 1 && (e = c[1].split(" ")[0])
				}
				return {
					os: t,
					version: e
				}
			}
		},
		Ar = (xr.get(), Date.now || function() {
			return +new Date
		}),
		Cr = function() {
			var t, e, i;
			return "function" == typeof WeakMap && (WeakMap.prototype || 0).set ? (t = new WeakMap, function(e, i) {
				var n = t.get(e);
				return null === i ? void 0 !== n && t.delete(e) : !n && i ? (t.set(e, n = {}), n) : n
			}) : (e = Ar(), i = "__$widΦ" + e.toString(36), t = {}, function(n, r) {
				if (!n || "object" != typeof n) throw TypeError("Invalid host object apply with weak data");
				var o;
				return null === r ? n[i] && (delete t[n[i]], delete n[i]) : (o = n[i] || r && (o = ++e, t[
					o] = {}, n[i] = o)) && t[o]
			})
		}(),
		Rr = {}.hasOwnProperty;

	function Ir(t, e) {
		for (var i in t) Rr.call(t, i) && e(t[i], i)
	}
	var Lr = Date.now || function() {
			return +new Date
		},
		Pr = Object.defineProperty,
		Dr = Pr ? function(t, e, i) {
			return Pr(t, e, {
				writable: !0,
				value: i
			})
		} : function(t, e, i) {
			return t[e] = i
		},
		Mr = Object.keys || function(t) {
			var e = [];
			return Ir(t, function(t, i) {
				e.push(i)
			}), e
		},
		Br = 2,
		Or = 0,
		Ur = 1,
		Fr = 2,
		Nr = /\s+/,
		Vr = Lr() * Math.random() & 65535,
		zr = function(t, e, i) {
			var n = [];
			return n[Or] = t, n[Ur] = e, n[Fr] = i, n
		};

	function Hr() {}
	var jr = Hr.prototype;

	function $r(t, e, i) {
		var n;
		switch (i.length) {
			case 0:
				n = e ? t.call(e) : t();
				break;
			case 1:
				n = t.call(e, i[0]);
				break;
			case 2:
				n = t.call(e, i[0], i[1]);
				break;
			default:
				n = t.apply(e, i)
		}
		return n
	}

	function Wr(t, e, i, n) {
		var r = !0;
		if (e)
			for (var o, s, a, h = -1, c = {
					type: t,
					timeStamp: Lr(),
					data: i
				}; o = e[++h];) {
				s = o[Or], a = o[Ur] || n;
				try {
					r = o[Fr] === Br ? !1 !== $r(s, a, [c, i]) && r : !1 !== $r(s, a, i) && r
				} catch (t) {
					setTimeout(function() {}, 1)
				}
			}
		return r
	}
	jr.addListener = function(t, e, i, n) {
		var r, o, s = 1;
		if (e && "object" == typeof e && (e = (i = e).handleEvent, s = Br), !e) return this;
		for (r = Cr(this, 1), this._events || Dr(this, "_events", r), t = t.split(Nr); o = t.shift();)(!n && r[
			o] || (r[o] = [])).push(zr(e, i, s));
		return this
	}, jr.on = jr.addListener, jr.once = function(t, e, i) {
		var n = !1,
			r = this,
			o = function o() {
				r.removeListener(t, o), n || (n = !0, e.apply(i || r, arguments))
			};
		return o.guid = e.guid || (e.guid = Vr++), r.on(t, o)
	}, jr.removeListener = function(t, e, i) {
		var n, r, o, s, a, h;
		if (e && "object" == typeof e && (e = (i = e).handleEvent), !(n = Cr(this))) return this;
		if (!(t || e || i)) return Ir(n, function(t, e) {
			delete n[e]
		}), Cr(this, null), this;
		for (t = t ? t.split(Nr) : Mr(n); r = t.shift();)
			if (o = n[r])
				if (e || i) {
					for (s = o.length; --s >= 0;) h = (a = o[s])[Or], e && h !== e && (void 0 === h.guid || h
						.guid !== e.guid) || i && a[Ur] !== i || o.splice(s, 1);
					o.length || delete n[r]
				} else delete n[r];
		return function(t) {
			for (var e in t)
				if (Rr.call(t, e)) return !1;
			return !0
		}(n) && Cr(this, null), this
	}, jr.off = jr.removeListener, jr.removeAllListeners = function(t) {
		return this.removeListener(t)
	}, jr.emit = function(t) {
		var e, i, n, r, o = !0;
		if (!(e = Cr(this))) return this;
		t = t.split(Nr);
		for (var s = arguments.length, a = new Array(s > 1 ? s - 1 : 0), h = 1; h < s; h++) a[h - 1] =
			arguments[h];
		for (; i = t.shift();)(n = e.all) && (n = n.slice()), (r = e[i]) && (r = r.slice()), "all" !== i && (o =
			Wr(i, r, a, this) && o), o = Wr(i, n, [i].concat(a), this) && o;
		return o
	}, jr.listenerCount = function(t) {
		var e, i = Cr(this);
		return i && (e = i[t]) ? e.length : 0
	}, Hr.EventEmitter = Hr;
	var qr = function(t, e, i) {
			return gn(t, e, {
				writable: !0,
				enumerable: !1,
				configurable: !0,
				value: i
			})
		},
		Gr = Object.create(null),
		Kr = 0;

	function Yr(t, e, i) {
		void 0 === i && (i = "__evt_id");
		var n = t[i];
		n || qr(t, i, n = ++Kr);
		var r = n + "_" + e,
			o = Gr[r];
		return o || (o = Gr[r] = []), o
	}

	function Xr(t, e, i, n) {
		void 0 === n && (n = !1);
		var r = Yr(t, e);
		if (i || n) {
			var o, s = -1;
			return r.find(function(t, e) {
				if ((!i || t[0] === i) && (!n || t[2])) return s = e, o = t[1], !0
			}), -1 !== s && r.splice(s, 1), o
		}
		r.length = 0
	}
	var Zr = function(t) {
			function e() {
				return t.apply(this, arguments) || this
			}
			return pn(e, t), e.prototype.emit = function(e, i) {
				var n = _n(Object.create(null), {
					type: e,
					data: i,
					target: this
				});
				return t.prototype.emit.call(this, e, n)
			}, e
		}(Hr.EventEmitter),
		Qr = (_r && document.createElement("div"), !1);
	try {
		var Jr = gn({}, "passive", {
			get: function() {
				Qr = !0
			}
		});
		_r && window.addEventListener("test", null, Jr)
	} catch (ba) {}

	function to(t, e, i, n, r) {
		if (void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 !== r && !An(r) && Qr && (r = {
				passive: !0
			}), n) {
			var o = Xr(t, e + "_once", i);
			o && (i = o)
		}
		t.removeEventListener(e, i, r)
	}

	function eo(t, e, i, n, r) {
		if (void 0 === n && (n = !1), void 0 === r && (r = !1), void 0 !== r && !An(r) && Qr && (r = {
				passive: !0
			}), n) {
			var o = i;
			i = function() {
					for (var s = arguments.length, a = new Array(s), h = 0; h < s; h++) a[h] = arguments[h];
					o.apply(this, a), to(t, e, i, n, r)
				},
				function(t, e, i, n, r) {
					void 0 === n && (n = !1), En(n) && !r && (r = n, n = void 0);
					var o = [i, void 0, n];
					n && !r && (r = function() {
						Xr(t, e, i, n);
						for (var r = arguments.length, o = new Array(r), s = 0; s < r; s++) o[s] =
							arguments[s];
						i.apply(t, o)
					}), r && (o[1] = r), Yr(t, e).push(o)
				}(t, e + "_once", o, i)
		}
		t.addEventListener(e, i, r)
	}
	var io = [],
		no = [],
		ro = "undefined" != typeof Uint8Array ? Uint8Array : Array,
		oo = !1;

	function so() {
		oo = !0;
		for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", e = 0, i = t.length; e <
			i; ++e) io[e] = t[e], no[t.charCodeAt(e)] = e;
		no["-".charCodeAt(0)] = 62, no["_".charCodeAt(0)] = 63
	}

	function ao(t, e, i) {
		for (var n, r, o = [], s = e; s < i; s += 3) n = (t[s] << 16) + (t[s + 1] << 8) + t[s + 2], o.push(io[(r =
			n) >> 18 & 63] + io[r >> 12 & 63] + io[r >> 6 & 63] + io[63 & r]);
		return o.join("")
	}

	function ho(t) {
		var e;
		oo || so();
		for (var i = t.length, n = i % 3, r = "", o = [], s = 0, a = i - n; s < a; s += 16383) o.push(ao(t, s, s +
			16383 > a ? a : s + 16383));
		return 1 === n ? (e = t[i - 1], r += io[e >> 2], r += io[e << 4 & 63], r += "==") : 2 === n && (e = (t[i -
				2] << 8) + t[i - 1], r += io[e >> 10], r += io[e >> 4 & 63], r += io[e << 2 & 63], r += "="), o
			.push(r), o.join("")
	}

	function co(t, e, i, n, r) {
		var o, s, a = 8 * r - n - 1,
			h = (1 << a) - 1,
			c = h >> 1,
			u = -7,
			l = i ? r - 1 : 0,
			d = i ? -1 : 1,
			f = t[e + l];
		for (l += d, o = f & (1 << -u) - 1, f >>= -u, u += a; u > 0; o = 256 * o + t[e + l], l += d, u -= 8);
		for (s = o & (1 << -u) - 1, o >>= -u, u += n; u > 0; s = 256 * s + t[e + l], l += d, u -= 8);
		if (0 === o) o = 1 - c;
		else {
			if (o === h) return s ? NaN : 1 / 0 * (f ? -1 : 1);
			s += Math.pow(2, n), o -= c
		}
		return (f ? -1 : 1) * s * Math.pow(2, o - n)
	}

	function uo(t, e, i, n, r, o) {
		var s, a, h, c = 8 * o - r - 1,
			u = (1 << c) - 1,
			l = u >> 1,
			d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
			f = n ? 0 : o - 1,
			p = n ? 1 : -1,
			m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
		for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, s = u) : (s = Math.floor(Math.log(
				e) / Math.LN2), e * (h = Math.pow(2, -s)) < 1 && (s--, h *= 2), (e += s + l >= 1 ? d / h : d *
				Math.pow(2, 1 - l)) * h >= 2 && (s++, h /= 2), s + l >= u ? (a = 0, s = u) : s + l >= 1 ? (a = (
				e * h - 1) * Math.pow(2, r), s += l) : (a = e * Math.pow(2, l - 1) * Math.pow(2, r), s = 0)); r >=
			8; t[i + f] = 255 & a, f += p, a /= 256, r -= 8);
		for (s = s << r | a, c += r; c > 0; t[i + f] = 255 & s, f += p, s /= 256, c -= 8);
		t[i + f - p] |= 128 * m
	}
	var lo = {}.toString,
		fo = Array.isArray || function(t) {
			return "[object Array]" == lo.call(t)
		};

	function po() {
		return vo.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
	}

	function mo(t, e) {
		if (po() < e) throw new RangeError("Invalid typed array length");
		return vo.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e)).__proto__ = vo.prototype : (null === t && (t =
			new vo(e)), t.length = e), t
	}

	function vo(t, e, i) {
		if (!(vo.TYPED_ARRAY_SUPPORT || this instanceof vo)) return new vo(t, e, i);
		if ("number" == typeof t) {
			if ("string" == typeof e) throw new Error(
				"If encoding is specified then the first argument must be a string");
			return _o(this, t)
		}
		return go(this, t, e, i)
	}

	function go(t, e, i, n) {
		if ("number" == typeof e) throw new TypeError('"value" argument must not be a number');
		return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? function(t, e, i, n) {
			if (e.byteLength, i < 0 || e.byteLength < i) throw new RangeError("'offset' is out of bounds");
			if (e.byteLength < i + (n || 0)) throw new RangeError("'length' is out of bounds");
			e = void 0 === i && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, i) :
				new Uint8Array(e, i, n);
			vo.TYPED_ARRAY_SUPPORT ? (t = e).__proto__ = vo.prototype : t = bo(t, e);
			return t
		}(t, e, i, n) : "string" == typeof e ? function(t, e, i) {
			"string" == typeof i && "" !== i || (i = "utf8");
			if (!vo.isEncoding(i)) throw new TypeError('"encoding" must be a valid string encoding');
			var n = 0 | Eo(e, i),
				r = (t = mo(t, n)).write(e, i);
			r !== n && (t = t.slice(0, r));
			return t
		}(t, e, i) : function(t, e) {
			if (ko(e)) {
				var i = 0 | wo(e.length);
				return 0 === (t = mo(t, i)).length ? t : (e.copy(t, 0, 0, i), t)
			}
			if (e) {
				if ("undefined" != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer || "length" in e)
					return "number" != typeof e.length || (n = e.length) != n ? mo(t, 0) : bo(t, e);
				if ("Buffer" === e.type && fo(e.data)) return bo(t, e.data)
			}
			var n;
			throw new TypeError(
				"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")
		}(t, e)
	}

	function yo(t) {
		if ("number" != typeof t) throw new TypeError('"size" argument must be a number');
		if (t < 0) throw new RangeError('"size" argument must not be negative')
	}

	function _o(t, e) {
		if (yo(e), t = mo(t, e < 0 ? 0 : 0 | wo(e)), !vo.TYPED_ARRAY_SUPPORT)
			for (var i = 0; i < e; ++i) t[i] = 0;
		return t
	}

	function bo(t, e) {
		var i = e.length < 0 ? 0 : 0 | wo(e.length);
		t = mo(t, i);
		for (var n = 0; n < i; n += 1) t[n] = 255 & e[n];
		return t
	}

	function wo(t) {
		if (t >= po()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + po()
			.toString(16) + " bytes");
		return 0 | t
	}

	function ko(t) {
		return !(null == t || !t._isBuffer)
	}

	function Eo(t, e) {
		if (ko(t)) return t.length;
		if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(
				t) || t instanceof ArrayBuffer)) return t.byteLength;
		"string" != typeof t && (t = "" + t);
		var i = t.length;
		if (0 === i) return 0;
		for (var n = !1;;) switch (e) {
			case "ascii":
			case "latin1":
			case "binary":
				return i;
			case "utf8":
			case "utf-8":
			case void 0:
				return Xo(t).length;
			case "ucs2":
			case "ucs-2":
			case "utf16le":
			case "utf-16le":
				return 2 * i;
			case "hex":
				return i >>> 1;
			case "base64":
				return Zo(t).length;
			default:
				if (n) return Xo(t).length;
				e = ("" + e).toLowerCase(), n = !0
		}
	}

	function So(t, e, i) {
		var n = t[e];
		t[e] = t[i], t[i] = n
	}

	function To(t, e, i, n, r) {
		if (0 === t.length) return -1;
		if ("string" == typeof i ? (n = i, i = 0) : i > 2147483647 ? i = 2147483647 : i < -2147483648 && (i = -
				2147483648), i = +i, isNaN(i) && (i = r ? 0 : t.length - 1), i < 0 && (i = t.length + i), i >= t
			.length) {
			if (r) return -1;
			i = t.length - 1
		} else if (i < 0) {
			if (!r) return -1;
			i = 0
		}
		if ("string" == typeof e && (e = vo.from(e, n)), ko(e)) return 0 === e.length ? -1 : xo(t, e, i, n, r);
		if ("number" == typeof e) return e &= 255, vo.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array
			.prototype.indexOf ? r ? Uint8Array.prototype.indexOf.call(t, e, i) : Uint8Array.prototype
			.lastIndexOf.call(t, e, i) : xo(t, [e], i, n, r);
		throw new TypeError("val must be string, number or Buffer")
	}

	function xo(t, e, i, n, r) {
		var o, s = 1,
			a = t.length,
			h = e.length;
		if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n ||
				"utf-16le" === n)) {
			if (t.length < 2 || e.length < 2) return -1;
			s = 2, a /= 2, h /= 2, i /= 2
		}

		function c(t, e) {
			return 1 === s ? t[e] : t.readUInt16BE(e * s)
		}
		if (r) {
			var u = -1;
			for (o = i; o < a; o++)
				if (c(t, o) === c(e, -1 === u ? 0 : o - u)) {
					if (-1 === u && (u = o), o - u + 1 === h) return u * s
				} else -1 !== u && (o -= o - u), u = -1
		} else
			for (i + h > a && (i = a - h), o = i; o >= 0; o--) {
				for (var l = !0, d = 0; d < h; d++)
					if (c(t, o + d) !== c(e, d)) {
						l = !1;
						break
					} if (l) return o
			}
		return -1
	}

	function Ao(t, e, i, n) {
		i = Number(i) || 0;
		var r = t.length - i;
		n ? (n = Number(n)) > r && (n = r) : n = r;
		var o = e.length;
		if (o % 2 != 0) throw new TypeError("Invalid hex string");
		n > o / 2 && (n = o / 2);
		for (var s = 0; s < n; ++s) {
			var a = parseInt(e.substr(2 * s, 2), 16);
			if (isNaN(a)) return s;
			t[i + s] = a
		}
		return s
	}

	function Co(t, e, i, n) {
		return Qo(Xo(e, t.length - i), t, i, n)
	}

	function Ro(t, e, i, n) {
		return Qo(function(t) {
			for (var e = [], i = 0; i < t.length; ++i) e.push(255 & t.charCodeAt(i));
			return e
		}(e), t, i, n)
	}

	function Io(t, e, i, n) {
		return Ro(t, e, i, n)
	}

	function Lo(t, e, i, n) {
		return Qo(Zo(e), t, i, n)
	}

	function Po(t, e, i, n) {
		return Qo(function(t, e) {
			for (var i, n, r, o = [], s = 0; s < t.length && !((e -= 2) < 0); ++s) i = t.charCodeAt(s), n =
				i >> 8, r = i % 256, o.push(r), o.push(n);
			return o
		}(e, t.length - i), t, i, n)
	}

	function Do(t, e, i) {
		return 0 === e && i === t.length ? ho(t) : ho(t.slice(e, i))
	}

	function Mo(t, e, i) {
		i = Math.min(t.length, i);
		for (var n = [], r = e; r < i;) {
			var o, s, a, h, c = t[r],
				u = null,
				l = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
			if (r + l <= i) switch (l) {
				case 1:
					c < 128 && (u = c);
					break;
				case 2:
					128 == (192 & (o = t[r + 1])) && (h = (31 & c) << 6 | 63 & o) > 127 && (u = h);
					break;
				case 3:
					o = t[r + 1], s = t[r + 2], 128 == (192 & o) && 128 == (192 & s) && (h = (15 & c) << 12 | (
						63 & o) << 6 | 63 & s) > 2047 && (h < 55296 || h > 57343) && (u = h);
					break;
				case 4:
					o = t[r + 1], s = t[r + 2], a = t[r + 3], 128 == (192 & o) && 128 == (192 & s) && 128 == (
							192 & a) && (h = (15 & c) << 18 | (63 & o) << 12 | (63 & s) << 6 | 63 & a) >
						65535 && h < 1114112 && (u = h)
			}
			null === u ? (u = 65533, l = 1) : u > 65535 && (u -= 65536, n.push(u >>> 10 & 1023 | 55296), u = 56320 |
				1023 & u), n.push(u), r += l
		}
		return function(t) {
			var e = t.length;
			if (e <= Bo) return String.fromCharCode.apply(String, t);
			var i = "",
				n = 0;
			for (; n < e;) i += String.fromCharCode.apply(String, t.slice(n, n += Bo));
			return i
		}(n)
	}
	vo.TYPED_ARRAY_SUPPORT = void 0 === Zn.TYPED_ARRAY_SUPPORT || Zn.TYPED_ARRAY_SUPPORT, vo.poolSize = 8192, vo
		._augment = function(t) {
			return t.__proto__ = vo.prototype, t
		}, vo.from = function(t, e, i) {
			return go(null, t, e, i)
		}, vo.TYPED_ARRAY_SUPPORT && (vo.prototype.__proto__ = Uint8Array.prototype, vo.__proto__ = Uint8Array), vo
		.alloc = function(t, e, i) {
			return function(t, e, i, n) {
				return yo(e), e <= 0 ? mo(t, e) : void 0 !== i ? "string" == typeof n ? mo(t, e).fill(i, n) :
					mo(t, e).fill(i) : mo(t, e)
			}(null, t, e, i)
		}, vo.allocUnsafe = function(t) {
			return _o(null, t)
		}, vo.allocUnsafeSlow = function(t) {
			return _o(null, t)
		}, vo.isBuffer = function(t) {
			return null != t && (!!t._isBuffer || Jo(t) || function(t) {
				return "function" == typeof t.readFloatLE && "function" == typeof t.slice && Jo(t.slice(0,
					0))
			}(t))
		}, vo.compare = function(t, e) {
			if (!ko(t) || !ko(e)) throw new TypeError("Arguments must be Buffers");
			if (t === e) return 0;
			for (var i = t.length, n = e.length, r = 0, o = Math.min(i, n); r < o; ++r)
				if (t[r] !== e[r]) {
					i = t[r], n = e[r];
					break
				} return i < n ? -1 : n < i ? 1 : 0
		}, vo.isEncoding = function(t) {
			switch (String(t).toLowerCase()) {
				case "hex":
				case "utf8":
				case "utf-8":
				case "ascii":
				case "latin1":
				case "binary":
				case "base64":
				case "ucs2":
				case "ucs-2":
				case "utf16le":
				case "utf-16le":
					return !0;
				default:
					return !1
			}
		}, vo.concat = function(t, e) {
			if (!fo(t)) throw new TypeError('"list" argument must be an Array of Buffers');
			if (0 === t.length) return vo.alloc(0);
			var i;
			if (void 0 === e)
				for (e = 0, i = 0; i < t.length; ++i) e += t[i].length;
			var n = vo.allocUnsafe(e),
				r = 0;
			for (i = 0; i < t.length; ++i) {
				var o = t[i];
				if (!ko(o)) throw new TypeError('"list" argument must be an Array of Buffers');
				o.copy(n, r), r += o.length
			}
			return n
		}, vo.byteLength = Eo, vo.prototype._isBuffer = !0, vo.prototype.swap16 = function() {
			var t = this.length;
			if (t % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
			for (var e = 0; e < t; e += 2) So(this, e, e + 1);
			return this
		}, vo.prototype.swap32 = function() {
			var t = this.length;
			if (t % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
			for (var e = 0; e < t; e += 4) So(this, e, e + 3), So(this, e + 1, e + 2);
			return this
		}, vo.prototype.swap64 = function() {
			var t = this.length;
			if (t % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
			for (var e = 0; e < t; e += 8) So(this, e, e + 7), So(this, e + 1, e + 6), So(this, e + 2, e + 5), So(
				this, e + 3, e + 4);
			return this
		}, vo.prototype.toString = function() {
			var t = 0 | this.length;
			return 0 === t ? "" : 0 === arguments.length ? Mo(this, 0, t) : function(t, e, i) {
				var n = !1;
				if ((void 0 === e || e < 0) && (e = 0), e > this.length) return "";
				if ((void 0 === i || i > this.length) && (i = this.length), i <= 0) return "";
				if ((i >>>= 0) <= (e >>>= 0)) return "";
				for (t || (t = "utf8");;) switch (t) {
					case "hex":
						return Fo(this, e, i);
					case "utf8":
					case "utf-8":
						return Mo(this, e, i);
					case "ascii":
						return Oo(this, e, i);
					case "latin1":
					case "binary":
						return Uo(this, e, i);
					case "base64":
						return Do(this, e, i);
					case "ucs2":
					case "ucs-2":
					case "utf16le":
					case "utf-16le":
						return No(this, e, i);
					default:
						if (n) throw new TypeError("Unknown encoding: " + t);
						t = (t + "").toLowerCase(), n = !0
				}
			}.apply(this, arguments)
		}, vo.prototype.equals = function(t) {
			if (!ko(t)) throw new TypeError("Argument must be a Buffer");
			return this === t || 0 === vo.compare(this, t)
		}, vo.prototype.inspect = function() {
			var t = "";
			return this.length > 0 && (t = this.toString("hex", 0, 50).match(/.{2}/g).join(" "), this.length > 50 &&
				(t += " ... ")), "<Buffer " + t + ">"
		}, vo.prototype.compare = function(t, e, i, n, r) {
			if (!ko(t)) throw new TypeError("Argument must be a Buffer");
			if (void 0 === e && (e = 0), void 0 === i && (i = t ? t.length : 0), void 0 === n && (n = 0), void 0 ===
				r && (r = this.length), e < 0 || i > t.length || n < 0 || r > this.length) throw new RangeError(
				"out of range index");
			if (n >= r && e >= i) return 0;
			if (n >= r) return -1;
			if (e >= i) return 1;
			if (this === t) return 0;
			for (var o = (r >>>= 0) - (n >>>= 0), s = (i >>>= 0) - (e >>>= 0), a = Math.min(o, s), h = this.slice(n,
					r), c = t.slice(e, i), u = 0; u < a; ++u)
				if (h[u] !== c[u]) {
					o = h[u], s = c[u];
					break
				} return o < s ? -1 : s < o ? 1 : 0
		}, vo.prototype.includes = function(t, e, i) {
			return -1 !== this.indexOf(t, e, i)
		}, vo.prototype.indexOf = function(t, e, i) {
			return To(this, t, e, i, !0)
		}, vo.prototype.lastIndexOf = function(t, e, i) {
			return To(this, t, e, i, !1)
		}, vo.prototype.write = function(t, e, i, n) {
			if (void 0 === e) n = "utf8", i = this.length, e = 0;
			else if (void 0 === i && "string" == typeof e) n = e, i = this.length, e = 0;
			else {
				if (!isFinite(e)) throw new Error(
					"Buffer.write(string, encoding, offset[, length]) is no longer supported");
				e |= 0, isFinite(i) ? (i |= 0, void 0 === n && (n = "utf8")) : (n = i, i = void 0)
			}
			var r = this.length - e;
			if ((void 0 === i || i > r) && (i = r), t.length > 0 && (i < 0 || e < 0) || e > this.length)
			throw new RangeError("Attempt to write outside buffer bounds");
			n || (n = "utf8");
			for (var o = !1;;) switch (n) {
				case "hex":
					return Ao(this, t, e, i);
				case "utf8":
				case "utf-8":
					return Co(this, t, e, i);
				case "ascii":
					return Ro(this, t, e, i);
				case "latin1":
				case "binary":
					return Io(this, t, e, i);
				case "base64":
					return Lo(this, t, e, i);
				case "ucs2":
				case "ucs-2":
				case "utf16le":
				case "utf-16le":
					return Po(this, t, e, i);
				default:
					if (o) throw new TypeError("Unknown encoding: " + n);
					n = ("" + n).toLowerCase(), o = !0
			}
		}, vo.prototype.toJSON = function() {
			return {
				type: "Buffer",
				data: Array.prototype.slice.call(this._arr || this, 0)
			}
		};
	var Bo = 4096;

	function Oo(t, e, i) {
		var n = "";
		i = Math.min(t.length, i);
		for (var r = e; r < i; ++r) n += String.fromCharCode(127 & t[r]);
		return n
	}

	function Uo(t, e, i) {
		var n = "";
		i = Math.min(t.length, i);
		for (var r = e; r < i; ++r) n += String.fromCharCode(t[r]);
		return n
	}

	function Fo(t, e, i) {
		var n = t.length;
		(!e || e < 0) && (e = 0), (!i || i < 0 || i > n) && (i = n);
		for (var r = "", o = e; o < i; ++o) r += Yo(t[o]);
		return r
	}

	function No(t, e, i) {
		for (var n = t.slice(e, i), r = "", o = 0; o < n.length; o += 2) r += String.fromCharCode(n[o] + 256 * n[o +
			1]);
		return r
	}

	function Vo(t, e, i) {
		if (t % 1 != 0 || t < 0) throw new RangeError("offset is not uint");
		if (t + e > i) throw new RangeError("Trying to access beyond buffer length")
	}

	function zo(t, e, i, n, r, o) {
		if (!ko(t)) throw new TypeError('"buffer" argument must be a Buffer instance');
		if (e > r || e < o) throw new RangeError('"value" argument is out of bounds');
		if (i + n > t.length) throw new RangeError("Index out of range")
	}

	function Ho(t, e, i, n) {
		e < 0 && (e = 65535 + e + 1);
		for (var r = 0, o = Math.min(t.length - i, 2); r < o; ++r) t[i + r] = (e & 255 << 8 * (n ? r : 1 - r)) >>>
			8 * (n ? r : 1 - r)
	}

	function jo(t, e, i, n) {
		e < 0 && (e = 4294967295 + e + 1);
		for (var r = 0, o = Math.min(t.length - i, 4); r < o; ++r) t[i + r] = e >>> 8 * (n ? r : 3 - r) & 255
	}

	function $o(t, e, i, n, r, o) {
		if (i + n > t.length) throw new RangeError("Index out of range");
		if (i < 0) throw new RangeError("Index out of range")
	}

	function Wo(t, e, i, n, r) {
		return r || $o(t, 0, i, 4), uo(t, e, i, n, 23, 4), i + 4
	}

	function qo(t, e, i, n, r) {
		return r || $o(t, 0, i, 8), uo(t, e, i, n, 52, 8), i + 8
	}
	vo.prototype.slice = function(t, e) {
		var i, n = this.length;
		if ((t = ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), (e = void 0 === e ? n : ~~e) < 0 ? (e +=
				n) < 0 && (e = 0) : e > n && (e = n), e < t && (e = t), vo.TYPED_ARRAY_SUPPORT)(i = this
			.subarray(t, e)).__proto__ = vo.prototype;
		else {
			var r = e - t;
			i = new vo(r, void 0);
			for (var o = 0; o < r; ++o) i[o] = this[o + t]
		}
		return i
	}, vo.prototype.readUIntLE = function(t, e, i) {
		t |= 0, e |= 0, i || Vo(t, e, this.length);
		for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t + o] * r;
		return n
	}, vo.prototype.readUIntBE = function(t, e, i) {
		t |= 0, e |= 0, i || Vo(t, e, this.length);
		for (var n = this[t + --e], r = 1; e > 0 && (r *= 256);) n += this[t + --e] * r;
		return n
	}, vo.prototype.readUInt8 = function(t, e) {
		return e || Vo(t, 1, this.length), this[t]
	}, vo.prototype.readUInt16LE = function(t, e) {
		return e || Vo(t, 2, this.length), this[t] | this[t + 1] << 8
	}, vo.prototype.readUInt16BE = function(t, e) {
		return e || Vo(t, 2, this.length), this[t] << 8 | this[t + 1]
	}, vo.prototype.readUInt32LE = function(t, e) {
		return e || Vo(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[
			t + 3]
	}, vo.prototype.readUInt32BE = function(t, e) {
		return e || Vo(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t +
			3])
	}, vo.prototype.readIntLE = function(t, e, i) {
		t |= 0, e |= 0, i || Vo(t, e, this.length);
		for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t + o] * r;
		return n >= (r *= 128) && (n -= Math.pow(2, 8 * e)), n
	}, vo.prototype.readIntBE = function(t, e, i) {
		t |= 0, e |= 0, i || Vo(t, e, this.length);
		for (var n = e, r = 1, o = this[t + --n]; n > 0 && (r *= 256);) o += this[t + --n] * r;
		return o >= (r *= 128) && (o -= Math.pow(2, 8 * e)), o
	}, vo.prototype.readInt8 = function(t, e) {
		return e || Vo(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
	}, vo.prototype.readInt16LE = function(t, e) {
		e || Vo(t, 2, this.length);
		var i = this[t] | this[t + 1] << 8;
		return 32768 & i ? 4294901760 | i : i
	}, vo.prototype.readInt16BE = function(t, e) {
		e || Vo(t, 2, this.length);
		var i = this[t + 1] | this[t] << 8;
		return 32768 & i ? 4294901760 | i : i
	}, vo.prototype.readInt32LE = function(t, e) {
		return e || Vo(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
	}, vo.prototype.readInt32BE = function(t, e) {
		return e || Vo(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
	}, vo.prototype.readFloatLE = function(t, e) {
		return e || Vo(t, 4, this.length), co(this, t, !0, 23, 4)
	}, vo.prototype.readFloatBE = function(t, e) {
		return e || Vo(t, 4, this.length), co(this, t, !1, 23, 4)
	}, vo.prototype.readDoubleLE = function(t, e) {
		return e || Vo(t, 8, this.length), co(this, t, !0, 52, 8)
	}, vo.prototype.readDoubleBE = function(t, e) {
		return e || Vo(t, 8, this.length), co(this, t, !1, 52, 8)
	}, vo.prototype.writeUIntLE = function(t, e, i, n) {
		(t = +t, e |= 0, i |= 0, n) || zo(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
		var r = 1,
			o = 0;
		for (this[e] = 255 & t; ++o < i && (r *= 256);) this[e + o] = t / r & 255;
		return e + i
	}, vo.prototype.writeUIntBE = function(t, e, i, n) {
		(t = +t, e |= 0, i |= 0, n) || zo(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
		var r = i - 1,
			o = 1;
		for (this[e + r] = 255 & t; --r >= 0 && (o *= 256);) this[e + r] = t / o & 255;
		return e + i
	}, vo.prototype.writeUInt8 = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 1, 255, 0), vo.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
			this[e] = 255 & t, e + 1
	}, vo.prototype.writeUInt16LE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 2, 65535, 0), vo.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t,
			this[e + 1] = t >>> 8) : Ho(this, t, e, !0), e + 2
	}, vo.prototype.writeUInt16BE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 2, 65535, 0), vo.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8,
			this[e + 1] = 255 & t) : Ho(this, t, e, !1), e + 2
	}, vo.prototype.writeUInt32LE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 4, 4294967295, 0), vo.TYPED_ARRAY_SUPPORT ? (this[e + 3] =
				t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = 255 & t) : jo(this, t, e, !
			0), e + 4
	}, vo.prototype.writeUInt32BE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 4, 4294967295, 0), vo.TYPED_ARRAY_SUPPORT ? (this[e] = t >>>
				24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : jo(this, t, e, !1),
			e + 4
	}, vo.prototype.writeIntLE = function(t, e, i, n) {
		if (t = +t, e |= 0, !n) {
			var r = Math.pow(2, 8 * i - 1);
			zo(this, t, e, i, r - 1, -r)
		}
		var o = 0,
			s = 1,
			a = 0;
		for (this[e] = 255 & t; ++o < i && (s *= 256);) t < 0 && 0 === a && 0 !== this[e + o - 1] && (a = 1),
			this[e + o] = (t / s >> 0) - a & 255;
		return e + i
	}, vo.prototype.writeIntBE = function(t, e, i, n) {
		if (t = +t, e |= 0, !n) {
			var r = Math.pow(2, 8 * i - 1);
			zo(this, t, e, i, r - 1, -r)
		}
		var o = i - 1,
			s = 1,
			a = 0;
		for (this[e + o] = 255 & t; --o >= 0 && (s *= 256);) t < 0 && 0 === a && 0 !== this[e + o + 1] && (a =
			1), this[e + o] = (t / s >> 0) - a & 255;
		return e + i
	}, vo.prototype.writeInt8 = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 1, 127, -128), vo.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)),
			t < 0 && (t = 255 + t + 1), this[e] = 255 & t, e + 1
	}, vo.prototype.writeInt16LE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 2, 32767, -32768), vo.TYPED_ARRAY_SUPPORT ? (this[e] = 255 &
			t, this[e + 1] = t >>> 8) : Ho(this, t, e, !0), e + 2
	}, vo.prototype.writeInt16BE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 2, 32767, -32768), vo.TYPED_ARRAY_SUPPORT ? (this[e] = t >>>
			8, this[e + 1] = 255 & t) : Ho(this, t, e, !1), e + 2
	}, vo.prototype.writeInt32LE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 4, 2147483647, -2147483648), vo.TYPED_ARRAY_SUPPORT ? (this[
			e] = 255 & t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : jo(this,
			t, e, !0), e + 4
	}, vo.prototype.writeInt32BE = function(t, e, i) {
		return t = +t, e |= 0, i || zo(this, t, e, 4, 2147483647, -2147483648), t < 0 && (t = 4294967295 + t +
			1), vo.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8,
			this[e + 3] = 255 & t) : jo(this, t, e, !1), e + 4
	}, vo.prototype.writeFloatLE = function(t, e, i) {
		return Wo(this, t, e, !0, i)
	}, vo.prototype.writeFloatBE = function(t, e, i) {
		return Wo(this, t, e, !1, i)
	}, vo.prototype.writeDoubleLE = function(t, e, i) {
		return qo(this, t, e, !0, i)
	}, vo.prototype.writeDoubleBE = function(t, e, i) {
		return qo(this, t, e, !1, i)
	}, vo.prototype.copy = function(t, e, i, n) {
		if (i || (i = 0), n || 0 === n || (n = this.length), e >= t.length && (e = t.length), e || (e = 0), n >
			0 && n < i && (n = i), n === i) return 0;
		if (0 === t.length || 0 === this.length) return 0;
		if (e < 0) throw new RangeError("targetStart out of bounds");
		if (i < 0 || i >= this.length) throw new RangeError("sourceStart out of bounds");
		if (n < 0) throw new RangeError("sourceEnd out of bounds");
		n > this.length && (n = this.length), t.length - e < n - i && (n = t.length - e + i);
		var r, o = n - i;
		if (this === t && i < e && e < n)
			for (r = o - 1; r >= 0; --r) t[r + e] = this[r + i];
		else if (o < 1e3 || !vo.TYPED_ARRAY_SUPPORT)
			for (r = 0; r < o; ++r) t[r + e] = this[r + i];
		else Uint8Array.prototype.set.call(t, this.subarray(i, i + o), e);
		return o
	}, vo.prototype.fill = function(t, e, i, n) {
		if ("string" == typeof t) {
			if ("string" == typeof e ? (n = e, e = 0, i = this.length) : "string" == typeof i && (n = i, i =
					this.length), 1 === t.length) {
				var r = t.charCodeAt(0);
				r < 256 && (t = r)
			}
			if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
			if ("string" == typeof n && !vo.isEncoding(n)) throw new TypeError("Unknown encoding: " + n)
		} else "number" == typeof t && (t &= 255);
		if (e < 0 || this.length < e || this.length < i) throw new RangeError("Out of range index");
		if (i <= e) return this;
		var o;
		if (e >>>= 0, i = void 0 === i ? this.length : i >>> 0, t || (t = 0), "number" == typeof t)
			for (o = e; o < i; ++o) this[o] = t;
		else {
			var s = ko(t) ? t : Xo(new vo(t, n).toString()),
				a = s.length;
			for (o = 0; o < i - e; ++o) this[o + e] = s[o % a]
		}
		return this
	};
	var Go, Ko = /[^+\/0-9A-Za-z-_]/g;

	function Yo(t) {
		return t < 16 ? "0" + t.toString(16) : t.toString(16)
	}

	function Xo(t, e) {
		var i;
		e = e || 1 / 0;
		for (var n = t.length, r = null, o = [], s = 0; s < n; ++s) {
			if ((i = t.charCodeAt(s)) > 55295 && i < 57344) {
				if (!r) {
					if (i > 56319) {
						(e -= 3) > -1 && o.push(239, 191, 189);
						continue
					}
					if (s + 1 === n) {
						(e -= 3) > -1 && o.push(239, 191, 189);
						continue
					}
					r = i;
					continue
				}
				if (i < 56320) {
					(e -= 3) > -1 && o.push(239, 191, 189), r = i;
					continue
				}
				i = 65536 + (r - 55296 << 10 | i - 56320)
			} else r && (e -= 3) > -1 && o.push(239, 191, 189);
			if (r = null, i < 128) {
				if ((e -= 1) < 0) break;
				o.push(i)
			} else if (i < 2048) {
				if ((e -= 2) < 0) break;
				o.push(i >> 6 | 192, 63 & i | 128)
			} else if (i < 65536) {
				if ((e -= 3) < 0) break;
				o.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
			} else {
				if (!(i < 1114112)) throw new Error("Invalid code point");
				if ((e -= 4) < 0) break;
				o.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i | 128)
			}
		}
		return o
	}

	function Zo(t) {
		return function(t) {
			var e, i, n, r, o, s;
			oo || so();
			var a = t.length;
			if (a % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
			o = "=" === t[a - 2] ? 2 : "=" === t[a - 1] ? 1 : 0, s = new ro(3 * a / 4 - o), n = o > 0 ? a - 4 :
				a;
			var h = 0;
			for (e = 0, i = 0; e < n; e += 4, i += 3) r = no[t.charCodeAt(e)] << 18 | no[t.charCodeAt(e + 1)] <<
				12 | no[t.charCodeAt(e + 2)] << 6 | no[t.charCodeAt(e + 3)], s[h++] = r >> 16 & 255, s[h++] =
				r >> 8 & 255, s[h++] = 255 & r;
			return 2 === o ? (r = no[t.charCodeAt(e)] << 2 | no[t.charCodeAt(e + 1)] >> 4, s[h++] = 255 & r) :
				1 === o && (r = no[t.charCodeAt(e)] << 10 | no[t.charCodeAt(e + 1)] << 4 | no[t.charCodeAt(e +
					2)] >> 2, s[h++] = r >> 8 & 255, s[h++] = 255 & r), s
		}(function(t) {
			if ((t = function(t) {
					return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
				}(t).replace(Ko, "")).length < 2) return "";
			for (; t.length % 4 != 0;) t += "=";
			return t
		}(t))
	}

	function Qo(t, e, i, n) {
		for (var r = 0; r < n && !(r + i >= e.length || r >= t.length); ++r) e[r + i] = t[r];
		return r
	}

	function Jo(t) {
		return !!t.constructor && "function" == typeof t.constructor.isBuffer && t.constructor.isBuffer(t)
	}! function() {
		var t = window.crypto || window.msCrypto;
		if (!Go && t && t.getRandomValues) try {
			var e = new Uint8Array(16);
			Go = function() {
				return t.getRandomValues(e), e
			}, Go()
		} catch (t) {}
		if (!Go) {
			var i = new Array(16);
			Go = function() {
				for (var t, e = 0; e < 16; e++) 0 == (3 & e) && (t = 4294967296 * Math.random()), i[e] = t >>> (
					(3 & e) << 3) & 255;
				return i
			}
		}
	}();
	for (var ts = [], es = 0; es < 256; es++) ts[es] = (es + 256).toString(16).substr(1);
	var is = fr.localStorage;
	try {
		is.setItem("a", "a"), "a" === is.getItem("a")
	} catch (ba) {}
	/iPad/i.test(navigator.userAgent);
	var ns = window.sessionStorage,
		rs = 0;
	! function() {
		try {
			bn(ns).forEach(function(t, e) {
				-1 !== t.indexOf("vplayer-log-") && ns.removeItem(t)
			})
		} catch (t) {}
	}();
	var os = {
			error: 0,
			warn: 1,
			info: 2,
			log: 3,
			debug: 4,
			verbose: 5
		},
		ss = function() {
			var t = this;
			t.level = 4;
			var e = Zn.console || 0;
			["log", "info", "error", "warn", "debug", "verbose"].forEach(function(i) {
				var n = os[i];
				t[i] = function(t, r) {
					r && "object" == typeof r && (r = JSON.stringify(r));
					var o = function(t, e) {
						if (!xn(t)) throw new TypeError(
							"Log's method only acccept string as argument, but not " + t +
							" in " + typeof t);
						return xn(e) ? "[mango-player][" + (t = ss.FORCE_GLOBAL_TAG ? ss
								.GLOBAL_TAG : t || ss.GLOBAL_TAG) + "] > " + e : "[" + ss
							.GLOBAL_TAG + "] > " + t
					}(t, r);
					if (n < os.log && function(t) {
							var e = "vplayer-log-" + rs;
							br(function() {
								try {
									ns.setItem(e, t)
								} catch (t) {}
							}), rs++
						}(o), !(this.level < n) && e) {
						for (var s = e[i] || e.log, a = arguments.length, h = new Array(a > 2 ? a - 2 :
								0), c = 2; c < a; c++) h[c - 2] = arguments[c];
						s.apply(e, [o].concat(h))
					}
				}.bind(t)
			}), t.setLevel = function(t) {
				var e = os[t] || 0;
				this.level = e
			}.bind(t)
		};
	ss.GLOBAL_TAG = "mango-player", ss.FORCE_GLOBAL_TAG = !1;
	var as = new ss,
		hs = {}.hasOwnProperty,
		cs = function(t, e) {
			return hs.call(t, e)
		},
		us = function(t, e, i) {
			return null == e ? t : t + "=" + (i ? function(t) {
				try {
					return encodeURIComponent(t)
				} catch (t) {}
				return t
			}(String(e)) : e)
		};
	var ls, ds, fs, ps = function(t, e) {
			if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
		},
		ms = window,
		vs = function() {},
		gs = ms.setImmediate || function(t) {
			return setTimeout(t, 1)
		},
		ys = function(t) {
			return "function" == typeof t
		},
		_s = function() {
			function t() {
				ps(this, t), this._l = new Image, this._r = !1
			}
			return t.prototype.load = function(t, e) {
				var i = this;
				this._r = !0;
				var n = this._l,
					r = function(t, r) {
						n.onload = n.onerror = vs, e(t, r), i.reset()
					};
				n.onload = function(t) {
					return r(null, t)
				}, n.onerror = function(t) {
					return r(t)
				}, n.src = t
			}, t.prototype.reset = function() {
				this._r = !1
			}, t
		}(),
		bs = [],
		ws = (ms.$nextRequest || (ms.$nextRequest = new function() {
			var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
				e = 0,
				i = t.concurrent || 5,
				n = [],
				r = function(t, e) {
					var i = t[0],
						n = t[1],
						r = t[2],
						o = n && function(t, e) {
							if ("object" != typeof t) return t;
							var i, n, r, o = [];
							for (i in e = void 0 === e ? 1 : 0, t)
								if (cs(t, i))
									if ((n = t[i]) && "object" == typeof n) {
										if ("number" == typeof n.length)
											for (r = n.length; r--;) o.push(us(i, n[r], e))
									} else o.push(us(i, n, e));
							return o.join("&").replace(/%20/g, "+")
						}(n),
						s = i + (o ? (~i.indexOf("?") ? "&" : "?") + o : "");
					gs(function() {
						return function() {
							for (var t, e = -1, i = bs.length; ++e < i;)
								if (!(i = bs[e])._r) return i;
							return t = new _s, bs.length < 5 && bs.push(t), t
						}().load(s, function(t, i) {
							if (ys(r)) try {
								r(t, i)
							} catch (i) {}
							e(t)
						})
					})
				};
			return {
				push: function() {
					var t = function(t) {
							for (var e = t.length, i = Array(e), n = 0; n < e; n++) i[n] = t[n];
							return i
						}(arguments),
						o = t[1];
					2 === t.length && ys(o) && (t[2] = o, t[1] = null), n.push(t),
						function t() {
							if (n.length && e < i) {
								var o = n.shift();
								++e, r(o, function() {
									--e, t()
								})
							}
						}()
				}
			}
		}), {
			debug: !1,
			withCredentials: !1,
			enableBitrateTest: !1,
			enableWorker: !1,
			maxBufferSize: 6e4,
			manifestLoadingMaxRetry: 0,
			manifestLoadingTimeOut: 11e3,
			levelLoadingTimeOut: 11e3,
			levelLoadingMaxRetry: 0,
			nudgeMaxRetry: 20,
			fragLoadingMaxRetry: 9999,
			fragLoadingTimeout: 11e3
		}),
		ks = "mango-kernel-dash",
		Es = window.dashjs.MediaPlayer.events,
		Ss = window.dashjs.Protection.events,
		Ts = function(t) {
			var e = (Sr(t).pathname || "").split("/");
			return e.pop(), "persistentSessionId-" + e.pop()
		},
		xs = (fs = ds = function(t) {
			function e(e, i, n) {
				var r;
				if (void 0 === n && (n = {}), (r = t.call(this) || this).kernel = {}, r._speed = 0, r
					._stats = {}, r._startPosition = -1, r._retry = 0, !In(e)) throw new Error(
					"video element passed in " + ks + " must be a HTMLVideoElement, but not " + typeof e
					);
				if (!Sn(i)) throw new Error("config of " + ks + " must be an Object but not " + typeof i);
				r.video = e, r.config = i, r._startPosition = -1, r._retry = 0;
				var o = Pn({}, ws, n),
					s = r.kernel = dashjs.MediaPlayer().create();
				return s.initialize(), s.setXHRWithCredentialsForType("MPD", o.withCredentials), s
					.setXHRWithCredentialsForType("MediaSegment", o.withCredentials), s.updateSettings({
						debug: {
							logLevel: o.debug ? 5 : 0
						},
						streaming: {
							scheduleWhilePaused: !0,
							fastSwitchEnabled: !0,
							retryIntervals: {
								MediaSegment: 500
							},
							retryAttempts: {
								MPD: o.manifestLoadingMaxRetry,
								MediaSegment: o.fragLoadingMaxRetry
							},
							bufferToKeep: 70,
							stableBufferTime: 60,
							fragmentRequestTimeout: o.fragLoadingTimeout
						}
					}), r.bindEvents(), r.attachMedia(), r
			}
			pn(e, t);
			var i = e.prototype;
			return i.bindEvents = function(t) {
				var e = this;
				void 0 === t && (t = !1);
				var i = this.kernel;
				if (i) {
					var n = t ? "off" : "on";
					[Es.BUFFER_EMPTY, Es.BUFFER_LOADED, Es.MANIFEST_LOADED, Es.PLAYBACK_METADATA_LOADED, Es
						.PLAYBACK_PLAYING, Es.METRIC_CHANGED, Es.METRIC_UPDATED, Es.METRICS_CHANGED, Es
						.PERIOD_SWITCH_COMPLETED, Es.PERIOD_SWITCH_STARTED, Es.ERROR, Ss
						.KEY_SESSION_CREATED, Ss.LICENSE_REQUEST_COMPLETE
					].forEach(function(t) {
						i[n](t, e.dashEventHandler)
					})
				}
			}, i.load = function(t, e, i, n) {
				var r, o = this;
				if (void 0 === e && (e = -1), n) {
					this.kernel.getProtectionController().setRobustnessLevel("SW_SECURE_CRYPTO");
					var s = (r = Ts(this.config.src), gr.get(r)),
						a = n["com.microsoft.playready"] || n["com.widevine.alpha"] || {};
					a.sessionId = s || void 0, this.kernel.setProtectionData(n)
				}
				this.kernel.attachSource(this.config.src), -1 != e && (this._startPosition = e, this.kernel
						.seek(e)), this._eventPoller && clearInterval(this._eventPoller), this
					._eventPoller = setInterval(function() {
						o.eventPoller()
					}, 1e3)
			}, i.startLoad = function(t, e) {
				return void 0 === e && (e = -1), this.kernel.seek(e)
			}, i.stopLoad = function() {}, i.attachMedia = function() {
				return this.kernel.attachView(this.video)
			}, i.play = function() {
				return this.video.play()
			}, i.eventPoller = function() {
				var t = this.kernel.getDashMetrics();
				this.kernel.getDashAdapter();
				t && (this._bufferLevel = t.getCurrentBufferLevel("video"))
			}, i.destroy = function() {
				return this.bindEvents(!0), this._eventPoller && clearInterval(this._eventPoller), this
					._eventPoller = null, this.kernel.reset()
			}, i.seek = function(t) {
				this.kernel.seek(t)
			}, i.pause = function() {
				return this.video.pause()
			}, i.getMetadata = function() {
				return this.metadata
			}, i.getSpeed = function() {
				return this._speed
			}, i.getFps = function() {
				return this.fps || 0
			}, i.getBufferInfo = function() {
				return {
					len: this._bufferLevel
				}
			}, i.dashEventHandler = function(t) {
				switch (t.type) {
					case Es.BUFFER_EMPTY:
						this.emit("dashBufferEmpty", t), as.warn(ks, "dashcore buffer is empty.");
						break;
					case Es.ERROR:
						this.dashErrorHandler(t);
						break;
					case Es.MANIFEST_LOADED:
						break;
					case Es.KEY_SESSION_CREATED:
						if (t.data) {
							var e = t.data;
							"persistent-license" === e.getSessionType() && wr(Ts(this.config.src), e
								.getSessionID(), {
									expires: 6
								})
						}
						break;
					case Es.PLAYBACK_METADATA_LOADED:
						-1 != this._startPosition && (this.kernel.seek(this._startPosition), this
							._startPosition = -1);
						break;
					case Ss.LICENSE_REQUEST_COMPLETE:
						this.emit("dashLicenseRequest", t), as.info(ks, "dashcore fetch drm license." + JSON
							.stringify(t))
				}
			}, i.isFatalError = function(t) {
				var e = t.code;
				return -1 !== [3].indexOf(e)
			}, i.dashErrorHandler = function(t) {
				Sn(t.error) && (this._retry < 2 && !this.isFatalError(t.error) ? (this._retry++, wr(Ts(this
					.config.src), ""), this.emit("dashRecoverStreamError", t)) : this.emit(
					"dashStreamError", t), as.error(ks, "dashcore error ouccurred at event [" + JSON
					.stringify(t.error || {}).message + "]"))
			}, fn(e, [{
				key: "stats",
				get: function() {
					return this._stats
				}
			}]), e
		}(Zr), ds.version = "1.0.0", vn((ls = fs).prototype, "dashEventHandler", [Kn], yn(ls.prototype,
			"dashEventHandler"), ls.prototype), ls),
		As = 100,
		Cs = 101,
		Rs = 102,
		Is = 103,
		Ls = 104,
		Ps = 105,
		Ds = 106,
		Ms = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this) || this).video = e, n.config = i, n.tag = "mse-controller", n.e = {
					onSourceOpen: n.onSourceOpen.bind(n),
					onSourceEnded: n.onSourceEnded.bind(n),
					onSourceClose: n.onSourceClose.bind(n),
					onSourceBufferError: n.onSourceBufferError.bind(n)
				}, n.hasVideo = !0, n.hasAudio = !0, n.removeRangesList = {
					video: [],
					audio: []
				}, n.removeBucketing = !1, n.timer = {
					video: null,
					audio: null
				}, n.queue = {
					video: [],
					audio: []
				}, n.sourceBuffer = {
					video: null,
					audio: null
				}, n.mimeCodec = {
					video: null,
					audio: null
				}, n.sourceBufferEvent(), n.complete = !1, n
			}
			pn(e, t);
			var i = e.prototype;
			return i.init = function(t) {
				if (this.mediaSource) return as.Error(this.tag,
					"MediaSource has been attached to an HTMLMediaElement!"), void this.emit("error", {
					errno: Ls,
					errmsg: "MediaSource has been attached to an HTMLMediaElement!"
				});
				t.hasAudio ? this.mimeCodec.audio = 'audio/mp4; codecs="' + t.audioCodec + '"' : this
					.hasAudio = !1, t.hasVideo ? this.mimeCodec.video = 'video/mp4; codecs="' + t.videoCodec +
					'"' : this.hasVideo = !1;
				var e = this.mediaSource = new window.MediaSource;
				e.addEventListener("sourceopen", this.e.onSourceOpen), e.addEventListener("sourceended", this.e
					.onSourceEnded), e.addEventListener("sourceclose", this.e.onSourceClose)
			}, i.onSourceOpen = function() {
				as.verbose(this.tag, "MediaSource onSourceOpen"), this.mediaSource.removeEventListener(
						"sourceopen", this.e.onSourceOpen), this.hasAudio && this.addSourceBuffer("audio"), this
					.hasVideo && this.addSourceBuffer("video"), this.hasQueueList() && this.doUpdate(), this
					.emit("source_open")
			}, i.addSourceBuffer = function(t) {
				var e = this;
				this.sourceBuffer[t] = this.mediaSource.addSourceBuffer(this.mimeCodec[t]), as.verbose(this.tag,
					"add sourcebuffer " + t);
				var i = this.sourceBuffer[t];
				i.addEventListener("error", this.e.onSourceBufferError), i.addEventListener("abort",
			function() {
					return as.verbose(e.tag, "sourceBuffer: abort")
				}), i.addEventListener("updateend", function() {
					e.sourceBuffer && (e.hasRemoveList() ? (e.removeRangesList.video.length && e
							.cleanRangesList("video"), e.removeRangesList.audio.length && e
							.cleanRangesList("audio")) : e.hasQueueList() ? e.doUpdate() : e
						.complete && !e.sourceBuffer[t].updating && e.endOfStream(), e.emit(
							"updateend"))
				})
			}, i.hasRemoveList = function() {
				return this.removeRangesList.video.length || this.removeRangesList.audio.length
			}, i.hasQueueList = function() {
				return this.queue.video.length || this.queue.audio.length
			}, i.doUpdate = function() {
				for (var t in this.queue)
					if (this.queue[t].length > 0 && !this.sourceBuffer[t].updating) {
						var e = this.queue[t].shift();
						this.appendBuffer(e, t)
					}
			}, i.sourceBufferEvent = function() {
				var t = this;
				this.on("mediaSegment", function(e) {
					var i = e.data,
						n = i.type;
					t.needCleanupSourceBuffer(n) && t.doCleanupSourceBuffer(n), t.queue[n].push(i.data),
						t.sourceBuffer[n] && !t.hasRemoveList() && t.doUpdate()
				}), this.on("mediaSegmentInit", function(e) {
					var i = e.data,
						n = i.type;
					t.queue[n].push(i.data)
				})
			}, i.needCleanupSourceBuffer = function(t) {
				var e = this.video.currentTime,
					i = this.video.buffered;
				return i.length >= 1 && e - i.start(0) >= this.config.autoCleanupMaxBackwardDuration
			}, i.doCleanupSourceBuffer = function(t) {
				for (var e = this.video.currentTime, i = this.sourceBuffer[t].buffered, n = !1, r = 0; r < i
					.length; r++) {
					var o = i.start(r),
						s = i.end(r);
					if (o <= e && e < s + 3 && e - o >= this.config.autoCleanupMaxBackwardDuration) {
						n = !0;
						var a = e - this.config.autoCleanupMinBackwardDuration;
						this.removeRangesList[t].push({
							start: o,
							end: a
						})
					}
				}
				n && !this.sourceBuffer[t].updating && this.cleanRangesList(t)
			}, i.cleanRangesList = function(t) {
				if (!this.sourceBuffer[t].updating)
					for (var e = this.sourceBuffer[t]; this.removeRangesList[t].length && !e.updating;) {
						var i = this.removeRangesList[t].shift();
						e.remove(i.start, i.end)
					}
			}, i.appendBuffer = function(t, e) {
				if (this.sourceBuffer[e]) try {
					this.sourceBuffer[e].appendBuffer(t.buffer)
				} catch (i) {
					this.queue[e].unshift(t), 22 === i.code && (as.verbose(this.tag,
						"MediaSource bufferFull"), this.emit("bufferFull"))
				}
			}, i.onSourceEnded = function() {
				as.verbose(this.tag, "MediaSource onSourceEnded")
			}, i.onSourceClose = function() {
				as.verbose(this.tag, "MediaSource onSourceClose"), this.mediaSource && null !== this.e && (this
					.mediaSource.removeEventListener("sourceopen", this.e.onSourceOpen), this.mediaSource
					.removeEventListener("sourceended", this.e.onSourceEnded), this.mediaSource
					.removeEventListener("sourceclose", this.e.onSourceClose))
			}, i.onSourceBufferError = function(t) {
				this.emit("error", {
					errnono: Ps,
					errmsg: t
				}), as.error(this.tag, "SourceBuffer Error: " + t)
			}, i.seek = function() {
				for (var t in this.sourceBuffer) {
					var e = this.sourceBuffer[t];
					if (e) {
						if ("open" === this.mediaSource.readyState) try {
							e.abort()
						} catch (t) {
							this.emit("error", {
								errno: Ds,
								errmsg: t
							}), as.error(this.tag, t.message)
						}
						this.queue[t] = [];
						for (var i = 0; i < e.buffered.length; i++) {
							var n = e.buffered.start(i),
								r = e.buffered.end(i);
							this.removeRangesList[t].push({
								start: n,
								end: r
							})
						}
						e.updating || this.cleanRangesList(t)
					}
				}
			}, i.resume = function() {
				this.doUpdate()
			}, i.pause = function() {}, i.endOfStream = function() {
				if (this.mediaSource) {
					var t = this.mediaSource;
					this.complete = !0;
					var e = this.sourceBuffer;
					if (e.video && e.video.updating || e.audio && e.audio.updating) return;
					if ("open" === t.readyState) try {
						t.endOfStream(), this.complete = !1
					} catch (t) {
						as.verbose(this.tag, t), this.emit("error", {
							errno: Is,
							errmsg: t
						})
					}
				}
			}, i.destroy = function() {
				if (this.mediaSource) {
					var t = this.mediaSource;
					this.queue = {
						video: [],
						audio: []
					}, this.sourceBuffer = {
						video: null,
						audio: null
					}, this.mimeCodec = {
						video: null,
						audio: null
					};
					var e = this.sourceBuffer;
					this.complete = !1, this.endOfStream(), e && ("closed" !== t.readyState && (t
							.removeSourceBuffer(e), e.removeEventListener("error", this.e
								.onSourceBufferError), e.removeEventListener("updateend", this.e
								.onSourceBufferUpdateEnd)), this.sourceBuffer = null), t.removeEventListener(
							"sourceopen", this.e.onSourceOpen), t.removeEventListener("sourceended", this.e
							.onSourceEnded), t.removeEventListener("sourceclose", this.e.onSourceClose), this
						.mediaSource = null
				}
			}, e
		}(Zr);
	var Bs = function(t) {
		function e(e, i) {
			var n;
			return (n = t.call(this) || this).tag = "fetch", n.fetching = !1, n.config = i, n.range = {
					from: 0,
					to: 524288
				}, n.src = e, n.totalRange = null, n.block = 524288, n.reader = null, n.requestAbort = !1, n
				.arrivalDataCallback = null, n.bytesStart = 0, n.heartbeat = null, n
		}
		pn(e, t), e.isSupport = function() {
			return !(!self.fetch || !self.ReadableStream)
		};
		var i = e.prototype;
		return i.open = function(t, e) {
			var i = this;
			this.requestAbort = !1;
			var n = new Headers,
				r = t || {
					from: 0,
					to: -1
				};
			if (!this.config.isLive) {
				this.range.from = r.from, this.range.to = r.to;
				var o = function(t, e) {
					if ("range" === e.seekType) {
						var i, n = {};
						return i = -1 !== t.to ? "bytes=" + t.from.toString() + "-" + t.to.toString() :
							"bytes=" + t.from.toString() + "-", n.Range = i, n
					}
					return -1 !== t.to ? "?start=" + t.from.toString() + "&end=" + t.to.toString() :
						"?start=" + t.from.toString()
				}(r, this.config);
				if ("string" == typeof o) this.src = this.config.src + o;
				else
					for (var s in o) n.append(s, o[s])
			}
			e && (this.bytesStart = 0), this.bytesStart = t.from;
			var a = {
				method: "GET",
				headers: n,
				mode: "cors",
				cache: "default",
				referrerPolicy: "no-referrer-when-downgrade"
			};
			fetch(this.src, a).then(function(t) {
				if (t.ok) {
					var n = t.body.getReader();
					return i.pump(n, e)
				}
			}).catch(function(t) {
				i.emit("error", {
					errno: As,
					errmsg: t
				})
			})
		}, i.pause = function() {
			this.requestAbort = !0
		}, i.pump = function(t, e) {
			var i = this;
			return t.read().then(function(n) {
				if (!n.done) {
					if (!0 === i.requestAbort) return i.requestAbort = !1, t.cancel();
					var r = n.value.buffer;
					return i.arrivalDataCallback && (i.arrivalDataCallback(r, i.bytesStart, e), i
						.bytesStart += r.byteLength), i.pump(t)
				}
				i.emit("end"), as.verbose(i.tag, "load end")
			}).catch(function(t) {
				i.emit("error", {
					errno: As,
					errmsg: t.message
				})
			})
		}, e
	}(Zr);

	function Os(t) {
		var e, i = {};
		return e = -1 !== t.to ? "bytes=" + t.from.toString() + "-" + t.to.toString() : "bytes=" + t.from
		.toString() + "-", i.Range = e, {
				headers: i
			}
	}
	var Us = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this) || this).tag = "RangeLoader", n.xhr = null, n.src = e, n.totalLength =
					null, n.chunkSizeKB = 524288, n.range = {}, n.bytesStart = 0, n.needSeek = !1, n.keyframePoint =
					null, n
			}
			pn(e, t), e.isSupport = function() {
				try {
					var t = new XMLHttpRequest;
					return t.open("GET", "https://example.com", !0), t.responseType = "arraybuffer",
						"arraybuffer" === t.responseType
				} catch (t) {
					return !1
				}
			};
			var i = e.prototype;
			return i.open = function(t, e) {
				var i = this.xhr = new XMLHttpRequest;
				i.open("GET", this.src, !0), i.responseType = "arraybuffer", i.onreadystatechange = this
					.onReadyStateChange.bind(this), i.onprogress = this.onProgress.bind(this), i.onload = this
					.onLoad.bind(this), i.onerror = this.onXhrError.bind(this);
				var n = t || {
					from: 0,
					to: -1
				};
				this.range.from = n.from, -1 === n.to && (n.to = n.from + this.chunkSizeKB), e && (this
					.bytesStart = t.from, this.needSeek = !0, this.keyframePoint = e), this.range.to = n.to;
				var r = Os(n).headers;
				for (var o in r) i.setRequestHeader(o, r[o]);
				i.send()
			}, i.pause = function() {
				this.abort()
			}, i.abort = function() {
				this.xhr && (this.xhr.onreadystatechange = null, this.xhr.onprogress = null, this.xhr.onload =
					null, this.xhr.onerror = null, this.xhr.abort(), this.xhr = null)
			}, i.destroy = function() {
				this.xhr && (this.abort(), this.xhr.onreadystatechange = null, this.xhr.onprogress = null, this
						.xhr.onload = null, this.xhr.onerror = null, this.xhr = null), this.totalLength = null,
					this.bytesStart = null, this.range = {}
			}, i.onReadyStateChange = function(t) {
				var e = this.xhr;
				if (2 === e.readyState && e.status < 200 && e.status > 299) {
					var i = {
						from: this.range.from,
						to: this.range.to,
						url: this.src,
						msg: "http Error: http code " + e.status
					};
					this.emit("error", {
						errno: As,
						errmsg: i
					})
				}
			}, i.onProgress = function(t) {
				this.totalLength || (this.totalLength = t.total, this.abort(), this.open())
			}, i.onLoad = function(t) {
				if (this.totalLength && this.arrivalDataCallback) {
					var e = t.target.response;
					this.needSeek ? (this.needSeek = !1, this.arrivalDataCallback(e, this.bytesStart, this
							.keyframePoint)) : this.arrivalDataCallback(e, this.bytesStart), this.bytesStart +=
						e.byteLength, this.open({
							from: this.bytesStart,
							to: -1
						})
				}
			}, i.onXhrError = function(t) {
				var e = {
					from: this.range.from,
					to: this.range.to,
					url: this.src,
					msg: t.constructor.name + " " + t.type
				};
				this.emit("error", {
					errno: As,
					errmsg: e
				})
			}, e
		}(Zr),
		Fs = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this) || this).tag = "WebSocket", n.src = e, n._ws = null, n._requestAbort = !1,
					n._receivedLength = 0, n
			}
			pn(e, t), e.isSupported = function() {
				try {
					return void 0 !== window.WebSocket
				} catch (t) {
					return !1
				}
			};
			var i = e.prototype;
			return i.open = function(t, e) {
				try {
					var i = this._ws = new self.WebSocket(this.src);
					i.binaryType = "arraybuffer", i.onopen = this.onWebSocketOpen.bind(this), i.onclose = this
						.onWebSocketClose.bind(this), i.onmessage = this.onWebSocketMessage.bind(this), i
						.onerror = this.onWebSocketError.bind(this)
				} catch (t) {
					var n = {
						code: t.code,
						msg: t.message
					};
					this.emit("error", {
						errno: As,
						errmsg: n
					})
				}
			}, i.pause = function() {
				var t = this._ws;
				!t || 0 !== t.readyState && 1 !== t.readyState || (this._requestAbort = !0, t.close()), this
					._ws = null
			}, i.onWebSocketClose = function(t) {
				!0 !== this._requestAbort ? this.emit("end") : this._requestAbort = !1
			}, i.onWebSocketOpen = function() {}, i.onWebSocketMessage = function(t) {
				var e = this;
				if (t.data instanceof ArrayBuffer) this.dispatchArrayBuffer(t.data);
				else if (t.data instanceof Blob) {
					var i = new FileReader;
					i.onload = function() {
						e.dispatchArrayBuffer(i.result)
					}, i.readAsArrayBuffer(t.data)
				} else {
					var n = {
						code: -1,
						msg: "Unsupported WebSocket message type: " + t.data.constructor.name
					};
					this.emit("error", {
						errno: As,
						errmsg: n
					})
				}
			}, i.dispatchArrayBuffer = function(t) {
				var e = t,
					i = this.receivedLength;
				this.receivedLength += e.byteLength, this.arrivalDataCallback && this.arrivalDataCallback(e, i)
			}, i.onWebSocketError = function(t) {
				var e = {
					code: t.code,
					msg: t.message
				};
				this.emit("error", {
					errno: As,
					errmsg: e
				})
			}, e
		}(Zr),
		Ns = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this) || this).tag = "mozChunkLoader", n.xhr = null, n.src = e, n.config = i, n
					.totalLength = null, n.chunkSizeKB = 393216, n.range = {}, n.bytesStart = 0, n.keyframePoint =
					null, n
			}
			pn(e, t), e.isSupport = function() {
				try {
					var t = new XMLHttpRequest;
					return t.open("GET", "https://example.com", !0), t.responseType = "moz-chunked-arraybuffer",
						"moz-chunked-arraybuffer" === t.responseType
				} catch (t) {
					return !1
				}
			};
			var i = e.prototype;
			return i.open = function(t, e) {
				var i = this.xhr = new XMLHttpRequest;
				if (i.open("GET", this.src, !0), i.responseType = "moz-chunked-arraybuffer", i
					.onreadystatechange = this.onReadyStateChange.bind(this), i.onprogress = this.onProgress
					.bind(this), i.onload = this.onLoadEnd.bind(this), i.onerror = this.onXhrError.bind(this), !
					this.config.isLive) {
					var n = t || {
						from: 0,
						to: -1
					};
					this.range.from = n.from, this.range.to = n.to, e && (this.needSeek = !0, this
						.keyframePoint = e);
					var r = Os(n).headers;
					for (var o in r) i.setRequestHeader(o, r[o])
				}
				i.send()
			}, i.pause = function() {
				this.abort()
			}, i.abort = function() {
				this.xhr && (this.xhr.onreadystatechange = null, this.xhr.onprogress = null, this.xhr.onload =
					null, this.xhr.onerror = null, this.xhr.abort(), this.xhr = null)
			}, i.destroy = function() {
				this.xhr && (this.abort(), this.xhr.onreadystatechange = null, this.xhr.onprogress = null, this
						.xhr.onload = null, this.xhr.onerror = null, this.xhr = null), this.totalLength = null,
					this.bytesStart = null, this.range = {}
			}, i.onReadyStateChange = function(t) {
				var e = this.xhr;
				if (2 === e.readyState && e.status < 200 && e.status > 299) {
					var i = {
						from: this.range.from,
						to: this.range.to,
						url: this.src,
						msg: "http Error: http code " + e.status
					};
					this.emit("error", {
						errno: As,
						errmsg: i
					})
				}
			}, i.onProgress = function(t) {
				this.totalLength || (this.totalLength = t.total, null !== t.total && 0 !== t.total && (this
					.totalLength = t.total));
				var e = t.target.response;
				this.needSeek ? (this.needSeek = !1, this.arrivalDataCallback(e, this.bytesStart, this
						.keyframePoint)) : this.arrivalDataCallback(e, this.bytesStart), this.bytesStart += e
					.byteLength
			}, i.onLoadEnd = function(t) {
				this.emit(this.tag, "video load end")
			}, i.onXhrError = function(t) {
				var e = {
					from: this.range.from,
					to: this.range.to,
					url: this.src,
					msg: t.constructor.name + " " + t.type
				};
				this.emit("error", {
					errno: As,
					errmsg: e
				})
			}, e
		}(Zr),
		Vs = function(t) {
			function e(e) {
				var i;
				return (i = t.call(this) || this).loader = null, i.config = {}, i.config = e || {}, i.bufferSize =
					3145728, i.cacheBuffer = new ArrayBuffer(i.bufferSize), i.cacheRemain = 0, i.stashByteStart = 0,
					i.enableStash = !0, i.stashSize = i.config.stashSize || 393216, i.resumeFrom = 0, i
					.currentRange = {}, i.totalReceive = 0, i.seekPonit = void 0, i.timer = null, i
					.heartBeatInterval = null, i.preTotalReceive = 0, i.seekLock = !1, i.webSocketURLReg =
					/wss?:\/\/(.+?)/, i.selectLoader(), i.bindEvent(), i
			}
			pn(e, t);
			var i = e.prototype;
			return i.selectLoader = function() {
				var t = this.config,
					e = this.config.src;
				this.webSocketURLReg.test(e) ? this.loader = new Fs(e, t, this.queryHandle) : Bs.isSupport() ?
					this.loader = new Bs(e, t, this.queryHandle) : Ns.isSupport() ? this.loader = new Ns(e, t,
						this.queryHandle) : Us.isSupport() && (this.loader = new Us(e, t, this.queryHandle)),
					this.loader.arrivalDataCallback = this.onLoaderChunkArrival.bind(this)
			}, i.bindEvent = function() {
				var t = this;
				this.loader.on("end", function() {
					var e = t.cacheBuffer.slice(0, t.cacheRemain);
					t.arrivalDataCallback(e, t.stashByteStart), t.emit("end")
				}), this.loader.on("error", function(e) {
					t.emit("error", e.data)
				})
			}, i.onLoaderChunkArrival = function(t, e, i) {
				if ((!this.seekLock || void 0 !== i) && (void 0 !== i && (this.seekPonit = i, this.seekLock = !
						1), this.arrivalDataCallback))
					if (this.totalReceive += t.byteLength, 0 === this.cacheRemain && 0 === this
						.stashByteStart && (this.stashByteStart = e), this.cacheRemain + t.byteLength <= this
						.stashSize) {
						new Uint8Array(this.cacheBuffer, 0, this.stashSize).set(new Uint8Array(t), this
							.cacheRemain), this.cacheRemain += t.byteLength
					} else {
						var n = new Uint8Array(this.cacheBuffer, 0, this.bufferSize);
						if (this.cacheRemain > 0) {
							var r = this.cacheBuffer.slice(0, this.cacheRemain),
								o = 0;
							if (void 0 !== this.seekPonit ? (o = this.arrivalDataCallback(r, this
									.stashByteStart, this.seekPonit), this.seekPonit = void 0) : o = this
								.arrivalDataCallback(r, this.stashByteStart), o < r.byteLength) {
								if (o > 0) {
									var s = new Uint8Array(r, o);
									n.set(s, 0), this.cacheRemain = s.byteLength, this.stashByteStart += o
								}
							} else this.cacheRemain = 0, this.stashByteStart += o;
							this.cacheRemain + t.byteLength > this.bufferSize && (this.expandBuffer(this
									.cacheRemain + t.byteLength), n = new Uint8Array(this.cacheBuffer, 0,
									this.bufferSize)), n.set(new Uint8Array(t), this.cacheRemain), this
								.cacheRemain += t.byteLength
						} else {
							var a = 0;
							if (void 0 !== this.seekPonit ? (a = this.arrivalDataCallback(t, e, this.seekPonit),
									this.seekPonit = void 0) : a = this.arrivalDataCallback(t, e), a < t
								.byteLength) {
								var h = t.byteLength - a;
								h > this.bufferSize && (this.expandBuffer(h), n = new Uint8Array(this
										.cacheBuffer, 0, this.bufferSize)), n.set(new Uint8Array(t, a), 0), this
									.cacheRemain += h, this.stashByteStart = e + a
							}
						}
					}
			}, i.initCacheBuffer = function() {
				this.cacheRemain = 0, this.totalReceive = 0, this.cacheBuffer = new ArrayBuffer(this.bufferSize)
			}, i.expandBuffer = function(t) {
				var e = this.bufferSize;
				e < t && (e = t), this.cacheBuffer = new ArrayBuffer(e), this.bufferSize = e
			}, i.pause = function() {
				this.loader.pause()
			}, i.open = function(t, e) {
				this.loader.open({
					from: t || 0,
					to: -1
				}, e), this.heartbeat()
			}, i.heartbeat = function() {
				var t = this;
				window.clearInterval(this.heartBeatInterval), this.heartBeatInterval = setInterval(function() {
					t.emit("heartbeat", {
						speed: t.totalReceive - t.preTotalReceive,
						totalReceive: t.totalReceive
					}), t.preTotalReceive = t.totalReceive
				}, 1e3)
			}, i.resume = function() {
				this.paused = !1;
				var t = this.totalReceive;
				this.open(t)
			}, i.seek = function(t, e, i) {
				this.seekLock = !0, this.totalReceive = t, this.preTotalReceive = t, this.initCacheBuffer(),
					this.cacheRemain = 0, this.stashByteStart = 0, this.open(t, i)
			}, i.destroy = function() {
				this.pause(), this.initCacheBuffer(), window.clearInterval(this.heartBeatInterval), this
					.heartBeatInterval = null
			}, e
		}(Zr),
		zs = function() {
			function t() {
				this.tagType = -1, this.dataSize = -1, this.Timestamp = -1, this.StreamID = -1, this.body = -1, this
					.time = -1, this.arr = [], this.size = -1
			}
			return t.prototype.getTime = function() {
				this.arr = [];
				for (var t = 0; t < this.Timestamp.length; t++) this.arr.push(1 == this.Timestamp[t].toString(
					16).length ? "0" + this.Timestamp[t].toString(16) : this.Timestamp[t].toString(16));
				this.arr.pop();
				var e = this.arr.join("");
				return this.time = parseInt(e, 16), parseInt(e, 16)
			}, t
		}();

	function Hs(t) {
		for (var e = [], i = t, n = 0, r = t.length; n < r;)
			if (i[n] < 128) e.push(String.fromCharCode(i[n])), ++n;
			else {
				if (i[n] < 192);
				else if (i[n] < 224) {
					if (js(i, n, 1)) {
						var o = (31 & i[n]) << 6 | 63 & i[n + 1];
						if (o >= 128) {
							e.push(String.fromCharCode(65535 & o)), n += 2;
							continue
						}
					}
				} else if (i[n] < 240) {
					if (js(i, n, 2)) {
						var s = (15 & i[n]) << 12 | (63 & i[n + 1]) << 6 | 63 & i[n + 2];
						if (s >= 2048 && 55296 != (63488 & s)) {
							e.push(String.fromCharCode(65535 & s)), n += 3;
							continue
						}
					}
				} else if (i[n] < 248 && js(i, n, 3)) {
					var a = (7 & i[n]) << 18 | (63 & i[n + 1]) << 12 | (63 & i[n + 2]) << 6 | 63 & i[n + 3];
					if (a > 65536 && a < 1114112) {
						a -= 65536, e.push(String.fromCharCode(a >>> 10 | 55296)), e.push(String.fromCharCode(1023 &
							a | 56320)), n += 4;
						continue
					}
				}
				e.push(String.fromCharCode(65533)), ++n
			} return e.join("")
	}

	function js(t, e, i) {
		var n = t;
		if (e + i < n.length) {
			for (; i--;)
				if (128 != (192 & n[++e])) return !1;
			return !0
		}
		return !1
	}
	/*
	 * Copyright (C) 2016 Bilibili. All Rights Reserved.
	 *
	 * @author zheng qian <xqq@xqq.im>
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *     http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
	var $s = function() {
			function t(t) {
				this.TAG = this.constructor.name, this._buffer = t, this._buffer_index = 0, this._total_bytes = t
					.byteLength, this._total_bits = 8 * t.byteLength, this._current_word = 0, this
					._current_word_bits_left = 0
			}
			var e = t.prototype;
			return e.destroy = function() {
				this._buffer = null
			}, e._fillCurrentWord = function() {
				var t = this._total_bytes - this._buffer_index;
				if (t <= 0) throw new IllegalStateException(
					"ExpGolomb: _fillCurrentWord() but no bytes available");
				var e = Math.min(4, t),
					i = new Uint8Array(4);
				i.set(this._buffer.subarray(this._buffer_index, this._buffer_index + e)), this._current_word =
					new DataView(i.buffer).getUint32(0, !1), this._buffer_index += e, this
					._current_word_bits_left = 8 * e
			}, e.readBits = function(t) {
				if (t > 32) throw new InvalidArgumentException(
					"ExpGolomb: readBits() bits exceeded max 32bits!");
				if (t <= this._current_word_bits_left) {
					var e = this._current_word >>> 32 - t;
					return this._current_word <<= t, this._current_word_bits_left -= t, e
				}
				var i = this._current_word_bits_left ? this._current_word : 0;
				i >>>= 32 - this._current_word_bits_left;
				var n = t - this._current_word_bits_left;
				this._fillCurrentWord();
				var r = Math.min(n, this._current_word_bits_left),
					o = this._current_word >>> 32 - r;
				return this._current_word <<= r, this._current_word_bits_left -= r, i = i << r | o
			}, e.readBool = function() {
				return 1 === this.readBits(1)
			}, e.readByte = function() {
				return this.readBits(8)
			}, e._skipLeadingZero = function() {
				var t;
				for (t = 0; t < this._current_word_bits_left; t++)
					if (0 != (this._current_word & 2147483648 >>> t)) return this._current_word <<= t, this
						._current_word_bits_left -= t, t;
				return this._fillCurrentWord(), t + this._skipLeadingZero()
			}, e.readUEG = function() {
				var t = this._skipLeadingZero();
				return this.readBits(t + 1) - 1
			}, e.readSEG = function() {
				var t = this.readUEG();
				return 1 & t ? t + 1 >>> 1 : -1 * (t >>> 1)
			}, t
		}(),
		Ws = function() {
			function t() {}
			return t._ebsp2rbsp = function(t) {
				for (var e = t, i = e.byteLength, n = new Uint8Array(i), r = 0, o = 0; o < i; o++) o >= 2 &&
					3 === e[o] && 0 === e[o - 1] && 0 === e[o - 2] || (n[r] = e[o], r++);
				return new Uint8Array(n.buffer, 0, r)
			}, t.parseSPS = function(e) {
				var i = t._ebsp2rbsp(e),
					n = new $s(i);
				n.readByte();
				var r = n.readByte();
				n.readByte();
				var o = n.readByte();
				n.readUEG();
				var s = t.getProfileString(r),
					a = t.getLevelString(o),
					h = 1,
					c = 420,
					u = 8;
				if ((100 === r || 110 === r || 122 === r || 244 === r || 44 === r || 83 === r || 86 === r ||
						118 === r || 128 === r || 138 === r || 144 === r) && (3 === (h = n.readUEG()) && n
						.readBits(1), h <= 3 && (c = [0, 420, 422, 444][h]), u = n.readUEG() + 8, n.readUEG(), n
						.readBits(1), n.readBool()))
					for (var l = 3 !== h ? 8 : 12, d = 0; d < l; d++) n.readBool() && (d < 6 ? t
						._skipScalingList(n, 16) : t._skipScalingList(n, 64));
				n.readUEG();
				var f = n.readUEG();
				if (0 === f) n.readUEG();
				else if (1 === f) {
					n.readBits(1), n.readSEG(), n.readSEG();
					for (var p = n.readUEG(), m = 0; m < p; m++) n.readSEG()
				}
				n.readUEG(), n.readBits(1);
				var v = n.readUEG(),
					g = n.readUEG(),
					y = n.readBits(1);
				0 === y && n.readBits(1), n.readBits(1);
				var _ = 0,
					b = 0,
					w = 0,
					k = 0;
				n.readBool() && (_ = n.readUEG(), b = n.readUEG(), w = n.readUEG(), k = n.readUEG());
				var E = 1,
					S = 1,
					T = 0,
					x = !0,
					A = 0,
					C = 0;
				if (n.readBool()) {
					if (n.readBool()) {
						var R = n.readByte();
						R > 0 && R < 16 ? (E = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2][R -
								1
							], S = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1][R - 1]) :
							255 === R && (E = n.readByte() << 8 | n.readByte(), S = n.readByte() << 8 | n
								.readByte())
					}
					if (n.readBool() && n.readBool(), n.readBool() && (n.readBits(4), n.readBool() && n
							.readBits(24)), n.readBool() && (n.readUEG(), n.readUEG()), n.readBool()) {
						var I = n.readBits(32),
							L = n.readBits(32);
						x = n.readBool(), T = (A = L) / (C = 2 * I)
					}
				}
				var P = 1;
				1 === E && 1 === S || (P = E / S);
				var D = 0,
					M = 0;
				0 === h ? (D = 1, M = 2 - y) : (D = 3 === h ? 1 : 2, M = (1 === h ? 2 : 1) * (2 - y));
				var B = 16 * (v + 1),
					O = 16 * (g + 1) * (2 - y);
				B -= (_ + b) * D, O -= (w + k) * M;
				var U = Math.ceil(B * P);
				return n.destroy(), n = null, {
					profile_string: s,
					level_string: a,
					bit_depth: u,
					chroma_format: c,
					chroma_format_string: t.getChromaFormatString(c),
					frame_rate: {
						fixed: x,
						fps: T,
						fps_den: C,
						fps_num: A
					},
					sar_ratio: {
						width: E,
						height: S
					},
					codec_size: {
						width: B,
						height: O
					},
					present_size: {
						width: U,
						height: O
					}
				}
			}, t._skipScalingList = function(t, e) {
				for (var i = 8, n = 8, r = 0; r < e; r++) 0 !== n && (n = (i + t.readSEG() + 256) % 256), i =
					0 === n ? i : n
			}, t.getProfileString = function(t) {
				switch (t) {
					case 66:
						return "Baseline";
					case 77:
						return "Main";
					case 88:
						return "Extended";
					case 100:
						return "High";
					case 110:
						return "High10";
					case 122:
						return "High422";
					case 244:
						return "High444";
					default:
						return "Unknown"
				}
			}, t.getLevelString = function(t) {
				return (t / 10).toFixed(1)
			}, t.getChromaFormatString = function(t) {
				switch (t) {
					case 420:
						return "4:2:0";
					case 422:
						return "4:2:2";
					case 444:
						return "4:4:4";
					default:
						return "Unknown"
				}
			}, t
		}(),
		qs = null,
		Gs = function() {
			function t() {}
			return t.parseObject = function(e, i, n) {
				var r = t.parseString(e, i, n),
					o = t.parseScript(e, i + r.size),
					s = o.objectEnd;
				return {
					data: {
						name: r.data,
						value: o.data
					},
					size: o.size,
					objectEnd: s
				}
			}, t.parseVariable = function(e, i, n) {
				return t.parseObject(e, i, n)
			}, t.parseLongString = function(t, e, i) {
				var n = new DataView(t, e).getUint32(0, !qs);
				return {
					data: n > 0 ? Hs(new Uint8Array(t, e + 4, n)) : "",
					size: 4 + n
				}
			}, t.parseDate = function(t, e, i) {
				var n = new DataView(t, e),
					r = n.getFloat64(0, !qs),
					o = n.getInt16(8, !qs);
				return {
					data: new Date(r += 60 * o * 1e3),
					size: 10
				}
			}, t.parseString = function(t, e, i) {
				var n = new DataView(t, e).getUint16(0, !qs);
				return {
					data: n > 0 ? Hs(new Uint8Array(t, e + 2, n)) : "",
					size: 2 + n
				}
			}, t.parseMetadata = function(e) {
				var i;
				i = new ArrayBuffer(2), new DataView(i).setInt16(0, 256, !0), qs = 256 === new Int16Array(i)[0];
				var n = t.parseScript(e, 0),
					r = t.parseScript(e, n.size, e.length - n.size),
					o = {};
				return o[n.data] = r.data, o
			}, t.parseScript = function(e, i, n) {
				var r = i,
					o = new Uint8Array(e).buffer,
					s = new DataView(o, 0, n),
					a = null,
					h = s.getUint8(r);
				switch (r += 1, h) {
					case 0:
						a = s.getFloat64(r, !qs), r += 8;
						break;
					case 1:
						a = !!s.getUint8(r), r += 1;
						break;
					case 2:
						var c = t.parseString(o, r);
						a = c.data, r += c.size;
						break;
					case 3:
						a = {};
						var u = 0;
						for (9 == (16777215 & s.getUint32(n - 4, !qs)) && (u = 3); r < n - 4;) {
							var l = t.parseObject(o, r, n - i - u);
							if (l.objectEnd) break;
							a[l.data.name] = l.data.value, r = l.size
						}
						if (r <= n - 3) 9 === (16777215 & v.getUint32(r - 1, !qs)) && (r += 3);
						break;
					case 8:
						for (a = {}, r += 4, s.getUint32(n - 4, !qs); r < n - 8;) {
							var d = t.parseVariable(o, r);
							if (d.objectEnd) break;
							a[d.data.name] = d.data.value, r = d.size
						}
						if (r <= n - 3) 9 === (16777215 & s.getUint32(r - 1, !qs)) && (r += 3);
						break;
					case 9:
						a = void 0, r = 1;
						break;
					case 10:
						a = [];
						var f = s.getUint32(r, !qs);
						r += 4;
						for (var p = 0; p < f; p++) {
							var m = t.parseScript(o, r);
							a.push(m.data), r = m.size
						}
						break;
					case 11:
						var g = t.parseDate(o, r + 1, n - 1);
						a = g.data, r += g.size;
						break;
					case 12:
						var y = t.parseString(o, r + 1, n - 1);
						a = y.data, r += y.size;
						break;
					default:
						r = n
				}
				return {
					data: a,
					size: r
				}
			}, t
		}(),
		Ks = function() {
			function t() {
				this.mimeType = null, this.duration = null, this.hasAudio = null, this.hasVideo = null, this
					.audioCodec = null, this.videoCodec = null, this.audioDataRate = null, this.videoDataRate =
					null, this.audioSampleRate = null, this.audioChannelCount = null, this.width = null, this
					.height = null, this.fps = null, this.profile = null, this.level = null, this.chromaFormat =
					null, this.sarNum = null, this.sarDen = null, this.metadata = null, this.segments = null, this
					.segmentCount = null, this.hasKeyframesIndex = null, this.keyframesIndex = null
			}
			var e = t.prototype;
			return e.isComplete = function() {
				var t = !1 === this.hasAudio || !0 === this.hasAudio && null != this.audioCodec && null != this
					.audioSampleRate && null != this.audioChannelCount,
					e = !1 === this.hasVideo || !0 === this.hasVideo && null != this.videoCodec && null != this
					.width && null != this.height && null != this.fps && null != this.profile && null != this
					.level && null != this.chromaFormat && null != this.sarNum && null != this.sarDen;
				return null != this.mimeType && null != this.duration && null != this.metadata && null != this
					.hasKeyframesIndex && t && e
			}, e.isSeekable = function() {
				return !0 === this.hasKeyframesIndex
			}, t
		}(),
		Ys = function(t) {
			this.type = t
		},
		Xs = function() {
			function t() {
				var t;
				this.TAG = this.constructor.name, this._config = {}, this._onError = null, this._onMediaInfo = null,
					this._onTrackMetadata = null, this._onDataAvailable = null, this._dataOffset = 0, this
					._firstParse = !0, this._dispatch = !1, this._hasAudio = !1, this._hasVideo = !1, this
					._audioInitialMetadataDispatched = !1, this._videoInitialMetadataDispatched = !1, this
					._mediaInfo = new Ks, this._mediaInfo.hasAudio = this._hasAudio, this._mediaInfo.hasVideo = this
					._hasVideo, this._metadata = null, this._audioMetadata = null, this._videoMetadata = null, this
					._naluLengthSize = 4, this._timestampBase = 0, this._timescale = 1e3, this._duration = 0, this
					._durationOverrided = !1, this._referenceFrameRate = {
						fixed: !0,
						fps: 23.976,
						fps_num: 23976,
						fps_den: 1e3
					}, this._videoTrack = {
						type: "video",
						id: 1,
						sequenceNumber: 0,
						addcoefficient: 2,
						samples: [],
						length: 0
					}, this._audioTrack = {
						type: "audio",
						id: 2,
						sequenceNumber: 0,
						addcoefficient: 2,
						samples: [],
						length: 0
					}, this._littleEndian = (t = new ArrayBuffer(2), new DataView(t).setInt16(0, 256, !0), 256 ===
						new Int16Array(t)[0])
			}
			var e = t.prototype;
			return e.onMediaInfo = function(t) {
				this._onMediaInfo = t
			}, e.parseMetadata = function(t) {
				var e = Gs.parseMetadata(t);
				this._parseScriptData(e)
			}, e._parseScriptData = function(t) {
				var e = t;
				if (e.hasOwnProperty("onMetaData")) {
					this._metadata, this._metadata = e;
					var i = this._metadata.onMetaData;
					if ("boolean" == typeof i.hasAudio && (this._hasAudio = i.hasAudio, this._mediaInfo
							.hasAudio = this._hasAudio), "boolean" == typeof i.hasVideo && (this._hasVideo = i
							.hasVideo, this._mediaInfo.hasVideo = this._hasVideo), "number" == typeof i
						.audiodatarate && (this._mediaInfo.audioDataRate = i.audiodatarate), "number" ==
						typeof i.videodatarate && (this._mediaInfo.videoDataRate = i.videodatarate), "number" ==
						typeof i.width && (this._mediaInfo.width = i.width), "number" == typeof i.height && (
							this._mediaInfo.height = i.height), "number" == typeof i.duration) {
						if (!this._durationOverrided) {
							var n = Math.floor(i.duration * this._timescale);
							this._duration = n, this._mediaInfo.duration = n
						}
					} else this._mediaInfo.duration = 0;
					if ("number" == typeof i.framerate) {
						var r = Math.floor(1e3 * i.framerate);
						if (r > 0) {
							var o = r / 1e3;
							this._referenceFrameRate.fixed = !0, this._referenceFrameRate.fps = o, this
								._referenceFrameRate.fps_num = r, this._referenceFrameRate.fps_den = 1e3, this
								._mediaInfo.fps = o
						}
					}
					if ("object" == typeof i.keyframes) {
						this._mediaInfo.hasKeyframesIndex = !0;
						var s = i.keyframes;
						s.times = i.times, s.filepositions = i.filepositions, this._mediaInfo.keyframesIndex =
							this._parseKeyframesIndex(s), i.keyframes = null
					} else this._mediaInfo.hasKeyframesIndex = !1;
					return this._dispatch = !1, this._mediaInfo.metadata = i, this._mediaInfo
				}
			}, e._parseKeyframesIndex = function(t) {
				for (var e = [], i = [], n = 1; n < t.times.length; n++) {
					var r = this._timestampBase + Math.floor(1e3 * t.times[n]);
					e.push(r), i.push(t.filepositions[n])
				}
				return {
					times: e,
					filepositions: i
				}
			}, e.moofTag = function(t) {
				for (var e = 0; e < t.length; e++) this._dispatch = !0, this.parseChunks(t[e]);
				this._isInitialMetadataDispatched() && this._dispatch && (this._audioTrack.length || this
					._videoTrack.length) && this._onDataAvailable(this._audioTrack, this._videoTrack)
			}, e.parseChunks = function(t) {
				switch (t.tagType) {
					case 8:
						this._parseAudioData(t.body.buffer, 0, t.body.length, t.getTime());
						break;
					case 9:
						this._parseVideoData(t.body.buffer, 0, t.body.length, t.getTime(), 0);
						break;
					case 18:
						this.parseMetadata(t.body)
				}
			}, e._parseVideoData = function(t, e, i, n, r) {
				if (n == this._timestampBase && 0 != this._timestampBase) throw new Ys(n, this._timestampBase,
					"夭寿啦这个视频不是从0开始");
				if (!(i <= 1)) {
					var o = new Uint8Array(t, e, i)[0],
						s = (240 & o) >>> 4,
						a = 15 & o;
					7 === a ? this._parseAVCVideoPacket(t, e + 1, i - 1, n, r, s) : this._onError && this
						._onError("Flv: Unsupported codec in video frame: " + a)
				}
			}, e._parseAVCVideoPacket = function(t, e, i, n, r, o) {
				if (!(i < 4)) {
					var s = this._littleEndian,
						a = new DataView(t, e, i),
						h = a.getUint8(0),
						c = 16777215 & a.getUint32(0, !s);
					if (0 === h) this._parseAVCDecoderConfigurationRecord(t, e + 4, i - 4);
					else if (1 === h) this._parseAVCVideoData(t, e + 4, i - 4, n, r, o, c);
					else if (2 !== h) return void this._onError("Flv: Invalid video packet type " + h)
				}
			}, e._parseAVCDecoderConfigurationRecord = function(t, e, i) {
				if (!(i < 7)) {
					var n = this._videoMetadata,
						r = this._videoTrack,
						o = this._littleEndian,
						s = new DataView(t, e, i);
					n ? n.avcc : ((n = this._videoMetadata = {}).type = "video", n.id = r.id, n.timescale = this
						._timescale, n.duration = this._duration);
					var a = s.getUint8(0),
						h = s.getUint8(1);
					s.getUint8(2), s.getUint8(3);
					if (1 === a && 0 !== h)
						if (this._naluLengthSize = 1 + (3 & s.getUint8(4)), 3 === this._naluLengthSize || 4 ===
							this._naluLengthSize) {
							var c = 31 & s.getUint8(5);
							if (0 === c || c > 1) this._onError(DemuxErrors.FORMAT_ERROR,
								"Flv: Invalid H264 SPS count: " + c);
							else {
								for (var u = 6, l = 0; l < c; l++) {
									var d = s.getUint16(u, !o);
									if (u += 2, 0 !== d) {
										var f = new Uint8Array(t, e + u, d);
										u += d;
										var p = Ws.parseSPS(f);
										n.codecWidth = p.codec_size.width, n.codecHeight = p.codec_size.height,
											n.presentWidth = p.present_size.width, n.presentHeight = p
											.present_size.height, n.config = p, n.profile = p.profile_string, n
											.level = p.level_string, n.bitDepth = p.bit_depth, n.chromaFormat =
											p.chroma_format, n.sarRatio = p.sar_ratio, n.frameRate = p
											.frame_rate, !1 !== p.frame_rate.fixed && 0 !== p.frame_rate
											.fps_num && 0 !== p.frame_rate.fps_den || (n.frameRate = this
												._referenceFrameRate);
										var m = n.frameRate.fps_den,
											v = n.frameRate.fps_num;
										n.refSampleDuration = Math.floor(n.timescale * (m / v));
										for (var g = f.subarray(1, 4), y = "avc1.", _ = 0; _ < 3; _++) {
											var b = g[_].toString(16);
											b.length < 2 && (b = "0" + b), y += b
										}
										n.codec = y;
										var w = this._mediaInfo;
										w.width = n.codecWidth, w.height = n.codecHeight, w.fps = n.frameRate
											.fps, w.profile = n.profile, w.level = n.level, w.chromaFormat = p
											.chroma_format_string, w.sarNum = n.sarRatio.width, w.sarDen = n
											.sarRatio.height, w.videoCodec = y, w.meta = n, w.hasAudio ? null !=
											w.audioCodec && (w.mimeType = 'video/x-flv; codecs="' + w
												.videoCodec + "," + w.audioCodec + '"') : w.mimeType =
											'video/x-flv; codecs="' + w.videoCodec + '"', w.isComplete() && this
											._onMediaInfo(w)
									}
								}
								var k = s.getUint8(u);
								if (0 === k || k > 1) this._onError(DemuxErrors.FORMAT_ERROR,
									"Flv: Invalid H264 PPS count: " + k);
								else {
									u++;
									for (var E = 0; E < k; E++) {
										var S = s.getUint16(u, !o);
										u += 2, 0 !== S && (u += S)
									}
									n.avcc = new Uint8Array(i), n.avcc.set(new Uint8Array(t, e, i), 0), this
										._isInitialMetadataDispatched() ? this._dispatch && (this._audioTrack
											.length || this._videoTrack.length) && this._onDataAvailable(this
											._audioTrack, this._videoTrack) : this
										._videoInitialMetadataDispatched = !0, this._dispatch = !1, this
										._onTrackMetadata("video", n)
								}
							}
						} else this._onError(DemuxErrors.FORMAT_ERROR, "Flv: Strange NaluLengthSizeMinusOne: " +
							(this._naluLengthSize - 1));
					else this._onError(DemuxErrors.FORMAT_ERROR, "Flv: Invalid AVCDecoderConfigurationRecord")
				}
			}, e.timestampBase = function(t) {
				this._timestampBase = t
			}, e._parseAVCVideoData = function(t, e, i, n, r, o, s) {
				for (var a = this._littleEndian, h = new DataView(t, e, i), c = [], u = 0, l = 0, d = this
						._naluLengthSize, f = this._timestampBase + n, p = 1 === o; l < i && !(l + 4 >= i);) {
					var m = h.getUint32(l, !a);
					if (3 === d && (m >>>= 8), m > i - d) return;
					var v = 31 & h.getUint8(l + d);
					5 === v && (p = !0);
					var g = new Uint8Array(t, e + l, d + m),
						y = {
							type: v,
							data: g
						};
					c.push(y), u += g.byteLength, l += d + m
				}
				if (c.length) {
					var _ = this._videoTrack,
						b = {
							units: c,
							length: u,
							isKeyframe: p,
							dts: f,
							cts: s,
							pts: f + s
						};
					p && (b.fileposition = r), _.samples.push(b), _.length += u
				}
			}, e._parseAudioData = function(t, e, i, n) {
				if (n == this._timestampBase && this._timestampBase, !(i <= 1)) {
					var r = this._audioMetadata,
						o = this._audioTrack;
					if (!r || !r.codec) {
						(r = this._audioMetadata = {}).type = "audio", r.id = o.id, r.timescale = this
							._timescale, r.duration = this._duration;
						this._littleEndian;
						var s = new DataView(t, e, i).getUint8(0),
							a = s >>> 4;
						if (10 !== a) return void this._onError(DemuxErrors.CODEC_UNSUPPORTED,
							"Flv: Unsupported audio codec idx: " + a);
						var h = 0,
							c = (12 & s) >>> 2,
							u = [5500, 11025, 22050, 44100, 48e3];
						if (!(c < u.length)) return void this._onError(DemuxErrors.FORMAT_ERROR,
							"Flv: Invalid audio sample rate idx: " + c);
						h = u[c];
						var l = 1 & s;
						r.audioSampleRate = h, r.channelCount = 0 === l ? 1 : 2, r.refSampleDuration = Math
							.floor(1024 / r.audioSampleRate * r.timescale), r.codec = "mp4a.40.5"
					}
					var d = this._parseAACAudioData(t, e + 1, i - 1);
					if (null != d) {
						if (0 === d.packetType) {
							r.config;
							var f = d.data;
							r.audioSampleRate = f.samplingRate, r.channelCount = f.channelCount, r.codec = f
								.codec, r.config = f.config, r.refSampleDuration = Math.floor(1024 / r
									.audioSampleRate * r.timescale), this._isInitialMetadataDispatched() ? this
								._dispatch && (this._audioTrack.length || this._videoTrack.length) && this
								._onDataAvailable(this._audioTrack, this._videoTrack) : this
								._audioInitialMetadataDispatched = !0, this._dispatch = !1;
							var p = this._mediaInfo;
							return p.audioCodec = "mp4a.40." + f.originalAudioObjectType, p.audioSampleRate = r
								.audioSampleRate, p.audioChannelCount = r.channelCount, p.hasVideo ? null != p
								.videoCodec && (p.mimeType = 'video/x-flv; codecs="' + p.videoCodec + "," + p
									.audioCodec + '"') : p.mimeType = 'video/x-flv; codecs="' + p.audioCodec +
								'"', this._onTrackMetadata("audio", r), void(p.isComplete() && this
									._onMediaInfo(p))
						}
						if (1 === d.packetType) {
							var m = this._timestampBase + n,
								v = {
									unit: d.data,
									dts: m,
									pts: m
								};
							o.samples.push(v), o.length += d.data.length
						}
					}
				}
			}, e._parseAACAudioData = function(t, e, i) {
				if (!(i <= 1)) {
					var n = {},
						r = new Uint8Array(t, e, i);
					return n.packetType = r[0], 0 === r[0] ? n.data = this._parseAACAudioSpecificConfig(t, e +
						1, i - 1) : n.data = r.subarray(1), n
				}
			}, e._parseAACAudioSpecificConfig = function(t, e, i) {
				var n, r, o = new Uint8Array(t, e, i),
					s = null,
					a = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350],
					h = 0,
					c = null;
				if (h = n = o[0] >>> 3, (r = (7 & o[0]) << 1 | o[1] >>> 7) < 0 || r >= a.length) this._onError(
					DemuxErrors.FORMAT_ERROR, "Flv: AAC invalid sampling frequency index!");
				else {
					var u = a[r],
						l = (120 & o[1]) >>> 3;
					if (!(l < 0 || l >= 8)) {
						5 === h && (c = (7 & o[1]) << 1 | o[2] >>> 7);
						var d = self.navigator.userAgent.toLowerCase();
						return -1 !== d.indexOf("firefox") ? r >= 6 ? (h = 5, s = new Array(4), c = r - 3) : (
								h = 2, s = new Array(2), c = r) : -1 !== d.indexOf("android") ? (h = 2, s =
								new Array(2), c = r) : (h = 5, c = r, s = new Array(4), r >= 6 ? c = r - 3 :
								1 === l && (h = 2, s = new Array(2), c = r)), s[0] = h << 3, s[0] |= (15 &
							r) >>> 1, s[1] = (15 & r) << 7, s[1] |= (15 & l) << 3, 5 === h && (s[1] |= (15 &
								c) >>> 1, s[2] = (1 & c) << 7, s[2] |= 8, s[3] = 0), {
								config: s,
								samplingRate: u,
								channelCount: l,
								codec: "mp4a.40." + h,
								originalAudioObjectType: n
							}
					}
					this._onError(DemuxErrors.FORMAT_ERROR, "Flv: AAC invalid channel configuration")
				}
			}, e._isInitialMetadataDispatched = function() {
				return this._hasAudio && this._hasVideo ? this._audioInitialMetadataDispatched && this
					._videoInitialMetadataDispatched : this._hasAudio && !this._hasVideo ? this
					._audioInitialMetadataDispatched : !this._hasAudio && this._hasVideo ? this
					._videoInitialMetadataDispatched : void 0
			}, fn(t, [{
				key: "hasAudio",
				set: function(t) {
					this._mediaInfo.hasAudio = this._hasAudio = t
				}
			}, {
				key: "hasVideo",
				set: function(t) {
					this._mediaInfo.hasVideo = this._hasVideo = t
				}
			}]), t
		}(),
		Zs = function() {
			function t() {
				this.tempUint8 = new Uint8Array, this.arrTag = [], this.index = 0, this.tempArr = [], this.stop = !
					1, this.offset = 0, this.frist = !0, this._hasAudio = !1, this._hasVideo = !1, this._dispose = !
					1, this.busy = !1, this.busyArr = []
			}
			var e = t.prototype;
			return e.setFlv = function(t) {
				return this.busy = !0, this._dispose = !1, this.stop = !1, this.arrTag = [], this.index = 0,
					this.tempUint8 = t, this.tempUint8.length > 13 && 70 == this.tempUint8[0] && 76 == this
					.tempUint8[1] && 86 == this.tempUint8[2] ? (this.probe(this.tempUint8.buffer), this.read(9),
						this.read(4), this.parse(), this.frist = !1, this.busy = !1, this.offset) : this.frist ?
					this.offset : (this.parse(), this.offset)
			}, e.probe = function(t) {
				var e = new Uint8Array(t),
					i = {
						match: !1
					};
				if (70 !== e[0] || 76 !== e[1] || 86 !== e[2] || 1 !== e[3]) return i;
				var n = (4 & e[4]) >>> 2 != 0,
					r = 0 != (1 & e[4]);
				return n || r ? (this._hasAudio = Xs._hasAudio = n, this._hasVideo = Xs._hasVideo = r, {
					match: !0,
					hasAudioTrack: n,
					hasVideoTrack: r
				}) : i
			}, e.dispose = function() {}, e.parse = function() {
				for (; this.index < this.tempUint8.length && !this.stop;) {
					this.offset = this.index;
					var t = new zs;
					if (this.tempUint8.length - this.index >= 11) {
						if (t.tagType = this.read(1)[0], t.dataSize = this.read(3), t.Timestamp = this.read(4),
							t.StreamID = this.read(3), 18 != t.tagType && 8 != t.tagType && 9 != t.tagType)
							throw new Ys("wrong tagType" + t.tagType);
						this.tempUint8.length - this.index >= this.getBodySum(t.dataSize) + 4 ? (t.body = this
							.read(this.getBodySum(t.dataSize)), 9 == t.tagType && this._hasVideo && this
							.arrTag.push(t), 8 == t.tagType && this._hasAudio && this.arrTag.push(t), 18 ==
							t.tagType && 0 == this.arrTag.length && this.arrTag.push(t), t.size = this.read(
								4), this.offset = this.index) : this.stop = !0
					} else this.stop = !0
				}
				return this.offset
			}, e.read = function(t) {
				var e = this.tempUint8.slice(this.index, this.index + t);
				return this.index += t, e
			}, e.getBodySum = function(t) {
				var e = "";
				return e += 1 == t[0].toString(16).length ? "0" + t[0].toString(16) : t[0].toString(16), e +=
					1 == t[1].toString(16).length ? "0" + t[1].toString(16) : t[1].toString(16), e += 1 == t[2]
					.toString(16).length ? "0" + t[2].toString(16) : t[2].toString(16), parseInt(e, 16)
			}, t
		}(),
		Qs = function() {
			function t() {}
			return t.init = function() {
				for (var e in t.types = {
						avc1: [],
						avcC: [],
						btrt: [],
						dinf: [],
						dref: [],
						esds: [],
						ftyp: [],
						hdlr: [],
						mdat: [],
						mdhd: [],
						mdia: [],
						mfhd: [],
						minf: [],
						moof: [],
						moov: [],
						mp4a: [],
						mvex: [],
						mvhd: [],
						sdtp: [],
						stbl: [],
						stco: [],
						stsc: [],
						stsd: [],
						stsz: [],
						stts: [],
						tfdt: [],
						tfhd: [],
						traf: [],
						trak: [],
						trun: [],
						trex: [],
						tkhd: [],
						vmhd: [],
						smhd: []
					}, t.types) t.types.hasOwnProperty(e) && (t.types[e] = [e.charCodeAt(0), e.charCodeAt(1), e
					.charCodeAt(2), e.charCodeAt(3)
				]);
				var i = t.constants = {};
				i.FTYP = new Uint8Array([105, 115, 111, 109, 0, 0, 0, 1, 105, 115, 111, 109, 97, 118, 99, 49]),
					i.STSD_PREFIX = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), i.STTS = new Uint8Array([0, 0, 0,
						0, 0, 0, 0, 0
					]), i.STSC = i.STCO = i.STTS, i.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
					i.HDLR_VIDEO = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0,
						0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0
					]), i.HDLR_AUDIO = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0,
						0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0
					]), i.DREF = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0,
						0, 1
					]), i.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), i.VMHD = new Uint8Array([0, 0, 0, 1,
						0, 0, 0, 0, 0, 0, 0, 0
					])
			}, t.box = function(t) {
				for (var e = 8, i = null, n = Array.prototype.slice.call(arguments, 1), r = n.length, o = 0; o <
					r; o++) e += n[o].byteLength;
				(i = new Uint8Array(e))[0] = e >>> 24 & 255, i[1] = e >>> 16 & 255, i[2] = e >>> 8 & 255, i[3] =
					255 & e, i.set(t, 4);
				for (var s = 8, a = 0; a < r; a++) i.set(n[a], s), s += n[a].byteLength;
				return i
			}, t.generateInitSegment = function(e) {
				e.constructor != Array && (e = [e]);
				var i = t.box(t.types.ftyp, t.constants.FTYP),
					n = t.moov(e),
					r = new Uint8Array(i.byteLength + n.byteLength);
				return r.set(i, 0), r.set(n, i.byteLength), r
			}, t.moov = function(e) {
				var i, n = t.mvhd(e[0].timescale, e[0].duration),
					r = t.trak(e[0]);
				e.length > 1 && (i = t.trak(e[1]));
				var o = t.mvex(e);
				return e.length > 1 ? t.box(t.types.moov, n, r, i, o) : t.box(t.types.moov, n, r, o)
			}, t.mvhd = function(e, i) {
				return t.box(t.types.mvhd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, e >>> 24 & 255,
					e >>> 16 & 255, e >>> 8 & 255, 255 & e, i >>> 24 & 255, i >>> 16 & 255, i >>>
					8 & 255, 255 & i, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
					0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
					64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
					0, 0, 255, 255, 255, 255
				]))
			}, t.trak = function(e) {
				return t.box(t.types.trak, t.tkhd(e), t.mdia(e))
			}, t.tkhd = function(e) {
				var i = e.id,
					n = e.duration,
					r = e.presentWidth,
					o = e.presentHeight;
				return t.box(t.types.tkhd, new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, i >>> 24 & 255,
					i >>> 16 & 255, i >>> 8 & 255, 255 & i, 0, 0, 0, 0, n >>> 24 & 255, n >>> 16 &
					255, n >>> 8 & 255, 255 & n, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
					1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
					0, 0, 0, 0, 64, 0, 0, 0, r >>> 8 & 255, 255 & r, 0, 0, o >>> 8 & 255, 255 & o,
					0, 0
				]))
			}, t.mdia = function(e) {
				return t.box(t.types.mdia, t.mdhd(e), t.hdlr(e), t.minf(e))
			}, t.mdhd = function(e) {
				var i = e.timescale,
					n = e.duration;
				return t.box(t.types.mdhd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, i >>> 24 & 255,
					i >>> 16 & 255, i >>> 8 & 255, 255 & i, n >>> 24 & 255, n >>> 16 & 255, n >>>
					8 & 255, 255 & n, 85, 196, 0, 0
				]))
			}, t.hdlr = function(e) {
				var i = null;
				return i = "audio" === e.type ? t.constants.HDLR_AUDIO : t.constants.HDLR_VIDEO, t.box(t.types
					.hdlr, i)
			}, t.minf = function(e) {
				var i = null;
				return i = "audio" === e.type ? t.box(t.types.smhd, t.constants.SMHD) : t.box(t.types.vmhd, t
					.constants.VMHD), t.box(t.types.minf, i, t.dinf(), t.stbl(e))
			}, t.dinf = function() {
				return t.box(t.types.dinf, t.box(t.types.dref, t.constants.DREF))
			}, t.stbl = function(e) {
				return t.box(t.types.stbl, t.stsd(e), t.box(t.types.stts, t.constants.STTS), t.box(t.types.stsc,
					t.constants.STSC), t.box(t.types.stsz, t.constants.STSZ), t.box(t.types.stco, t
					.constants.STCO))
			}, t.stsd = function(e) {
				return "audio" === e.type ? t.box(t.types.stsd, t.constants.STSD_PREFIX, t.mp4a(e)) : t.box(t
					.types.stsd, t.constants.STSD_PREFIX, t.avc1(e))
			}, t.mp4a = function(e) {
				var i = e.channelCount,
					n = e.audioSampleRate,
					r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, i, 0, 16, 0, 0, 0, 0,
						n >>> 8 & 255, 255 & n, 0, 0
					]);
				return t.box(t.types.mp4a, r, t.esds(e))
			}, t.esds = function(e) {
				var i = e.config,
					n = i.length,
					r = new Uint8Array([0, 0, 0, 0, 3, 23 + n, 0, 1, 0, 4, 15 + n, 64, 21, 0, 0, 0, 0, 0, 0, 0,
						0, 0, 0, 0, 5
					].concat([n]).concat(i).concat([6, 1, 2]));
				return t.box(t.types.esds, r)
			}, t.avc1 = function(e) {
				var i = e.avcc,
					n = e.codecWidth,
					r = e.codecHeight,
					o = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
						n >>> 8 & 255, 255 & n, r >>> 8 & 255, 255 & r, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0,
						0, 0, 1, 4, 103, 49, 49, 49, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
						0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 255, 255
					]);
				return t.box(t.types.avc1, o, t.box(t.types.avcC, i))
			}, t.mvex = function(e) {
				return e.length > 1 ? t.box(t.types.mvex, t.trex(e[0]), t.trex(e[1])) : t.box(t.types.mvex, t
					.trex(e[0]))
			}, t.trex = function(e) {
				var i = e.id,
					n = new Uint8Array([0, 0, 0, 0, i >>> 24 & 255, i >>> 16 & 255, i >>> 8 & 255, 255 & i, 0,
						0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1
					]);
				return t.box(t.types.trex, n)
			}, t.moof = function(e, i) {
				return t.box(t.types.moof, t.mfhd(e.sequenceNumber), t.traf(e, i))
			}, t.mfhd = function(e) {
				var i = new Uint8Array([0, 0, 0, 0, e >>> 24 & 255, e >>> 16 & 255, e >>> 8 & 255, 255 & e]);
				return t.box(t.types.mfhd, i)
			}, t.traf = function(e, i) {
				var n = e.id,
					r = t.box(t.types.tfhd, new Uint8Array([0, 0, 0, 0, n >>> 24 & 255, n >>> 16 & 255, n >>>
						8 & 255, 255 & n
					])),
					o = t.box(t.types.tfdt, new Uint8Array([0, 0, 0, 0, i >>> 24 & 255, i >>> 16 & 255, i >>>
						8 & 255, 255 & i
					])),
					s = t.sdtp(e),
					a = t.trun(e, s.byteLength + 16 + 16 + 8 + 16 + 8 + 8);
				return t.box(t.types.traf, r, o, a, s)
			}, t.sdtp = function(e) {
				for (var i = e.samples || [], n = i.length, r = new Uint8Array(4 + n), o = 0; o < n; o++) {
					var s = i[o].flags;
					r[o + 4] = s.isLeading << 6 | s.dependsOn << 4 | s.isDependedOn << 2 | s.hasRedundancy
				}
				return t.box(t.types.sdtp, r)
			}, t.trun = function(e, i) {
				var n = e.samples || [],
					r = n.length,
					o = 12 + 16 * r,
					s = new Uint8Array(o);
				i += 8 + o, s.set([0, 0, 15, 1, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r, i >>>
					24 & 255, i >>> 16 & 255, i >>> 8 & 255, 255 & i
				], 0);
				for (var a = 0; a < r; a++) {
					var h = n[a].duration,
						c = n[a].size,
						u = n[a].flags,
						l = n[a].cts;
					s.set([h >>> 24 & 255, h >>> 16 & 255, h >>> 8 & 255, 255 & h, c >>> 24 & 255, c >>> 16 &
						255, c >>> 8 & 255, 255 & c, u.isLeading << 2 | u.dependsOn, u.isDependedOn <<
						6 | u.hasRedundancy << 4 | u.isNonSync, 0, 0, l >>> 24 & 255, l >>> 16 & 255,
						l >>> 8 & 255, 255 & l
					], 12 + 16 * a)
				}
				return t.box(t.types.trun, s)
			}, t.mdat = function(e) {
				return t.box(t.types.mdat, e)
			}, t
		}(),
		Js = function() {
			function t() {}
			return t.getSilentFrame = function(t) {
				return 1 === t ? new Uint8Array([0, 200, 0, 128, 35, 128]) : 2 === t ? new Uint8Array([33, 0,
						73, 144, 2, 25, 0, 35, 128
					]) : 3 === t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]) : 4 ===
					t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2,
					56]) : 5 === t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4,
						153, 0, 33, 144, 2, 56
					]) : 6 === t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4,
						153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224
					]) : null
			}, t
		}(),
		ta = {};
	! function() {
		var t = self.navigator.userAgent.toLowerCase(),
			e = /(edge)\/([\w.]+)/.exec(t) || /(opr)[\/]([\w.]+)/.exec(t) || /(chrome)[ \/]([\w.]+)/.exec(t) ||
			/(iemobile)[\/]([\w.]+)/.exec(t) || /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(
			t) || /(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t) ||
			/(webkit)[ \/]([\w.]+)/.exec(t) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t) || /(msie) ([\w.]+)/
			.exec(t) || t.indexOf("trident") >= 0 && /(rv)(?::| )([\w.]+)/.exec(t) || t.indexOf("compatible") < 0 &&
			/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t) || [],
			i = /(ipad)/.exec(t) || /(ipod)/.exec(t) || /(windows phone)/.exec(t) || /(iphone)/.exec(t) ||
			/(kindle)/.exec(t) || /(android)/.exec(t) || /(windows)/.exec(t) || /(mac)/.exec(t) || /(linux)/.exec(
			t) || /(cros)/.exec(t) || [],
			n = {
				browser: e[5] || e[3] || e[1] || "",
				version: e[2] || e[4] || "0",
				majorVersion: e[4] || e[2] || "0",
				platform: i[0] || ""
			},
			r = {};
		if (n.browser) {
			r[n.browser] = !0;
			var o = n.majorVersion.split(".");
			r.version = {
				major: parseInt(n.majorVersion, 10),
				string: n.version
			}, o.length > 1 && (r.version.minor = parseInt(o[1], 10)), o.length > 2 && (r.version.build =
				parseInt(o[2], 10))
		}
		n.platform && (r[n.platform] = !0), (r.chrome || r.opr || r.safari) && (r.webkit = !0), (r.rv || r
			.iemobile) && (r.rv && delete r.rv, n.browser = "msie", r.msie = !0);
		r.edge && (delete r.edge, n.browser = "msedge", r.msedge = !0);
		r.opr && (n.browser = "opera", r.opera = !0);
		r.safari && r.android && (n.browser = "android", r.android = !0);
		for (var s in r.name = n.browser, r.platform = n.platform, ta) ta.hasOwnProperty(s) && delete ta[s];
		ta = r
	}();
	var ea = ta,
		ia = function(t, e, i, n, r) {
			this.dts = t, this.pts = e, this.duration = i, this.originalDts = n, this.isSyncPoint = r, this
				.fileposition = null
		},
		na = function() {
			function t() {
				this.beginDts = 0, this.endDts = 0, this.beginPts = 0, this.endPts = 0, this.originalBeginDts = 0,
					this.originalEndDts = 0, this.syncPoints = [], this.firstSample = null, this.lastSample = null
			}
			return t.prototype.appendSyncPoint = function(t) {
				t.isSyncPoint = !0, this.syncPoints.push(t)
			}, t
		}(),
		ra = function() {
			function t(t) {
				this._type = t, this._list = [], this._lastAppendLocation = -1
			}
			var e = t.prototype;
			return e.isEmpty = function() {
				return 0 === this._list.length
			}, e.clear = function() {
				this._list = [], this._lastAppendLocation = -1
			}, e._searchNearestSegmentBefore = function(t) {
				var e = this._list;
				if (0 === e.length) return -2;
				var i = e.length - 1,
					n = 0,
					r = 0,
					o = i,
					s = 0;
				if (t < e[0].originalBeginDts) return s = -1;
				for (; r <= o;) {
					if ((n = r + Math.floor((o - r) / 2)) === i || t > e[n].lastSample.originalDts && t < e[n +
							1].originalBeginDts) {
						s = n;
						break
					}
					e[n].originalBeginDts < t ? r = n + 1 : o = n - 1
				}
				return s
			}, e._searchNearestSegmentAfter = function(t) {
				return this._searchNearestSegmentBefore(t) + 1
			}, e.append = function(t) {
				var e = this._list,
					i = t,
					n = this._lastAppendLocation,
					r = 0; - 1 !== n && n < e.length && i.originalBeginDts >= e[n].lastSample.originalDts && (
					n === e.length - 1 || n < e.length - 1 && i.originalBeginDts < e[n + 1].originalBeginDts
					) ? r = n + 1 : e.length > 0 && (r = this._searchNearestSegmentBefore(i
					.originalBeginDts) + 1), this._lastAppendLocation = r, this._list.splice(r, 0, i)
			}, e.getLastSegmentBefore = function(t) {
				var e = this._searchNearestSegmentBefore(t);
				return e >= 0 ? this._list[e] : null
			}, e.getLastSampleBefore = function(t) {
				var e = this.getLastSegmentBefore(t);
				return null != e ? e.lastSample : null
			}, e.getLastSyncPointBefore = function(t) {
				for (var e = this._searchNearestSegmentBefore(t), i = this._list[e].syncPoints; 0 === i
					.length && e > 0;) e--, i = this._list[e].syncPoints;
				return i.length > 0 ? i[i.length - 1] : null
			}, fn(t, [{
				key: "type",
				get: function() {
					return this._type
				}
			}, {
				key: "length",
				get: function() {
					return this._list.length
				}
			}]), t
		}(),
		oa = function() {
			function t(t) {
				this.TAG = "MP4Remuxer", this._config = t, this._isLive = !0 === t.isLive, this._dtsBase = -1, this
					._dtsBaseInited = !1, this._audioDtsBase = 1 / 0, this._videoDtsBase = 1 / 0, this
					._audioNextDts = void 0, this._videoNextDts = void 0, this._audioMeta = null, this._videoMeta =
					null, this._audioSegmentInfoList = new ra("audio"), this._videoSegmentInfoList = new ra(
					"video"), this._onInitSegment = null, this._onMediaSegment = null, this._forceFirstIDR = !(!ea
						.chrome || !(ea.version.major < 50 || 50 === ea.version.major && ea.version.build < 2661)),
					this._fillSilentAfterSeek = ea.msedge || ea.msie, this._mp3UseMpegAudio = !ea.firefox
			}
			var e = t.prototype;
			return e.destroy = function() {
				this._dtsBase = -1, this._dtsBaseInited = !1, this._audioMeta = null, this._videoMeta = null,
					this._audioSegmentInfoList.clear(), this._audioSegmentInfoList = null, this
					._videoSegmentInfoList.clear(), this._videoSegmentInfoList = null, this._onInitSegment =
					null, this._onMediaSegment = null
			}, e.bindDataSource = function(t) {
				return t.onDataAvailable = this.remux.bind(this), t.onTrackMetadata = this
					._onTrackMetadataReceived.bind(this), this
			}, e.insertDiscontinuity = function() {
				this._audioNextDts = this._videoNextDts = void 0
			}, e.seek = function(t) {
				this._videoSegmentInfoList.clear(), this._audioSegmentInfoList.clear()
			}, e.remux = function(t, e) {
				if (!this._onMediaSegment) throw new IllegalStateException(
					"MP4Remuxer: onMediaSegment callback must be specificed!");
				this._dtsBaseInited || this._calculateDtsBase(t, e), this._remuxVideo(e), this._remuxAudio(t)
			}, e._onTrackMetadataReceived = function(t, e) {
				var i = null,
					n = "mp4",
					r = e.codec;
				if ("audio" === t) this._audioMeta = e, "mp3" === e.codec && this._mp3UseMpegAudio ? (n =
					"mpeg", r = "", i = new Uint8Array) : i = Qs.generateInitSegment(e);
				else {
					if ("video" !== t) return;
					this._videoMeta = e, i = Qs.generateInitSegment(e)
				}
				if (!this._onInitSegment) throw new IllegalStateException(
					"MP4Remuxer: onInitSegment callback must be specified!");
				this._onInitSegment(t, {
					type: t,
					data: i.buffer,
					codec: r,
					container: t + "/" + n,
					mediaDuration: e.duration
				})
			}, e._calculateDtsBase = function(t, e) {
				this._dtsBaseInited || (t.samples && t.samples.length && (this._audioDtsBase = t.samples[0]
					.dts), e.samples && e.samples.length && (this._videoDtsBase = e.samples[0].dts), this
					._dtsBase = Math.min(this._audioDtsBase, this._videoDtsBase), this._dtsBaseInited = !0)
			}, e._remuxAudio = function(t) {
				if (null != this._audioMeta) {
					var e, i = t,
						n = i.samples,
						r = void 0,
						o = -1,
						s = this._audioMeta.refSampleDuration,
						a = "mp3" === this._audioMeta.codec && this._mp3UseMpegAudio,
						h = this._dtsBaseInited && void 0 === this._audioNextDts,
						c = !1;
					if (n && !(n.length <= 1)) {
						var u = 0,
							l = null,
							d = 0;
						a ? (u = 0, d = i.length) : (u = 8, d = 8 + i.length);
						var f = n[0].dts - this._dtsBase;
						if (this._audioNextDts) r = f - this._audioNextDts;
						else if (this._audioSegmentInfoList.isEmpty()) r = 0, this._fillSilentAfterSeek && !this
							._videoSegmentInfoList.isEmpty() && "mp3" !== this._audioMeta.originalCodec && (
								c = !0);
						else {
							var p = this._audioSegmentInfoList.getLastSampleBefore(f);
							if (null != p) {
								var m = f - (p.originalDts + p.duration);
								m <= 3 && (m = 0), r = f - (p.dts + p.duration + m)
							} else r = 0
						}
						if (c) {
							var v = f - r,
								g = this._videoSegmentInfoList.getLastSegmentBefore(f);
							if (null != g && g.beginDts < v) {
								var y = Js.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta
									.channelCount);
								if (y) {
									var _ = g.beginDts,
										b = v - g.beginDts;
									Log.v(this.TAG, "InsertPrefixSilentAudio: dts: " + _ + ", duration: " + b),
										n.unshift({
											unit: y,
											dts: _,
											pts: _
										}), d += y.byteLength
								}
							} else c = !1
						}
						var w = [];
						r = 0;
						for (var k = 0; k + 1 < n.length; k++) {
							var E = n[k],
								S = (E.unit, E.dts - this._dtsBase),
								T = S - r; - 1 === o && (o = T);
							var x = 0;
							if (k !== n.length - 1) x = n[k + 1].dts - this._dtsBase - r - T;
							else x = w.length >= 1 ? w[w.length - 1].duration : Math.floor(s);
							w.push({
								dts: T,
								pts: T,
								cts: 0,
								unit: E.unit,
								size: E.unit.byteLength,
								duration: x,
								originalDts: S,
								flags: {
									isLeading: 0,
									dependsOn: 1,
									isDependedOn: 0,
									hasRedundancy: 0
								}
							})
						}
						if (a) l = new Uint8Array(d);
						else {
							for (var A = 8, C = 0; C < w.length; ++C) A += w[C].size;
							(l = new Uint8Array(A))[0] = A >>> 24 & 255, l[1] = A >>> 16 & 255, l[2] = A >>> 8 &
								255, l[3] = 255 & A, l.set(Qs.types.mdat, 4)
						}
						for (var R = 0; R < w.length; R++) {
							var I = w[R].unit;
							l.set(I, u), u += I.byteLength
						}
						var L = w[w.length - 1];
						e = L.dts + L.duration, this._audioNextDts = e;
						var P = new na;
						P.beginDts = o, P.endDts = e, P.beginPts = o, P.endPts = e, P.originalBeginDts = w[0]
							.originalDts, P.originalEndDts = L.originalDts + L.duration, P.firstSample = new ia(
								w[0].dts, w[0].pts, w[0].duration, w[0].originalDts, !1), P.lastSample = new ia(
								L.dts, L.pts, L.duration, L.originalDts, !1), this._isLive || this
							._audioSegmentInfoList.append(P), i.samples = w, i.sequenceNumber++;
						var D = null;
						D = a ? new Uint8Array : Qs.moof(i, o), i.samples = [n[n.length - 1]], i.length = 0;
						var M = {
							type: "audio",
							data: this._mergeBoxes(D, l).buffer,
							sampleCount: w.length,
							info: P
						};
						a && h && (M.timestampOffset = o), this._onMediaSegment("audio", M)
					}
				}
			}, e._remuxVideo = function(t) {
				if (null != this._videoMeta) {
					var e, i, n = t,
						r = n.samples,
						o = void 0,
						s = -1,
						a = -1;
					if (r && !(r.length <= 1)) {
						var h = r[0].dts - this._dtsBase;
						if (this._videoNextDts) o = Math.max(h - this._videoNextDts, 0);
						else if (this._videoSegmentInfoList.isEmpty()) o = 0;
						else {
							var c = this._videoSegmentInfoList.getLastSampleBefore(h);
							if (null != c) {
								var u = h - (c.originalDts + c.duration);
								u <= 3 && (u = 0), o = h - (c.dts + c.duration + u)
							} else o = 0
						}
						var l = new na,
							d = [],
							f = o;
						o = 0;
						for (var p = 0; p + 1 < r.length; p++) {
							var m = r[p],
								v = m.dts - this._dtsBase - (0 == p ? f : 0),
								g = m.isKeyframe,
								y = v - o,
								_ = m.cts,
								b = y + _; - 1 === s && (s = y, a = b);
							var w = 0;
							if (p !== r.length - 1) w = r[p + 1].dts - this._dtsBase - o - y;
							else w = d.length >= 1 ? d[d.length - 1].duration : Math.floor(this._videoMeta
								.refSampleDuration);
							if (g) {
								var k = new ia(y, b, w, m.dts, !0);
								k.fileposition = m.fileposition, l.appendSyncPoint(k)
							}
							d.push({
								dts: y,
								pts: b,
								cts: _,
								units: m.units,
								size: m.length,
								isKeyframe: g,
								duration: w,
								originalDts: v,
								flags: {
									isLeading: 0,
									dependsOn: g ? 2 : 1,
									isDependedOn: g ? 1 : 0,
									hasRedundancy: 0,
									isNonSync: g ? 0 : 1
								}
							})
						}
						for (var E = 8, S = 8, T = 0; T < d.length; ++T) S += d[T].size;
						var x = new Uint8Array(S);
						x[0] = S >>> 24 & 255, x[1] = S >>> 16 & 255, x[2] = S >>> 8 & 255, x[3] = 255 & S, x
							.set(Qs.types.mdat, 4);
						for (var A = 0; A < d.length; A++)
							for (var C = d[A].units; C.length;) {
								var R = C.shift().data;
								x.set(R, E), E += R.byteLength
							}
						var I = d[d.length - 1];
						if (e = I.dts + I.duration, i = I.pts + I.duration, this._videoNextDts = e, l.beginDts =
							s, l.endDts = e, l.beginPts = a, l.endPts = i, l.originalBeginDts = d[0]
							.originalDts, l.originalEndDts = I.originalDts + I.duration, l.firstSample = new ia(
								d[0].dts, d[0].pts, d[0].duration, d[0].originalDts, d[0].isKeyframe), l
							.lastSample = new ia(I.dts, I.pts, I.duration, I.originalDts, I.isKeyframe), this
							._isLive || this._videoSegmentInfoList.append(l), n.samples = d, n.sequenceNumber++,
							this._forceFirstIDR) {
							var L = d[0].flags;
							L.dependsOn = 2, L.isNonSync = 0
						}
						var P = Qs.moof(n, s);
						n.samples = [r[r.length - 1]], n.length = 0, this._onMediaSegment("video", {
							type: "video",
							data: this._mergeBoxes(P, x).buffer,
							sampleCount: d.length,
							info: l
						})
					}
				}
			}, e._mergeBoxes = function(t, e) {
				var i = new Uint8Array(t.byteLength + e.byteLength);
				return i.set(t, 0), i.set(e, t.byteLength), i
			}, fn(t, [{
				key: "onInitSegment",
				get: function() {
					return this._onInitSegment
				},
				set: function(t) {
					this._onInitSegment = t
				}
			}, {
				key: "onMediaSegment",
				get: function() {
					return this._onMediaSegment
				},
				set: function(t) {
					this._onMediaSegment = t
				}
			}]), t
		}(),
		sa = function() {
			function t(t) {
				Qs.init(), this._config = {
						_isLive: !1
					}, _n(this._config, t), this.onInitSegment = null, this.onMediaSegment = null, this
					.onMediaInfo = null, this.seekCallBack = null, this.loadmetadata = !1, this.ftyp_moov = null,
					this._tagdemux = new Xs, this._flvparse = new Zs, this.ftyp_moov_v = null, this.ftyp_moov_a =
					null, this.metaSuccRun = !1, this.metas = [], this.parseChunk = null, this.hasVideo = !1, this
					.hasAudio = !1, this._error = null, this._pendingResolveSeekPoint = -1, this._tempBaseTime = 0,
					this.setflvBase = this.setflvBasefrist, this._tagdemux._onTrackMetadata = this.Metadata.bind(
						this), this._tagdemux._onMediaInfo = this.metaSucc.bind(this), this._tagdemux
					._onDataAvailable = this.onDataAvailable.bind(this), this._tagdemux._onError = this.error.bind(
						this), this.m4mof = new oa(this._config), this.m4mof.onMediaSegment = this.onMdiaSegment
					.bind(this)
			}
			var e = t.prototype;
			return e.seek = function(t) {
				this._flvparse.dispose(), this.setflvBase = this.setflvBasefrist, null != t && 0 != t || (t = 0,
					this._pendingResolveSeekPoint = -1), this._tempBaseTime != t && (this._tempBaseTime = t,
					this._tagdemux._timestampBase = t, this.m4mof.seek(t), this.m4mof.insertDiscontinuity(),
					this._pendingResolveSeekPoint = t)
			}, e.setflvBasefrist = function(t, e) {
				var i = 0;
				try {
					i = this._flvparse.setFlv(new Uint8Array(t))
				} catch (t) {
					this.error(t)
				}
				if (0 == this._flvparse.arrTag.length) return i;
				if (this._flvparse.arrTag.length > 0) {
					this._tagdemux.hasAudio = this.hasAudio = this._flvparse._hasAudio, this._tagdemux
						.hasVideo = this.hasVideo = this._flvparse._hasVideo, 0 != this._tempBaseTime && this
						._tempBaseTime == this._flvparse.arrTag[0].getTime() && (this._tagdemux._timestampBase =
							0);
					try {
						this._tagdemux.moofTag(this._flvparse.arrTag)
					} catch (t) {
						this.error(t)
					}
					this.setflvBase = this.setflvBaseUsually
				}
				return i
			}, e.setflvBaseUsually = function(t, e) {
				var i = 0;
				try {
					i = this._flvparse.setFlv(new Uint8Array(t))
				} catch (t) {
					this.error(t)
				}
				if (this._flvparse.arrTag.length > 0) try {
					this._tagdemux.moofTag(this._flvparse.arrTag)
				} catch (t) {
					this.error(t)
				}
				return i
			}, e.onMdiaSegment = function(t, e) {
				if (this.onMediaSegment && this.onMediaSegment(t, new Uint8Array(e.data)), -1 != this
					._pendingResolveSeekPoint && "video" == t) {
					var i = this._pendingResolveSeekPoint;
					this._pendingResolveSeekPoint = -1, this.seekCallBack && this.seekCallBack(i)
				}
			}, e.Metadata = function(t, e) {
				switch (t) {
					case "video":
						if (this.metas.push(["video", e]), this.m4mof._videoMeta = e, this.hasVideo && !this
							.hasAudio) return void this.metaSucc();
						break;
					case "audio":
						if (this.metas.push(["audio", e]), this.m4mof._audioMeta = e, !this.hasVideo && this
							.hasAudio) return void this.metaSucc()
				}
				this.hasVideo && this.hasAudio && this.m4mof._videoMeta && this.m4mof._audioMeta && this
					.metaSucc()
			}, e.metaSucc = function(t) {
				var e = this;
				this.onMediaInfo && t && this.onMediaInfo(t || this._tagdemux._mediaInfo, {
						hasAudio: this.hasAudio,
						hasVideo: this.hasVideo
					}), 0 != this.metas.length ? t || (this.metas.length > 1 ? this.metas.map(function(t) {
							"video" == t[0] ? e.ftyp_moov_v = Qs.generateInitSegment([t[1]]) : e
								.ftyp_moov_a = Qs.generateInitSegment([t[1]])
						}) : this.ftyp_moov = Qs.generateInitSegment([this.metas[0][1]]), this.onInitSegment &&
						0 == this.loadmetadata && (this.ftyp_moov ? this.onInitSegment(this.ftyp_moov) : this
							.onInitSegment(this.ftyp_moov_v, this.ftyp_moov_a), this.loadmetadata = !0)) : this
					.metaSuccRun = !0
			}, e.onDataAvailable = function(t, e) {
				try {
					this.m4mof.remux(t, e)
				} catch (t) {
					this.error(t)
				}
			}, e.setflv = function(t, e) {
				return this.setflvBase(t, e)
			}, e.setflvloc = function(t) {
				Zs.setFlv(new Uint8Array(t));
				if (Zs.arrTag.length > 0) return Zs.arrTag
			}, e.error = function(t) {
				this._error && this._error(t)
			}, t
		}(),
		aa = function(t) {
			function e(e) {
				var i;
				return (i = t.call(this) || this).f2m = new sa(e), i.f2m._error = i.error.bind(i), i
					._onInitSegment = null, i._onMediaSegment = null, i._onMediaInfo = null, i._seekCallBack = null,
					i
			}
			pn(e, t);
			var i = e.prototype;
			return i.error = function(t) {
				this.emit("error", t.type)
			}, i.seek = function(t) {
				this.f2m.seek(t)
			}, i.setflv = function(t) {
				return this.f2m.setflv(t, 0)
			}, i.setflvloc = function(t) {
				return this.f2m.setflvloc(t)
			}, fn(e, [{
				key: "onInitSegment",
				set: function(t) {
					this._onInitSegment = t, this.f2m.onInitSegment = t
				}
			}, {
				key: "onMediaSegment",
				set: function(t) {
					this._onMediaSegment = t, this.f2m.onMediaSegment = t
				}
			}, {
				key: "onMediaInfo",
				set: function(t) {
					this._onMediaInfo = t, this.f2m.onMediaInfo = t
				}
			}, {
				key: "seekCallBack",
				set: function(t) {
					this._seekCallBack = t, this.f2m.seekCallBack = t
				}
			}]), e
		}(Zr),
		ha = window,
		ca = ha.BlobBuilder || ha.WebKitBlobBuilder || ha.MozBlobBuilder || ha.MSBlobBuilder,
		ua = ha.URL || ha.webkitURL || ha.mozURL || ha.msURL,
		la = "application/javascript",
		da = "undefined" == typeof Symbol ? "__t" + +new Date : Symbol(),
		fa = ha.Worker,
		pa = ha.setImmediate || function(t) {
			return setTimeout(t, 1)
		};

	function ma(t, e) {
		var i = Object.create(null);
		return t.onmessage = null, t.addEventListener = function(t, e) {
			var n = i[t] || (i[t] = []);
			~n.indexOf(e) || n.push(e)
		}, t.removeEventListener = function(t, e) {
			var n, r = i[t];
			r && -1 !== (n = r.indexOf(e)) && (r.splice(n, 1), r.length || delete i[t])
		}, t.postMessage = function(i) {
			pa(function() {
				var n = i;
				if (e.onmessage) try {
					e.onmessage({
						data: n,
						target: t
					})
				} catch (t) {}
				e.emit("message", {
					type: "message",
					data: n,
					target: t,
					timeStamp: +new Date
				})
			})
		}, t.emit = function(e, n) {
			var r = i[e];
			r && r.forEach(function(e, i) {
				return e.call(t, n)
			})
		}, t.destroy = function() {
			bn(i).forEach(function(t) {
				var e = i[t];
				e && (e.length = 0, delete i[t])
			}), i = null
		}, t
	}
	if (fa) {
		var va, ga = _a("self.onmessage = function () {}"),
			ya = new Uint8Array(1);
		try {
			if (/(?:Trident|Edge)\/(?:[567]|12)/i.test(navigator.userAgent)) throw new Error("Not available");
			(va = new fa(ga)).postMessage(ya, [ya.buffer])
		} catch (ba) {
			fa = null
		} finally {
			ua.revokeObjectURL(ga), va && va.terminate()
		}
	}

	function _a(t) {
		var e = la;
		try {
			return ua.createObjectURL(new Blob([t], {
				type: e
			}))
		} catch (n) {
			var i = new ca;
			return i.append(t), ua.createObjectURL(i.getBlob(e))
		}
	}
	var ba, wa, ka = (ba = "../../lib/transmuxer-worker", wa = function() {
			return function(t, e) {
				var i, n;
				i = this, n = function() {
						function t(t, e) {
							for (var i = 0; i < e.length; i++) {
								var n = e[i];
								n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n
									.writable = !0), gn(t, n.key, n)
							}
						}

						function e(e, i, n) {
							return i && t(e.prototype, i), n && t(e, n), e
						}

						function i(t, e) {
							t.prototype = Object.create(e.prototype), t.prototype.constructor = t,
								function(t, e) {
									(Object.setPrototypeOf || function(t, e) {
										return t.__proto__ = e, t
									})(t, e)
								}(t, e)
						}
						var n = Object.defineProperty,
							r = Object.assign,
							o = Object.keys,
							s = function() {
								function t() {
									this.tagType = -1, this.dataSize = -1, this.Timestamp = -1, this
										.StreamID = -1, this.body = -1, this.time = -1, this.arr = [], this
										.size = -1
								}
								return t.prototype.getTime = function() {
									this.arr = [];
									for (var t = 0; t < this.Timestamp.length; t++) this.arr.push(1 ==
										this.Timestamp[t].toString(16).length ? "0" + this
										.Timestamp[t].toString(16) : this.Timestamp[t].toString(16));
									this.arr.pop();
									var e = this.arr.join("");
									return this.time = parseInt(e, 16), parseInt(e, 16)
								}, t
							}();

						function a(t) {
							for (var e = [], i = t, n = 0, r = t.length; n < r;)
								if (i[n] < 128) e.push(String.fromCharCode(i[n])), ++n;
								else {
									if (i[n] < 192);
									else if (i[n] < 224) {
										if (h(i, n, 1)) {
											var o = (31 & i[n]) << 6 | 63 & i[n + 1];
											if (o >= 128) {
												e.push(String.fromCharCode(65535 & o)), n += 2;
												continue
											}
										}
									} else if (i[n] < 240) {
										if (h(i, n, 2)) {
											var s = (15 & i[n]) << 12 | (63 & i[n + 1]) << 6 | 63 & i[n +
											2];
											if (s >= 2048 && 55296 != (63488 & s)) {
												e.push(String.fromCharCode(65535 & s)), n += 3;
												continue
											}
										}
									} else if (i[n] < 248 && h(i, n, 3)) {
										var a = (7 & i[n]) << 18 | (63 & i[n + 1]) << 12 | (63 & i[n +
											2]) << 6 | 63 & i[n + 3];
										if (a > 65536 && a < 1114112) {
											a -= 65536, e.push(String.fromCharCode(a >>> 10 | 55296)), e
												.push(String.fromCharCode(1023 & a | 56320)), n += 4;
											continue
										}
									}
									e.push(String.fromCharCode(65533)), ++n
								} return e.join("")
						}

						function h(t, e, i) {
							var n = t;
							if (e + i < n.length) {
								for (; i--;)
									if (128 != (192 & n[++e])) return !1;
								return !0
							}
							return !1
						}
						var c = function() {
								function t(t) {
									this.TAG = this.constructor.name, this._buffer = t, this._buffer_index =
										0, this._total_bytes = t.byteLength, this._total_bits = 8 * t
										.byteLength, this._current_word = 0, this._current_word_bits_left =
										0
								}
								var e = t.prototype;
								return e.destroy = function() {
									this._buffer = null
								}, e._fillCurrentWord = function() {
									var t = this._total_bytes - this._buffer_index;
									if (t <= 0) throw new IllegalStateException(
										"ExpGolomb: _fillCurrentWord() but no bytes available");
									var e = Math.min(4, t),
										i = new Uint8Array(4);
									i.set(this._buffer.subarray(this._buffer_index, this._buffer_index +
											e)), this._current_word = new DataView(i.buffer).getUint32(
											0, !1), this._buffer_index += e, this
										._current_word_bits_left = 8 * e
								}, e.readBits = function(t) {
									if (t > 32) throw new InvalidArgumentException(
										"ExpGolomb: readBits() bits exceeded max 32bits!");
									if (t <= this._current_word_bits_left) {
										var e = this._current_word >>> 32 - t;
										return this._current_word <<= t, this._current_word_bits_left -=
											t, e
									}
									var i = this._current_word_bits_left ? this._current_word : 0;
									i >>>= 32 - this._current_word_bits_left;
									var n = t - this._current_word_bits_left;
									this._fillCurrentWord();
									var r = Math.min(n, this._current_word_bits_left),
										o = this._current_word >>> 32 - r;
									return this._current_word <<= r, this._current_word_bits_left -= r,
										i = i << r | o
								}, e.readBool = function() {
									return 1 === this.readBits(1)
								}, e.readByte = function() {
									return this.readBits(8)
								}, e._skipLeadingZero = function() {
									var t;
									for (t = 0; t < this._current_word_bits_left; t++)
										if (0 != (this._current_word & 2147483648 >>> t)) return this
											._current_word <<= t, this._current_word_bits_left -= t,
											t;
									return this._fillCurrentWord(), t + this._skipLeadingZero()
								}, e.readUEG = function() {
									var t = this._skipLeadingZero();
									return this.readBits(t + 1) - 1
								}, e.readSEG = function() {
									var t = this.readUEG();
									return 1 & t ? t + 1 >>> 1 : -1 * (t >>> 1)
								}, t
							}(),
							u = function() {
								function t() {}
								return t._ebsp2rbsp = function(t) {
									for (var e = t, i = e.byteLength, n = new Uint8Array(i), r = 0, o =
											0; o < i; o++) o >= 2 && 3 === e[o] && 0 === e[o - 1] &&
										0 === e[o - 2] || (n[r] = e[o], r++);
									return new Uint8Array(n.buffer, 0, r)
								}, t.parseSPS = function(e) {
									var i = t._ebsp2rbsp(e),
										n = new c(i);
									n.readByte();
									var r = n.readByte();
									n.readByte();
									var o = n.readByte();
									n.readUEG();
									var s = t.getProfileString(r),
										a = t.getLevelString(o),
										h = 1,
										u = 420,
										l = 8;
									if ((100 === r || 110 === r || 122 === r || 244 === r || 44 === r ||
											83 === r || 86 === r || 118 === r || 128 === r || 138 ===
											r || 144 === r) && (3 === (h = n.readUEG()) && n.readBits(
											1), h <= 3 && (u = [0, 420, 422, 444][h]), l = n.readUEG() +
											8, n.readUEG(), n.readBits(1), n.readBool()))
										for (var d = 3 !== h ? 8 : 12, f = 0; f < d; f++) n
										.readBool() && (f < 6 ? t._skipScalingList(n, 16) : t
												._skipScalingList(n, 64));
									n.readUEG();
									var p = n.readUEG();
									if (0 === p) n.readUEG();
									else if (1 === p) {
										n.readBits(1), n.readSEG(), n.readSEG();
										for (var m = n.readUEG(), v = 0; v < m; v++) n.readSEG()
									}
									n.readUEG(), n.readBits(1);
									var g = n.readUEG(),
										y = n.readUEG(),
										_ = n.readBits(1);
									0 === _ && n.readBits(1), n.readBits(1);
									var b = 0,
										w = 0,
										k = 0,
										E = 0;
									n.readBool() && (b = n.readUEG(), w = n.readUEG(), k = n.readUEG(),
										E = n.readUEG());
									var S = 1,
										T = 1,
										x = 0,
										A = !0,
										C = 0,
										R = 0;
									if (n.readBool()) {
										if (n.readBool()) {
											var I = n.readByte();
											I > 0 && I < 16 ? (S = [1, 12, 10, 16, 40, 24, 20, 32, 80,
												18, 15, 64, 160, 4, 3, 2
											][I - 1], T = [1, 11, 11, 11, 33, 11, 11, 11, 33,
												11, 11, 33, 99, 3, 2, 1
											][I - 1]) : 255 === I && (S = n.readByte() << 8 | n
												.readByte(), T = n.readByte() << 8 | n.readByte())
										}
										if (n.readBool() && n.readBool(), n.readBool() && (n.readBits(
												4), n.readBool() && n.readBits(24)), n.readBool() && (n
												.readUEG(), n.readUEG()), n.readBool()) {
											var L = n.readBits(32),
												P = n.readBits(32);
											A = n.readBool(), x = (C = P) / (R = 2 * L)
										}
									}
									var D = 1;
									1 === S && 1 === T || (D = S / T);
									var M = 0,
										B = 0;
									0 === h ? (M = 1, B = 2 - _) : (M = 3 === h ? 1 : 2, B = (1 === h ?
										2 : 1) * (2 - _));
									var O = 16 * (g + 1),
										U = 16 * (y + 1) * (2 - _);
									O -= (b + w) * M, U -= (k + E) * B;
									var F = Math.ceil(O * D);
									return n.destroy(), n = null, {
										profile_string: s,
										level_string: a,
										bit_depth: l,
										chroma_format: u,
										chroma_format_string: t.getChromaFormatString(u),
										frame_rate: {
											fixed: A,
											fps: x,
											fps_den: R,
											fps_num: C
										},
										sar_ratio: {
											width: S,
											height: T
										},
										codec_size: {
											width: O,
											height: U
										},
										present_size: {
											width: F,
											height: U
										}
									}
								}, t._skipScalingList = function(t, e) {
									for (var i = 8, n = 8, r = 0; r < e; r++) 0 !== n && (n = (i + t
										.readSEG() + 256) % 256), i = 0 === n ? i : n
								}, t.getProfileString = function(t) {
									switch (t) {
										case 66:
											return "Baseline";
										case 77:
											return "Main";
										case 88:
											return "Extended";
										case 100:
											return "High";
										case 110:
											return "High10";
										case 122:
											return "High422";
										case 244:
											return "High444";
										default:
											return "Unknown"
									}
								}, t.getLevelString = function(t) {
									return (t / 10).toFixed(1)
								}, t.getChromaFormatString = function(t) {
									switch (t) {
										case 420:
											return "4:2:0";
										case 422:
											return "4:2:2";
										case 444:
											return "4:4:4";
										default:
											return "Unknown"
									}
								}, t
							}(),
							l = null,
							d = function() {
								function t() {}
								return t.parseObject = function(e, i, n) {
									var r = t.parseString(e, i, n),
										o = t.parseScript(e, i + r.size),
										s = o.objectEnd;
									return {
										data: {
											name: r.data,
											value: o.data
										},
										size: o.size,
										objectEnd: s
									}
								}, t.parseVariable = function(e, i, n) {
									return t.parseObject(e, i, n)
								}, t.parseLongString = function(t, e, i) {
									var n = new DataView(t, e).getUint32(0, !l);
									return {
										data: n > 0 ? a(new Uint8Array(t, e + 4, n)) : "",
										size: 4 + n
									}
								}, t.parseDate = function(t, e, i) {
									var n = new DataView(t, e),
										r = n.getFloat64(0, !l),
										o = n.getInt16(8, !l);
									return {
										data: new Date(r += 60 * o * 1e3),
										size: 10
									}
								}, t.parseString = function(t, e, i) {
									var n = new DataView(t, e).getUint16(0, !l);
									return {
										data: n > 0 ? a(new Uint8Array(t, e + 2, n)) : "",
										size: 2 + n
									}
								}, t.parseMetadata = function(e) {
									var i;
									i = new ArrayBuffer(2), new DataView(i).setInt16(0, 256, !0), l =
										256 === new Int16Array(i)[0];
									var n = t.parseScript(e, 0),
										r = t.parseScript(e, n.size, e.length - n.size),
										o = {};
									return o[n.data] = r.data, o
								}, t.parseScript = function(e, i, n) {
									var r = i,
										o = new Uint8Array(e).buffer,
										s = new DataView(o, 0, n),
										a = null,
										h = s.getUint8(r);
									switch (r += 1, h) {
										case 0:
											a = s.getFloat64(r, !l), r += 8;
											break;
										case 1:
											a = !!s.getUint8(r), r += 1;
											break;
										case 2:
											var c = t.parseString(o, r);
											a = c.data, r += c.size;
											break;
										case 3:
											a = {};
											var u = 0;
											for (9 == (16777215 & s.getUint32(n - 4, !l)) && (u =
												3); r < n - 4;) {
												var d = t.parseObject(o, r, n - i - u);
												if (d.objectEnd) break;
												a[d.data.name] = d.data.value, r = d.size
											}
											r <= n - 3 && 9 == (16777215 & v.getUint32(r - 1, !l)) && (
												r += 3);
											break;
										case 8:
											for (a = {}, r += 4, s.getUint32(n - 4, !l); r < n - 8;) {
												var f = t.parseVariable(o, r);
												if (f.objectEnd) break;
												a[f.data.name] = f.data.value, r = f.size
											}
											r <= n - 3 && 9 == (16777215 & s.getUint32(r - 1, !l)) && (
												r += 3);
											break;
										case 9:
											a = void 0, r = 1;
											break;
										case 10:
											a = [];
											var p = s.getUint32(r, !l);
											r += 4;
											for (var m = 0; m < p; m++) {
												var g = t.parseScript(o, r);
												a.push(g.data), r = g.size
											}
											break;
										case 11:
											var y = t.parseDate(o, r + 1, n - 1);
											a = y.data, r += y.size;
											break;
										case 12:
											var _ = t.parseString(o, r + 1, n - 1);
											a = _.data, r += _.size;
											break;
										default:
											r = n
									}
									return {
										data: a,
										size: r
									}
								}, t
							}(),
							f = function() {
								function t() {
									this.mimeType = null, this.duration = null, this.hasAudio = null, this
										.hasVideo = null, this.audioCodec = null, this.videoCodec = null,
										this.audioDataRate = null, this.videoDataRate = null, this
										.audioSampleRate = null, this.audioChannelCount = null, this.width =
										null, this.height = null, this.fps = null, this.profile = null, this
										.level = null, this.chromaFormat = null, this.sarNum = null, this
										.sarDen = null, this.metadata = null, this.segments = null, this
										.segmentCount = null, this.hasKeyframesIndex = null, this
										.keyframesIndex = null
								}
								var e = t.prototype;
								return e.isComplete = function() {
									var t = !1 === this.hasAudio || !0 === this.hasAudio && null != this
										.audioCodec && null != this.audioSampleRate && null != this
										.audioChannelCount,
										e = !1 === this.hasVideo || !0 === this.hasVideo && null != this
										.videoCodec && null != this.width && null != this.height &&
										null != this.fps && null != this.profile && null != this
										.level && null != this.chromaFormat && null != this.sarNum &&
										null != this.sarDen;
									return null != this.mimeType && null != this.duration && null !=
										this.metadata && null != this.hasKeyframesIndex && t && e
								}, e.isSeekable = function() {
									return !0 === this.hasKeyframesIndex
								}, t
							}(),
							p = function(t) {
								this.type = t
							},
							m = function() {
								function t() {
									var t;
									this.TAG = this.constructor.name, this._config = {}, this._onError =
										null, this._onMediaInfo = null, this._onTrackMetadata = null, this
										._onDataAvailable = null, this._dataOffset = 0, this._firstParse = !
										0, this._dispatch = !1, this._hasAudio = !1, this._hasVideo = !1,
										this._audioInitialMetadataDispatched = !1, this
										._videoInitialMetadataDispatched = !1, this._mediaInfo = new f, this
										._mediaInfo.hasAudio = this._hasAudio, this._mediaInfo.hasVideo =
										this._hasVideo, this._metadata = null, this._audioMetadata = null,
										this._videoMetadata = null, this._naluLengthSize = 4, this
										._timestampBase = 0, this._timescale = 1e3, this._duration = 0, this
										._durationOverrided = !1, this._referenceFrameRate = {
											fixed: !0,
											fps: 23.976,
											fps_num: 23976,
											fps_den: 1e3
										}, this._videoTrack = {
											type: "video",
											id: 1,
											sequenceNumber: 0,
											addcoefficient: 2,
											samples: [],
											length: 0
										}, this._audioTrack = {
											type: "audio",
											id: 2,
											sequenceNumber: 0,
											addcoefficient: 2,
											samples: [],
											length: 0
										}, this._littleEndian = (t = new ArrayBuffer(2), new DataView(t)
											.setInt16(0, 256, !0), 256 === new Int16Array(t)[0])
								}
								var i = t.prototype;
								return i.onMediaInfo = function(t) {
									this._onMediaInfo = t
								}, i.parseMetadata = function(t) {
									var e = d.parseMetadata(t);
									this._parseScriptData(e)
								}, i._parseScriptData = function(t) {
									var e = t;
									if (e.hasOwnProperty("onMetaData")) {
										this._metadata, this._metadata = e;
										var i = this._metadata.onMetaData;
										if ("boolean" == typeof i.hasAudio && (this._hasAudio = i
												.hasAudio, this._mediaInfo.hasAudio = this._hasAudio),
											"boolean" == typeof i.hasVideo && (this._hasVideo = i
												.hasVideo, this._mediaInfo.hasVideo = this._hasVideo),
											"number" == typeof i.audiodatarate && (this._mediaInfo
												.audioDataRate = i.audiodatarate), "number" == typeof i
											.videodatarate && (this._mediaInfo.videoDataRate = i
												.videodatarate), "number" == typeof i.width && (this
												._mediaInfo.width = i.width), "number" == typeof i
											.height && (this._mediaInfo.height = i.height), "number" ==
											typeof i.duration) {
											if (!this._durationOverrided) {
												var n = Math.floor(i.duration * this._timescale);
												this._duration = n, this._mediaInfo.duration = n
											}
										} else this._mediaInfo.duration = 0;
										if ("number" == typeof i.framerate) {
											var r = Math.floor(1e3 * i.framerate);
											if (r > 0) {
												var o = r / 1e3;
												this._referenceFrameRate.fixed = !0, this
													._referenceFrameRate.fps = o, this
													._referenceFrameRate.fps_num = r, this
													._referenceFrameRate.fps_den = 1e3, this._mediaInfo
													.fps = o
											}
										}
										if ("object" == typeof i.keyframes) {
											this._mediaInfo.hasKeyframesIndex = !0;
											var s = i.keyframes;
											s.times = i.times, s.filepositions = i.filepositions, this
												._mediaInfo.keyframesIndex = this._parseKeyframesIndex(
													s), i.keyframes = null
										} else this._mediaInfo.hasKeyframesIndex = !1;
										return this._dispatch = !1, this._mediaInfo.metadata = i, this
											._mediaInfo
									}
								}, i._parseKeyframesIndex = function(t) {
									for (var e = [], i = [], n = 1; n < t.times.length; n++) {
										var r = this._timestampBase + Math.floor(1e3 * t.times[n]);
										e.push(r), i.push(t.filepositions[n])
									}
									return {
										times: e,
										filepositions: i
									}
								}, i.moofTag = function(t) {
									for (var e = 0; e < t.length; e++) this._dispatch = !0, this
										.parseChunks(t[e]);
									this._isInitialMetadataDispatched() && this._dispatch && (this
											._audioTrack.length || this._videoTrack.length) && this
										._onDataAvailable(this._audioTrack, this._videoTrack)
								}, i.parseChunks = function(t) {
									switch (t.tagType) {
										case 8:
											this._parseAudioData(t.body.buffer, 0, t.body.length, t
												.getTime());
											break;
										case 9:
											this._parseVideoData(t.body.buffer, 0, t.body.length, t
												.getTime(), 0);
											break;
										case 18:
											this.parseMetadata(t.body)
									}
								}, i._parseVideoData = function(t, e, i, n, r) {
									if (n == this._timestampBase && 0 != this._timestampBase)
									throw new p(n, this._timestampBase, "夭寿啦这个视频不是从0开始");
									if (!(i <= 1)) {
										var o = new Uint8Array(t, e, i)[0],
											s = (240 & o) >>> 4,
											a = 15 & o;
										7 === a ? this._parseAVCVideoPacket(t, e + 1, i - 1, n, r, s) :
											this._onError && this._onError(
												"Flv: Unsupported codec in video frame: " + a)
									}
								}, i._parseAVCVideoPacket = function(t, e, i, n, r, o) {
									if (!(i < 4)) {
										var s = this._littleEndian,
											a = new DataView(t, e, i),
											h = a.getUint8(0),
											c = 16777215 & a.getUint32(0, !s);
										if (0 === h) this._parseAVCDecoderConfigurationRecord(t, e + 4,
											i - 4);
										else if (1 === h) this._parseAVCVideoData(t, e + 4, i - 4, n, r,
											o, c);
										else if (2 !== h) return void this._onError(
											"Flv: Invalid video packet type " + h)
									}
								}, i._parseAVCDecoderConfigurationRecord = function(t, e, i) {
									if (!(i < 7)) {
										var n = this._videoMetadata,
											r = this._videoTrack,
											o = this._littleEndian,
											s = new DataView(t, e, i);
										n ? n.avcc : ((n = this._videoMetadata = {}).type = "video", n
											.id = r.id, n.timescale = this._timescale, n.duration =
											this._duration);
										var a = s.getUint8(0),
											h = s.getUint8(1);
										if (s.getUint8(2), s.getUint8(3), 1 === a && 0 !== h)
											if (this._naluLengthSize = 1 + (3 & s.getUint8(4)), 3 ===
												this._naluLengthSize || 4 === this._naluLengthSize) {
												var c = 31 & s.getUint8(5);
												if (0 === c || c > 1) this._onError(DemuxErrors
													.FORMAT_ERROR, "Flv: Invalid H264 SPS count: " +
													c);
												else {
													for (var l = 6, d = 0; d < c; d++) {
														var f = s.getUint16(l, !o);
														if (l += 2, 0 !== f) {
															var p = new Uint8Array(t, e + l, f);
															l += f;
															var m = u.parseSPS(p);
															n.codecWidth = m.codec_size.width, n
																.codecHeight = m.codec_size.height, n
																.presentWidth = m.present_size.width, n
																.presentHeight = m.present_size.height,
																n.config = m, n.profile = m
																.profile_string, n.level = m
																.level_string, n.bitDepth = m.bit_depth,
																n.chromaFormat = m.chroma_format, n
																.sarRatio = m.sar_ratio, n.frameRate = m
																.frame_rate, !1 !== m.frame_rate
																.fixed && 0 !== m.frame_rate.fps_num &&
																0 !== m.frame_rate.fps_den || (n
																	.frameRate = this
																	._referenceFrameRate);
															var v = n.frameRate.fps_den,
																g = n.frameRate.fps_num;
															n.refSampleDuration = Math.floor(n
																.timescale * (v / g));
															for (var y = p.subarray(1, 4), _ = "avc1.",
																	b = 0; b < 3; b++) {
																var w = y[b].toString(16);
																w.length < 2 && (w = "0" + w), _ += w
															}
															n.codec = _;
															var k = this._mediaInfo;
															k.width = n.codecWidth, k.height = n
																.codecHeight, k.fps = n.frameRate.fps, k
																.profile = n.profile, k.level = n.level,
																k.chromaFormat = m.chroma_format_string,
																k.sarNum = n.sarRatio.width, k.sarDen =
																n.sarRatio.height, k.videoCodec = _, k
																.meta = n, k.hasAudio ? null != k
																.audioCodec && (k.mimeType =
																	'video/x-flv; codecs="' + k
																	.videoCodec + "," + k.audioCodec +
																	'"') : k.mimeType =
																'video/x-flv; codecs="' + k.videoCodec +
																'"', k.isComplete() && this
																._onMediaInfo(k)
														}
													}
													var E = s.getUint8(l);
													if (0 === E || E > 1) this._onError(DemuxErrors
														.FORMAT_ERROR,
														"Flv: Invalid H264 PPS count: " + E);
													else {
														l++;
														for (var S = 0; S < E; S++) {
															var T = s.getUint16(l, !o);
															l += 2, 0 !== T && (l += T)
														}
														n.avcc = new Uint8Array(i), n.avcc.set(
																new Uint8Array(t, e, i), 0), this
															._isInitialMetadataDispatched() ? this
															._dispatch && (this._audioTrack.length ||
																this._videoTrack.length) && this
															._onDataAvailable(this._audioTrack, this
																._videoTrack) : this
															._videoInitialMetadataDispatched = !0, this
															._dispatch = !1, this._onTrackMetadata(
																"video", n)
													}
												}
											} else this._onError(DemuxErrors.FORMAT_ERROR,
												"Flv: Strange NaluLengthSizeMinusOne: " + (this
													._naluLengthSize - 1));
										else this._onError(DemuxErrors.FORMAT_ERROR,
											"Flv: Invalid AVCDecoderConfigurationRecord")
									}
								}, i.timestampBase = function(t) {
									this._timestampBase = t
								}, i._parseAVCVideoData = function(t, e, i, n, r, o, s) {
									for (var a = this._littleEndian, h = new DataView(t, e, i), c = [],
											u = 0, l = 0, d = this._naluLengthSize, f = this
											._timestampBase + n, p = 1 === o; l < i && !(l + 4 >= i);) {
										var m = h.getUint32(l, !a);
										if (3 === d && (m >>>= 8), m > i - d) return;
										var v = 31 & h.getUint8(l + d);
										5 === v && (p = !0);
										var g = new Uint8Array(t, e + l, d + m),
											y = {
												type: v,
												data: g
											};
										c.push(y), u += g.byteLength, l += d + m
									}
									if (c.length) {
										var _ = this._videoTrack,
											b = {
												units: c,
												length: u,
												isKeyframe: p,
												dts: f,
												cts: s,
												pts: f + s
											};
										p && (b.fileposition = r), _.samples.push(b), _.length += u
									}
								}, i._parseAudioData = function(t, e, i, n) {
									if (n == this._timestampBase && this._timestampBase, !(i <= 1)) {
										var r = this._audioMetadata,
											o = this._audioTrack;
										if (!r || !r.codec) {
											(r = this._audioMetadata = {}).type = "audio", r.id = o.id,
												r.timescale = this._timescale, r.duration = this
												._duration, this._littleEndian;
											var s = new DataView(t, e, i).getUint8(0),
												a = s >>> 4;
											if (10 !== a) return void this._onError(DemuxErrors
												.CODEC_UNSUPPORTED,
												"Flv: Unsupported audio codec idx: " + a);
											var h = 0,
												c = (12 & s) >>> 2,
												u = [5500, 11025, 22050, 44100, 48e3];
											if (!(c < u.length)) return void this._onError(DemuxErrors
												.FORMAT_ERROR,
												"Flv: Invalid audio sample rate idx: " + c);
											h = u[c];
											var l = 1 & s;
											r.audioSampleRate = h, r.channelCount = 0 === l ? 1 : 2, r
												.refSampleDuration = Math.floor(1024 / r
													.audioSampleRate * r.timescale), r.codec =
												"mp4a.40.5"
										}
										var d = this._parseAACAudioData(t, e + 1, i - 1);
										if (null != d) {
											if (0 === d.packetType) {
												r.config;
												var f = d.data;
												r.audioSampleRate = f.samplingRate, r.channelCount = f
													.channelCount, r.codec = f.codec, r.config = f
													.config, r.refSampleDuration = Math.floor(1024 / r
														.audioSampleRate * r.timescale), this
													._isInitialMetadataDispatched() ? this._dispatch &&
													(this._audioTrack.length || this._videoTrack
													.length) && this._onDataAvailable(this._audioTrack,
														this._videoTrack) : this
													._audioInitialMetadataDispatched = !0, this
													._dispatch = !1;
												var p = this._mediaInfo;
												return p.audioCodec = "mp4a.40." + f
													.originalAudioObjectType, p.audioSampleRate = r
													.audioSampleRate, p.audioChannelCount = r
													.channelCount, p.hasVideo ? null != p.videoCodec &&
													(p.mimeType = 'video/x-flv; codecs="' + p
														.videoCodec + "," + p.audioCodec + '"') : p
													.mimeType = 'video/x-flv; codecs="' + p.audioCodec +
													'"', this._onTrackMetadata("audio", r), void(p
														.isComplete() && this._onMediaInfo(p))
											}
											if (1 === d.packetType) {
												var m = this._timestampBase + n,
													v = {
														unit: d.data,
														dts: m,
														pts: m
													};
												o.samples.push(v), o.length += d.data.length
											}
										}
									}
								}, i._parseAACAudioData = function(t, e, i) {
									if (!(i <= 1)) {
										var n = {},
											r = new Uint8Array(t, e, i);
										return n.packetType = r[0], 0 === r[0] ? n.data = this
											._parseAACAudioSpecificConfig(t, e + 1, i - 1) : n.data = r
											.subarray(1), n
									}
								}, i._parseAACAudioSpecificConfig = function(t, e, i) {
									var n, r, o = new Uint8Array(t, e, i),
										s = null,
										a = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3,
											12e3, 11025, 8e3, 7350
										],
										h = 0,
										c = null;
									if (h = n = o[0] >>> 3, (r = (7 & o[0]) << 1 | o[1] >>> 7) < 0 ||
										r >= a.length) this._onError(DemuxErrors.FORMAT_ERROR,
										"Flv: AAC invalid sampling frequency index!");
									else {
										var u = a[r],
											l = (120 & o[1]) >>> 3;
										if (!(l < 0 || l >= 8)) {
											5 === h && (c = (7 & o[1]) << 1 | o[2] >>> 7);
											var d = self.navigator.userAgent.toLowerCase();
											return -1 !== d.indexOf("firefox") ? r >= 6 ? (h = 5, s =
													new Array(4), c = r - 3) : (h = 2, s = new Array(2),
													c = r) : -1 !== d.indexOf("android") ? (h = 2, s =
													new Array(2), c = r) : (h = 5, c = r, s = new Array(
													4), r >= 6 ? c = r - 3 : 1 === l && (h = 2, s =
													new Array(2), c = r)), s[0] = h << 3, s[0] |= (15 &
													r) >>> 1, s[1] = (15 & r) << 7, s[1] |= (15 & l) <<
												3, 5 === h && (s[1] |= (15 & c) >>> 1, s[2] = (1 & c) <<
													7, s[2] |= 8, s[3] = 0), {
													config: s,
													samplingRate: u,
													channelCount: l,
													codec: "mp4a.40." + h,
													originalAudioObjectType: n
												}
										}
										this._onError(DemuxErrors.FORMAT_ERROR,
											"Flv: AAC invalid channel configuration")
									}
								}, i._isInitialMetadataDispatched = function() {
									return this._hasAudio && this._hasVideo ? this
										._audioInitialMetadataDispatched && this
										._videoInitialMetadataDispatched : this._hasAudio && !this
										._hasVideo ? this._audioInitialMetadataDispatched : !this
										._hasAudio && this._hasVideo ? this
										._videoInitialMetadataDispatched : void 0
								}, e(t, [{
									key: "hasAudio",
									set: function(t) {
										this._mediaInfo.hasAudio = this._hasAudio = t
									}
								}, {
									key: "hasVideo",
									set: function(t) {
										this._mediaInfo.hasVideo = this._hasVideo = t
									}
								}]), t
							}(),
							g = function() {
								function t() {
									this.tempUint8 = new Uint8Array, this.arrTag = [], this.index = 0, this
										.tempArr = [], this.stop = !1, this.offset = 0, this.frist = !0,
										this._hasAudio = !1, this._hasVideo = !1, this._dispose = !1, this
										.busy = !1, this.busyArr = []
								}
								var e = t.prototype;
								return e.setFlv = function(t) {
									return this.busy = !0, this._dispose = !1, this.stop = !1, this
										.arrTag = [], this.index = 0, this.tempUint8 = t, this.tempUint8
										.length > 13 && 70 == this.tempUint8[0] && 76 == this.tempUint8[
											1] && 86 == this.tempUint8[2] ? (this.probe(this.tempUint8
												.buffer), this.read(9), this.read(4), this.parse(), this
											.frist = !1, this.busy = !1, this.offset) : this.frist ?
										this.offset : (this.parse(), this.offset)
								}, e.probe = function(t) {
									var e = new Uint8Array(t),
										i = {
											match: !1
										};
									if (70 !== e[0] || 76 !== e[1] || 86 !== e[2] || 1 !== e[3])
									return i;
									var n = (4 & e[4]) >>> 2 != 0,
										r = 0 != (1 & e[4]);
									return n || r ? (this._hasAudio = m._hasAudio = n, this._hasVideo =
										m._hasVideo = r, {
											match: !0,
											hasAudioTrack: n,
											hasVideoTrack: r
										}) : i
								}, e.dispose = function() {}, e.parse = function() {
									for (; this.index < this.tempUint8.length && !this.stop;) {
										this.offset = this.index;
										var t = new s;
										if (this.tempUint8.length - this.index >= 11) {
											if (t.tagType = this.read(1)[0], t.dataSize = this.read(3),
												t.Timestamp = this.read(4), t.StreamID = this.read(3),
												18 != t.tagType && 8 != t.tagType && 9 != t.tagType)
												throw new p("wrong tagType" + t.tagType);
											this.tempUint8.length - this.index >= this.getBodySum(t
												.dataSize) + 4 ? (t.body = this.read(this
													.getBodySum(t.dataSize)), 9 == t.tagType && this
												._hasVideo && this.arrTag.push(t), 8 == t.tagType &&
												this._hasAudio && this.arrTag.push(t), 18 == t
												.tagType && 0 == this.arrTag.length && this.arrTag
												.push(t), t.size = this.read(4), this.offset = this
												.index) : this.stop = !0
										} else this.stop = !0
									}
									return this.offset
								}, e.read = function(t) {
									var e = this.tempUint8.slice(this.index, this.index + t);
									return this.index += t, e
								}, e.getBodySum = function(t) {
									var e = "";
									return e += 1 == t[0].toString(16).length ? "0" + t[0].toString(
										16) : t[0].toString(16), e += 1 == t[1].toString(16).length ?
										"0" + t[1].toString(16) : t[1].toString(16), e += 1 == t[2]
										.toString(16).length ? "0" + t[2].toString(16) : t[2].toString(
											16), parseInt(e, 16)
								}, t
							}(),
							y = function() {
								function t() {}
								return t.init = function() {
									for (var e in t.types = {
											avc1: [],
											avcC: [],
											btrt: [],
											dinf: [],
											dref: [],
											esds: [],
											ftyp: [],
											hdlr: [],
											mdat: [],
											mdhd: [],
											mdia: [],
											mfhd: [],
											minf: [],
											moof: [],
											moov: [],
											mp4a: [],
											mvex: [],
											mvhd: [],
											sdtp: [],
											stbl: [],
											stco: [],
											stsc: [],
											stsd: [],
											stsz: [],
											stts: [],
											tfdt: [],
											tfhd: [],
											traf: [],
											trak: [],
											trun: [],
											trex: [],
											tkhd: [],
											vmhd: [],
											smhd: []
										}, t.types) t.types.hasOwnProperty(e) && (t.types[e] = [e
										.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e
										.charCodeAt(3)
									]);
									var i = t.constants = {};
									i.FTYP = new Uint8Array([105, 115, 111, 109, 0, 0, 0, 1, 105, 115,
											111, 109, 97, 118, 99, 49
										]), i.STSD_PREFIX = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), i
										.STTS = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), i.STSC = i
										.STCO = i.STTS, i.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0,
											0, 0, 0, 0
										]), i.HDLR_VIDEO = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118,
											105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86,
											105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0
										]), i.HDLR_AUDIO = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115,
											111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83,
											111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0
										]), i.DREF = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
											12, 117, 114, 108, 32, 0, 0, 0, 1
										]), i.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]), i.VMHD =
										new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
								}, t.box = function(t) {
									for (var e = 8, i = null, n = Array.prototype.slice.call(arguments,
											1), r = n.length, o = 0; o < r; o++) e += n[o].byteLength;
									(i = new Uint8Array(e))[0] = e >>> 24 & 255, i[1] = e >>> 16 & 255,
										i[2] = e >>> 8 & 255, i[3] = 255 & e, i.set(t, 4);
									for (var s = 8, a = 0; a < r; a++) i.set(n[a], s), s += n[a]
										.byteLength;
									return i
								}, t.generateInitSegment = function(e) {
									e.constructor != Array && (e = [e]);
									var i = t.box(t.types.ftyp, t.constants.FTYP),
										n = t.moov(e),
										r = new Uint8Array(i.byteLength + n.byteLength);
									return r.set(i, 0), r.set(n, i.byteLength), r
								}, t.moov = function(e) {
									var i, n = t.mvhd(e[0].timescale, e[0].duration),
										r = t.trak(e[0]);
									e.length > 1 && (i = t.trak(e[1]));
									var o = t.mvex(e);
									return e.length > 1 ? t.box(t.types.moov, n, r, i, o) : t.box(t
										.types.moov, n, r, o)
								}, t.mvhd = function(e, i) {
									return t.box(t.types.mvhd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0,
										0, 0, 0, 0, e >>> 24 & 255, e >>> 16 & 255, e >>>
										8 & 255, 255 & e, i >>> 24 & 255, i >>> 16 & 255,
										i >>> 8 & 255, 255 & i, 0, 1, 0, 0, 1, 0, 0, 0, 0,
										0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,
										0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,
										0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
										0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255,
										255, 255, 255
									]))
								}, t.trak = function(e) {
									return t.box(t.types.trak, t.tkhd(e), t.mdia(e))
								}, t.tkhd = function(e) {
									var i = e.id,
										n = e.duration,
										r = e.presentWidth,
										o = e.presentHeight;
									return t.box(t.types.tkhd, new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0,
										0, 0, 0, 0, i >>> 24 & 255, i >>> 16 & 255, i >>>
										8 & 255, 255 & i, 0, 0, 0, 0, n >>> 24 & 255, n >>>
										16 & 255, n >>> 8 & 255, 255 & n, 0, 0, 0, 0, 0, 0,
										0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0,
										0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,
										0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, r >>> 8 & 255,
										255 & r, 0, 0, o >>> 8 & 255, 255 & o, 0, 0
									]))
								}, t.mdia = function(e) {
									return t.box(t.types.mdia, t.mdhd(e), t.hdlr(e), t.minf(e))
								}, t.mdhd = function(e) {
									var i = e.timescale,
										n = e.duration;
									return t.box(t.types.mdhd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0,
										0, 0, 0, 0, i >>> 24 & 255, i >>> 16 & 255, i >>>
										8 & 255, 255 & i, n >>> 24 & 255, n >>> 16 & 255,
										n >>> 8 & 255, 255 & n, 85, 196, 0, 0
									]))
								}, t.hdlr = function(e) {
									var i = null;
									return i = "audio" === e.type ? t.constants.HDLR_AUDIO : t.constants
										.HDLR_VIDEO, t.box(t.types.hdlr, i)
								}, t.minf = function(e) {
									var i = null;
									return i = "audio" === e.type ? t.box(t.types.smhd, t.constants
										.SMHD) : t.box(t.types.vmhd, t.constants.VMHD), t.box(t
										.types.minf, i, t.dinf(), t.stbl(e))
								}, t.dinf = function() {
									return t.box(t.types.dinf, t.box(t.types.dref, t.constants.DREF))
								}, t.stbl = function(e) {
									return t.box(t.types.stbl, t.stsd(e), t.box(t.types.stts, t
											.constants.STTS), t.box(t.types.stsc, t.constants.STSC),
										t.box(t.types.stsz, t.constants.STSZ), t.box(t.types.stco, t
											.constants.STCO))
								}, t.stsd = function(e) {
									return "audio" === e.type ? t.box(t.types.stsd, t.constants
										.STSD_PREFIX, t.mp4a(e)) : t.box(t.types.stsd, t.constants
										.STSD_PREFIX, t.avc1(e))
								}, t.mp4a = function(e) {
									var i = e.channelCount,
										n = e.audioSampleRate,
										r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,
											0, 0, i, 0, 16, 0, 0, 0, 0, n >>> 8 & 255, 255 & n, 0, 0
										]);
									return t.box(t.types.mp4a, r, t.esds(e))
								}, t.esds = function(e) {
									var i = e.config,
										n = i.length,
										r = new Uint8Array([0, 0, 0, 0, 3, 23 + n, 0, 1, 0, 4, 15 + n,
											64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5
										].concat([n]).concat(i).concat([6, 1, 2]));
									return t.box(t.types.esds, r)
								}, t.avc1 = function(e) {
									var i = e.avcc,
										n = e.codecWidth,
										r = e.codecHeight,
										o = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,
											0, 0, 0, 0, 0, 0, 0, 0, 0, n >>> 8 & 255, 255 & n, r >>>
											8 & 255, 255 & r, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0,
											0, 1, 4, 103, 49, 49, 49, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
											0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
											24, 255, 255
										]);
									return t.box(t.types.avc1, o, t.box(t.types.avcC, i))
								}, t.mvex = function(e) {
									return e.length > 1 ? t.box(t.types.mvex, t.trex(e[0]), t.trex(e[
										1])) : t.box(t.types.mvex, t.trex(e[0]))
								}, t.trex = function(e) {
									var i = e.id,
										n = new Uint8Array([0, 0, 0, 0, i >>> 24 & 255, i >>> 16 & 255,
											i >>> 8 & 255, 255 & i, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,
											0, 0, 1, 0, 1
										]);
									return t.box(t.types.trex, n)
								}, t.moof = function(e, i) {
									return t.box(t.types.moof, t.mfhd(e.sequenceNumber), t.traf(e, i))
								}, t.mfhd = function(e) {
									var i = new Uint8Array([0, 0, 0, 0, e >>> 24 & 255, e >>> 16 & 255,
										e >>> 8 & 255, 255 & e
									]);
									return t.box(t.types.mfhd, i)
								}, t.traf = function(e, i) {
									var n = e.id,
										r = t.box(t.types.tfhd, new Uint8Array([0, 0, 0, 0, n >>> 24 &
											255, n >>> 16 & 255, n >>> 8 & 255, 255 & n
										])),
										o = t.box(t.types.tfdt, new Uint8Array([0, 0, 0, 0, i >>> 24 &
											255, i >>> 16 & 255, i >>> 8 & 255, 255 & i
										])),
										s = t.sdtp(e),
										a = t.trun(e, s.byteLength + 16 + 16 + 8 + 16 + 8 + 8);
									return t.box(t.types.traf, r, o, a, s)
								}, t.sdtp = function(e) {
									for (var i = e.samples || [], n = i.length, r = new Uint8Array(4 +
											n), o = 0; o < n; o++) {
										var s = i[o].flags;
										r[o + 4] = s.isLeading << 6 | s.dependsOn << 4 | s
											.isDependedOn << 2 | s.hasRedundancy
									}
									return t.box(t.types.sdtp, r)
								}, t.trun = function(e, i) {
									var n = e.samples || [],
										r = n.length,
										o = 12 + 16 * r,
										s = new Uint8Array(o);
									i += 8 + o, s.set([0, 0, 15, 1, r >>> 24 & 255, r >>> 16 & 255,
										r >>> 8 & 255, 255 & r, i >>> 24 & 255, i >>> 16 & 255,
										i >>> 8 & 255, 255 & i
									], 0);
									for (var a = 0; a < r; a++) {
										var h = n[a].duration,
											c = n[a].size,
											u = n[a].flags,
											l = n[a].cts;
										s.set([h >>> 24 & 255, h >>> 16 & 255, h >>> 8 & 255, 255 & h,
											c >>> 24 & 255, c >>> 16 & 255, c >>> 8 & 255, 255 &
											c, u.isLeading << 2 | u.dependsOn, u.isDependedOn <<
											6 | u.hasRedundancy << 4 | u.isNonSync, 0, 0, l >>>
											24 & 255, l >>> 16 & 255, l >>> 8 & 255, 255 & l
										], 12 + 16 * a)
									}
									return t.box(t.types.trun, s)
								}, t.mdat = function(e) {
									return t.box(t.types.mdat, e)
								}, t
							}(),
							_ = function() {
								function t() {}
								return t.getSilentFrame = function(t) {
									return 1 === t ? new Uint8Array([0, 200, 0, 128, 35, 128]) : 2 ===
										t ? new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]) : 3 ===
										t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100,
											0, 142
										]) : 4 === t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38,
											64, 8, 100, 0, 128, 44, 128, 8, 2, 56
										]) : 5 === t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38,
											64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56
										]) : 6 === t ? new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38,
											64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178,
											0, 32, 8, 224
										]) : null
								}, t
							}(),
							b = {};
						! function() {
							var t = self.navigator.userAgent.toLowerCase(),
								e = /(edge)\/([\w.]+)/.exec(t) || /(opr)[\/]([\w.]+)/.exec(t) ||
								/(chrome)[ \/]([\w.]+)/.exec(t) || /(iemobile)[\/]([\w.]+)/.exec(t) ||
								/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t) ||
								/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(
									t) || /(webkit)[ \/]([\w.]+)/.exec(t) ||
								/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t) || /(msie) ([\w.]+)/.exec(t) ||
								t.indexOf("trident") >= 0 && /(rv)(?::| )([\w.]+)/.exec(t) || t.indexOf(
									"compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t) || [],
								i = /(ipad)/.exec(t) || /(ipod)/.exec(t) || /(windows phone)/.exec(t) ||
								/(iphone)/.exec(t) || /(kindle)/.exec(t) || /(android)/.exec(t) ||
								/(windows)/.exec(t) || /(mac)/.exec(t) || /(linux)/.exec(t) || /(cros)/
								.exec(t) || [],
								n = {
									browser: e[5] || e[3] || e[1] || "",
									version: e[2] || e[4] || "0",
									majorVersion: e[4] || e[2] || "0",
									platform: i[0] || ""
								},
								r = {};
							if (n.browser) {
								r[n.browser] = !0;
								var o = n.majorVersion.split(".");
								r.version = {
										major: parseInt(n.majorVersion, 10),
										string: n.version
									}, o.length > 1 && (r.version.minor = parseInt(o[1], 10)), o.length >
									2 && (r.version.build = parseInt(o[2], 10))
							}
							for (var s in n.platform && (r[n.platform] = !0), (r.chrome || r.opr || r
										.safari) && (r.webkit = !0), (r.rv || r.iemobile) && (r.rv &&
										delete r.rv, n.browser = "msie", r.msie = !0), r.edge && (delete r
										.edge, n.browser = "msedge", r.msedge = !0), r.opr && (n.browser =
										"opera", r.opera = !0), r.safari && r.android && (n.browser =
										"android", r.android = !0), r.name = n.browser, r.platform = n
									.platform, b) b.hasOwnProperty(s) && delete b[s];
							b = r
						}();
						var w = b,
							k = function(t, e, i, n, r) {
								this.dts = t, this.pts = e, this.duration = i, this.originalDts = n, this
									.isSyncPoint = r, this.fileposition = null
							},
							E = function() {
								function t() {
									this.beginDts = 0, this.endDts = 0, this.beginPts = 0, this.endPts = 0,
										this.originalBeginDts = 0, this.originalEndDts = 0, this
										.syncPoints = [], this.firstSample = null, this.lastSample = null
								}
								return t.prototype.appendSyncPoint = function(t) {
									t.isSyncPoint = !0, this.syncPoints.push(t)
								}, t
							}(),
							S = function() {
								function t(t) {
									this._type = t, this._list = [], this._lastAppendLocation = -1
								}
								var i = t.prototype;
								return i.isEmpty = function() {
									return 0 === this._list.length
								}, i.clear = function() {
									this._list = [], this._lastAppendLocation = -1
								}, i._searchNearestSegmentBefore = function(t) {
									var e = this._list;
									if (0 === e.length) return -2;
									var i = e.length - 1,
										n = 0,
										r = 0,
										o = i,
										s = 0;
									if (t < e[0].originalBeginDts) return s = -1;
									for (; r <= o;) {
										if ((n = r + Math.floor((o - r) / 2)) === i || t > e[n]
											.lastSample.originalDts && t < e[n + 1].originalBeginDts) {
											s = n;
											break
										}
										e[n].originalBeginDts < t ? r = n + 1 : o = n - 1
									}
									return s
								}, i._searchNearestSegmentAfter = function(t) {
									return this._searchNearestSegmentBefore(t) + 1
								}, i.append = function(t) {
									var e = this._list,
										i = t,
										n = this._lastAppendLocation,
										r = 0; - 1 !== n && n < e.length && i.originalBeginDts >= e[n]
										.lastSample.originalDts && (n === e.length - 1 || n < e.length -
											1 && i.originalBeginDts < e[n + 1].originalBeginDts) ? r =
										n + 1 : e.length > 0 && (r = this._searchNearestSegmentBefore(i
											.originalBeginDts) + 1), this._lastAppendLocation = r, this
										._list.splice(r, 0, i)
								}, i.getLastSegmentBefore = function(t) {
									var e = this._searchNearestSegmentBefore(t);
									return e >= 0 ? this._list[e] : null
								}, i.getLastSampleBefore = function(t) {
									var e = this.getLastSegmentBefore(t);
									return null != e ? e.lastSample : null
								}, i.getLastSyncPointBefore = function(t) {
									for (var e = this._searchNearestSegmentBefore(t), i = this._list[e]
											.syncPoints; 0 === i.length && e > 0;) e--, i = this._list[
										e].syncPoints;
									return i.length > 0 ? i[i.length - 1] : null
								}, e(t, [{
									key: "type",
									get: function() {
										return this._type
									}
								}, {
									key: "length",
									get: function() {
										return this._list.length
									}
								}]), t
							}(),
							T = function() {
								function t(t) {
									this.TAG = "MP4Remuxer", this._config = t, this._isLive = !0 === t
										.isLive, this._dtsBase = -1, this._dtsBaseInited = !1, this
										._audioDtsBase = 1 / 0, this._videoDtsBase = 1 / 0, this
										._audioNextDts = void 0, this._videoNextDts = void 0, this
										._audioMeta = null, this._videoMeta = null, this
										._audioSegmentInfoList = new S("audio"), this
										._videoSegmentInfoList = new S("video"), this._onInitSegment = null,
										this._onMediaSegment = null, this._forceFirstIDR = !(!w.chrome || !(
											w.version.major < 50 || 50 === w.version.major && w.version
											.build < 2661)), this._fillSilentAfterSeek = w.msedge || w.msie,
										this._mp3UseMpegAudio = !w.firefox
								}
								var i = t.prototype;
								return i.destroy = function() {
									this._dtsBase = -1, this._dtsBaseInited = !1, this._audioMeta =
										null, this._videoMeta = null, this._audioSegmentInfoList
									.clear(), this._audioSegmentInfoList = null, this
										._videoSegmentInfoList.clear(), this._videoSegmentInfoList =
										null, this._onInitSegment = null, this._onMediaSegment = null
								}, i.bindDataSource = function(t) {
									return t.onDataAvailable = this.remux.bind(this), t
										.onTrackMetadata = this._onTrackMetadataReceived.bind(this),
										this
								}, i.insertDiscontinuity = function() {
									this._audioNextDts = this._videoNextDts = void 0
								}, i.seek = function(t) {
									this._videoSegmentInfoList.clear(), this._audioSegmentInfoList
										.clear()
								}, i.remux = function(t, e) {
									if (!this._onMediaSegment) throw new IllegalStateException(
										"MP4Remuxer: onMediaSegment callback must be specificed!"
										);
									this._dtsBaseInited || this._calculateDtsBase(t, e), this
										._remuxVideo(e), this._remuxAudio(t)
								}, i._onTrackMetadataReceived = function(t, e) {
									var i = null,
										n = "mp4",
										r = e.codec;
									if ("audio" === t) this._audioMeta = e, "mp3" === e.codec && this
										._mp3UseMpegAudio ? (n = "mpeg", r = "", i = new Uint8Array) :
										i = y.generateInitSegment(e);
									else {
										if ("video" !== t) return;
										this._videoMeta = e, i = y.generateInitSegment(e)
									}
									if (!this._onInitSegment) throw new IllegalStateException(
										"MP4Remuxer: onInitSegment callback must be specified!");
									this._onInitSegment(t, {
										type: t,
										data: i.buffer,
										codec: r,
										container: t + "/" + n,
										mediaDuration: e.duration
									})
								}, i._calculateDtsBase = function(t, e) {
									this._dtsBaseInited || (t.samples && t.samples.length && (this
											._audioDtsBase = t.samples[0].dts), e.samples && e
										.samples.length && (this._videoDtsBase = e.samples[0].dts),
										this._dtsBase = Math.min(this._audioDtsBase, this
											._videoDtsBase), this._dtsBaseInited = !0)
								}, i._remuxAudio = function(t) {
									if (null != this._audioMeta) {
										var e, i = t,
											n = i.samples,
											r = void 0,
											o = -1,
											s = this._audioMeta.refSampleDuration,
											a = "mp3" === this._audioMeta.codec && this
											._mp3UseMpegAudio,
											h = this._dtsBaseInited && void 0 === this._audioNextDts,
											c = !1;
										if (n && !(n.length <= 1)) {
											var u = 0,
												l = null,
												d = 0;
											a ? (u = 0, d = i.length) : (u = 8, d = 8 + i.length);
											var f = n[0].dts - this._dtsBase;
											if (this._audioNextDts) r = f - this._audioNextDts;
											else if (this._audioSegmentInfoList.isEmpty()) r = 0, this
												._fillSilentAfterSeek && !this._videoSegmentInfoList
												.isEmpty() && "mp3" !== this._audioMeta.originalCodec &&
												(c = !0);
											else {
												var p = this._audioSegmentInfoList.getLastSampleBefore(
													f);
												if (null != p) {
													var m = f - (p.originalDts + p.duration);
													m <= 3 && (m = 0), r = f - (p.dts + p.duration + m)
												} else r = 0
											}
											if (c) {
												var v = f - r,
													g = this._videoSegmentInfoList.getLastSegmentBefore(
														f);
												if (null != g && g.beginDts < v) {
													var b = _.getSilentFrame(this._audioMeta
														.originalCodec, this._audioMeta.channelCount
														);
													if (b) {
														var w = g.beginDts,
															S = v - g.beginDts;
														Log.v(this.TAG,
															"InsertPrefixSilentAudio: dts: " + w +
															", duration: " + S), n.unshift({
															unit: b,
															dts: w,
															pts: w
														}), d += b.byteLength
													}
												} else c = !1
											}
											var T = [];
											r = 0;
											for (var x = 0; x + 1 < n.length; x++) {
												var A = n[x],
													C = (A.unit, A.dts - this._dtsBase),
													R = C - r; - 1 === o && (o = R);
												var I = 0;
												I = x !== n.length - 1 ? n[x + 1].dts - this._dtsBase -
													r - R : T.length >= 1 ? T[T.length - 1].duration :
													Math.floor(s), T.push({
														dts: R,
														pts: R,
														cts: 0,
														unit: A.unit,
														size: A.unit.byteLength,
														duration: I,
														originalDts: C,
														flags: {
															isLeading: 0,
															dependsOn: 1,
															isDependedOn: 0,
															hasRedundancy: 0
														}
													})
											}
											if (a) l = new Uint8Array(d);
											else {
												for (var L = 8, P = 0; P < T.length; ++P) L += T[P]
												.size;
												(l = new Uint8Array(L))[0] = L >>> 24 & 255, l[1] =
													L >>> 16 & 255, l[2] = L >>> 8 & 255, l[3] = 255 &
													L, l.set(y.types.mdat, 4)
											}
											for (var D = 0; D < T.length; D++) {
												var M = T[D].unit;
												l.set(M, u), u += M.byteLength
											}
											var B = T[T.length - 1];
											e = B.dts + B.duration, this._audioNextDts = e;
											var O = new E;
											O.beginDts = o, O.endDts = e, O.beginPts = o, O.endPts = e,
												O.originalBeginDts = T[0].originalDts, O
												.originalEndDts = B.originalDts + B.duration, O
												.firstSample = new k(T[0].dts, T[0].pts, T[0].duration,
													T[0].originalDts, !1), O.lastSample = new k(B.dts, B
													.pts, B.duration, B.originalDts, !1), this
												._isLive || this._audioSegmentInfoList.append(O), i
												.samples = T, i.sequenceNumber++;
											var U = null;
											U = a ? new Uint8Array : y.moof(i, o), i.samples = [n[n
												.length - 1]], i.length = 0;
											var F = {
												type: "audio",
												data: this._mergeBoxes(U, l).buffer,
												sampleCount: T.length,
												info: O
											};
											a && h && (F.timestampOffset = o), this._onMediaSegment(
												"audio", F)
										}
									}
								}, i._remuxVideo = function(t) {
									if (null != this._videoMeta) {
										var e, i, n = t,
											r = n.samples,
											o = void 0,
											s = -1,
											a = -1;
										if (r && !(r.length <= 1)) {
											var h = r[0].dts - this._dtsBase;
											if (this._videoNextDts) o = Math.max(h - this._videoNextDts,
												0);
											else if (this._videoSegmentInfoList.isEmpty()) o = 0;
											else {
												var c = this._videoSegmentInfoList.getLastSampleBefore(
													h);
												if (null != c) {
													var u = h - (c.originalDts + c.duration);
													u <= 3 && (u = 0), o = h - (c.dts + c.duration + u)
												} else o = 0
											}
											var l = new E,
												d = [],
												f = o;
											o = 0;
											for (var p = 0; p + 1 < r.length; p++) {
												var m = r[p],
													v = m.dts - this._dtsBase - (0 == p ? f : 0),
													g = m.isKeyframe,
													_ = v - o,
													b = m.cts,
													w = _ + b; - 1 === s && (s = _, a = w);
												var S = 0;
												if (S = p !== r.length - 1 ? r[p + 1].dts - this
													._dtsBase - o - _ : d.length >= 1 ? d[d.length - 1]
													.duration : Math.floor(this._videoMeta
														.refSampleDuration), g) {
													var T = new k(_, w, S, m.dts, !0);
													T.fileposition = m.fileposition, l.appendSyncPoint(
														T)
												}
												d.push({
													dts: _,
													pts: w,
													cts: b,
													units: m.units,
													size: m.length,
													isKeyframe: g,
													duration: S,
													originalDts: v,
													flags: {
														isLeading: 0,
														dependsOn: g ? 2 : 1,
														isDependedOn: g ? 1 : 0,
														hasRedundancy: 0,
														isNonSync: g ? 0 : 1
													}
												})
											}
											for (var x = 8, A = 8, C = 0; C < d.length; ++C) A += d[C]
												.size;
											var R = new Uint8Array(A);
											R[0] = A >>> 24 & 255, R[1] = A >>> 16 & 255, R[2] = A >>>
												8 & 255, R[3] = 255 & A, R.set(y.types.mdat, 4);
											for (var I = 0; I < d.length; I++)
												for (var L = d[I].units; L.length;) {
													var P = L.shift().data;
													R.set(P, x), x += P.byteLength
												}
											var D = d[d.length - 1];
											if (e = D.dts + D.duration, i = D.pts + D.duration, this
												._videoNextDts = e, l.beginDts = s, l.endDts = e, l
												.beginPts = a, l.endPts = i, l.originalBeginDts = d[0]
												.originalDts, l.originalEndDts = D.originalDts + D
												.duration, l.firstSample = new k(d[0].dts, d[0].pts, d[
													0].duration, d[0].originalDts, d[0].isKeyframe), l
												.lastSample = new k(D.dts, D.pts, D.duration, D
													.originalDts, D.isKeyframe), this._isLive || this
												._videoSegmentInfoList.append(l), n.samples = d, n
												.sequenceNumber++, this._forceFirstIDR) {
												var M = d[0].flags;
												M.dependsOn = 2, M.isNonSync = 0
											}
											var B = y.moof(n, s);
											n.samples = [r[r.length - 1]], n.length = 0, this
												._onMediaSegment("video", {
													type: "video",
													data: this._mergeBoxes(B, R).buffer,
													sampleCount: d.length,
													info: l
												})
										}
									}
								}, i._mergeBoxes = function(t, e) {
									var i = new Uint8Array(t.byteLength + e.byteLength);
									return i.set(t, 0), i.set(e, t.byteLength), i
								}, e(t, [{
									key: "onInitSegment",
									get: function() {
										return this._onInitSegment
									},
									set: function(t) {
										this._onInitSegment = t
									}
								}, {
									key: "onMediaSegment",
									get: function() {
										return this._onMediaSegment
									},
									set: function(t) {
										this._onMediaSegment = t
									}
								}]), t
							}();

						function x(t) {
							return "string" == typeof t || t instanceof String
						}
						var A = void 0 !== Zn ? Zn : "undefined" != typeof self ? self : "undefined" !=
							typeof window ? window : {};

						function C() {
							throw new Error("setTimeout has not been defined")
						}

						function R() {
							throw new Error("clearTimeout has not been defined")
						}
						var I = C,
							L = R;

						function P(t) {
							if (I === setTimeout) return setTimeout(t, 0);
							if ((I === C || !I) && setTimeout) return I = setTimeout, setTimeout(t, 0);
							try {
								return I(t, 0)
							} catch (e) {
								try {
									return I.call(null, t, 0)
								} catch (e) {
									return I.call(this, t, 0)
								}
							}
						}
						"function" == typeof A.setTimeout && (I = setTimeout), "function" == typeof A
							.clearTimeout && (L = clearTimeout);
						var D, M = [],
							B = !1,
							O = -1;

						function U() {
							B && D && (B = !1, D.length ? M = D.concat(M) : O = -1, M.length && F())
						}

						function F() {
							if (!B) {
								var t = P(U);
								B = !0;
								for (var e = M.length; e;) {
									for (D = M, M = []; ++O < e;) D && D[O].run();
									O = -1, e = M.length
								}
								D = null, B = !1,
									function(t) {
										if (L === clearTimeout) return clearTimeout(t);
										if ((L === R || !L) && clearTimeout) return L = clearTimeout,
											clearTimeout(t);
										try {
											L(t)
										} catch (e) {
											try {
												return L.call(null, t)
											} catch (e) {
												return L.call(this, t)
											}
										}
									}(t)
							}
						}

						function N(t, e) {
							this.fun = t, this.array = e
						}
						N.prototype.run = function() {
							this.fun.apply(null, this.array)
						};
						var V = A.performance || {};
						V.now || V.mozNow || V.msNow || V.oNow || V.webkitNow, "undefined" !=
							typeof globalThis ? globalThis : "undefined" != typeof window ? window :
							void 0 !== Zn || "undefined" != typeof self && self;
						var z, H = (function(t, e) {
							var i;
							t.exports = (i = "undefined" != typeof window && window.Math === Math ?
								window : "undefined" != typeof self && self.Math === Math ?
								self : Function("return this")(), "number" == typeof __g && (
									__g = i), i)
						}(z = {
							exports: {}
						}), z.exports);
						"undefined" != typeof window && window.document,
							function() {
								var t = self.navigator.userAgent.toLowerCase(),
									e = /(firefox)\/([\w.]+)/.exec(t) || /(edg)\/([\w.]+)/.exec(t) ||
									/(edge)\/([\w.]+)/.exec(t) || /(opr)[\/]([\w.]+)/.exec(t) ||
									/(chrome)[ \/]([\w.]+)/.exec(t) || /(iemobile)[\/]([\w.]+)/.exec(t) ||
									/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t) ||
									/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/
									.exec(t) || /(webkit)[ \/]([\w.]+)/.exec(t) ||
									/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t) || /(msie) ([\w.]+)/.exec(
										t) || t.indexOf("trident") >= 0 && /(rv)(?::| )([\w.]+)/.exec(t) ||
									t.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(
									t) || [],
									i = /(ipad)/.exec(t) || /(ipod)/.exec(t) || /(windows phone)/.exec(t) ||
									/(iphone)/.exec(t) || /(kindle)/.exec(t) || /(android)/.exec(t) ||
									/(windows)/.exec(t) || /(mac)/.exec(t) || /(linux)/.exec(t) || /(cros)/
									.exec(t) || [],
									n = {
										browser: e[5] || e[3] || e[1] || "",
										version: e[2] || e[4] || "0",
										majorVersion: e[4] || e[2] || "0",
										platform: i[0] || ""
									},
									r = {};
								if (n.browser) {
									r[n.browser] = !0;
									var o = n.majorVersion.split(".");
									r.version = {
											major: parseInt(n.majorVersion, 10),
											string: n.version
										}, o.length > 1 && (r.version.minor = parseInt(o[1], 10)), o
										.length > 2 && (r.version.build = parseInt(o[2], 10))
								}
								n.platform && (r[n.platform] = !0), (r.chrome || r.opr || r.safari) && (r
										.webkit = !0), (r.rv || r.iemobile) && (r.rv && delete r.rv, n
										.browser = "msie", r.msie = !0), (r.edge || r.edg) && (delete r
										.edge, n.browser = "msedge", r.msedge = !0), r.opr && (n.browser =
										"opera", r.opera = !0), r.safari && r.android && (n.browser =
										"android", r.android = !0), r.name = n.browser, r.platform = n
									.platform
							}();
						var j, $, W, q = void 0 !== H && "[object Object]" !== Object.prototype.toString
							.call(H),
							G = (q && (H.requestAnimationFrame || H.mozRequestAnimationFrame || H
								.webkitRequestAnimationFrame || H.msRequestAnimationFrame || H
								.oRequestAnimationFrame), q && (H.cancelAnimationFrame || H
								.mozCancelAnimationFrame || H.webkitCancelAnimationFrame || H
								.webkitCancelRequestAnimationFrame || H.msCancelAnimationFrame || H
								.oCancelAnimationFrame), H.setImmediate || function(t) {
								var e = new Array(arguments.length - 1);
								if (arguments.length > 1)
									for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
								M.push(new N(t, e)), 1 !== M.length || B || P(F)
							}),
							K = {
								getUserAgent: function() {
									return navigator.userAgent
								},
								getPlatform: function() {
									return navigator.platform
								},
								isIos: function() {
									return /iPhone|iPad|iPod/.test(K.getPlatform())
								},
								isAndroid: function() {
									return /Android/.test(K.getUserAgent())
								},
								isBlackBerry: function() {
									return /BlackBerry/.test(K.getPlatform())
								},
								isMac: function() {
									return /Mac/.test(K.getPlatform())
								},
								isWindows: function() {
									return /Win/.test(K.getPlatform())
								},
								isLinux: function() {
									return /Linux/.test(K.getPlatform()) && !K.isAndroid()
								},
								get: function() {
									return K.isIos() ? "iOS" : K.isAndroid() ? "Android" : K
										.isBlackBerry() ? "BlackBerry" : K.isMac() ? "Mac" : K
										.isWindows() ? "Windows" : K.isLinux() ? "Linux" : "Unknown"
								}
							},
							Y = {
								getUserAgent: function() {
									return navigator.userAgent
								},
								get: function() {
									var t = K.get(),
										e = "Unknown";
									switch (t) {
										case "Android":
											var i = Y.getUserAgent().split("Android ");
											i.length > 1 && (e = i[1].split(";")[0]);
											break;
										case "Windows":
											var n = Y.getUserAgent().split("Windows NT ");
											if (n.length > 1) {
												var r = n[1];
												r.startsWith("5.0") ? e = "2000" : r.startsWith("5.1") ?
													e = "XP" : r.startsWith("5.2") ? e = "Server" : r
													.startsWith("6.0") ? e = "Vista" : r.startsWith(
														"6.1") ? e = "7" : r.startsWith("6.2") ? e =
													"8" : r.startsWith("6.3") ? e = "8.1" : r
													.startsWith("10.0") && (e = "10")
											}
											break;
										case "iOS":
											var o = Y.getUserAgent().split("OS ");
											o.length > 1 && (e = o[1].split(" ")[0].split("_").join(
												"."));
											break;
										case "Mac":
											var s = Y.getUserAgent().split("Mac OS X ");
											if (s.length > 1) {
												var a = s[1].indexOf(";"),
													h = s[1].indexOf(")");
												h > -1 && (h < a || -1 == a) && (a = h), e = s[1]
													.substring(0, a).split("_").join(".")
											}
											break;
										case "BlackBerry":
											var c = Y.getUserAgent().split("BlackBerry9700/");
											c.length > 1 ? e = c[1].split(" ")[0] : (c = Y
											.getUserAgent().split("Version/")).length > 1 && (e = c[
												1].split(" ")[0])
									}
									return {
										os: t,
										version: e
									}
								}
							},
							X = (Y.get(), Date.now || function() {
								return +new Date
							}),
							Z = "function" == typeof WeakMap && (WeakMap.prototype || 0).set ? (j =
								new WeakMap,
								function(t, e) {
									var i = j.get(t);
									return null === e ? void 0 !== i && j.delete(t) : !i && e ? (j.set(t,
										i = {}), i) : i
								}) : ($ = X(), W = "__$widΦ" + $.toString(36), j = {}, function(t, e) {
								if (!t || "object" != typeof t) throw TypeError(
									"Invalid host object apply with weak data");
								var i;
								return null === e ? t[W] && (delete j[t[W]], delete t[W]) : (i = t[W] ||
									e && (i = ++$, j[i] = {}, t[W] = i)) && j[i]
							}),
							Q = {}.hasOwnProperty;

						function J(t, e) {
							for (var i in t) Q.call(t, i) && e(t[i], i)
						}
						var tt = Date.now || function() {
								return +new Date
							},
							et = Object.defineProperty,
							it = et ? function(t, e, i) {
								return et(t, e, {
									writable: !0,
									value: i
								})
							} : function(t, e, i) {
								return t[e] = i
							},
							nt = Object.keys || function(t) {
								var e = [];
								return J(t, function(t, i) {
									e.push(i)
								}), e
							},
							rt = 2,
							ot = 0,
							st = 1,
							at = 2,
							ht = /\s+/,
							ct = tt() * Math.random() & 65535,
							ut = function(t, e, i) {
								var n = [];
								return n[ot] = t, n[st] = e, n[at] = i, n
							};

						function lt() {}
						var dt = lt.prototype;

						function ft(t, e, i) {
							var n;
							switch (i.length) {
								case 0:
									n = e ? t.call(e) : t();
									break;
								case 1:
									n = t.call(e, i[0]);
									break;
								case 2:
									n = t.call(e, i[0], i[1]);
									break;
								default:
									n = t.apply(e, i)
							}
							return n
						}

						function pt(t, e, i, n) {
							var r = !0;
							if (e)
								for (var o, s, a, h = -1, c = {
										type: t,
										timeStamp: tt(),
										data: i
									}; o = e[++h];) {
									s = o[ot], a = o[st] || n;
									try {
										r = o[at] === rt ? !1 !== ft(s, a, [c, i]) && r : !1 !== ft(s, a,
											i) && r
									} catch (t) {
										setTimeout(function() {}, 1)
									}
								}
							return r
						}
						dt.addListener = function(t, e, i, n) {
							var r, o, s = 1;
							if (e && "object" == typeof e && (e = (i = e).handleEvent, s = rt), !e)
								return this;
							for (r = Z(this, 1), this._events || it(this, "_events", r), t = t.split(
								ht); o = t.shift();)(!n && r[o] || (r[o] = [])).push(ut(e, i, s));
							return this
						}, dt.on = dt.addListener, dt.once = function(t, e, i) {
							var n = !1,
								r = this,
								o = function o() {
									r.removeListener(t, o), n || (n = !0, e.apply(i || r, arguments))
								};
							return o.guid = e.guid || (e.guid = ct++), r.on(t, o)
						}, dt.removeListener = function(t, e, i) {
							var n, r, o, s, a, h;
							if (e && "object" == typeof e && (e = (i = e).handleEvent), !(n = Z(this)))
								return this;
							if (!(t || e || i)) return J(n, function(t, e) {
								delete n[e]
							}), Z(this, null), this;
							for (t = t ? t.split(ht) : nt(n); r = t.shift();)
								if (o = n[r])
									if (e || i) {
										for (s = o.length; --s >= 0;) h = (a = o[s])[ot], e && h !==
											e && (void 0 === h.guid || h.guid !== e.guid) || i && a[
											st] !== i || o.splice(s, 1);
										o.length || delete n[r]
									} else delete n[r];
							return function(t) {
								for (var e in t)
									if (Q.call(t, e)) return !1;
								return !0
							}(n) && Z(this, null), this
						}, dt.off = dt.removeListener, dt.removeAllListeners = function(t) {
							return this.removeListener(t)
						}, dt.emit = function(t) {
							var e, i, n, r, o = !0;
							if (!(e = Z(this))) return this;
							t = t.split(ht);
							for (var s = arguments.length, a = new Array(s > 1 ? s - 1 : 0), h = 1; h <
								s; h++) a[h - 1] = arguments[h];
							for (; i = t.shift();)(n = e.all) && (n = n.slice()), (r = e[i]) && (r = r
								.slice()), "all" !== i && (o = pt(i, r, a, this) && o), o = pt(i, n,
								[i].concat(a), this) && o;
							return o
						}, dt.listenerCount = function(t) {
							var e, i = Z(this);
							return i && (e = i[t]) ? e.length : 0
						}, lt.EventEmitter = lt;
						var mt = function(t) {
							function e() {
								return t.apply(this, arguments) || this
							}
							return i(e, t), e.prototype.emit = function(e, i) {
								var n = r(Object.create(null), {
									type: e,
									data: i,
									target: this
								});
								return t.prototype.emit.call(this, e, n)
							}, e
						}(lt.EventEmitter);
						q && document.createElement("div");
						try {
							var vt = n({}, "passive", {
								get: function() {}
							});
							q && window.addEventListener("test", null, vt)
						} catch (t) {}
						var gt = [],
							yt = [],
							_t = "undefined" != typeof Uint8Array ? Uint8Array : Array,
							bt = !1;

						function wt() {
							bt = !0;
							for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
									e = 0, i = t.length; e < i; ++e) gt[e] = t[e], yt[t.charCodeAt(e)] = e;
							yt["-".charCodeAt(0)] = 62, yt["_".charCodeAt(0)] = 63
						}

						function kt(t, e, i) {
							for (var n, r, o = [], s = e; s < i; s += 3) n = (t[s] << 16) + (t[s + 1] <<
								8) + t[s + 2], o.push(gt[(r = n) >> 18 & 63] + gt[r >> 12 & 63] + gt[r >>
									6 & 63] + gt[63 & r]);
							return o.join("")
						}

						function Et(t) {
							var e;
							bt || wt();
							for (var i = t.length, n = i % 3, r = "", o = [], s = 0, a = i - n; s < a; s +=
								16383) o.push(kt(t, s, s + 16383 > a ? a : s + 16383));
							return 1 === n ? (e = t[i - 1], r += gt[e >> 2], r += gt[e << 4 & 63], r +=
									"==") : 2 === n && (e = (t[i - 2] << 8) + t[i - 1], r += gt[e >> 10],
									r += gt[e >> 4 & 63], r += gt[e << 2 & 63], r += "="), o.push(r), o
								.join("")
						}

						function St(t, e, i, n, r) {
							var o, s, a = 8 * r - n - 1,
								h = (1 << a) - 1,
								c = h >> 1,
								u = -7,
								l = i ? r - 1 : 0,
								d = i ? -1 : 1,
								f = t[e + l];
							for (l += d, o = f & (1 << -u) - 1, f >>= -u, u += a; u > 0; o = 256 * o + t[e +
									l], l += d, u -= 8);
							for (s = o & (1 << -u) - 1, o >>= -u, u += n; u > 0; s = 256 * s + t[e + l],
								l += d, u -= 8);
							if (0 === o) o = 1 - c;
							else {
								if (o === h) return s ? NaN : 1 / 0 * (f ? -1 : 1);
								s += Math.pow(2, n), o -= c
							}
							return (f ? -1 : 1) * s * Math.pow(2, o - n)
						}

						function Tt(t, e, i, n, r, o) {
							var s, a, h, c = 8 * o - r - 1,
								u = (1 << c) - 1,
								l = u >> 1,
								d = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
								f = n ? 0 : o - 1,
								p = n ? 1 : -1,
								m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
							for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, s = u) :
								(s = Math.floor(Math.log(e) / Math.LN2), e * (h = Math.pow(2, -s)) < 1 && (
										s--, h *= 2), (e += s + l >= 1 ? d / h : d * Math.pow(2, 1 - l)) *
									h >= 2 && (s++, h /= 2), s + l >= u ? (a = 0, s = u) : s + l >= 1 ? (a =
										(e * h - 1) * Math.pow(2, r), s += l) : (a = e * Math.pow(2, l -
										1) * Math.pow(2, r), s = 0)); r >= 8; t[i + f] = 255 & a, f += p,
								a /= 256, r -= 8);
							for (s = s << r | a, c += r; c > 0; t[i + f] = 255 & s, f += p, s /= 256, c -=
								8);
							t[i + f - p] |= 128 * m
						}
						var xt = {}.toString,
							At = Array.isArray || function(t) {
								return "[object Array]" == xt.call(t)
							};

						function Ct() {
							return It.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
						}

						function Rt(t, e) {
							if (Ct() < e) throw new RangeError("Invalid typed array length");
							return It.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e)).__proto__ = It
								.prototype : (null === t && (t = new It(e)), t.length = e), t
						}

						function It(t, e, i) {
							if (!(It.TYPED_ARRAY_SUPPORT || this instanceof It)) return new It(t, e, i);
							if ("number" == typeof t) {
								if ("string" == typeof e) throw new Error(
									"If encoding is specified then the first argument must be a string"
									);
								return Dt(this, t)
							}
							return Lt(this, t, e, i)
						}

						function Lt(t, e, i, n) {
							if ("number" == typeof e) throw new TypeError(
								'"value" argument must not be a number');
							return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? function(
								t, e, i, n) {
								if (e.byteLength, i < 0 || e.byteLength < i) throw new RangeError(
									"'offset' is out of bounds");
								if (e.byteLength < i + (n || 0)) throw new RangeError(
									"'length' is out of bounds");
								return e = void 0 === i && void 0 === n ? new Uint8Array(e) : void 0 ===
									n ? new Uint8Array(e, i) : new Uint8Array(e, i, n), It
									.TYPED_ARRAY_SUPPORT ? (t = e).__proto__ = It.prototype : t = Mt(t,
										e), t
							}(t, e, i, n) : "string" == typeof e ? function(t, e, i) {
								if ("string" == typeof i && "" !== i || (i = "utf8"), !It.isEncoding(i))
									throw new TypeError('"encoding" must be a valid string encoding');
								var n = 0 | Ut(e, i),
									r = (t = Rt(t, n)).write(e, i);
								return r !== n && (t = t.slice(0, r)), t
							}(t, e, i) : function(t, e) {
								if (Ot(e)) {
									var i = 0 | Bt(e.length);
									return 0 === (t = Rt(t, i)).length ? t : (e.copy(t, 0, 0, i), t)
								}
								if (e) {
									if ("undefined" != typeof ArrayBuffer && e
										.buffer instanceof ArrayBuffer || "length" in e)
									return "number" != typeof e.length || (n = e.length) != n ? Rt(
											t, 0) : Mt(t, e);
									if ("Buffer" === e.type && At(e.data)) return Mt(t, e.data)
								}
								var n;
								throw new TypeError(
									"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object."
									)
							}(t, e)
						}

						function Pt(t) {
							if ("number" != typeof t) throw new TypeError(
								'"size" argument must be a number');
							if (t < 0) throw new RangeError('"size" argument must not be negative')
						}

						function Dt(t, e) {
							if (Pt(e), t = Rt(t, e < 0 ? 0 : 0 | Bt(e)), !It.TYPED_ARRAY_SUPPORT)
								for (var i = 0; i < e; ++i) t[i] = 0;
							return t
						}

						function Mt(t, e) {
							var i = e.length < 0 ? 0 : 0 | Bt(e.length);
							t = Rt(t, i);
							for (var n = 0; n < i; n += 1) t[n] = 255 & e[n];
							return t
						}

						function Bt(t) {
							if (t >= Ct()) throw new RangeError(
								"Attempt to allocate Buffer larger than maximum size: 0x" + Ct()
								.toString(16) + " bytes");
							return 0 | t
						}

						function Ot(t) {
							return !(null == t || !t._isBuffer)
						}

						function Ut(t, e) {
							if (Ot(t)) return t.length;
							if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer
								.isView && (ArrayBuffer.isView(t) || t instanceof ArrayBuffer)) return t
								.byteLength;
							"string" != typeof t && (t = "" + t);
							var i = t.length;
							if (0 === i) return 0;
							for (var n = !1;;) switch (e) {
								case "ascii":
								case "latin1":
								case "binary":
									return i;
								case "utf8":
								case "utf-8":
								case void 0:
									return ue(t).length;
								case "ucs2":
								case "ucs-2":
								case "utf16le":
								case "utf-16le":
									return 2 * i;
								case "hex":
									return i >>> 1;
								case "base64":
									return le(t).length;
								default:
									if (n) return ue(t).length;
									e = ("" + e).toLowerCase(), n = !0
							}
						}

						function Ft(t, e, i) {
							var n = t[e];
							t[e] = t[i], t[i] = n
						}

						function Nt(t, e, i, n, r) {
							if (0 === t.length) return -1;
							if ("string" == typeof i ? (n = i, i = 0) : i > 2147483647 ? i = 2147483647 :
								i < -2147483648 && (i = -2147483648), i = +i, isNaN(i) && (i = r ? 0 : t
									.length - 1), i < 0 && (i = t.length + i), i >= t.length) {
								if (r) return -1;
								i = t.length - 1
							} else if (i < 0) {
								if (!r) return -1;
								i = 0
							}
							if ("string" == typeof e && (e = It.from(e, n)), Ot(e)) return 0 === e.length ?
								-1 : Vt(t, e, i, n, r);
							if ("number" == typeof e) return e &= 255, It.TYPED_ARRAY_SUPPORT &&
								"function" == typeof Uint8Array.prototype.indexOf ? r ? Uint8Array
								.prototype.indexOf.call(t, e, i) : Uint8Array.prototype.lastIndexOf
								.call(t, e, i) : Vt(t, [e], i, n, r);
							throw new TypeError("val must be string, number or Buffer")
						}

						function Vt(t, e, i, n, r) {
							var o, s = 1,
								a = t.length,
								h = e.length;
							if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" ===
									n || "utf16le" === n || "utf-16le" === n)) {
								if (t.length < 2 || e.length < 2) return -1;
								s = 2, a /= 2, h /= 2, i /= 2
							}

							function c(t, e) {
								return 1 === s ? t[e] : t.readUInt16BE(e * s)
							}
							if (r) {
								var u = -1;
								for (o = i; o < a; o++)
									if (c(t, o) === c(e, -1 === u ? 0 : o - u)) {
										if (-1 === u && (u = o), o - u + 1 === h) return u * s
									} else -1 !== u && (o -= o - u), u = -1
							} else
								for (i + h > a && (i = a - h), o = i; o >= 0; o--) {
									for (var l = !0, d = 0; d < h; d++)
										if (c(t, o + d) !== c(e, d)) {
											l = !1;
											break
										} if (l) return o
								}
							return -1
						}

						function zt(t, e, i, n) {
							i = Number(i) || 0;
							var r = t.length - i;
							n ? (n = Number(n)) > r && (n = r) : n = r;
							var o = e.length;
							if (o % 2 != 0) throw new TypeError("Invalid hex string");
							n > o / 2 && (n = o / 2);
							for (var s = 0; s < n; ++s) {
								var a = parseInt(e.substr(2 * s, 2), 16);
								if (isNaN(a)) return s;
								t[i + s] = a
							}
							return s
						}

						function Ht(t, e, i, n) {
							return de(ue(e, t.length - i), t, i, n)
						}

						function jt(t, e, i, n) {
							return de(function(t) {
								for (var e = [], i = 0; i < t.length; ++i) e.push(255 & t
									.charCodeAt(i));
								return e
							}(e), t, i, n)
						}

						function $t(t, e, i, n) {
							return jt(t, e, i, n)
						}

						function Wt(t, e, i, n) {
							return de(le(e), t, i, n)
						}

						function qt(t, e, i, n) {
							return de(function(t, e) {
								for (var i, n, r, o = [], s = 0; s < t.length && !((e -= 2) < 0); ++
									s) i = t.charCodeAt(s), n = i >> 8, r = i % 256, o.push(r), o
									.push(n);
								return o
							}(e, t.length - i), t, i, n)
						}

						function Gt(t, e, i) {
							return 0 === e && i === t.length ? Et(t) : Et(t.slice(e, i))
						}

						function Kt(t, e, i) {
							i = Math.min(t.length, i);
							for (var n = [], r = e; r < i;) {
								var o, s, a, h, c = t[r],
									u = null,
									l = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
								if (r + l <= i) switch (l) {
									case 1:
										c < 128 && (u = c);
										break;
									case 2:
										128 == (192 & (o = t[r + 1])) && (h = (31 & c) << 6 | 63 & o) >
											127 && (u = h);
										break;
									case 3:
										o = t[r + 1], s = t[r + 2], 128 == (192 & o) && 128 == (192 &
											s) && (h = (15 & c) << 12 | (63 & o) << 6 | 63 & s) >
											2047 && (h < 55296 || h > 57343) && (u = h);
										break;
									case 4:
										o = t[r + 1], s = t[r + 2], a = t[r + 3], 128 == (192 & o) &&
											128 == (192 & s) && 128 == (192 & a) && (h = (15 & c) <<
												18 | (63 & o) << 12 | (63 & s) << 6 | 63 & a) > 65535 &&
											h < 1114112 && (u = h)
								}
								null === u ? (u = 65533, l = 1) : u > 65535 && (u -= 65536, n.push(u >>>
									10 & 1023 | 55296), u = 56320 | 1023 & u), n.push(u), r += l
							}
							return function(t) {
								var e = t.length;
								if (e <= Yt) return String.fromCharCode.apply(String, t);
								for (var i = "", n = 0; n < e;) i += String.fromCharCode.apply(String, t
									.slice(n, n += Yt));
								return i
							}(n)
						}
						It.TYPED_ARRAY_SUPPORT = void 0 === A.TYPED_ARRAY_SUPPORT || A.TYPED_ARRAY_SUPPORT,
							It.poolSize = 8192, It._augment = function(t) {
								return t.__proto__ = It.prototype, t
							}, It.from = function(t, e, i) {
								return Lt(null, t, e, i)
							}, It.TYPED_ARRAY_SUPPORT && (It.prototype.__proto__ = Uint8Array.prototype, It
								.__proto__ = Uint8Array), It.alloc = function(t, e, i) {
								return function(t, e, i, n) {
									return Pt(e), e <= 0 ? Rt(t, e) : void 0 !== i ? "string" ==
										typeof n ? Rt(t, e).fill(i, n) : Rt(t, e).fill(i) : Rt(t, e)
								}(null, t, e, i)
							}, It.allocUnsafe = function(t) {
								return Dt(null, t)
							}, It.allocUnsafeSlow = function(t) {
								return Dt(null, t)
							}, It.isBuffer = function(t) {
								return null != t && (!!t._isBuffer || fe(t) || function(t) {
									return "function" == typeof t.readFloatLE && "function" ==
										typeof t.slice && fe(t.slice(0, 0))
								}(t))
							}, It.compare = function(t, e) {
								if (!Ot(t) || !Ot(e)) throw new TypeError("Arguments must be Buffers");
								if (t === e) return 0;
								for (var i = t.length, n = e.length, r = 0, o = Math.min(i, n); r < o; ++r)
									if (t[r] !== e[r]) {
										i = t[r], n = e[r];
										break
									} return i < n ? -1 : n < i ? 1 : 0
							}, It.isEncoding = function(t) {
								switch (String(t).toLowerCase()) {
									case "hex":
									case "utf8":
									case "utf-8":
									case "ascii":
									case "latin1":
									case "binary":
									case "base64":
									case "ucs2":
									case "ucs-2":
									case "utf16le":
									case "utf-16le":
										return !0;
									default:
										return !1
								}
							}, It.concat = function(t, e) {
								if (!At(t)) throw new TypeError(
									'"list" argument must be an Array of Buffers');
								if (0 === t.length) return It.alloc(0);
								var i;
								if (void 0 === e)
									for (e = 0, i = 0; i < t.length; ++i) e += t[i].length;
								var n = It.allocUnsafe(e),
									r = 0;
								for (i = 0; i < t.length; ++i) {
									var o = t[i];
									if (!Ot(o)) throw new TypeError(
										'"list" argument must be an Array of Buffers');
									o.copy(n, r), r += o.length
								}
								return n
							}, It.byteLength = Ut, It.prototype._isBuffer = !0, It.prototype.swap16 =
							function() {
								var t = this.length;
								if (t % 2 != 0) throw new RangeError(
									"Buffer size must be a multiple of 16-bits");
								for (var e = 0; e < t; e += 2) Ft(this, e, e + 1);
								return this
							}, It.prototype.swap32 = function() {
								var t = this.length;
								if (t % 4 != 0) throw new RangeError(
									"Buffer size must be a multiple of 32-bits");
								for (var e = 0; e < t; e += 4) Ft(this, e, e + 3), Ft(this, e + 1, e + 2);
								return this
							}, It.prototype.swap64 = function() {
								var t = this.length;
								if (t % 8 != 0) throw new RangeError(
									"Buffer size must be a multiple of 64-bits");
								for (var e = 0; e < t; e += 8) Ft(this, e, e + 7), Ft(this, e + 1, e + 6),
									Ft(this, e + 2, e + 5), Ft(this, e + 3, e + 4);
								return this
							}, It.prototype.toString = function() {
								var t = 0 | this.length;
								return 0 === t ? "" : 0 === arguments.length ? Kt(this, 0, t) : function(t,
									e, i) {
									var n = !1;
									if ((void 0 === e || e < 0) && (e = 0), e > this.length) return "";
									if ((void 0 === i || i > this.length) && (i = this.length), i <= 0)
										return "";
									if ((i >>>= 0) <= (e >>>= 0)) return "";
									for (t || (t = "utf8");;) switch (t) {
										case "hex":
											return Qt(this, e, i);
										case "utf8":
										case "utf-8":
											return Kt(this, e, i);
										case "ascii":
											return Xt(this, e, i);
										case "latin1":
										case "binary":
											return Zt(this, e, i);
										case "base64":
											return Gt(this, e, i);
										case "ucs2":
										case "ucs-2":
										case "utf16le":
										case "utf-16le":
											return Jt(this, e, i);
										default:
											if (n) throw new TypeError("Unknown encoding: " + t);
											t = (t + "").toLowerCase(), n = !0
									}
								}.apply(this, arguments)
							}, It.prototype.equals = function(t) {
								if (!Ot(t)) throw new TypeError("Argument must be a Buffer");
								return this === t || 0 === It.compare(this, t)
							}, It.prototype.inspect = function() {
								var t = "";
								return this.length > 0 && (t = this.toString("hex", 0, 50).match(/.{2}/g)
										.join(" "), this.length > 50 && (t += " ... ")), "<Buffer " + t +
									">"
							}, It.prototype.compare = function(t, e, i, n, r) {
								if (!Ot(t)) throw new TypeError("Argument must be a Buffer");
								if (void 0 === e && (e = 0), void 0 === i && (i = t ? t.length : 0),
									void 0 === n && (n = 0), void 0 === r && (r = this.length), e < 0 || i >
									t.length || n < 0 || r > this.length) throw new RangeError(
									"out of range index");
								if (n >= r && e >= i) return 0;
								if (n >= r) return -1;
								if (e >= i) return 1;
								if (this === t) return 0;
								for (var o = (r >>>= 0) - (n >>>= 0), s = (i >>>= 0) - (e >>>= 0), a = Math
										.min(o, s), h = this.slice(n, r), c = t.slice(e, i), u = 0; u <
									a; ++u)
									if (h[u] !== c[u]) {
										o = h[u], s = c[u];
										break
									} return o < s ? -1 : s < o ? 1 : 0
							}, It.prototype.includes = function(t, e, i) {
								return -1 !== this.indexOf(t, e, i)
							}, It.prototype.indexOf = function(t, e, i) {
								return Nt(this, t, e, i, !0)
							}, It.prototype.lastIndexOf = function(t, e, i) {
								return Nt(this, t, e, i, !1)
							}, It.prototype.write = function(t, e, i, n) {
								if (void 0 === e) n = "utf8", i = this.length, e = 0;
								else if (void 0 === i && "string" == typeof e) n = e, i = this.length, e =
								0;
								else {
									if (!isFinite(e)) throw new Error(
										"Buffer.write(string, encoding, offset[, length]) is no longer supported"
										);
									e |= 0, isFinite(i) ? (i |= 0, void 0 === n && (n = "utf8")) : (n = i,
										i = void 0)
								}
								var r = this.length - e;
								if ((void 0 === i || i > r) && (i = r), t.length > 0 && (i < 0 || e < 0) ||
									e > this.length) throw new RangeError(
									"Attempt to write outside buffer bounds");
								n || (n = "utf8");
								for (var o = !1;;) switch (n) {
									case "hex":
										return zt(this, t, e, i);
									case "utf8":
									case "utf-8":
										return Ht(this, t, e, i);
									case "ascii":
										return jt(this, t, e, i);
									case "latin1":
									case "binary":
										return $t(this, t, e, i);
									case "base64":
										return Wt(this, t, e, i);
									case "ucs2":
									case "ucs-2":
									case "utf16le":
									case "utf-16le":
										return qt(this, t, e, i);
									default:
										if (o) throw new TypeError("Unknown encoding: " + n);
										n = ("" + n).toLowerCase(), o = !0
								}
							}, It.prototype.toJSON = function() {
								return {
									type: "Buffer",
									data: Array.prototype.slice.call(this._arr || this, 0)
								}
							};
						var Yt = 4096;

						function Xt(t, e, i) {
							var n = "";
							i = Math.min(t.length, i);
							for (var r = e; r < i; ++r) n += String.fromCharCode(127 & t[r]);
							return n
						}

						function Zt(t, e, i) {
							var n = "";
							i = Math.min(t.length, i);
							for (var r = e; r < i; ++r) n += String.fromCharCode(t[r]);
							return n
						}

						function Qt(t, e, i) {
							var n = t.length;
							(!e || e < 0) && (e = 0), (!i || i < 0 || i > n) && (i = n);
							for (var r = "", o = e; o < i; ++o) r += ce(t[o]);
							return r
						}

						function Jt(t, e, i) {
							for (var n = t.slice(e, i), r = "", o = 0; o < n.length; o += 2) r += String
								.fromCharCode(n[o] + 256 * n[o + 1]);
							return r
						}

						function te(t, e, i) {
							if (t % 1 != 0 || t < 0) throw new RangeError("offset is not uint");
							if (t + e > i) throw new RangeError("Trying to access beyond buffer length")
						}

						function ee(t, e, i, n, r, o) {
							if (!Ot(t)) throw new TypeError('"buffer" argument must be a Buffer instance');
							if (e > r || e < o) throw new RangeError('"value" argument is out of bounds');
							if (i + n > t.length) throw new RangeError("Index out of range")
						}

						function ie(t, e, i, n) {
							e < 0 && (e = 65535 + e + 1);
							for (var r = 0, o = Math.min(t.length - i, 2); r < o; ++r) t[i + r] = (e &
								255 << 8 * (n ? r : 1 - r)) >>> 8 * (n ? r : 1 - r)
						}

						function ne(t, e, i, n) {
							e < 0 && (e = 4294967295 + e + 1);
							for (var r = 0, o = Math.min(t.length - i, 4); r < o; ++r) t[i + r] = e >>> 8 *
								(n ? r : 3 - r) & 255
						}

						function re(t, e, i, n, r, o) {
							if (i + n > t.length) throw new RangeError("Index out of range");
							if (i < 0) throw new RangeError("Index out of range")
						}

						function oe(t, e, i, n, r) {
							return r || re(t, 0, i, 4), Tt(t, e, i, n, 23, 4), i + 4
						}

						function se(t, e, i, n, r) {
							return r || re(t, 0, i, 8), Tt(t, e, i, n, 52, 8), i + 8
						}
						It.prototype.slice = function(t, e) {
							var i, n = this.length;
							if ((t = ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), (e =
									void 0 === e ? n : ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (
									e = n), e < t && (e = t), It.TYPED_ARRAY_SUPPORT)(i = this.subarray(
								t, e)).__proto__ = It.prototype;
							else {
								var r = e - t;
								i = new It(r, void 0);
								for (var o = 0; o < r; ++o) i[o] = this[o + t]
							}
							return i
						}, It.prototype.readUIntLE = function(t, e, i) {
							t |= 0, e |= 0, i || te(t, e, this.length);
							for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t +
								o] * r;
							return n
						}, It.prototype.readUIntBE = function(t, e, i) {
							t |= 0, e |= 0, i || te(t, e, this.length);
							for (var n = this[t + --e], r = 1; e > 0 && (r *= 256);) n += this[t + --
								e] * r;
							return n
						}, It.prototype.readUInt8 = function(t, e) {
							return e || te(t, 1, this.length), this[t]
						}, It.prototype.readUInt16LE = function(t, e) {
							return e || te(t, 2, this.length), this[t] | this[t + 1] << 8
						}, It.prototype.readUInt16BE = function(t, e) {
							return e || te(t, 2, this.length), this[t] << 8 | this[t + 1]
						}, It.prototype.readUInt32LE = function(t, e) {
							return e || te(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t +
								2] << 16) + 16777216 * this[t + 3]
						}, It.prototype.readUInt32BE = function(t, e) {
							return e || te(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 |
								this[t + 2] << 8 | this[t + 3])
						}, It.prototype.readIntLE = function(t, e, i) {
							t |= 0, e |= 0, i || te(t, e, this.length);
							for (var n = this[t], r = 1, o = 0; ++o < e && (r *= 256);) n += this[t +
								o] * r;
							return n >= (r *= 128) && (n -= Math.pow(2, 8 * e)), n
						}, It.prototype.readIntBE = function(t, e, i) {
							t |= 0, e |= 0, i || te(t, e, this.length);
							for (var n = e, r = 1, o = this[t + --n]; n > 0 && (r *= 256);) o += this[
								t + --n] * r;
							return o >= (r *= 128) && (o -= Math.pow(2, 8 * e)), o
						}, It.prototype.readInt8 = function(t, e) {
							return e || te(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] +
								1) : this[t]
						}, It.prototype.readInt16LE = function(t, e) {
							e || te(t, 2, this.length);
							var i = this[t] | this[t + 1] << 8;
							return 32768 & i ? 4294901760 | i : i
						}, It.prototype.readInt16BE = function(t, e) {
							e || te(t, 2, this.length);
							var i = this[t + 1] | this[t] << 8;
							return 32768 & i ? 4294901760 | i : i
						}, It.prototype.readInt32LE = function(t, e) {
							return e || te(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t +
								2] << 16 | this[t + 3] << 24
						}, It.prototype.readInt32BE = function(t, e) {
							return e || te(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[
								t + 2] << 8 | this[t + 3]
						}, It.prototype.readFloatLE = function(t, e) {
							return e || te(t, 4, this.length), St(this, t, !0, 23, 4)
						}, It.prototype.readFloatBE = function(t, e) {
							return e || te(t, 4, this.length), St(this, t, !1, 23, 4)
						}, It.prototype.readDoubleLE = function(t, e) {
							return e || te(t, 8, this.length), St(this, t, !0, 52, 8)
						}, It.prototype.readDoubleBE = function(t, e) {
							return e || te(t, 8, this.length), St(this, t, !1, 52, 8)
						}, It.prototype.writeUIntLE = function(t, e, i, n) {
							t = +t, e |= 0, i |= 0, n || ee(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
							var r = 1,
								o = 0;
							for (this[e] = 255 & t; ++o < i && (r *= 256);) this[e + o] = t / r & 255;
							return e + i
						}, It.prototype.writeUIntBE = function(t, e, i, n) {
							t = +t, e |= 0, i |= 0, n || ee(this, t, e, i, Math.pow(2, 8 * i) - 1, 0);
							var r = i - 1,
								o = 1;
							for (this[e + r] = 255 & t; --r >= 0 && (o *= 256);) this[e + r] = t / o &
								255;
							return e + i
						}, It.prototype.writeUInt8 = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 1, 255, 0), It
								.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), this[e] = 255 & t, e + 1
						}, It.prototype.writeUInt16LE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 2, 65535, 0), It
								.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : ie(
									this, t, e, !0), e + 2
						}, It.prototype.writeUInt16BE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 2, 65535, 0), It
								.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : ie(
									this, t, e, !1), e + 2
						}, It.prototype.writeUInt32LE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 4, 4294967295, 0), It
								.TYPED_ARRAY_SUPPORT ? (this[e + 3] = t >>> 24, this[e + 2] = t >>> 16,
									this[e + 1] = t >>> 8, this[e] = 255 & t) : ne(this, t, e, !0), e +
								4
						}, It.prototype.writeUInt32BE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 4, 4294967295, 0), It
								.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16,
									this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : ne(this, t, e, !1),
								e + 4
						}, It.prototype.writeIntLE = function(t, e, i, n) {
							if (t = +t, e |= 0, !n) {
								var r = Math.pow(2, 8 * i - 1);
								ee(this, t, e, i, r - 1, -r)
							}
							var o = 0,
								s = 1,
								a = 0;
							for (this[e] = 255 & t; ++o < i && (s *= 256);) t < 0 && 0 === a && 0 !==
								this[e + o - 1] && (a = 1), this[e + o] = (t / s >> 0) - a & 255;
							return e + i
						}, It.prototype.writeIntBE = function(t, e, i, n) {
							if (t = +t, e |= 0, !n) {
								var r = Math.pow(2, 8 * i - 1);
								ee(this, t, e, i, r - 1, -r)
							}
							var o = i - 1,
								s = 1,
								a = 0;
							for (this[e + o] = 255 & t; --o >= 0 && (s *= 256);) t < 0 && 0 === a &&
								0 !== this[e + o + 1] && (a = 1), this[e + o] = (t / s >> 0) - a & 255;
							return e + i
						}, It.prototype.writeInt8 = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 1, 127, -128), It
								.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), t < 0 && (t = 255 + t + 1),
								this[e] = 255 & t, e + 1
						}, It.prototype.writeInt16LE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 2, 32767, -32768), It
								.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : ie(
									this, t, e, !0), e + 2
						}, It.prototype.writeInt16BE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 2, 32767, -32768), It
								.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : ie(
									this, t, e, !1), e + 2
						}, It.prototype.writeInt32LE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 4, 2147483647, -2147483648), It
								.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8, this[
									e + 2] = t >>> 16, this[e + 3] = t >>> 24) : ne(this, t, e, !0), e +
								4
						}, It.prototype.writeInt32BE = function(t, e, i) {
							return t = +t, e |= 0, i || ee(this, t, e, 4, 2147483647, -2147483648), t <
								0 && (t = 4294967295 + t + 1), It.TYPED_ARRAY_SUPPORT ? (this[e] = t >>>
									24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] =
									255 & t) : ne(this, t, e, !1), e + 4
						}, It.prototype.writeFloatLE = function(t, e, i) {
							return oe(this, t, e, !0, i)
						}, It.prototype.writeFloatBE = function(t, e, i) {
							return oe(this, t, e, !1, i)
						}, It.prototype.writeDoubleLE = function(t, e, i) {
							return se(this, t, e, !0, i)
						}, It.prototype.writeDoubleBE = function(t, e, i) {
							return se(this, t, e, !1, i)
						}, It.prototype.copy = function(t, e, i, n) {
							if (i || (i = 0), n || 0 === n || (n = this.length), e >= t.length && (e = t
									.length), e || (e = 0), n > 0 && n < i && (n = i), n === i)
						return 0;
							if (0 === t.length || 0 === this.length) return 0;
							if (e < 0) throw new RangeError("targetStart out of bounds");
							if (i < 0 || i >= this.length) throw new RangeError(
								"sourceStart out of bounds");
							if (n < 0) throw new RangeError("sourceEnd out of bounds");
							n > this.length && (n = this.length), t.length - e < n - i && (n = t
								.length - e + i);
							var r, o = n - i;
							if (this === t && i < e && e < n)
								for (r = o - 1; r >= 0; --r) t[r + e] = this[r + i];
							else if (o < 1e3 || !It.TYPED_ARRAY_SUPPORT)
								for (r = 0; r < o; ++r) t[r + e] = this[r + i];
							else Uint8Array.prototype.set.call(t, this.subarray(i, i + o), e);
							return o
						}, It.prototype.fill = function(t, e, i, n) {
							if ("string" == typeof t) {
								if ("string" == typeof e ? (n = e, e = 0, i = this.length) : "string" ==
									typeof i && (n = i, i = this.length), 1 === t.length) {
									var r = t.charCodeAt(0);
									r < 256 && (t = r)
								}
								if (void 0 !== n && "string" != typeof n) throw new TypeError(
									"encoding must be a string");
								if ("string" == typeof n && !It.isEncoding(n)) throw new TypeError(
									"Unknown encoding: " + n)
							} else "number" == typeof t && (t &= 255);
							if (e < 0 || this.length < e || this.length < i) throw new RangeError(
								"Out of range index");
							if (i <= e) return this;
							var o;
							if (e >>>= 0, i = void 0 === i ? this.length : i >>> 0, t || (t = 0),
								"number" == typeof t)
								for (o = e; o < i; ++o) this[o] = t;
							else {
								var s = Ot(t) ? t : ue(new It(t, n).toString()),
									a = s.length;
								for (o = 0; o < i - e; ++o) this[o + e] = s[o % a]
							}
							return this
						};
						var ae, he = /[^+\/0-9A-Za-z-_]/g;

						function ce(t) {
							return t < 16 ? "0" + t.toString(16) : t.toString(16)
						}

						function ue(t, e) {
							var i;
							e = e || 1 / 0;
							for (var n = t.length, r = null, o = [], s = 0; s < n; ++s) {
								if ((i = t.charCodeAt(s)) > 55295 && i < 57344) {
									if (!r) {
										if (i > 56319) {
											(e -= 3) > -1 && o.push(239, 191, 189);
											continue
										}
										if (s + 1 === n) {
											(e -= 3) > -1 && o.push(239, 191, 189);
											continue
										}
										r = i;
										continue
									}
									if (i < 56320) {
										(e -= 3) > -1 && o.push(239, 191, 189), r = i;
										continue
									}
									i = 65536 + (r - 55296 << 10 | i - 56320)
								} else r && (e -= 3) > -1 && o.push(239, 191, 189);
								if (r = null, i < 128) {
									if ((e -= 1) < 0) break;
									o.push(i)
								} else if (i < 2048) {
									if ((e -= 2) < 0) break;
									o.push(i >> 6 | 192, 63 & i | 128)
								} else if (i < 65536) {
									if ((e -= 3) < 0) break;
									o.push(i >> 12 | 224, i >> 6 & 63 | 128, 63 & i | 128)
								} else {
									if (!(i < 1114112)) throw new Error("Invalid code point");
									if ((e -= 4) < 0) break;
									o.push(i >> 18 | 240, i >> 12 & 63 | 128, i >> 6 & 63 | 128, 63 & i |
										128)
								}
							}
							return o
						}

						function le(t) {
							return function(t) {
								var e, i, n, r, o, s;
								bt || wt();
								var a = t.length;
								if (a % 4 > 0) throw new Error(
									"Invalid string. Length must be a multiple of 4");
								o = "=" === t[a - 2] ? 2 : "=" === t[a - 1] ? 1 : 0, s = new _t(3 * a /
									4 - o), n = o > 0 ? a - 4 : a;
								var h = 0;
								for (e = 0, i = 0; e < n; e += 4, i += 3) r = yt[t.charCodeAt(e)] <<
									18 | yt[t.charCodeAt(e + 1)] << 12 | yt[t.charCodeAt(e + 2)] << 6 |
									yt[t.charCodeAt(e + 3)], s[h++] = r >> 16 & 255, s[h++] = r >> 8 &
									255, s[h++] = 255 & r;
								return 2 === o ? (r = yt[t.charCodeAt(e)] << 2 | yt[t.charCodeAt(e +
									1)] >> 4, s[h++] = 255 & r) : 1 === o && (r = yt[t.charCodeAt(
									e)] << 10 | yt[t.charCodeAt(e + 1)] << 4 | yt[t.charCodeAt(
									e + 2)] >> 2, s[h++] = r >> 8 & 255, s[h++] = 255 & r), s
							}(function(t) {
								if ((t = function(t) {
										return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
									}(t).replace(he, "")).length < 2) return "";
								for (; t.length % 4 != 0;) t += "=";
								return t
							}(t))
						}

						function de(t, e, i, n) {
							for (var r = 0; r < n && !(r + i >= e.length || r >= t.length); ++r) e[r + i] =
								t[r];
							return r
						}

						function fe(t) {
							return !!t.constructor && "function" == typeof t.constructor.isBuffer && t
								.constructor.isBuffer(t)
						}! function() {
							var t = window.crypto || window.msCrypto;
							if (!ae && t && t.getRandomValues) try {
								var e = new Uint8Array(16);
								(ae = function() {
									return t.getRandomValues(e), e
								})()
							} catch (t) {}
							if (!ae) {
								var i = new Array(16);
								ae = function() {
									for (var t, e = 0; e < 16; e++) 0 == (3 & e) && (t = 4294967296 *
										Math.random()), i[e] = t >>> ((3 & e) << 3) & 255;
									return i
								}
							}
						}();
						for (var pe = [], me = 0; me < 256; me++) pe[me] = (me + 256).toString(16).substr(
						1);
						var ve = H.localStorage;
						try {
							ve.setItem("a", "a"), ve.getItem("a")
						} catch (t) {}
						/iPad/i.test(navigator.userAgent);
						var ge = window.sessionStorage,
							ye = 0;
						! function() {
							try {
								o(ge).forEach(function(t, e) {
									-1 !== t.indexOf("vplayer-log-") && ge.removeItem(t)
								})
							} catch (t) {}
						}();
						var _e = {
								error: 0,
								warn: 1,
								info: 2,
								log: 3,
								debug: 4,
								verbose: 5
							},
							be = function() {
								var t = this;
								t.level = 4;
								var e = A.console || 0;
								["log", "info", "error", "warn", "debug", "verbose"].forEach(function(i) {
									var n = _e[i];
									t[i] = function(t, r) {
										r && "object" == typeof r && (r = JSON.stringify(r));
										var o = function(t, e) {
											if (!x(t)) throw new TypeError(
												"Log's method only acccept string as argument, but not " +
												t + " in " + typeof t);
											return x(e) ? "[mango-player][" + (t = be
													.FORCE_GLOBAL_TAG ? be.GLOBAL_TAG : t ||
													be.GLOBAL_TAG) + "] > " + e : "[" + be
												.GLOBAL_TAG + "] > " + t
										}(t, r);
										if (n < _e.log && function(t) {
												var e = "vplayer-log-" + ye;
												G(function() {
													try {
														ge.setItem(e, t)
													} catch (t) {}
												}), ye++
											}(o), !(this.level < n) && e) {
											for (var s = e[i] || e.log, a = arguments.length,
													h = new Array(a > 2 ? a - 2 : 0), c = 2; c <
												a; c++) h[c - 2] = arguments[c];
											s.apply(e, [o].concat(h))
										}
									}.bind(t)
								}), t.setLevel = function(t) {
									var e = _e[t] || 0;
									this.level = e
								}.bind(t)
							};
						be.GLOBAL_TAG = "mango-player", be.FORCE_GLOBAL_TAG = !1;
						var we = new be,
							ke = {}.hasOwnProperty,
							Ee = function(t, e) {
								return ke.call(t, e)
							},
							Se = function(t, e, i) {
								return null == e ? t : t + "=" + (i ? function(t) {
									try {
										return encodeURIComponent(t)
									} catch (t) {}
									return t
								}(String(e)) : e)
							},
							Te = function(t, e) {
								if (!(t instanceof e)) throw new TypeError(
									"Cannot call a class as a function")
							},
							xe = window,
							Ae = function() {},
							Ce = xe.setImmediate || function(t) {
								return setTimeout(t, 1)
							},
							Re = function(t) {
								return "function" == typeof t
							},
							Ie = function() {
								function t() {
									Te(this, t), this._l = new Image, this._r = !1
								}
								return t.prototype.load = function(t, e) {
									var i = this;
									this._r = !0;
									var n = this._l,
										r = function(t, r) {
											n.onload = n.onerror = Ae, e(t, r), i.reset()
										};
									n.onload = function(t) {
										return r(null, t)
									}, n.onerror = function(t) {
										return r(t)
									}, n.src = t
								}, t.prototype.reset = function() {
									this._r = !1
								}, t
							}(),
							Le = [],
							Pe = (xe.$nextRequest || (xe.$nextRequest = new function() {
								var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[
										0] : {},
									e = 0,
									i = t.concurrent || 5,
									n = [];
								return {
									push: function() {
										var t = function(t) {
												for (var e = t.length, i = Array(e), n = 0; n <
													e; n++) i[n] = t[n];
												return i
											}(arguments),
											r = t[1];
										2 === t.length && Re(r) && (t[2] = r, t[1] = null), n
											.push(t),
											function t() {
												if (n.length && e < i) {
													var r = n.shift();
													++e,
													function(t, e) {
														var i = t[0],
															n = t[1],
															r = t[2],
															o = n && function(t, e) {
																if ("object" != typeof t)
																return t;
																var i, n, r, o = [];
																for (i in e = void 0 === e ? 1 :
																	0, t)
																	if (Ee(t, i))
																		if ((n = t[i]) &&
																			"object" == typeof n
																			) {
																			if ("number" ==
																				typeof n.length)
																				for (r = n
																					.length; r--;
																					) o.push(Se(
																					i,
																					n[
																					r],
																					e))
																		} else o.push(Se(i, n,
																			e));
																return o.join("&").replace(
																	/%20/g, "+")
															}(n),
															s = i + (o ? (~i.indexOf("?") ?
																"&" : "?") + o : "");
														Ce(function() {
															return function() {
																for (var t, e = -1,
																		i = Le
																		.length; ++
																	e < i;)
																	if (!(i = Le[e])
																		._r)
																return i;
																return t = new Ie,
																	Le.length < 5 &&
																	Le.push(t), t
															}().load(s, function(t,
																i) {
																if (Re(r)) try {
																	r(t, i)
																} catch (
																i) {}
																e(t)
															})
														})
													}(r, function() {
														--e, t()
													})
												}
											}()
									}
								}
							}), function() {
								function t(t) {
									y.init(), this._config = {
											_isLive: !1
										}, r(this._config, t), this.onInitSegment = null, this
										.onMediaSegment = null, this.onMediaInfo = null, this
										.seekCallBack = null, this.loadmetadata = !1, this.ftyp_moov =
										null, this._tagdemux = new m, this._flvparse = new g, this
										.ftyp_moov_v = null, this.ftyp_moov_a = null, this
										.metaSuccRun = !1, this.metas = [], this.parseChunk = null, this
										.hasVideo = !1, this.hasAudio = !1, this._error = null, this
										._pendingResolveSeekPoint = -1, this._tempBaseTime = 0, this
										.setflvBase = this.setflvBasefrist, this._tagdemux
										._onTrackMetadata = this.Metadata.bind(this), this._tagdemux
										._onMediaInfo = this.metaSucc.bind(this), this._tagdemux
										._onDataAvailable = this.onDataAvailable.bind(this), this
										._tagdemux._onError = this.error.bind(this), this.m4mof = new T(
											this._config), this.m4mof.onMediaSegment = this
										.onMdiaSegment.bind(this)
								}
								var e = t.prototype;
								return e.seek = function(t) {
									this._flvparse.dispose(), this.setflvBase = this
										.setflvBasefrist, null != t && 0 != t || (t = 0, this
											._pendingResolveSeekPoint = -1), this._tempBaseTime !=
										t && (this._tempBaseTime = t, this._tagdemux
											._timestampBase = t, this.m4mof.seek(t), this.m4mof
											.insertDiscontinuity(), this._pendingResolveSeekPoint =
											t)
								}, e.setflvBasefrist = function(t, e) {
									var i = 0;
									try {
										i = this._flvparse.setFlv(new Uint8Array(t))
									} catch (t) {
										this.error(t)
									}
									if (0 == this._flvparse.arrTag.length) return i;
									if (this._flvparse.arrTag.length > 0) {
										this._tagdemux.hasAudio = this.hasAudio = this._flvparse
											._hasAudio, this._tagdemux.hasVideo = this.hasVideo =
											this._flvparse._hasVideo, 0 != this._tempBaseTime &&
											this._tempBaseTime == this._flvparse.arrTag[0]
										.getTime() && (this._tagdemux._timestampBase = 0);
										try {
											this._tagdemux.moofTag(this._flvparse.arrTag)
										} catch (t) {
											this.error(t)
										}
										this.setflvBase = this.setflvBaseUsually
									}
									return i
								}, e.setflvBaseUsually = function(t, e) {
									var i = 0;
									try {
										i = this._flvparse.setFlv(new Uint8Array(t))
									} catch (t) {
										this.error(t)
									}
									if (this._flvparse.arrTag.length > 0) try {
										this._tagdemux.moofTag(this._flvparse.arrTag)
									} catch (t) {
										this.error(t)
									}
									return i
								}, e.onMdiaSegment = function(t, e) {
									if (this.onMediaSegment && this.onMediaSegment(t,
											new Uint8Array(e.data)), -1 != this
										._pendingResolveSeekPoint && "video" == t) {
										var i = this._pendingResolveSeekPoint;
										this._pendingResolveSeekPoint = -1, this.seekCallBack &&
											this.seekCallBack(i)
									}
								}, e.Metadata = function(t, e) {
									switch (t) {
										case "video":
											if (this.metas.push(["video", e]), this.m4mof
												._videoMeta = e, this.hasVideo && !this.hasAudio)
												return void this.metaSucc();
											break;
										case "audio":
											if (this.metas.push(["audio", e]), this.m4mof
												._audioMeta = e, !this.hasVideo && this.hasAudio)
												return void this.metaSucc()
									}
									this.hasVideo && this.hasAudio && this.m4mof._videoMeta && this
										.m4mof._audioMeta && this.metaSucc()
								}, e.metaSucc = function(t) {
									var e = this;
									this.onMediaInfo && t && this.onMediaInfo(t || this._tagdemux
										._mediaInfo, {
											hasAudio: this.hasAudio,
											hasVideo: this.hasVideo
										}), 0 != this.metas.length ? t || (this.metas.length >
										1 ? this.metas.map(function(t) {
											"video" == t[0] ? e.ftyp_moov_v = y
												.generateInitSegment([t[1]]) : e
												.ftyp_moov_a = y.generateInitSegment([t[1]])
										}) : this.ftyp_moov = y.generateInitSegment([this.metas[
											0][1]]), this.onInitSegment && 0 == this
										.loadmetadata && (this.ftyp_moov ? this.onInitSegment(
												this.ftyp_moov) : this.onInitSegment(this
												.ftyp_moov_v, this.ftyp_moov_a), this
											.loadmetadata = !0)) : this.metaSuccRun = !0
								}, e.onDataAvailable = function(t, e) {
									try {
										this.m4mof.remux(t, e)
									} catch (t) {
										this.error(t)
									}
								}, e.setflv = function(t, e) {
									return this.setflvBase(t, e)
								}, e.setflvloc = function(t) {
									if (g.setFlv(new Uint8Array(t)), g.arrTag.length > 0) return g
										.arrTag
								}, e.error = function(t) {
									this._error && this._error(t)
								}, t
							}()),
							De = function(t) {
								function n(e) {
									var i;
									return (i = t.call(this) || this).f2m = new Pe(e), i.f2m._error = i
										.error.bind(i), i._onInitSegment = null, i._onMediaSegment = null, i
										._onMediaInfo = null, i._seekCallBack = null, i
								}
								i(n, t);
								var r = n.prototype;
								return r.error = function(t) {
									this.emit("error", t.type)
								}, r.seek = function(t) {
									this.f2m.seek(t)
								}, r.setflv = function(t) {
									return this.f2m.setflv(t, 0)
								}, r.setflvloc = function(t) {
									return this.f2m.setflvloc(t)
								}, e(n, [{
									key: "onInitSegment",
									set: function(t) {
										this._onInitSegment = t, this.f2m.onInitSegment = t
									}
								}, {
									key: "onMediaSegment",
									set: function(t) {
										this._onMediaSegment = t, this.f2m.onMediaSegment =
											t
									}
								}, {
									key: "onMediaInfo",
									set: function(t) {
										this._onMediaInfo = t, this.f2m.onMediaInfo = t
									}
								}, {
									key: "seekCallBack",
									set: function(t) {
										this._seekCallBack = t, this.f2m.seekCallBack = t
									}
								}]), n
							}(mt),
							Me = 100,
							Be = function(t) {
								function e(e, i) {
									var n;
									return (n = t.call(this) || this).tag = "fetch", n.fetching = !1, n
										.config = i, n.range = {
											from: 0,
											to: 524288
										}, n.src = e, n.totalRange = null, n.block = 524288, n.reader =
										null, n.requestAbort = !1, n.arrivalDataCallback = null, n
										.bytesStart = 0, n.heartbeat = null, n
								}
								i(e, t), e.isSupport = function() {
									return !(!self.fetch || !self.ReadableStream)
								};
								var n = e.prototype;
								return n.open = function(t, e) {
									var i = this;
									this.requestAbort = !1;
									var n = new Headers,
										r = t || {
											from: 0,
											to: -1
										};
									if (!this.config.isLive) {
										this.range.from = r.from, this.range.to = r.to;
										var o = function(t, e) {
											if ("range" === e.seekType) {
												var i, n = {};
												return i = -1 !== t.to ? "bytes=" + t.from
													.toString() + "-" + t.to.toString() : "bytes=" +
													t.from.toString() + "-", n.Range = i, n
											}
											return -1 !== t.to ? "?start=" + t.from.toString() +
												"&end=" + t.to.toString() : "?start=" + t.from
												.toString()
										}(r, this.config);
										if ("string" == typeof o) this.src = this.config.src + o;
										else
											for (var s in o) n.append(s, o[s])
									}
									e && (this.bytesStart = 0), this.bytesStart = t.from;
									var a = {
										method: "GET",
										headers: n,
										mode: "cors",
										cache: "default",
										referrerPolicy: "no-referrer-when-downgrade"
									};
									fetch(this.src, a).then(function(t) {
										if (t.ok) {
											var n = t.body.getReader();
											return i.pump(n, e)
										}
									}).catch(function(t) {
										i.emit("error", {
											errno: Me,
											errmsg: t
										})
									})
								}, n.pause = function() {
									this.requestAbort = !0
								}, n.pump = function(t, e) {
									var i = this;
									return t.read().then(function(n) {
										if (!n.done) {
											if (!0 === i.requestAbort) return i.requestAbort = !
												1, t.cancel();
											var r = n.value.buffer;
											return i.arrivalDataCallback && (i
												.arrivalDataCallback(r, i.bytesStart, e), i
												.bytesStart += r.byteLength), i.pump(t)
										}
										i.emit("end"), we.verbose(i.tag, "load end")
									}).catch(function(t) {
										i.emit("error", {
											errno: Me,
											errmsg: t.message
										})
									})
								}, e
							}(mt);

						function Oe(t) {
							var e, i = {};
							return e = -1 !== t.to ? "bytes=" + t.from.toString() + "-" + t.to.toString() :
								"bytes=" + t.from.toString() + "-", i.Range = e, {
									headers: i
								}
						}
						var Ue = function(t) {
								function e(e, i) {
									var n;
									return (n = t.call(this) || this).tag = "RangeLoader", n.xhr = null, n
										.src = e, n.totalLength = null, n.chunkSizeKB = 524288, n
										.range = {}, n.bytesStart = 0, n.needSeek = !1, n.keyframePoint =
										null, n
								}
								i(e, t), e.isSupport = function() {
									try {
										var t = new XMLHttpRequest;
										return t.open("GET", "https://example.com", !0), t
											.responseType = "arraybuffer", "arraybuffer" === t
											.responseType
									} catch (t) {
										return !1
									}
								};
								var n = e.prototype;
								return n.open = function(t, e) {
									var i = this.xhr = new XMLHttpRequest;
									i.open("GET", this.src, !0), i.responseType = "arraybuffer", i
										.onreadystatechange = this.onReadyStateChange.bind(this), i
										.onprogress = this.onProgress.bind(this), i.onload = this.onLoad
										.bind(this), i.onerror = this.onXhrError.bind(this);
									var n = t || {
										from: 0,
										to: -1
									};
									this.range.from = n.from, -1 === n.to && (n.to = n.from + this
											.chunkSizeKB), e && (this.bytesStart = t.from, this
											.needSeek = !0, this.keyframePoint = e), this.range.to = n
										.to;
									var r = Oe(n).headers;
									for (var o in r) i.setRequestHeader(o, r[o]);
									i.send()
								}, n.pause = function() {
									this.abort()
								}, n.abort = function() {
									this.xhr && (this.xhr.onreadystatechange = null, this.xhr
										.onprogress = null, this.xhr.onload = null, this.xhr
										.onerror = null, this.xhr.abort(), this.xhr = null)
								}, n.destroy = function() {
									this.xhr && (this.abort(), this.xhr.onreadystatechange = null, this
											.xhr.onprogress = null, this.xhr.onload = null, this.xhr
											.onerror = null, this.xhr = null), this.totalLength = null,
										this.bytesStart = null, this.range = {}
								}, n.onReadyStateChange = function(t) {
									var e = this.xhr;
									if (2 === e.readyState && e.status < 200 && e.status > 299) {
										var i = {
											from: this.range.from,
											to: this.range.to,
											url: this.src,
											msg: "http Error: http code " + e.status
										};
										this.emit("error", {
											errno: Me,
											errmsg: i
										})
									}
								}, n.onProgress = function(t) {
									this.totalLength || (this.totalLength = t.total, this.abort(), this
										.open())
								}, n.onLoad = function(t) {
									if (this.totalLength && this.arrivalDataCallback) {
										var e = t.target.response;
										this.needSeek ? (this.needSeek = !1, this.arrivalDataCallback(e,
												this.bytesStart, this.keyframePoint)) : this
											.arrivalDataCallback(e, this.bytesStart), this.bytesStart +=
											e.byteLength, this.open({
												from: this.bytesStart,
												to: -1
											})
									}
								}, n.onXhrError = function(t) {
									var e = {
										from: this.range.from,
										to: this.range.to,
										url: this.src,
										msg: t.constructor.name + " " + t.type
									};
									this.emit("error", {
										errno: Me,
										errmsg: e
									})
								}, e
							}(mt),
							Fe = function(t) {
								function e(e, i) {
									var n;
									return (n = t.call(this) || this).tag = "WebSocket", n.src = e, n._ws =
										null, n._requestAbort = !1, n._receivedLength = 0, n
								}
								i(e, t), e.isSupported = function() {
									try {
										return void 0 !== window.WebSocket
									} catch (t) {
										return !1
									}
								};
								var n = e.prototype;
								return n.open = function(t, e) {
									try {
										var i = this._ws = new self.WebSocket(this.src);
										i.binaryType = "arraybuffer", i.onopen = this.onWebSocketOpen
											.bind(this), i.onclose = this.onWebSocketClose.bind(this), i
											.onmessage = this.onWebSocketMessage.bind(this), i.onerror =
											this.onWebSocketError.bind(this)
									} catch (t) {
										var n = {
											code: t.code,
											msg: t.message
										};
										this.emit("error", {
											errno: Me,
											errmsg: n
										})
									}
								}, n.pause = function() {
									var t = this._ws;
									!t || 0 !== t.readyState && 1 !== t.readyState || (this
										._requestAbort = !0, t.close()), this._ws = null
								}, n.onWebSocketClose = function(t) {
									!0 !== this._requestAbort ? this.emit("end") : this
										._requestAbort = !1
								}, n.onWebSocketOpen = function() {}, n.onWebSocketMessage = function(
								t) {
									var e = this;
									if (t.data instanceof ArrayBuffer) this.dispatchArrayBuffer(t.data);
									else if (t.data instanceof Blob) {
										var i = new FileReader;
										i.onload = function() {
											e.dispatchArrayBuffer(i.result)
										}, i.readAsArrayBuffer(t.data)
									} else {
										var n = {
											code: -1,
											msg: "Unsupported WebSocket message type: " + t.data
												.constructor.name
										};
										this.emit("error", {
											errno: Me,
											errmsg: n
										})
									}
								}, n.dispatchArrayBuffer = function(t) {
									var e = t,
										i = this.receivedLength;
									this.receivedLength += e.byteLength, this.arrivalDataCallback &&
										this.arrivalDataCallback(e, i)
								}, n.onWebSocketError = function(t) {
									var e = {
										code: t.code,
										msg: t.message
									};
									this.emit("error", {
										errno: Me,
										errmsg: e
									})
								}, e
							}(mt),
							Ne = function(t) {
								function e(e, i) {
									var n;
									return (n = t.call(this) || this).tag = "mozChunkLoader", n.xhr = null,
										n.src = e, n.config = i, n.totalLength = null, n.chunkSizeKB =
										393216, n.range = {}, n.bytesStart = 0, n.keyframePoint = null, n
								}
								i(e, t), e.isSupport = function() {
									try {
										var t = new XMLHttpRequest;
										return t.open("GET", "https://example.com", !0), t
											.responseType = "moz-chunked-arraybuffer",
											"moz-chunked-arraybuffer" === t.responseType
									} catch (t) {
										return !1
									}
								};
								var n = e.prototype;
								return n.open = function(t, e) {
									var i = this.xhr = new XMLHttpRequest;
									if (i.open("GET", this.src, !0), i.responseType =
										"moz-chunked-arraybuffer", i.onreadystatechange = this
										.onReadyStateChange.bind(this), i.onprogress = this.onProgress
										.bind(this), i.onload = this.onLoadEnd.bind(this), i.onerror =
										this.onXhrError.bind(this), !this.config.isLive) {
										var n = t || {
											from: 0,
											to: -1
										};
										this.range.from = n.from, this.range.to = n.to, e && (this
											.needSeek = !0, this.keyframePoint = e);
										var r = Oe(n).headers;
										for (var o in r) i.setRequestHeader(o, r[o])
									}
									i.send()
								}, n.pause = function() {
									this.abort()
								}, n.abort = function() {
									this.xhr && (this.xhr.onreadystatechange = null, this.xhr
										.onprogress = null, this.xhr.onload = null, this.xhr
										.onerror = null, this.xhr.abort(), this.xhr = null)
								}, n.destroy = function() {
									this.xhr && (this.abort(), this.xhr.onreadystatechange = null, this
											.xhr.onprogress = null, this.xhr.onload = null, this.xhr
											.onerror = null, this.xhr = null), this.totalLength = null,
										this.bytesStart = null, this.range = {}
								}, n.onReadyStateChange = function(t) {
									var e = this.xhr;
									if (2 === e.readyState && e.status < 200 && e.status > 299) {
										var i = {
											from: this.range.from,
											to: this.range.to,
											url: this.src,
											msg: "http Error: http code " + e.status
										};
										this.emit("error", {
											errno: Me,
											errmsg: i
										})
									}
								}, n.onProgress = function(t) {
									this.totalLength || (this.totalLength = t.total, null !== t.total &&
										0 !== t.total && (this.totalLength = t.total));
									var e = t.target.response;
									this.needSeek ? (this.needSeek = !1, this.arrivalDataCallback(e,
											this.bytesStart, this.keyframePoint)) : this
										.arrivalDataCallback(e, this.bytesStart), this.bytesStart += e
										.byteLength
								}, n.onLoadEnd = function(t) {
									this.emit(this.tag, "video load end")
								}, n.onXhrError = function(t) {
									var e = {
										from: this.range.from,
										to: this.range.to,
										url: this.src,
										msg: t.constructor.name + " " + t.type
									};
									this.emit("error", {
										errno: Me,
										errmsg: e
									})
								}, e
							}(mt),
							Ve = function(t) {
								function e(e) {
									var i;
									return (i = t.call(this) || this).loader = null, i.config = {}, i
										.config = e || {}, i.bufferSize = 3145728, i.cacheBuffer =
										new ArrayBuffer(i.bufferSize), i.cacheRemain = 0, i.stashByteStart =
										0, i.enableStash = !0, i.stashSize = i.config.stashSize || 393216, i
										.resumeFrom = 0, i.currentRange = {}, i.totalReceive = 0, i
										.seekPonit = void 0, i.timer = null, i.heartBeatInterval = null, i
										.preTotalReceive = 0, i.seekLock = !1, i.webSocketURLReg =
										/wss?:\/\/(.+?)/, i.selectLoader(), i.bindEvent(), i
								}
								i(e, t);
								var n = e.prototype;
								return n.selectLoader = function() {
									var t = this.config,
										e = this.config.src;
									this.webSocketURLReg.test(e) ? this.loader = new Fe(e, t, this
											.queryHandle) : Be.isSupport() ? this.loader = new Be(e, t,
											this.queryHandle) : Ne.isSupport() ? this.loader = new Ne(e,
											t, this.queryHandle) : Ue.isSupport() && (this.loader =
											new Ue(e, t, this.queryHandle)), this.loader
										.arrivalDataCallback = this.onLoaderChunkArrival.bind(this)
								}, n.bindEvent = function() {
									var t = this;
									this.loader.on("end", function() {
										var e = t.cacheBuffer.slice(0, t.cacheRemain);
										t.arrivalDataCallback(e, t.stashByteStart), t.emit(
											"end")
									}), this.loader.on("error", function(e) {
										t.emit("error", e.data)
									})
								}, n.onLoaderChunkArrival = function(t, e, i) {
									if ((!this.seekLock || void 0 !== i) && (void 0 !== i && (this
												.seekPonit = i, this.seekLock = !1), this
											.arrivalDataCallback))
										if (this.totalReceive += t.byteLength, 0 === this.cacheRemain &&
											0 === this.stashByteStart && (this.stashByteStart = e), this
											.cacheRemain + t.byteLength <= this.stashSize)
											new Uint8Array(this.cacheBuffer, 0, this.stashSize).set(
												new Uint8Array(t), this.cacheRemain), this
											.cacheRemain += t.byteLength;
										else {
											var n = new Uint8Array(this.cacheBuffer, 0, this
											.bufferSize);
											if (this.cacheRemain > 0) {
												var r = this.cacheBuffer.slice(0, this.cacheRemain),
													o = 0;
												if (void 0 !== this.seekPonit ? (o = this
														.arrivalDataCallback(r, this.stashByteStart,
															this.seekPonit), this.seekPonit = void 0) :
													o = this.arrivalDataCallback(r, this
													.stashByteStart), o < r.byteLength) {
													if (o > 0) {
														var s = new Uint8Array(r, o);
														n.set(s, 0), this.cacheRemain = s.byteLength,
															this.stashByteStart += o
													}
												} else this.cacheRemain = 0, this.stashByteStart += o;
												this.cacheRemain + t.byteLength > this.bufferSize && (
														this.expandBuffer(this.cacheRemain + t
															.byteLength), n = new Uint8Array(this
															.cacheBuffer, 0, this.bufferSize)), n.set(
														new Uint8Array(t), this.cacheRemain), this
													.cacheRemain += t.byteLength
											} else {
												var a = 0;
												if (void 0 !== this.seekPonit ? (a = this
														.arrivalDataCallback(t, e, this.seekPonit), this
														.seekPonit = void 0) : a = this
													.arrivalDataCallback(t, e), a < t.byteLength) {
													var h = t.byteLength - a;
													h > this.bufferSize && (this.expandBuffer(h), n =
															new Uint8Array(this.cacheBuffer, 0, this
																.bufferSize)), n.set(new Uint8Array(t,
															a), 0), this.cacheRemain += h, this
														.stashByteStart = e + a
												}
											}
										}
								}, n.initCacheBuffer = function() {
									this.cacheRemain = 0, this.totalReceive = 0, this.cacheBuffer =
										new ArrayBuffer(this.bufferSize)
								}, n.expandBuffer = function(t) {
									var e = this.bufferSize;
									e < t && (e = t), this.cacheBuffer = new ArrayBuffer(e), this
										.bufferSize = e
								}, n.pause = function() {
									this.loader.pause()
								}, n.open = function(t, e) {
									this.loader.open({
										from: t || 0,
										to: -1
									}, e), this.heartbeat()
								}, n.heartbeat = function() {
									var t = this;
									window.clearInterval(this.heartBeatInterval), this
										.heartBeatInterval = setInterval(function() {
											t.emit("heartbeat", {
												speed: t.totalReceive - t.preTotalReceive,
												totalReceive: t.totalReceive
											}), t.preTotalReceive = t.totalReceive
										}, 1e3)
								}, n.resume = function() {
									this.paused = !1;
									var t = this.totalReceive;
									this.open(t)
								}, n.seek = function(t, e, i) {
									this.seekLock = !0, this.totalReceive = t, this.preTotalReceive = t,
										this.initCacheBuffer(), this.cacheRemain = 0, this
										.stashByteStart = 0, this.open(t, i)
								}, n.destroy = function() {
									this.pause(), this.initCacheBuffer(), window.clearInterval(this
										.heartBeatInterval), this.heartBeatInterval = null
								}, e
							}(mt);
						return function(t) {
							var e = null,
								i = null,
								n = {};

							function r(t, e) {
								self.postMessage({
									cmd: "mediaSegmentInit",
									source: {
										type: "video",
										data: t
									}
								}), e && self.postMessage({
									cmd: "mediaSegmentInit",
									source: {
										type: "audio",
										data: e
									}
								})
							}

							function o(t, e) {
								self.postMessage({
									cmd: "mediaSegment",
									source: {
										type: t,
										data: e
									}
								})
							}

							function s(t) {
								self.postMessage({
									cmd: "error",
									source: t
								})
							}

							function a(t) {
								self.postMessage({
									cmd: "mediainfo",
									source: t
								})
							}

							function h(t, i, n) {
								return e || ((e = new De).onInitSegment = r, e.onMediaSegment = o, e
									.onError = s, e.onMediaInfo = a, e.on("error", function(t) {
										self.postMessage({
											cmd: "error",
											source: t.data
										})
									})), n && e.seek(n), e.setflv(t)
							}
							t.addEventListener("message", function(t) {
								switch (t.data.cmd) {
									case "init":
										n = t.data.data;
										break;
									case "loadSource":
										(i = new Ve(n)).arrivalDataCallback = h, i.open();
										break;
									case "pause":
										i.pause();
										break;
									case "seek":
										r = t.data.keyframe, i.pause(), (i = new Ve(n))
											.arrivalDataCallback = h, i.seek(r.keyframePoint, !
												1, r.keyframetime);
										break;
									case "resume":
										i.resume();
										break;
									case "destroy":
										i.destroy(), i = null, e = null
								}
								var r
							})
						}
					}, "object" == typeof e && void 0 !== t ? t.exports = n() : "function" ==
					typeof define && define.amd ? define(n) : (i = i || self).vPlayerFlvWorker = n()
			}(t = {
				exports: {}
			}, t.exports), t.exports;
			var t
		}, function t(e) {
			var i = this;
			if (!(i instanceof t)) return new t(e);
			if (!wa) return new fa(ba);
			if (fa && !e) {
				var n = _a(';(function(f){f&&new(f.default?f["default"]:f)(self)}((' + wa.toString() + ")()))"),
					r = new fa(n);
				return ua.revokeObjectURL(n), i[da] = r
			}
			var o = new ma({
				close: function() {
					this.destroy()
				}
			}, i);
			_n(new ma(i, o), {
				isThisThread: !0,
				terminate: function() {
					o.close(), this.destroy()
				}
			}), wa().call(o, o)
		}),
		Ea = function(t) {
			function e(e, i, n) {
				var r;
				return (r = t.call(this) || this).config = i || {}, r.tag = "transmuxer", r.loader = null, r.CPU =
					null, r.keyframePoint = !1, r.w = null, r.config.webWorker && (r.w = new ka, r.w
						.addEventListener("message", function(t) {
							r.parseCallback.call(r, t.data)
						}), r.w.postMessage({
							cmd: "init",
							data: i
						})), r.lock = 0, r
			}
			pn(e, t);
			var i = e.prototype;
			return i.loadSource = function() {
				this.config.webWorker ? this.w.postMessage({
					cmd: "loadSource"
				}) : (this.loader = new Vs(this.config), this.loader.arrivalDataCallback = this
					.arrivalDataCallback.bind(this), this.loader.open(), this.loaderBindEvent(this.loader))
			}, i.loaderBindEvent = function(t) {
				var e = this;
				t.on("end", function() {
					e.emit("end")
				}), t.on("error", function(t) {
					e.emit("error", t.data)
				}), t.on("heartbeat", function(t) {
					e.emit("heartbeat", t.data)
				})
			}, i.arrivalDataCallback = function(t, e, i) {
				var n = this;
				return this.CPU || (this.config.isLive ? this.config._isLive = !0 : this.config._isLive = !1,
					this.CPU = new aa(this.config), this.CPU.onInitSegment = this
					.onRemuxerInitSegmentArrival.bind(this), this.CPU.onMediaSegment = this
					.onRemuxerMediaSegmentArrival.bind(this), this.CPU.onMediaInfo = this.onMediaInfo.bind(
						this), this.CPU.on("error", function(t) {
						n.emit("error", {
							errno: Cs,
							errmsg: t.data
						})
					})), void 0 !== i && this.CPU.seek(i), this.CPU.setflv(t)
			}, i.parseCallback = function(t) {
				switch (t.cmd) {
					case "mediaSegmentInit":
						this.emit("mediaSegmentInit", t.source);
						break;
					case "mediaSegment":
						this.emit("mediaSegment", t.source);
						break;
					case "mediainfo":
						this.mediaInfo = t.source, this.emit("mediaInfo", t.source);
						break;
					case "error":
						this.emit("error", t.source)
				}
			}, i.onMediaInfo = function(t) {
				this.mediaInfo = t, this.emit("mediaInfo", t)
			}, i.onRemuxerInitSegmentArrival = function(t, e) {
				this.emit("mediaSegmentInit", {
					type: "video",
					data: t
				}), e && this.emit("mediaSegmentInit", {
					type: "audio",
					data: e
				})
			}, i.onRemuxerMediaSegmentArrival = function(t, e) {
				this.emit("mediaSegment", {
					type: t,
					data: e
				})
			}, i.getMediaInfo = function() {
				return this.mediaInfo
			}, i.pause = function() {
				this.config.webWorker ? this.w.postMessage({
					cmd: "pause"
				}) : this.loader.pause()
			}, i.resume = function() {
				this.config.webWorker ? this.w.postMessage({
					cmd: "resume"
				}) : this.loader.resume()
			}, i.isSeekable = function() {
				return this.mediaInfo.hasKeyframesIndex
			}, i.seek = function(t) {
				if (!this.isSeekable()) return this.emit("error", {
					errno: Rs,
					errmsg: "这个flv视频不支持seek"
				}), !1;
				this.config.webWorker ? this.w.postMessage({
					cmd: "seek",
					keyframe: t
				}) : this.loader.seek(t.keyframePoint, !1, t.keyframetime)
			}, i.destroy = function() {
				this.config.webWorker ? this.w.postMessage({
					cmd: "destroy"
				}) : (this.loader.destroy(), this.loader = null, this.CPU = null)
			}, i.getNearestKeyframe = function(t) {
				if (this.mediaInfo && this.mediaInfo.keyframesIndex) {
					var e = this.mediaInfo.keyframesIndex.times,
						i = this.mediaInfo.keyframesIndex.filepositions,
						n = function(t, r) {
							var o = t.length,
								s = Math.floor(o / 2);
							if (1 === o) {
								var a = e.indexOf(t[0]);
								return {
									keyframetime: t[0],
									keyframePoint: i[a]
								}
							}
							if (t[s] > r) return n(t.slice(0, s), r);
							if (t[s] < r) return n(t.slice(s), r);
							var h = e.indexOf(t[0]);
							return {
								keyframetime: t[0],
								keyframePoint: i[h]
							}
						};
					return n(e, t)
				}
				return 0
			}, e
		}(Zr),
		Sa = {
			isLive: !1,
			box: "flv",
			seekInKeyframe: !0,
			alwaysSeekKeyframe: !0,
			lazyLoadMaxDuration: 120,
			lazyLoadRecoverDuration: 30,
			lockInternalProperty: !1,
			debug: !0,
			webWorker: !1,
			autoCleanupSourceBuffer: !0,
			autoCleanupMaxBackwardDuration: 30,
			autoCleanupMinBackwardDuration: 30,
			stashSize: 393216,
			seekType: "range"
		},
		Ta = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this) || this).tag = "flv-player", n.video = e, n.box = "flv", n.timer = null, n
					.seekTimer = null, n.config = Pn({}, Sa, i), n.requestSetTime = !1, n.throttle = null, n
					.bindEvents(), n.attachMedia(), n
			}
			pn(e, t), e.isSupport = function() {
				var t = yr;
				return !(t.safari && parseInt(t.version.major) < 10) && !(!window.MediaSource || !window
					.MediaSource.isTypeSupported('video/mp4; codecs="avc1.640020,mp4a.40.2"'))
			}, fn(e, null, [{
				key: "version",
				get: function() {
					return "2.0.6-1ced740"
				}
			}]);
			var i = e.prototype;
			return i.internalPropertyHandle = function() {
				if (Object.getOwnPropertyDescriptor) {
					var t = this,
						e = yn(HTMLMediaElement.prototype, "currentTime");
					gn(this.video, "currentTime", {
						get: function() {
							return e.get.call(t.video)
						},
						set: function(i) {
							if (t.currentTimeLock) return e.set.call(t.video, i);
							throw new Error("can not set currentTime by youself")
						}
					})
				}
			}, i.bindEvents = function() {
				var t = this;
				this.video && this.video.addEventListener("canplay", function() {
					t.config.isLive, t.config.lockInternalProperty && t.internalPropertyHandle()
				})
			}, i.attachMedia = function() {
				var t = this;
				this.mediaSource = new Ms(this.video, this.config), this.mediaSource.on("error", function(e) {
					t.emit("error", e.data), t.transmuxer && t.transmuxer.pause()
				}), this.mediaSource.on("bufferFull", function() {
					t.pauseTransmuxer()
				}), this.mediaSource.on("updateend", function() {
					t.onmseUpdateEnd()
				})
			}, i.load = function(t) {
				t && (this.config.src = t), this.transmuxer = new Ea(this.mediaSource, this.config, this
					.globalEvent), this.transmuxerEvent(this.transmuxer), this.transmuxer.loadSource()
			}, i.transmuxerEvent = function(t) {
				var e = this,
					i = this.mediaSource;
				t.on("mediaSegment", function(t) {
					i.emit("mediaSegment", t.data)
				}), t.on("mediaSegmentInit", function(t) {
					i.emit("mediaSegmentInit", t.data)
				}), t.on("error", function(n) {
					e.emit("flvStreamError", n.data), t.pause(), i.pause()
				}), t.on("end", function(t) {
					i.endOfStream()
				}), t.on("heartbeat", function(t) {
					e.emit("heartbeat", t.data)
				}), t.on("mediaInfo", function(t) {
					e.mediaInfo || (e.mediaInfo = t, e.emit("mediaInfo", t.data), i.init(t.data), e
						.video.src = URL.createObjectURL(i.mediaSource), e.video.addEventListener(
							"seeking", e._throttle.call(e)))
				})
			}, i._throttle = function() {
				return this.throttle = function(t, e, i, n) {
					var r, o, s, a = null,
						h = 0;
					i || (i = {});
					var c = function() {
						h = !1 === i.leading ? 0 : new Date - 0, a = null, s = t.apply(r, o), a || (r =
							o = null)
					};
					return e = e || 0,
						function() {
							var u = new Date;
							h || !1 !== i.leading || (h = u);
							var l = e - (u - h);
							return r = n || this, o = arguments, l <= 0 || l > e ? (a && (clearTimeout(a),
									a = null), h = u, s = t.apply(r, o), a || (r = o = null)) : a || !1 ===
								i.trailing || (a = setTimeout(c, l)), s
						}
				}(this._seek.bind(this), 200, {
					leading: !1
				}), this.throttle
			}, i.isTimeinBuffered = function(t) {
				for (var e = this.video.buffered, i = 0; i < e.length; i++) {
					var n = e.start(i),
						r = e.end(i);
					if (t >= n && t < r) return !0
				}
				return !1
			}, i.getCurrentBufferEnd = function() {
				for (var t = this.video.buffered, e = this.video.currentTime, i = 0; i < t.length; i++) {
					var n = t.start(i),
						r = t.end(i);
					if (n <= e && e < r) return r
				}
			}, i._seek = function(t) {
				var e = this;
				this.currentTimeLock = !0;
				var i = Tn(t) && !isNaN(t) ? t : this.video.currentTime;
				if (this.requestSetTime) return this.requestSetTime = !1, void(this.currentTimeLock = !1);
				if (this.isTimeinBuffered(i)) {
					if (this.config.alwaysSeekKeyframe) {
						var n = this.transmuxer.getNearestKeyframe(Math.floor(1e3 * i));
						n && (this.requestSetTime = !0, this.video.currentTime = n.keyframetime / 1e3)
					}
				} else {
					as.verbose(this.tag, "do seek"), this.transmuxer.pause();
					var r = this.transmuxer.getNearestKeyframe(Math.floor(1e3 * i));
					i = r.keyframetime / 1e3, this.seekTimer = setTimeout(function() {
						e.mediaSource.seek(i), e.transmuxer.seek(r)
					}, 100), this.requestSetTime = !0, this.video.currentTime = i, window.clearInterval(this
						.timer), this.timer = null
				}
				return this.currentTimeLock = !1, i
			}, i.onmseUpdateEnd = function() {
				this.config.isLive || this.getCurrentBufferEnd() >= this.video.currentTime + this.config
					.lazyLoadMaxDuration && null === this.timer && (as.verbose(this.tag,
							"Maximum buffering duration exceeded, suspend transmuxing task"), this
						.pauseTransmuxer())
			}, i.heartbeat = function() {
				for (var t = this.video.currentTime, e = this.video.buffered, i = !1, n = 0; n < e
					.length; n++) {
					var r = e.start(n),
						o = e.end(n);
					if (t >= r && t < o) {
						t >= o - this.config.lazyLoadRecoverDuration && (i = !0);
						break
					}
				}
				i && (window.clearInterval(this.timer), this.timer = null, as.verbose(this.tag,
						"Continue loading from paused position"), this.transmuxer.resume(), this.mediaSource
					.resume())
			}, i.pauseTransmuxer = function() {
				this.transmuxer.pause(), this.mediaSource.pause(), this.timer || (this.timer = setInterval(this
					.heartbeat.bind(this), 1e3))
			}, i.resume = function() {
				this._seek(0)
			}, i.destroy = function() {
				window.clearInterval(this.timer), window.clearInterval(this.seekTimer), this.video
					.removeEventListener("seeking", this.throttle), this.video && (URL.revokeObjectURL(this
							.video.src), this.video.src = "", this.video.removeAttribute("src"), this
						.transmuxer && (this.transmuxer.pause(), this.transmuxer.destroy(), this.transmuxer =
							null), this.mediaSource && (this.mediaSource.destroy(), this.mediaSource = null))
			}, i.seek = function(t) {
				return this._seek(t)
			}, i.play = function() {
				return this.video.play()
			}, i.pause = function() {
				return this.video.pause()
			}, i.refresh = function() {
				this.transmuxer && this.mediaSource ? this._seek(0) : as.verbose(this.tag,
					"transmuxer & mediaSource not ready")
			}, i.stopLoad = function() {
				this.transmuxer && this.transmuxer.pause(), this.mediaSource && this.mediaSource.pause()
			}, e
		}(Zr),
		xa = dr(function(t, e) {
			var i, n, r, o, s;
			i = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,
				n = /^([^\/?#]*)([^]*)$/, r = /(?:\/|^)\.(?=\/)/g, o = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,
				s = {
					buildAbsoluteURL: function(t, e, i) {
						if (i = i || {}, t = t.trim(), !(e = e.trim())) {
							if (!i.alwaysNormalize) return t;
							var r = s.parseURL(t);
							if (!r) throw new Error("Error trying to parse base URL.");
							return r.path = s.normalizePath(r.path), s.buildURLFromParts(r)
						}
						var o = s.parseURL(e);
						if (!o) throw new Error("Error trying to parse relative URL.");
						if (o.scheme) return i.alwaysNormalize ? (o.path = s.normalizePath(o.path), s
							.buildURLFromParts(o)) : e;
						var a = s.parseURL(t);
						if (!a) throw new Error("Error trying to parse base URL.");
						if (!a.netLoc && a.path && "/" !== a.path[0]) {
							var h = n.exec(a.path);
							a.netLoc = h[1], a.path = h[2]
						}
						a.netLoc && !a.path && (a.path = "/");
						var c = {
							scheme: a.scheme,
							netLoc: o.netLoc,
							path: null,
							params: o.params,
							query: o.query,
							fragment: o.fragment
						};
						if (!o.netLoc && (c.netLoc = a.netLoc, "/" !== o.path[0]))
							if (o.path) {
								var u = a.path,
									l = u.substring(0, u.lastIndexOf("/") + 1) + o.path;
								c.path = s.normalizePath(l)
							} else c.path = a.path, o.params || (c.params = a.params, o.query || (c.query =
								a.query));
						return null === c.path && (c.path = i.alwaysNormalize ? s.normalizePath(o.path) : o
							.path), s.buildURLFromParts(c)
					},
					parseURL: function(t) {
						var e = i.exec(t);
						return e ? {
							scheme: e[1] || "",
							netLoc: e[2] || "",
							path: e[3] || "",
							params: e[4] || "",
							query: e[5] || "",
							fragment: e[6] || ""
						} : null
					},
					normalizePath: function(t) {
						for (t = t.split("").reverse().join("").replace(r, ""); t.length !== (t = t.replace(
								o, "")).length;);
						return t.split("").reverse().join("")
					},
					buildURLFromParts: function(t) {
						return t.scheme + t.netLoc + t.path + t.params + t.query + t.fragment
					}
				}, t.exports = s
		}),
		Aa = function() {
			var t = this;
			t.peers = void 0, t.peerId = void 0, t.downloadTotals = void 0, t.uploadTotal = void 0, t.uploadStats =
				void 0, t.downloadStats = void 0, t.hls = void 0, t.getPeerID = void 0, t.setHls = function(e) {
					t.hls = e
				}, t.setPeerID = function(e) {
					t.peerId = e
				}, t.setPeers = function(e) {
					t.peers.set(e.id, e)
				}, t.delPeers = function(e) {
					t.peers.delete(e)
				}, t.handleDownload = function(e, i) {
					t.downloadStats.push({
						method: e,
						size: i,
						timeStamp: performance.now()
					}), t.downloadTotals[e] += i, t.emitStats({
						stats: t.getStats()
					})
				}, t.handleUpload = function(e, i) {
					t.uploadStats.push({
						size: i,
						timeStamp: performance.now()
					}), t.uploadTotal += i, t.emitStats({
						stats: t.getStats()
					})
				}, t.reset = function() {
					t.peers.clear(), t.downloadTotals = {
						p2p: 0,
						http: 0
					}, t.uploadStats.length = 0, t.uploadTotal = 0, t.downloadStats.length = 0
				}, t.getStats = function() {
					var e = t.downloadTotals,
						i = e.http,
						n = e.p2p,
						r = t.uploadTotal,
						o = i + n;
					return {
						peerId: t.peerId || "",
						total: o,
						http: i,
						p2p: n,
						upload: r,
						peers: t.peers.size,
						p2pRatio: +(n / o).toFixed(3)
					}
				}, t.handlePeers = function(e, i) {
					var n = t.getPeerID ? t.getPeerID() : "";
					t.hls.trigger("peers", {
						event: e,
						peer: i,
						peerId: n
					}), as.info("mango-kernel-hls:hls", "peers => " + JSON.stringify(Array.from(t.peers
					.values()).map(function(t) {
						return t.id + (t.remoteAddress ? "@" + t.remoteAddress + ":" + t
							.remotePort : "")
					})))
				}, t.emitStats = function(e) {
					t.hls.trigger("stats", e)
				}, t.handleByteReport = function(e, i, n) {
					var r, o, s, a = i.id,
						h = i.method,
						c = i.bytesLoaded,
						u = i.tfirst,
						l = i.tload,
						d = i.hDate,
						f = i.timeLoad,
						p = i.url,
						m = i.sn;
					switch (o = s = 0, e) {
						case Ca.SegmentLoaded:
							s = 1, r = "0", Math.max(Math.floor(l - u), 0), o = ~~c || 0;
							break;
						case Ca.SegmentAbort:
							r = "0", Math.max(Math.floor(l - u), 0), o = ~~c || 0;
							break;
						case Ca.SegmentError:
							r = 304e3 + ~~n.code, Math.max(Math.floor(l - u), 0), o = ~~c || 0;
							break;
						case Ca.SegmentTimeout:
							r = 304600, Math.max(Math.floor(l - u), 0), o = ~~c || 0
					} - 1 === t.segmentId.indexOf(a) && t.segmentId.push(a);
					var v = Sr(p).hostname,
						g = {
							from: "p2p" == h || h.indexOf("hezi-") > -1 || h.indexOf("thirdP2P-") > -1 ? h :
								/^(?=.*[^\.]$)((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.?){4}$/.test(v) ? "mgcdn" :
								v,
							delay: d && f ? f - new Date(d) : "",
							len: o,
							eff: s,
							err: r,
							seq: m
						};
					t.emitStats({
						byteStats: {
							detail: g
						}
					})
				}, t.peers = new Map, t.downloadTotals = {
					p2p: 0,
					http: 0
				}, t.uploadTotal = 0, t.uploadStats = [], t.downloadStats = [], t.segmentId = []
		},
		Ca = {
			SegmentLoaded: "SegmentLoaded",
			SegmentAbort: "SegmentAbort",
			SegmentError: "SegmentError",
			SegmentTimeout: "SegmentTimeout"
		},
		Ra = window.Hls.Events,
		Ia = window.Hls.isSupported,
		La = window.P2Hls.isSupported;
	Ra.P2P_STATS = "stats", Ra.P2P_ERROR = "p2p-error", Ra.SEGMENT_LOADED = "segment-loaded", Ra.P2P_REPORT =
		"p2p-report", Ra.P2P_PEERS = "peers";
	var Pa, Da, Ma, Ba = xa.parseURL,
		Oa = function(t) {
			t = _n({}, t);
			var e, i = window.P2Hls,
				n = window.Hls,
				r = new Aa,
				o = t.p2p || {};
			delete t.p2p;
			var s = window.performance.memory && window.performance.memory.jsHeapSizeLimit / 1024 / 1024 / 1024 ||
				2.4;
			if (s = Math.min(.5 * s, 1.2), o.enable && Sn(i) && En(i.isSupported) && i.isSupported()) {
				var a = ["signal.api.mgtv.com", "signal2.api.mgtv.com"].map(function(t) {
						return location.protocol.replace("http", "ws") + "//" + t + "/ws"
					}),
					h = new i.Engine(Pn({
						cdnld: t.cdnld,
						xhrLoader: n.DefaultConfig.loader,
						loader: {
							trackerAnnounce: [a],
							rtcConfig: {
								iceServers: [{
									urls: "stun:stun.hitv.com"
								}]
							},
							cacheSize: s + "gb",
							getFPSig: function(t) {
								var e, i = ((Ba(t.url) || "").path || "").split("/").pop();
								return i && -1 !== (e = i.indexOf("_")) ? i.substring(0, e) : null
							}
						},
						segments: {
							swarmId: function(t) {
								var e = t.split("?")[0],
									i = Ba(e);
								return i && i.path || e
							}
						}
					}, o)),
					c = h.peerId;
				as.info("mango-kernel-hls:hls", "\n----------------------------\nHLS.js: v" + n.version +
					"\nP2P Client: v" + i.version + "\nPeer Id: " + c + "\n----------------------------");
				var u = i.Events;
				r.setPeerID(c), r.getPeerID = function() {
					return h.peerId
				}, h.on(u.PeerConnect, function(t) {
					r.setPeers(t), r.handlePeers(u.PeerConnect, t)
				}).on(u.PeerClose, function(t) {
					r.delPeers(t), r.handlePeers(u.PeerClose, {
						id: t
					})
				}).on(u.PieceBytesLoaded, function(t, e) {
					r.handleDownload(t, e)
				}).on(u.PieceBytesUploaded, function(t, e) {
					r.handleUpload(t, e)
				}).on(u.SegmentLoaded, function(t) {
					e.trigger(u.SegmentLoaded, t), r.handleByteReport(Ca.SegmentLoaded, t)
				}).on(u.SegmentAbort, function(t) {
					r.handleByteReport(Ca.SegmentAbort, t)
				}).on(u.SegmentError, function(t, e) {
					r.handleByteReport(Ca.SegmentError, t, e)
				}).on(u.SegmentTimeout, function(t) {
					r.handleByteReport(Ca.SegmentTimeout, t)
				}).on(u.P2PError, function(t) {
					e.trigger(u.P2PError, t)
				}).on(u.P2PReport, function(t) {
					e.trigger(u.P2PReport, t)
				}), (e = new n(_n({}, t, {
					loader: h.loaderCreator()
				}))).on(Ra.DESTROYING, function() {
					as.info("mango-kernel-hls:hls", "HLS instance destroying..."), h.destroy(), r.reset()
				}), h.attach(e)
			} else e = new n(t);
			return r.setHls(e), e
		},
		Ua = {
			debug: !1,
			enableBitrateTest: !1,
			enableWorker: !0,
			maxBufferLength: 60,
			maxBufferSize: 6e6,
			manifestLoadingMaxRetry: 0,
			manifestLoadingTimeOut: 11e3,
			levelLoadingTimeOut: 11e3,
			levelLoadingMaxRetry: 2,
			nudgeMaxRetry: 20,
			fragLoadingRetryDelay: 0,
			levelLoadingRetryDelay: 0,
			fragLoadingMaxRetry: 2,
			autoStartLoad: !1
		},
		Fa = "1.0.1",
		Na = "mango-kernel-hls",
		Va = (Ma = Da = function(t) {
			function e(e, i, n) {
				var r;
				if (void 0 === n && (n = {}), (r = t.call(this) || this).version = Fa, r._speed = 0, r
					._stats = {}, r._startPosition = 0, !In(e)) throw new Error("video element passed in " +
					Na + " must be a HTMLVideoElement, but not " + typeof e);
				if (!Sn(i)) throw new Error("config of " + Na + " must be an Object but not " + typeof i);
				r.video = e, r.config = i;
				var o = Pn({}, Ua, n);
				return r.config.drmData && (o.emeEnabled = !0, o.widevineLicenseUrl = unescape(r.config.drmData[
						"com.widevine.alpha"].serverURL)), 0 == r.config.p2pSwitch && (o.p2p = {
						enable: !1
					}), r.config.cdnld && (o.cdnld = r.config.cdnld), r.hlsKernel = Oa(o), r.bytestat = new Aa,
					r.bytestat.setHls(r.hlsKernel), r.bindEvents(), r.attachMedia(), r
			}
			pn(e, t), e.isSupport = function() {
				return Ia()
			};
			var i = e.prototype;
			return i.bindEvents = function(t) {
				var e = this;
				void 0 === t && (t = !1);
				var i = this.hlsKernel;
				if (i) {
					var n = t ? "off" : "on";
					[Ra.MANIFEST_LOADED, Ra.MANIFEST_PARSED, Ra.DISPATCHER_LOADED, Ra.DISPATCHER_ERROR, Ra
						.ERROR, Ra.BUFFER_EMPTY, Ra.BUFFER_FULL, Ra.FRAG_PARSING_INIT_SEGMENT, Ra
						.FRAG_LOADED, Ra.FRAG_LOAD_PROGRESS, Ra.FRAG_PARSING_DATA, Ra.LEVEL_SWITCHING, Ra
						.LEVEL_SWITCHED, Ra.LEVEL_LOADED, Ra.P2P_STATS, Ra.P2P_ERROR, Ra.SEGMENT_LOADED, Ra
						.P2P_PEERS, Ra.P2P_REPORT
					].forEach(function(t) {
						i[n](t, e.hlsEventHandler)
					})
				}
			}, i.load = function(t, e, i, n, r, o) {
				void 0 === e && (e = -1), void 0 === r && (r = -1), void 0 === o && (o = ""), -1 != r && (
					this.hlsKernel.nextLevel = r), this._startPosition = e, this.hlsKernel.loadSource(
					this.config.src, this.config.playlist, o)
			}, i.startLoad = function(t, e) {
				return void 0 === e && (e = -1), this.hlsKernel.startLoad(e)
			}, i.stopLoad = function() {
				return this.hlsKernel.stopLoad()
			}, i.attachMedia = function() {
				return this.hlsKernel.attachMedia(this.video)
			}, i.play = function() {
				return this.video.play()
			}, i.destroy = function() {
				return this.bindEvents(!0), this.removeAllListeners(), this.hlsKernel.destroy()
			}, i.loadLevel = function(t) {
				var e = this;
				return new Promise(function(i, n) {
					e._loadLevel(t, function() {
						i("level switched.")
					})
				})
			}, i._loadLevel = function(t, e) {
				this.hlsKernel.nextLevel = t, this.loadLevelCallback = e
			}, i.seek = function(t) {
				this.video.currentTime = t
			}, i.pause = function() {
				return this.video.pause()
			}, i.refresh = function() {
				return this.hlsKernel.stopLoad(), this.hlsKernel.loadSource(this.config.src, this.config
					.fakeMasterPlaylist)
			}, i.getMetadata = function() {
				return this.metadata
			}, i.getSpeed = function() {
				return this._speed
			}, i.getFps = function() {
				return this.fps || 0
			}, i.getBufferInfo = function() {
				return this.hlsKernel.bufferInfo
			}, i.hlsEventHandler = function(t, e) {
				var i = this,
					n = e.stats || e.frag && e.frag.stats,
					r = Er(this, "config.p2p.enable", !1),
					o = La && En(La) && La();
				switch (t) {
					case Ra.LEVEL_SWITCHED:
						this.loadLevelCallback && this.loadLevelCallback(), this.loadLevelCallback = null;
						break;
					case Ra.BUFFER_EMPTY:
						as.warn(Na, "hlscore buffer is empty.");
						break;
					case Ra.FRAG_PARSING_DATA:
						"video" === e.type && (this.fps = e.nb / (e.endPTS - e.startPTS));
						break;
					case Ra.FRAG_PARSING_INIT_SEGMENT:
						this.metadata = Er(e, "tracks.video.metadata", {});
						break;
					case Ra.FRAG_LOADED:
						n && n.speed && (this._speed = n.speed), (!r || !o) && !this.config.isLive && this
							._handleByteHBReport(t, e);
						break;
					case Ra.FRAG_LOAD_PROGRESS:
						n && n.speed && (this._speed = n.speed);
						break;
					case Ra.ERROR:
						this._handleHlsError(t, e), (!r || !o) && !this.config.isLive && this
							._handleByteHBReport(t, e);
						break;
					case Ra.P2P_STATS:
						n && (n.speed = n.speed || this._speed || 0, this._stats = n);
						break;
					case Ra.P2P_ERROR:
						break;
					case Ra.MANIFEST_PARSED:
						as.log("m3u8 manifest parsed."), setTimeout(function() {
							i.hlsKernel.startLoad(i._startPosition || 0)
						}, 0);
						break;
					case Ra.P2P_PEERS:
				}
				this.emit(t, e)
			}, i._handleHlsError = function(t, e) {
				var i = e && e.details;
				this.emit("hlsStreamError", e), this.emit(t, e), as.error(Na,
					"hlscore error ouccurred at event [" + t + "], detail " + i + " - " + (e && (e
						.err || e.reason || e.error || "")))
			}, i._handleByteHBReport = function(t, e) {
				var i, n, r, o, s, a, h, c, u;
				if ((t !== Ra.ERROR || "fragLoadError" === e.details || "fragLoadTimeOut" === e.details) &&
					(i = Er(e, "frag.url", ""), n = Er(e, "frag.sn", ""), t === Ra.FRAG_LOADED ? (r = Er(e,
						"stats.loaded", 0), o = Er(e, "stats.tfirst", 0), s = Er(e,
						"stats.lastLoadedTime", 0), c = Er(e, "stats.hDate", ""), u = Er(e,
						"stats.timeLoad", "")) : t === Ra.ERROR && (r = Er(e,
						"frag.loader.stats.loaded"), o = Er(e, "frag.loader.stats.tfirst"), s = Er(
						e, "frag.loader.stats.lastLoadedTime"), a = Er(e, "response.code"), h = Er(
						e, "response.text")), i)) {
					var l = i.split("?")[0].split("/").filter(function(t) {
						return t.endsWith("mp4.ts")
					})[0];
					if (l) {
						var d = {
							id: l = l.split("_")[0],
							method: "cdn",
							bytesLoaded: r,
							tload: s,
							tfirst: o,
							hDate: c,
							timeLoad: u,
							sn: n,
							url: i
						};
						switch (t) {
							case Ra.FRAG_LOADED:
								this.bytestat.handleByteReport(Ca.SegmentLoaded, d);
								break;
							case Ra.ERROR:
								"fragLoadError" === e.details ? this.bytestat.handleByteReport(Ca
										.SegmentError, d, {
											code: a,
											text: h
										}) : "fragLoadTimeOut" === e.details && this.bytestat
									.handleByteReport(Ca.SegmentTimeout, d)
						}
					}
				}
			}, fn(e, [{
				key: "stats",
				get: function() {
					return this._stats
				}
			}]), e
		}(Zr), Da.version = Fa, vn((Pa = Ma).prototype, "hlsEventHandler", [Kn], yn(Pa.prototype,
			"hlsEventHandler"), Pa.prototype), Pa),
		za = {
			METADATA_PARSED: "metadataParsed",
			MEDIA_ATTACHING: "mp4MediaAttaching",
			MEDIA_ATTACHED: "mp4MediaAttached",
			MEDIA_DETACHING: "mp4MediaDetaching",
			MEDIA_DETACHED: "mp4MediaDetached",
			BUFFER_RESET: "mp4BufferReset",
			BUFFER_CODECS: "mp4BufferCodecs",
			BUFFER_CREATED: "mp4BufferCreated",
			BUFFER_APPENDING: "mp4BufferAppending",
			BUFFER_APPENDED: "mp4BufferAppended",
			BUFFER_FULL: "mp4BufferFull",
			BUFFER_EMPTY: "mp4BufferEmpty",
			BUFFER_EOS: "mp4BufferEos",
			BUFFER_FLUSHING: "mp4BufferFlushing",
			BUFFER_FLUSHED: "mp4BufferFlushed",
			FRAG_LOADING: "mp4FragLoading",
			FRAG_LOAD_PROGRESS: "mp4FragLoadProgress",
			FRAG_LOAD_EMERGENCY_ABORTED: "mp4FragLoadEmergencyAborted",
			FRAG_LOADED: "mp4FragLoaded",
			FRAG_DECRYPTED: "mp4FragDecrypted",
			FRAG_PARSING_DATA: "mp4FragParsingData",
			FRAG_PARSED: "mp4FragParsed",
			FRAG_BUFFERED: "mp4FragBuffered",
			FRAG_CHANGED: "mp4FragChanged",
			ERROR: "mp4Error",
			DESTROYING: "mp4Destroying",
			STREAM_STATE_TRANSITION: "mp4StreamStateTransition"
		},
		Ha = {
			NETWORK_ERROR: "kernelNetworkError",
			MEDIA_ERROR: "kernelMediaError",
			MUX_ERROR: "kernelMuxError",
			OTHER_ERROR: "kernelOtherError"
		},
		ja = {
			METADATA_PARSING_ERROR: "metadataParsingError",
			METADATA_INCOMPATIBLE_CODECS_ERROR: "metadataIncompatibleCodecsError",
			FRAG_LOAD_ERROR: "fragLoadError",
			FRAG_LOOP_LOADING_ERROR: "fragLoopLoadingError",
			FRAG_LOAD_TIMEOUT: "fragLoadTimeOut",
			FRAG_DECRYPT_ERROR: "fragDecryptError",
			FRAG_PARSING_ERROR: "fragParsingError",
			REMUX_ALLOC_ERROR: "remuxAllocError",
			BUFFER_ADD_CODEC_ERROR: "bufferAddCodecError",
			BUFFER_APPEND_ERROR: "bufferAppendError",
			BUFFER_APPENDING_ERROR: "bufferAppendingError",
			BUFFER_STALLED_ERROR: "bufferStalledError",
			BUFFER_FULL_ERROR: "bufferFullError",
			BUFFER_SEEK_OVER_HOLE: "bufferSeekOverHole",
			BUFFER_NUDGE_ON_STALL: "bufferNudgeOnStall",
			INTERNAL_EXCEPTION: "internalException"
		};

	function $a() {}
	var Wa = {
			trace: $a,
			debug: $a,
			log: $a,
			warn: $a,
			info: $a,
			error: $a
		},
		qa = Wa;

	function Ga(t) {
		for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] = arguments[n];
		i.forEach(function(e) {
			qa[e] = t[e] ? t[e].bind(t) : function(t) {
				var e = self.console[t];
				return e ? function() {
					for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] =
						arguments[r];
					n[0] && (n[0] = function(t, e) {
						return e = "[" + t + "] > " + e
					}(t, n[0])), e.apply(self.console, n)
				} : $a
			}(e)
		})
	}
	var Ka = function(t) {
			if (!0 === t || "object" == typeof t) {
				Ga(t, "debug", "log", "info", "warn", "error");
				try {
					qa.log()
				} catch (t) {
					qa = Wa
				}
			} else qa = Wa
		},
		Ya = qa,
		Xa = function() {
			function t(t) {
				this.mp4 = t, this.onEvent = this.onEvent.bind(this);
				for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] =
					arguments[n];
				this.handledEvents = i, this.useGenericHandler = !0, this.registerListeners()
			}
			var e = t.prototype;
			return e.destroy = function() {
				this.unregisterListeners()
			}, e.isEventHandler = function() {
				return "object" == typeof this.handledEvents && this.handledEvents.length && "function" ==
					typeof this.onEvent
			}, e.registerListeners = function() {
				this.isEventHandler() && this.handledEvents.forEach(function(t) {
					if ("mp4EventGeneric" === t) throw new Error("Forbidden event name: " + t);
					this.mp4.on(t, this.onEvent)
				}, this)
			}, e.unregisterListeners = function() {
				this.isEventHandler() && this.handledEvents.forEach(function(t) {
					this.mp4.off(t, this.onEvent)
				}, this)
			}, e.onEvent = function(t, e) {
				this.onEventGeneric(t, e)
			}, e.onEventGeneric = function(t, e) {
				try {
					(function(t, e) {
						var i = "on" + t.replace("mp4", "");
						if ("function" != typeof this[i]) throw new Error("Event " + t +
							" has no generic handler in this " + this.constructor.name +
							" class (tried " + i + ")");
						return this[i].bind(this, e)
					}).call(this, t, e).call()
				} catch (e) {
					Ya.error("internal error happened while processing " + t + ":" + e.message), this.mp4
						.trigger(za.ERROR, {
							type: Ha.OTHER_ERROR,
							details: ja.INTERNAL_EXCEPTION,
							fatal: !1,
							event: t,
							err: e
						})
				}
			}, t
		}(),
		Za = function(t) {
			function e(e) {
				var i;
				return (i = t.call(this, e, za.FRAG_LOADING) || this).loaders = {}, i
			}
			pn(e, t);
			var i = e.prototype;
			return i.destroy = function() {
				var t = this.loaders;
				for (var e in t) {
					var i = t[e];
					i && i.destroy()
				}
				this.loaders = {}, Xa.prototype.destroy.call(this)
			}, i.onFragLoading = function(t) {
				var e, i, n, r = t.frag,
					o = r.type,
					s = this.loaders[o],
					a = this.mp4.config;
				r.loaded = 0, s && (Ya.warn("abort previous fragment loader for type:" + o), s.abort()), s =
					this.loaders[o] = r.loader = void 0 !== a.fLoader ? new a.fLoader(a) : new a.loader(a),
					e = {
						url: r.url,
						frag: r,
						responseType: "arraybuffer",
						progressData: !1
					};
				var h = r.byteRangeStartOffset,
					c = r.byteRangeEndOffset;
				isNaN(h) || isNaN(c) || (e.rangeStart = h, e.rangeEnd = c), i = {
					timeout: a.fragLoadingTimeOut,
					maxRetry: 0,
					retryDelay: 0,
					maxRetryDelay: a.fragLoadingMaxRetryTimeout
				}, n = {
					onSuccess: this.loadsuccess.bind(this),
					onError: this.loaderror.bind(this),
					onTimeout: this.loadtimeout.bind(this),
					onProgress: this.loadprogress.bind(this)
				}, s.load(e, i, n)
			}, i.loadsuccess = function(t, e, i, n) {
				void 0 === n && (n = null);
				var r = t.data,
					o = i.frag;
				o.loader = void 0, this.loaders[o.type] = void 0, this.mp4.trigger(za.FRAG_LOADED, {
					payload: r,
					frag: o,
					stats: e,
					networkDetails: n
				})
			}, i.loaderror = function(t, e, i) {
				void 0 === i && (i = null);
				var n = e.loader;
				n && n.abort(), this.loaders[e.type] = void 0, this.mp4.trigger(za.ERROR, {
					type: Ha.NETWORK_ERROR,
					details: ja.FRAG_LOAD_ERROR,
					fatal: !1,
					frag: e.frag,
					response: t,
					networkDetails: i
				})
			}, i.loadtimeout = function(t, e, i) {
				void 0 === i && (i = null);
				var n = e.loader;
				n && n.abort(), this.loaders[e.type] = void 0, this.mp4.trigger(za.ERROR, {
					type: Ha.NETWORK_ERROR,
					details: ja.FRAG_LOAD_TIMEOUT,
					fatal: !1,
					frag: e.frag,
					networkDetails: i
				})
			}, i.loadprogress = function(t, e, i, n) {
				void 0 === n && (n = null);
				var r = e.frag;
				r.loaded = t.loaded, this.mp4.trigger(za.FRAG_LOAD_PROGRESS, {
					frag: r,
					stats: t,
					networkDetails: n
				})
			}, e
		}(Xa),
		Qa = function(t, e) {
			for (var i = 0, n = t.length - 1, r = null, o = null; i <= n;) {
				var s = e(o = t[r = (i + n) / 2 | 0]);
				if (s > 0) i = r + 1;
				else {
					if (!(s < 0)) return o;
					n = r - 1
				}
			}
			return null
		},
		Ja = {
			isBuffered: function(t, e) {
				try {
					if (t)
						for (var i = t.buffered, n = 0; n < i.length; n++)
							if (e >= i.start(n) && e <= i.end(n)) return !0
				} catch (t) {}
				return !1
			},
			bufferInfo: function(t, e, i) {
				try {
					if (t) {
						var n, r = t.buffered,
							o = [];
						for (n = 0; n < r.length; n++) o.push({
							start: r.start(n),
							end: r.end(n)
						});
						return this.bufferedInfo(o, e, i)
					}
				} catch (t) {}
				return {
					len: 0,
					start: e,
					end: e,
					nextStart: void 0
				}
			},
			bufferedInfo: function(t, e, i) {
				var n, r, o, s, a, h = [];
				for (t.sort(function(t, e) {
						var i = t.start - e.start;
						return i || e.end - t.end
					}), a = 0; a < t.length; a++) {
					var c = h.length;
					if (c) {
						var u = h[c - 1].end;
						t[a].start - u < i ? t[a].end > u && (h[c - 1].end = t[a].end) : h.push(t[a])
					} else h.push(t[a])
				}
				for (a = 0, n = 0, r = o = e; a < h.length; a++) {
					var l = h[a].start,
						d = h[a].end;
					if (e + i >= l && e < d) r = l, n = (o = d) - e;
					else if (e + i < l) {
						s = l;
						break
					}
				}
				return {
					len: n,
					start: r,
					end: o,
					nextStart: s
				}
			}
		},
		th = function(t) {
			return function(t) {
				return !!t && "object" == typeof t
			}(t) && ! function(t) {
				var e = Object.prototype.toString.call(t);
				return "[object RegExp]" === e || "[object Date]" === e || function(t) {
					return t.$$typeof === eh
				}(t)
			}(t)
		};
	var eh = "function" == typeof Symbol && Symbol.for ? Symbol.for("react.element") : 60103;

	function ih(t, e) {
		return !1 !== e.clone && e.isMergeableObject(t) ? rh((i = t, Array.isArray(i) ? [] : {}), t, e) : t;
		var i
	}

	function nh(t, e, i) {
		return t.concat(e).map(function(t) {
			return ih(t, i)
		})
	}

	function rh(t, e, i) {
		(i = i || {}).arrayMerge = i.arrayMerge || nh, i.isMergeableObject = i.isMergeableObject || th;
		var n = Array.isArray(e);
		return n === Array.isArray(t) ? n ? i.arrayMerge(t, e, i) : function(t, e, i) {
			var n = {};
			return i.isMergeableObject(t) && bn(t).forEach(function(e) {
				n[e] = ih(t[e], i)
			}), bn(e).forEach(function(r) {
				i.isMergeableObject(e[r]) && t[r] ? n[r] = rh(t[r], e[r], i) : n[r] = ih(e[r], i)
			}), n
		}(t, e, i) : ih(e, i)
	}
	rh.all = function(t, e) {
		if (!Array.isArray(t)) throw new Error("first argument should be an array");
		return t.reduce(function(t, i) {
			return rh(t, i, e)
		}, {})
	};
	var oh = rh,
		sh = function() {
			function t(t) {
				if (!(t instanceof ArrayBuffer)) throw new Error("buffer data is invalid");
				this.buffer = t, this.dataview = new DataView(t), this.dataview.position = 0
			}
			var e = t.prototype;
			return e.skip = function(e) {
				for (var i = Math.floor(e / 4), n = e % 4, r = 0; r < i; r++) t.readByte(this.dataview, 4);
				n > 0 && t.readByte(this.dataview, n)
			}, t.readByte = function(t, e, i) {
				var n;
				switch (e) {
					case 1:
						n = i ? t.getInt8(t.position) : t.getUint8(t.position);
						break;
					case 2:
						n = i ? t.getInt16(t.position) : t.getUint16(t.position);
						break;
					case 3:
						if (i) throw new Error("[stream] not supported for readByte 3");
						n = t.getUint8(t.position) << 16, n |= t.getUint8(t.position + 1) << 8, n |= t.getUint8(
							t.position + 2);
						break;
					case 4:
						n = i ? t.getInt32(t.position) : t.getUint32(t.position);
						break;
					case 8:
						if (i) throw new Error("[stream] not supported for readBody 8");
						n = t.getUint32(t.position) << 32, n |= t.getUint32(t.position + 4);
						break;
					default:
						n = ""
				}
				return t.position += e, n
			}, e.readUint8 = function() {
				return t.readByte(this.dataview, 1)
			}, e.readUint16 = function() {
				return t.readByte(this.dataview, 2)
			}, e.readUint32 = function() {
				return t.readByte(this.dataview, 4)
			}, e.readUint64 = function() {
				return t.readByte(this.dataview, 8)
			}, e.readInt8 = function() {
				return t.readByte(this.dataview, 1, !0)
			}, e.readInt16 = function() {
				return t.readByte(this.dataview, 2, !0)
			}, e.readInt32 = function() {
				return t.readByte(this.dataview, 4, !0)
			}, fn(t, [{
				key: "position",
				set: function(t) {
					this.dataview.position = t
				},
				get: function() {
					return this.dataview.position
				}
			}]), t
		}(),
		ah = function() {
			function t() {
				this.headSize = 8, this.size = 0, this.type = "", this.subBox = [], this.start = -1
			}
			var e = t.prototype;
			return e.readHeader = function(t) {
				if (this.start = t.position, this.size = t.readUint32(), this.type = String.fromCharCode(t
						.readUint8(), t.readUint8(), t.readUint8(), t.readUint8()), 1 === this.size) this.size =
					t.readUint64();
				else if (0 === this.size && "mdat" !== this.type) throw new Error("parse mp4 mdat box failed");
				if ("uuid" === this.type)
					for (var e = [], i = 0; i < 16; i++) e.push(t.readUint8())
			}, e.readBody = function(e) {
				var i, n = this.size - e.position + this.start,
					r = this.type;
				this.data = e.buffer.slice(e.position, e.position + n), e.position += this.data.byteLength, (i =
					t.containerBox.find(function(t) {
						return t === r
					}) ? t.containerParser : t[r]) && i instanceof Function && i.call(this)
			}, e.read = function(t) {
				this.readHeader(t), this.readBody(t)
			}, t.containerParser = function() {
				for (var e = new sh(this.data), i = e.buffer.byteLength; e.position < i;) {
					var n = new t;
					n.readHeader(e), this.subBox.push(n), n.readBody(e)
				}
				delete this.data, e = null
			}, t
		}();
	ah.containerBox = ["moov", "trak", "edts", "mdia", "minf", "dinf", "stbl", "mvex", "moof", "traf", "mfra"];
	var hh = dr(function(t, e) {
		gn(e, "__esModule", {
			value: !0
		}), e.default = function(t) {
			for (var e = 0, i = arguments.length, n = Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) n[r -
				1] = arguments[r];
			var o = !0,
				s = !1,
				a = void 0;
			try {
				for (var h, c = n[Symbol.iterator](); !(o = (h = c.next()).done); o = !0) {
					e += h.value.length
				}
			} catch (t) {
				s = !0, a = t
			} finally {
				try {
					!o && c.return && c.return()
				} finally {
					if (s) throw a
				}
			}
			var u = new t(e),
				l = 0,
				d = !0,
				f = !1,
				p = void 0;
			try {
				for (var m, v = n[Symbol.iterator](); !(d = (m = v.next()).done); d = !0) {
					var g = m.value;
					u.set(g, l), l += g.length
				}
			} catch (t) {
				f = !0, p = t
			} finally {
				try {
					!d && v.return && v.return()
				} finally {
					if (f) throw p
				}
			}
			return u
		}
	});
	lr(hh);
	var ch = lr(dr(function(t) {
		var e, i = (e = hh) && e.__esModule ? e : {
			default: e
		};
		t.exports = i.default
	}));
	ah.MP4DecConfigDescrTag = function(t) {
		var e, i = new ah;
		return i.type = t.readUint8(), 128 === (e = t.readUint8()) ? (i.extend = !0, t.skip(2), e = t
			.readUint8() + 5) : e += 2, i.size = e, i.typeID = t.readUint8(), i.streamUint = t.readUint8(), i
			.bufferSize = sh.readByte(t.dataview, 3), i.maximum = t.readUint32(), i.average = t.readUint32(), i
			.subBox.push(ah.MP4DecSpecificDescrTag(t)), i
	}, ah.MP4DecSpecificDescrTag = function(t) {
		var e, i, n = new ah;
		n.type = t.readUint8(), 128 === (e = t.readUint8()) ? (n.extend = !0, t.skip(2), i = (e = t
		.readUint8() + 5) - 5) : (i = e, e += 2), n.size = e;
		for (var r = [], o = 0; o < i; o++) r.push(Number(t.readUint8()).toString(16).padStart(2, "0"));
		return n.EScode = r, delete n.subBox, n
	}, ah.MP4ESDescrTag = function(t) {
		var e, i = new ah;
		return i.type = t.readUint8(), 128 === (e = t.readUint8()) ? (i.extend = !0, t.skip(2), e = t
			.readUint8() + 5) : e += 2, i.size = e, i.esID = t.readUint16(), i.priority = t.readUint8(), i
			.subBox.push(ah.MP4DecConfigDescrTag(t)), i.subBox.push(ah.SLConfigDescriptor(t)), i
	}, ah.SLConfigDescriptor = function(t) {
		var e, i = new ah;
		return i.type = t.readUint8(), 128 === (e = t.readUint8()) ? (i.extend = !0, t.skip(2), e = t
		.readUint8() + 5) : e += 2, i.size = e, i.SL = t.readUint8(), delete i.subBox, i
	}, ah.avc1 = function() {
		var t = new sh(this.data);
		t.skip(6), this.dataReferenceIndex = t.readUint16(), t.skip(16), this.width = t.readUint16(), this
			.height = t.readUint16(), this.horizresolution = t.readUint32(), this.vertresolution = t
			.readUint32(), t.skip(4), this.frameCount = t.readUint16(), t.skip(1);
		for (var e = 0; e < 31; e++) String.fromCharCode(t.readUint8());
		for (this.depth = t.readUint16(), t.skip(2); t.position < t.buffer.byteLength - 8;) {
			var i = new ah;
			i.readHeader(t), this.subBox.push(i), i.readBody(t)
		}
		delete this.data, t = null
	}, ah.avcC = function() {
		var t = new sh(this.data);
		this.configVersion = t.readUint8(), this.profile = t.readUint8(), this.profileCompatibility = t
			.readUint8(), this.AVCLevelIndication = t.readUint8(), this.lengthSizeMinusOne = 1 + (3 & t
				.readUint8()), this.numOfSequenceParameterSets = 31 & t.readUint8();
		var e = t.readUint16();
		this.sequenceLength = e;
		for (var i = [], n = 0; n < e; n++) i.push(Number(t.readUint8()).toString(16));
		this.ppsCount = t.readUint8();
		var r = t.readUint16();
		this.ppsLength = r;
		for (var o = [], s = 0; s < r; s++) o.push(Number(t.readUint8()).toString(16));
		this.pps = o, this.sequence = i;
		for (var a = [], h = t.dataview.byteLength; t.position < h;) a.push(t.readUint8());
		this.last = a, delete this.subBox, delete this.data, t = null
	}, ah.btrt = function() {
		var t = new sh(this.data);
		this.bufferSizeDB = t.readUint32(), this.maxBitrate = t.readUint32(), this.avgBitrate = t.readUint32(),
			delete this.subBox, delete this.data, t = null
	}, ah.co64 = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.count = t.readUint32();
		var e = [];
		this.entries = e;
		for (var i = 0, n = this.count; i < n; i++) e.push(t.readUint64());
		delete this.subBox, delete this.data, t = null
	}, ah.ctts = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.entryCount = t.readUint32();
		var e = [];
		this.entry = e;
		for (var i = 0, n = this.entryCount; i < n; i++) e.push({
			count: t.readUint32(),
			offset: t.readUint32()
		});
		delete this.subBox, delete this.data, t = null
	}, ah.dref = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3);
		var e = t.readUint32();
		this.entryCount = e;
		for (var i = 0; i < e; i++) {
			var n = new ah;
			this.subBox.push(n), n.read(t)
		}
		delete this.data, t = null
	}, ah.elst = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3);
		var e = [],
			i = t.readUint32();
		this.entries = e;
		for (var n = 0; n < i; n++) {
			var r = {};
			e.push(r), 1 === this.version ? (r.segment_duration = t.readUint64(), r.media_time = t
			.readUint64()) : (r.segment_duration = t.readUint32(), r.media_time = t.readInt32()), r
				.media_rate_integer = t.readInt16(), r.media_rate_fraction = t.readInt16()
		}
		delete this.subBox, delete this.data, t = null
	}, ah.esds = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3);
		var e = ah.MP4ESDescrTag(t);
		this.subBox.push(e), delete this.data, t = null
	}, ah.ftyp = function() {
		var t = new sh(this.data);
		this.major_brand = String.fromCharCode(t.readUint8(), t.readUint8(), t.readUint8(), t.readUint8()), this
			.minor_version = t.readUint32();
		for (var e = [], i = 0, n = Math.floor((t.buffer.byteLength - 8) / 4); i < n; i++) e.push(String
			.fromCharCode(t.readUint8(), t.readUint8(), t.readUint8(), t.readUint8()));
		this.compatible_brands = e, t = null, delete this.subBox, delete this.data
	}, ah.hdlr = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), t.skip(4), this.handleType = "" +
			String.fromCharCode(t.readUint8()) + String.fromCharCode(t.readUint8()) + String.fromCharCode(t
				.readUint8()) + String.fromCharCode(t.readUint8()), t.skip(12);
		for (var e = []; t.position < this.size - 8;) e.push(String.fromCharCode(t.readUint8()));
		this.name = e.join(""), delete this.subBox, delete this.data, t = null
	}, ah.iods = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3);
		for (var e = [], i = t.buffer.byteLength; t.position < i;) e.push(t.readUint8());
		this.content = e, delete this.subBox, delete this.data, t = null
	};
	var uh = function() {
		function t() {
			var t = new Date;
			t.setFullYear(1904), t.setMonth(0), t.setDate(1), t.setHours(0), t.setMinutes(0), t.setSeconds(0),
				this.time = t
		}
		return t.prototype.setTime = function(t) {
			return this.time.setTime(this.time.getTime() + 1 * t), this.time.toLocaleString()
		}, t
	}();
	ah.mdhd = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), 1 === this.version ? (this
				.create = t.readUint64(), this.modify = t.readUint64(), this.createTime = (new uh).setTime(1e3 *
					this.create), this.modifyTime = (new uh).setTime(1e3 * this.modify), this.timescale = t
				.readUint32(), this.duration = t.readUint64()) : (this.create = t.readUint32(), this.modify = t
				.readUint32(), this.createTime = (new uh).setTime(1e3 * this.create), this.modifyTime = (new uh)
				.setTime(1e3 * this.modify), this.timescale = t.readUint32(), this.duration = t.readUint32()),
			this.language = t.readUint16(), t.readUint16(), delete this.subBox, delete this.data, t = null
	}, ah.mp4a = function() {
		var t = new sh(this.data);
		t.skip(6), this.dataReferenceIndex = t.readUint16(), t.skip(8), this.channelCount = t.readUint16(), this
			.sampleSize = t.readUint16(), t.skip(4), this.sampleRate = t.readUint32() >> 16;
		var e = new ah;
		e.readHeader(t), this.subBox.push(e), e.readBody(t), delete this.data, t = null
	}, ah.mvhd = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), 1 === this.version ? (this
				.create = t.readUint64(), this.modify = t.readUint64(), this.timeScale = t.readUint32(), this
				.duration = t.readUint64()) : (this.create = t.readUint32(), this.modify = t.readUint32(), this
				.timeScale = t.readUint32(), this.duration = t.readUint32()), this.createTime = (new uh)
			.setTime(1e3 * this.create), this.modifyTime = (new uh).setTime(1e3 * this.modify), this.rate = t
			.readUint16() + "." + t.readUint16(), this.volume = t.readUint8() + "." + t.readUint8(), sh
			.readByte(t.dataview, 8), sh.readByte(t.dataview, 2);
		for (var e = [], i = 0; i < 9; i++) e.push(t.readUint16() + "." + t.readUint16());
		this.matrix = e, sh.readByte(t.dataview, 24), this.nextTrackID = t.readUint32(), delete this.subBox,
			delete this.data
	}, ah.pasp = function() {
		var t = new sh(this.data);
		this.content = t.buffer.slice(0, this.size - 8), delete this.subBox, delete this.data, t = null
	}, ah.smhd = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.balance = t.readInt8() +
			"." + t.readInt8(), delete this.subBox, delete this.data, t = null
	}, ah.stco = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.count = t.readUint32();
		var e = [];
		this.entries = e;
		for (var i = 0, n = this.count; i < n; i++) e.push(t.readUint32());
		delete this.subBox, delete this.data, t = null
	}, ah.stsc = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.count = t.readUint32();
		var e = [];
		this.entries = e;
		for (var i = 0, n = this.count; i < n; i++) e.push({
			first_chunk: t.readUint32(),
			samples_per_chunk: t.readUint32(),
			sample_desc_index: t.readUint32()
		});
		for (var r, o, s = 0, a = this.count; s < a - 1; s++) r = e[s], o = e[s - 1], r.chunk_count = e[s + 1]
			.first_chunk - r.first_chunk, r.first_sample = 0 === s ? 1 : o.first_sample + o.chunk_count * o
			.samples_per_chunk;
		if (1 === this.count) {
			var h = e[0];
			h.first_sample = 1, h.chunk_count = 0
		} else if (this.count > 1) {
			var c = e[this.count - 1],
				u = e[this.count - 2];
			c.first_sample = u.first_sample + u.chunk_count * u.samples_per_chunk, c.chunk_count = 0
		}
		delete this.subBox, delete this.data, t = null
	}, ah.stsd = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.entryCount = t.readUint32();
		var e = new ah;
		e.readHeader(t), this.subBox.push(e), e.readBody(t), delete this.data, t = null
	}, ah.stss = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.count = t.readUint32();
		var e = [];
		this.entries = e;
		for (var i = 0, n = this.count; i < n; i++) e.push(t.readUint32());
		delete this.subBox, delete this.data, t = null
	}, ah.stsz = function() {
		var t = new sh(this.data);
		if (this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.sampleSize = t
			.readUint32(), this.count = t.readUint32(), 0 === this.sampleSize) {
			var e = [];
			this.entries = e;
			for (var i = 0, n = this.count; i < n; i++) e.push(t.readUint32())
		}
		delete this.subBox, delete this.data, t = null
	}, ah.stts = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3), this.count = t.readUint32();
		for (var e = [], i = 0, n = this.count; i < n; i++) e.push({
			sampleCount: t.readUint32(),
			sampleDuration: t.readUint32()
		});
		this.entry = e, delete this.subBox, delete this.data, t = null
	}, ah.tkhd = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = sh.readByte(t.dataview, 3, 0), 1 === this.version ? (this
				.create = t.readUint64(), this.modify = t.readUint64(), this.trackID = t.readUint32(), this
				.reserverd = t.readUint32(), this.duration = t.readUint64()) : (this.create = t.readUint32(),
				this.modify = t.readUint32(), this.trackID = t.readUint32(), this.reserverd = t.readUint32(),
				this.duration = t.readUint32()), this.createTime = (new uh).setTime(1e3 * this.create), this
			.modifyTime = (new uh).setTime(1e3 * this.modify), t.readUint64(), this.layer = t.readInt16(), this
			.alternate_group = t.readInt16(), this.volume = t.readInt16() >> 8, t.readUint16();
		for (var e = [], i = 0; i < 9; i++) e.push(t.readUint16() + "." + t.readUint16());
		this.matrix = e, this.width = t.readUint16() + "." + t.readUint16(), this.height = t.readUint16() +
			"." + t.readUint16(), delete this.data, delete this.subBox, t = null
	}, ah.udta = function() {
		delete this.subBox
	}, ah["url "] = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = [t.readUint8(), t.readUint8(), t.readUint8()];
		for (var e = [], i = t.buffer.byteLength; t.position < i;) e.push(t.readUint8());
		this.location = e, delete this.subBox, delete this.data, t = null
	}, ah.vmhd = function() {
		var t = new sh(this.data);
		this.version = t.readUint8(), this.flag = [t.readUint8(), t.readUint8(), t.readUint8()], this
			.graphicsmode = t.readUint16(), this.opcolor = [t.readUint16(), t.readUint16(), t.readUint16()],
			delete this.subBox, delete this.data, t = null
	};
	var lh = function(t) {
			this.buffer = null, this.boxes = [], this.nextBox = null, this.start = 0;
			var e = this;
			e.buffer ? ch(Uint8Array, e.buffer, t) : e.buffer = t;
			var i = t.byteLength;
			t.position = 0;
			for (var n = new sh(t); i - n.position >= 8;) {
				var r = new ah;
				if (r.readHeader(n), r.size - 8 <= i - n.position) r.readBody(n), e.boxes.push(r);
				else {
					if ("mdat" !== r.type) {
						e.nextBox = r, n.position -= 8;
						break
					}
					r.readBody(n), e.boxes.push(r)
				}
			}
			e.buffer = new Uint8Array(e.buffer.slice(n.position))
		},
		dh = function() {
			function t() {
				this.buffer = new Uint8Array(0)
			}
			return t.prototype.write = function() {
				for (var t = this, e = arguments.length, i = new Array(e), n = 0; n < e; n++) i[n] = arguments[
					n];
				i.forEach(function(e) {
					e ? t.buffer = ch(Uint8Array, t.buffer, e) : window.console.error(e)
				})
			}, t.writeUint32 = function(t) {
				return new Uint8Array([t >> 24, t >> 16 & 255, t >> 8 & 255, 255 & t])
			}, t
		}(),
		fh = Math.pow(2, 32) - 1,
		ph = function() {
			function t() {}
			return t.type = function(t) {
				return new Uint8Array([t.charCodeAt(0), t.charCodeAt(1), t.charCodeAt(2), t.charCodeAt(3)])
			}, t.size = function(t) {
				return dh.writeUint32(t)
			}, t.extension = function(t, e) {
				return new Uint8Array([t, e >> 16 & 255, e >> 8 & 255, 255 & e])
			}, t.ftyp = function() {
				var e = new dh;
				return e.write(t.size(24), t.type("ftyp"), new Uint8Array([105, 115, 111, 109, 0, 0, 0, 1, 105,
					115, 111, 109, 97, 118, 99, 49
				])), e.buffer
			}, t.moov = function(e) {
				var i = new dh,
					n = 8,
					r = t.mvhd(e.duration, e.timeScale),
					o = t.videoTrak(e),
					s = t.audioTrak(e),
					a = t.mvex(e.duration, e.timeScale);
				return [r, o, s, a].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("moov"), r, o, s, a), i.buffer
			}, t.mvhd = function(e, i) {
				var n = new dh;
				e *= i;
				var r = Math.floor(e / (fh + 1)),
					o = Math.floor(e % (fh + 1)),
					s = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, i >> 24 &
						255, i >> 16 & 255, i >> 8 & 255, 255 & i, r >> 24, r >> 16 & 255, r >> 8 & 255,
						255 & r, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o, 0, 1, 0, 0, 1, 0, 0, 0, 0,
						0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
						0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
						0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255
					]);
				return n.write(t.size(8 + s.length), t.type("mvhd"), new Uint8Array(s)), n.buffer
			}, t.videoTrak = function(e) {
				var i = new dh,
					n = 8,
					r = t.tkhd({
						id: 1,
						duration: e.videoDuration,
						timescale: e.videoTimeScale,
						width: e.width,
						height: e.height,
						type: "video"
					}),
					o = t.mdia({
						type: "video",
						timescale: e.videoTimeScale,
						duration: e.videoDuration,
						sps: e.sps,
						pps: e.pps,
						pixelRatio: e.pixelRatio,
						width: e.width,
						height: e.height
					});
				return [r, o].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("trak"), r, o), i.buffer
			}, t.audioTrak = function(e) {
				var i = new dh,
					n = 8,
					r = t.tkhd({
						id: 2,
						duration: e.audioDuration,
						timescale: e.audioTimeScale,
						width: 0,
						height: 0,
						type: "audio"
					}),
					o = t.mdia({
						type: "audio",
						timescale: e.audioTimeScale,
						duration: e.audioDuration,
						channelCount: e.channelCount,
						samplerate: e.sampleRate,
						audioConfig: e.audioConfig
					});
				return [r, o].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("trak"), r, o), i.buffer
			}, t.tkhd = function(e) {
				var i = new dh,
					n = e.id,
					r = e.duration * e.timeScale,
					o = e.width,
					s = e.height,
					a = e.type,
					h = Math.floor(r / (fh + 1)),
					c = Math.floor(r % (fh + 1)),
					u = new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, n >> 24 &
						255, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 0, 0, 0, h >> 24, h >> 16 & 255, h >>
						8 & 255, 255 & h, c >> 24, c >> 16 & 255, c >> 8 & 255, 255 & c, 0, 0, 0, 0, 0, 0,
						0, 0, 0, 0, 0, "video" === a ? 1 : 0, "audio" === a ? 1 : 0, 0, 0, 0, 0, 1, 0, 0, 0,
						0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64,
						0, 0, 0, o >> 8 & 255, 255 & o, 0, 0, s >> 8 & 255, 255 & s, 0, 0
					]);
				return i.write(t.size(8 + u.byteLength), t.type("tkhd"), u), i.buffer
			}, t.edts = function(e) {
				var i = new dh,
					n = e.duration,
					r = e.mediaTime;
				return i.write(t.size(36), t.type("edts")), i.write(t.size(28), t.type("elst")), i.write(
					new Uint8Array([0, 0, 0, 1, n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, 255 & n, r >>
						24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, 0, 0, 0, 1
					])), i.buffer
			}, t.mdia = function(e) {
				var i = new dh,
					n = 8,
					r = t.mdhd(e.timescale),
					o = t.hdlr(e.type),
					s = t.minf(e);
				return [r, o, s].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("mdia"), r, o, s), i.buffer
			}, t.mdhd = function(e, i) {
				void 0 === i && (i = 0);
				var n = new dh;
				i *= e;
				var r = Math.floor(i / (fh + 1)),
					o = Math.floor(i % (fh + 1)),
					s = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 &
						255, e >> 8 & 255, 255 & e, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, o >> 24,
						o >> 16 & 255, o >> 8 & 255, 255 & o, 85, 196, 0, 0
					]);
				return n.write(t.size(12 + s.byteLength), t.type("mdhd"), t.extension(1, 0), s), n.buffer
			}, t.hdlr = function(e) {
				var i = new dh,
					n = [0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86,
						105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0
					];
				return "audio" === e && (n.splice.apply(n, [8, 4].concat([115, 111, 117, 110])), n.splice.apply(
						n, [24, 13].concat([83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]))), i
					.write(t.size(8 + n.length), t.type("hdlr"), new Uint8Array(n)), i.buffer
			}, t.minf = function(e) {
				var i = new dh,
					n = 8,
					r = "video" === e.type ? t.vmhd() : t.smhd(),
					o = t.dinf(),
					s = t.stbl(e);
				return [r, o, s].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("minf"), r, o, s), i.buffer
			}, t.vmhd = function() {
				var e = new dh;
				return e.write(t.size(20), t.type("vmhd"), new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,
					0])), e.buffer
			}, t.smhd = function() {
				var e = new dh;
				return e.write(t.size(16), t.type("smhd"), new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])), e.buffer
			}, t.dinf = function() {
				var e = new dh;
				return e.write(t.size(36), t.type("dinf"), t.size(28), t.type("dref"), new Uint8Array([0, 0, 0,
					0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1
				])), e.buffer
			}, t.stbl = function(e) {
				var i = new dh,
					n = 8,
					r = t.stsd(e),
					o = t.stts(),
					s = t.stsc(),
					a = t.stsz(),
					h = t.stco();
				return [r, o, s, a, h].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("stbl"), r, o, s, a, h), i.buffer
			}, t.stsd = function(e) {
				var i, n = new dh;
				return i = "audio" === e.type ? t.mp4a(e) : t.avc1(e), n.write(t.size(16 + i.byteLength), t
					.type("stsd"), t.extension(0, 0), new Uint8Array([0, 0, 0, 1]), i), n.buffer
			}, t.mp4a = function(e) {
				var i = new dh,
					n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, e.channelCount, 0,
						16, 0, 0, 0, 0, e.samplerate >> 8 & 255, 255 & e.samplerate, 0, 0
					]),
					r = t.esds(e.audioConfig);
				return i.write(t.size(8 + n.byteLength + r.byteLength), t.type("mp4a"), n, r), i.buffer
			}, t.esds = function(e) {
				void 0 === e && (e = [43, 146, 8, 0]);
				var i = e.length,
					n = new dh,
					r = new Uint8Array([0, 0, 0, 0, 3, 23 + i, 0, 1, 0, 4, 15 + i, 64, 21, 0, 0, 0, 0, 0, 0, 0,
						0, 0, 0, 0, 5
					].concat([i]).concat(e).concat([6, 1, 2]));
				return n.write(t.size(8 + r.byteLength), t.type("esds"), r), n.buffer
			}, t.avc1 = function(e) {
				var i = new dh,
					n = e.sps,
					r = e.pps,
					o = e.width,
					s = e.height,
					a = e.pixelRatio[0],
					h = e.pixelRatio[1],
					c = new Uint8Array([1, n[1], n[2], n[3], 255, 225].concat([n.length >>> 8 & 255, 255 & n
						.length
					]).concat(n).concat(1).concat([r.length >>> 8 & 255, 255 & r.length]).concat(r)),
					u = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
						o >> 8 & 255, 255 & o, s >> 8 & 255, 255 & s, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0,
						0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115,
						46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17
					]),
					l = new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192]),
					d = new Uint8Array([a >> 24, a >> 16 & 255, a >> 8 & 255, 255 & a, h >> 24, h >> 16 & 255,
						h >> 8 & 255, 255 & h
					]);
				return i.write(t.size(40 + u.byteLength + c.byteLength + l.byteLength), t.type("avc1"), u, t
					.size(8 + c.byteLength), t.type("avcC"), c, t.size(20), t.type("btrt"), l, t.size(16), t
					.type("pasp"), d), i.buffer
			}, t.stts = function() {
				var e = new dh,
					i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
				return e.write(t.size(16), t.type("stts"), i), e.buffer
			}, t.stsc = function() {
				var e = new dh,
					i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
				return e.write(t.size(16), t.type("stsc"), i), e.buffer
			}, t.stco = function() {
				var e = new dh,
					i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
				return e.write(t.size(16), t.type("stco"), i), e.buffer
			}, t.stsz = function() {
				var e = new dh,
					i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
				return e.write(t.size(20), t.type("stsz"), i), e.buffer
			}, t.mvex = function(e, i) {
				var n = new dh,
					r = dh.writeUint32(e * i);
				return n.write(t.size(88), t.type("mvex"), t.size(16), t.type("mehd"), t.extension(0, 0), r, t
					.trex(1), t.trex(2)), n.buffer
			}, t.trex = function(e) {
				var i = new dh,
					n = new Uint8Array([0, 0, 0, 0, e >> 24, e >> 16 & 255, e >> 8 & 255, 255 & e, 0, 0, 0, 1,
						0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1
					]);
				return i.write(t.size(8 + n.byteLength), t.type("trex"), n), i.buffer
			}, t.moof = function(e) {
				var i = new dh,
					n = 8,
					r = t.mfhd(),
					o = t.traf(e);
				return [r, o].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("moof"), r, o), i.buffer
			}, t.mfhd = function() {
				var e = new dh,
					i = dh.writeUint32(t.sequence);
				return t.sequence += 1, e.write(t.size(16), t.type("mfhd"), t.extension(0, 0), i), e.buffer
			}, t.traf = function(e) {
				var i = new dh,
					n = 8,
					r = t.tfhd(e.id),
					o = t.tfdt(e.time),
					s = t.sdtp(e),
					a = t.trun(e, s.byteLength);
				return [r, o, s, a].forEach(function(t) {
					n += t.byteLength
				}), i.write(t.size(n), t.type("traf"), r, o, s, a), i.buffer
			}, t.tfhd = function(e) {
				var i = new dh,
					n = dh.writeUint32(e);
				return i.write(t.size(16), t.type("tfhd"), t.extension(0, 0), n), i.buffer
			}, t.tfdt = function(e) {
				var i = new dh,
					n = Math.floor(e / (fh + 1)),
					r = Math.floor(e % (fh + 1));
				return i.write(t.size(20), t.type("tfdt"), t.extension(1, 0), dh.writeUint32(n), dh.writeUint32(
					r)), i.buffer
			}, t.trun = function(e, i) {
				var n = e.id,
					r = 1 === n ? 16 : 12,
					o = new dh,
					s = dh.writeUint32(e.samples.length),
					a = dh.writeUint32(96 + r * e.samples.length + i);
				return o.write(t.size(20 + r * e.samples.length), t.type("trun"), t.extension(0, e.flags), s,
					a), e.samples.forEach(function(t, e) {
						o.write(dh.writeUint32(t.duration)), o.write(dh.writeUint32(t.size)), 1 === n ? (o
							.write(dh.writeUint32(t.key ? 33554432 : 16842752)), o.write(dh.writeUint32(
								t.offset))) : o.write(dh.writeUint32(16777216))
					}), o.buffer
			}, t.sdtp = function(e) {
				var i = new dh;
				return i.write(t.size(12 + e.samples.length), t.type("sdtp"), t.extension(0, 0)), e.samples
					.forEach(function(t) {
						i.write(new Uint8Array(1 === e.id ? [t.key ? 32 : 16] : [16]))
					}), i.buffer
			}, t.mdat = function(e) {
				var i = new dh,
					n = 8;
				return e.samples.forEach(function(t) {
					n += t.size
				}), i.write(t.size(n), t.type("mdat")), e.samples.forEach(function(t) {
					i.write(t.buffer)
				}), i.buffer
			}, t
		}();
	ph.sequence = 1;
	var mh = function() {
		function t(e, i, n, r) {
			this.url = i, this.range = n, this.id = n.join("-"), this.on = !1;
			var o = new window.XMLHttpRequest;
			o.target = this, o.observer = e, o.responseType = "arraybuffer", o.open("get", i), o
				.setRequestHeader("Range", "bytes=" + n[0] + "-" + n[1]), o.onload = function() {
					200 !== o.status && 206 !== o.status || r && r instanceof Function && r(o.response), o
						.target.remove()
				}, o.onerror = function(t) {
					o.observer.trigger(Event.ERROR, {
						type: Ha.NETWORK_ERROR,
						details: ja.FRAG_LOAD_ERROR,
						fatal: !1
					}), o.target.remove()
				}, o.onabort = function() {
					o.target.remove()
				}, this.xhr = o, t.queue.push(this), this.update()
		}
		var e = t.prototype;
		return e.cancel = function() {
			this.xhr.abort()
		}, e.remove = function() {
			var e = this;
			t.queue.filter(function(i, n) {
				return i.url === e.url && i.id === e.id && (t.queue.splice(n, 1), !0)
			}), this.update()
		}, e.update = function() {
			var e = t.queue,
				i = e.filter(function(t) {
					return t.on
				}),
				n = e.filter(function(t) {
					return !t.on
				}),
				r = t.limit - i.length;
			n.forEach(function(t, e) {
				e < r && t.run()
			})
		}, e.run = function() {
			1 === this.xhr.readyState ? (this.on = !0, this.xhr.send()) : this.remove()
		}, t.clear = function() {
			t.queue.forEach(function(t) {
				t.on && t.cancel()
			}), t.queue.length = 0
		}, t
	}();
	mh.queue = [], mh.limit = 2, window.Task = mh;
	var vh = {
			findBox: function(t, e, i) {
				if (void 0 === i && (i = []), t.type !== e) {
					if (t && t.subBox) {
						var n = t.subBox.filter(function(t) {
							return t.type === e
						});
						n.length ? n.forEach(function(t) {
							return i.push(t)
						}) : t.subBox.forEach(function(t) {
							return vh.findBox(t, e, i)
						})
					}
				} else i.push(t);
				return (i = [].concat(i)).length > 1 ? i : i[0]
			},
			padStart: function(t, e, i) {
				for (var n = String(i), r = e >> 0, o = Math.ceil(r / n.length), s = [], a = String(t); o--;) s
					.push(n);
				return s.join("").substring(0, r - a.length) + a
			},
			toHex: function() {
				for (var t = [], e = arguments.length, i = new Array(e), n = 0; n < e; n++) i[n] = arguments[n];
				return i.forEach(function(e) {
					t.push(vh.padStart(Number(e).toString(16), 2, 0))
				}), t
			},
			sum: function() {
				for (var t = 0, e = arguments.length, i = new Array(e), n = 0; n < e; n++) i[n] = arguments[n];
				return i.forEach(function(e) {
					t += e
				}), t
			},
			stscOffset: function(t, e) {
				var i = t.entries.filter(function(t) {
					return t.first_sample <= e && e < t.first_sample + t.chunk_count * t
						.samples_per_chunk
				})[0];
				if (i) {
					var n = Math.floor((e - i.first_sample) / i.samples_per_chunk),
						r = i.first_sample + n * i.samples_per_chunk;
					return {
						chunk_index: i.first_chunk + n,
						samples_offset: [r, e]
					}
				}
				var o = t.entries.pop();
				t.entries.push(o);
				var s = Math.floor((e - o.first_sample) / o.samples_per_chunk);
				return {
					chunk_index: o.first_chunk + s,
					samples_offset: [o.first_sample + o.samples_per_chunk * s, e]
				}
			},
			seekSampleOffset: function(t, e, i, n, r) {
				var o = vh.stscOffset(t, n + 1),
					s = e.entries[o.chunk_index - 1] + vh.sum.apply(null, i.entries.slice(o.samples_offset[0] -
						1, o.samples_offset[1] - 1)) - r;
				if (void 0 === s) throw "result=" + s + ",stco.length=" + e.entries.length + ",sum=" + vh.sum
					.apply(null, i.entries.slice(0, n));
				if (s < 0) throw "result=" + s + ",stco.length=" + e.entries.length + ",sum=" + vh.sum.apply(
					null, i.entries.slice(0, n));
				return s
			},
			seekSampleTime: function(t, e, i) {
				var n, r, o = 0,
					s = 0,
					a = 0;
				if (t.entry.every(function(t) {
						return r = t.sampleDuration, i < o + t.sampleCount ? (n = s + (i - o) * t
							.sampleDuration, !1) : (o += t.sampleCount, s += t.sampleCount * r, !0)
					}), e) {
					var h = 0;
					e.entry.every(function(t) {
						return h += t.count, !(i < h) || (a = t.offset, !1)
					})
				}
				return n || (n = s + (i - o) * r), {
					time: n,
					duration: r,
					offset: a
				}
			},
			seekOrderSampleByTime: function(t, e, i, n) {
				var r, o = 0,
					s = 0,
					a = 0;
				return t.every(function(t, n) {
					return r = t.sampleCount * t.sampleDuration / e, i <= o + r ? (s = a + Math.ceil((
						i - o) * e / t.sampleDuration), o += Math.ceil((i - o) * e / t
						.sampleDuration) * t.sampleDuration / e, !1) : (o += r, a += t.sampleCount,
						!0)
				}), n && 0 == s && (s = a - 1), {
					order: s,
					startTime: o
				}
			},
			seekTrakDuration: function(t, e) {
				var i = vh.findBox(t, "stts"),
					n = 0;
				return i.entry.forEach(function(t) {
					n += t.sampleCount * t.sampleDuration
				}), Number(n / e).toFixed(4)
			}
		},
		gh = function() {
			function t(t, e, i) {
				void 0 === i && (i = Math.pow(25, 4)), this.url = e, this.observer = t, this.CHUNK_SIZE = i, this
					.init(), this.loadmetadata = !1, this.cache = new dh, this.bufferCache = new Set, this
					.timeRage = []
			}
			var e = t.prototype;
			return e.getData = function(t, e) {
				var i = this;
				return void 0 === t && (t = 0), void 0 === e && (e = t + this.CHUNK_SIZE), new Promise(function(
					n, r) {
					new mh(i.observer, i.url, [t, e], n)
				})
			}, e.moovParse = function() {
				var t = this,
					e = this;
				if (!e.loadmetadata) {
					e.loadmetadata = !0;
					var i, n, r, o, s, a, h, c, u, l, d, f, p, m, v = this.moovBox,
						g = vh.findBox(v, "mvhd");
					vh.findBox(v, "trak").forEach(function(t) {
						var v = vh.findBox(t, "hdlr"),
							g = vh.findBox(t, "mdhd");
						if (v && g) {
							var y = vh.findBox(t, "stsd").subBox[0];
							if ("vide" === v.handleType) {
								var _ = vh.findBox(t, "avcC"),
									b = vh.findBox(t, "avc1");
								i = t, s = g.timescale, _ ? (r = y.type + "." + vh.toHex(_.profile, _
										.profileCompatibility, _.AVCLevelIndication).join(""), h = _
									.sequence && _.sequence.map(function(t) {
										return Number("0x" + t)
									}), c = _.pps && _.pps.map(function(t) {
										return Number("0x" + t)
									}), u = _.profile) : r = "" + y.type, b && (l = b.width, d = b
									.height)
							}
							if ("soun" === v.handleType) {
								n = t;
								var w = vh.findBox(t, "esds"),
									k = vh.findBox(t, "mp4a"),
									E = vh.findBox(t, 5);
								a = g.timescale, o = w ? y.type + "." + vh.toHex(w.subBox[0].subBox[0]
										.typeID) + "." + w.subBox[0].subBox[0].subBox[0].type : "" + y
									.type, E && E.EScode && (m = E.EScode.map(function(t) {
										return Number("0x" + t)
									})), k && (f = k.channelCount, p = k.sampleRate)
							}
						} else e.observer.trigger(za.ERROR, {
							type: Ha.kernelMuxError,
							details: ja.METADATA_PARSING_ERROR,
							fatal: !0,
							url: e.url
						})
					}), this.videoTrak = oh({}, i), this.audioTrak = oh({}, n);
					var y = vh.seekTrakDuration(i, s),
						_ = vh.seekTrakDuration(n, a),
						b = this._boxes.find(function(t) {
							return "mdat" === t.type
						});
					this.mdatStart = b ? b.start : 0;
					var w = this.videoKeyFrames,
						k = w.length - 1,
						E = [];
					w.forEach(function(i, n) {
						if (n < k) {
							var r, o, a = t.videoKeyFrames[n],
								h = t.getSamplesByOrders("audio", t.audioKeyFrames[n].order, 0);
							r = Math.min(a.offset, h.offset);
							var c = t.videoKeyFrames[n + 1],
								u = t.getSamplesByOrders("audio", t.audioKeyFrames[n + 1].order, 0);
							o = Math.max(c.offset, u.offset);
							var l = i.time.time / s,
								d = w[n + 1].time.time / s;
							t.timeRage.push([l, d]), E.push({
								type: "main",
								idx: n,
								url: t.url,
								start: l,
								end: d,
								duration: d - l,
								byteRangeStartOffset: r + e.mdatStart,
								byteRangeEndOffset: o + e.mdatStart
							})
						} else {
							var f, p = t.videoKeyFrames[n],
								m = t.getSamplesByOrders("audio", t.audioKeyFrames[n].order, 0);
							f = Math.min(p.offset, m.offset);
							var v = i.time.time / s;
							t.timeRage.push([v, -1]), E.push({
								type: "main",
								idx: n,
								url: t.url,
								duration: 0,
								start: v,
								byteRangeStartOffset: f + e.mdatStart,
								byteRangeEndOffset: -1
							})
						}
					}), this.meta = {
						videoCodec: r,
						audioCodec: o,
						createTime: g.createTime,
						modifyTime: g.modifyTime,
						duration: g.duration / g.timeScale,
						timeScale: g.timeScale,
						videoDuration: y,
						videoTimeScale: s,
						audioDuration: _,
						audioTimeScale: a,
						endTime: Math.min(y, _),
						sps: h,
						pps: c,
						width: l,
						height: d,
						profile: u,
						pixelRatio: [1, 1],
						channelCount: f,
						sampleRate: p,
						audioConfig: m
					}, e.observer.trigger(za.METADATA_PARSED, {
						meta: this.meta,
						fragments: E,
						fragment: this.packMeta()
					}), e.observer.trigger(za.BUFFER_APPENDING, {
						type: "video",
						data: this.packMeta(),
						parent: "main",
						content: "initSegment"
					})
				}
			}, e.init = function() {
				var t = this;
				t.getData().then(function(e) {
					var i, n, r, o = 0;
					try {
						i = new lh(e)
					} catch (e) {
						return t.observer.trigger(za.ERROR, {
							type: Ha.kernelMuxError,
							details: ja.METADATA_PARSING_ERROR,
							fatal: !0,
							url: t.url
						}), !1
					}
					if (t._boxes = r = i.boxes, r.every(function(e) {
							return o += e.size, "moov" !== e.type || (n = e, t.moovBox = n, t
								.moovParse(), !1)
						}), !n) {
						var s = i.nextBox;
						s ? "moov" === s.type ? t.getData(o, o + s.size + 28).then(function(e) {
							var i = new lh(e);
							t._boxes = t._boxes.concat(i.boxes), (n = i.boxes.filter(function(
								t) {
									return "moov" === t.type
								})).length ? (t.moovBox = n[0], t.moovParse()) : t.observer
								.trigger(za.ERROR, {
									type: Ha.kernelMuxError,
									details: ja.METADATA_PARSING_ERROR,
									fatal: !0,
									url: t.url
								})
						}) : t.observer.trigger(za.ERROR, {
							type: Ha.kernelMuxError,
							details: ja.METADATA_PARSING_ERROR,
							fatal: !0,
							url: t.url
						}) : t.getData(o, "").then(function(e) {
							var i = new lh(e);
							i ? (t._boxes = t._boxes.concat(i.boxes), i.boxes.every(function(
							e) {
								return "moov" !== e.type || (n = e, t.moovBox = n, t
									.moovParse(), !1)
							})) : t.observer.trigger(za.ERROR, {
								type: Ha.kernelMuxError,
								details: ja.METADATA_PARSING_ERROR,
								fatal: !0,
								url: t.url
							})
						})
					}
				}).catch(function(e) {
					t.observer.trigger(za.ERROR, {
						type: Ha.kernelMuxError,
						details: ja.METADATA_PARSING_ERROR,
						fatal: !0,
						url: t.url
					})
				})
			}, e.getSamplesByOrders = function(t, e, i) {
				void 0 === t && (t = "video");
				var n = "video" === t ? this.videoTrak : this.audioTrak,
					r = vh.findBox(n, "stsc"),
					o = vh.findBox(n, "stsz"),
					s = vh.findBox(n, "stts"),
					a = vh.findBox(n, "stco"),
					h = vh.findBox(n, "ctts"),
					c = this.mdatStart,
					u = [];
				if (i = void 0 !== i ? i : o.entries.length, e instanceof Array) e.forEach(function(t, e) {
					u.push({
						idx: t,
						size: o.entries[t],
						time: vh.seekSampleTime(s, h, t),
						offset: vh.seekSampleOffset(r, a, o, t, c)
					})
				});
				else if (0 !== i)
					for (var l = e; l < i; l++) u.push({
						idx: l,
						size: o.entries[l],
						time: vh.seekSampleTime(s, h, l),
						offset: vh.seekSampleOffset(r, a, o, l, c)
					});
				else u = {
					idx: e,
					size: o.entries[e],
					time: vh.seekSampleTime(s, h, e),
					offset: vh.seekSampleOffset(r, a, o, e, c)
				};
				return u
			}, e.packMeta = function() {
				if (this.meta) {
					var t = new dh;
					return t.write(ph.ftyp()), t.write(ph.moov(this.meta)), this.cache.write(t.buffer), t.buffer
				}
			}, e.addFragment = function(t) {
				var e = new dh;
				return e.write(ph.moof(t)), e.write(ph.mdat(t)), this.cache.write(e.buffer), e.buffer
			}, e.createFragment = function(t, e) {
				var i, n;
				i = e.byteRangeStartOffset - this.mdatStart, n = e.idx;
				var r = [];
				this.bufferCache.add(n);
				var o = this.videoKeyFrames.map(function(t) {
						return t.idx
					}),
					s = this.getSamplesByOrders("video", o[n], o[n + 1]),
					a = s.map(function(e, n) {
						return {
							size: e.size,
							duration: e.time.duration,
							offset: e.time.offset,
							buffer: new Uint8Array(t.slice(e.offset - i, e.offset - i + e.size)),
							key: 0 === n
						}
					}),
					h = this.addFragment({
						id: 1,
						time: s[0].time.time,
						firstFlags: 33554432,
						flags: 3841,
						samples: a
					});
				r.push(h);
				var c = this.getSamplesByOrders("audio", this.audioKeyFrames[n].order, this.audioKeyFrames[n +
						1] ? this.audioKeyFrames[n + 1].order : void 0),
					u = c.map(function(e, n) {
						return {
							size: e.size,
							duration: e.time.duration,
							offset: e.time.offset,
							buffer: new Uint8Array(t.slice(e.offset - i, e.offset - i + e.size)),
							key: 0 === n
						}
					}),
					l = this.addFragment({
						id: 2,
						time: c[0].time.time,
						firstFlags: 0,
						flags: 1793,
						samples: u
					});
				r.push(l);
				var d = 0;
				r.every(function(t) {
					return d += t.byteLength, !0
				});
				var f = new Uint8Array(d),
					p = 0;
				r.every(function(t) {
					return f.set(t, p), p += t.byteLength, !0
				}), this.observer.trigger(za.FRAG_PARSING_DATA, {
					type: "video",
					frag: e,
					data1: f,
					parent: "main",
					content: "fragment"
				}), this.observer.trigger(za.FRAG_PARSED, {
					type: "video",
					frag: e,
					data1: f,
					parent: "main",
					content: "fragment"
				})
			}, e.destroy = function() {}, fn(t, [{
				key: "videoKeyFrames",
				get: function() {
					if (this._videoFrames) return this._videoFrames;
					var t = this.videoTrak,
						e = vh.findBox(t, "stss"),
						i = this.getSamplesByOrders("video", e.entries.map(function(t) {
							return t - 1
						}));
					return this._videoFrames = i, i
				}
			}, {
				key: "audioKeyFrames",
				get: function() {
					if (this._audioFrames) return this._audioFrames;
					var t, e = vh.findBox(this.videoTrak, "mdhd").timescale,
						i = vh.findBox(this.audioTrak, "mdhd").timescale,
						n = vh.findBox(this.audioTrak, "stts").entry,
						r = this.videoKeyFrames;
					return t = r.map(function(t, o) {
						var s = o == r.length - 1;
						return vh.seekOrderSampleByTime(n, i, t.time.time / e, s)
					}), this._audioFrames = t, this._audioFrames
				}
			}]), t
		}(),
		yh = {
			STOPPED: "STOPPED",
			IDLE: "IDLE",
			FRAG_LOADING: "FRAG_LOADING",
			FRAG_LOADING_WAITING_RETRY: "FRAG_LOADING_WAITING_RETRY",
			PARSING: "PARSING",
			PARSED: "PARSED",
			BUFFER_FLUSHING: "BUFFER_FLUSHING",
			ENDED: "ENDED",
			ERROR: "ERROR"
		},
		_h = function(t) {
			function e(e) {
				var i;
				return (i = t.call(this, e, za.MEDIA_ATTACHED, za.MEDIA_DETACHING, za.METADATA_PARSED, za
						.FRAG_LOADED, za.FRAG_LOAD_EMERGENCY_ABORTED, za.FRAG_PARSING_DATA, za.FRAG_PARSED, za
						.ERROR, za.BUFFER_CREATED, za.BUFFER_APPENDED, za.BUFFER_FLUSHED) || this).config = e
					.config, i.audioCodecSwap = !1, i.ticks = 0, i._state = yh.STOPPED, i.ontick = i.tick.bind(i), i
			}
			pn(e, t);
			var i = e.prototype;
			return i.destroy = function() {
				this.stopLoad(), this.timer && (clearInterval(this.timer), this.timer = null), Xa.prototype
					.destroy.call(this), this.state = yh.STOPPED
			}, i.loadSource = function(t) {
				this.demuxer = new gh(this.mp4, t)
			}, i.startLoad = function(t) {
				var e = this.lastCurrentTime;
				this.stopLoad(), this.timer || (this.timer = setInterval(this.ontick, 100)), this
					.fragLoadError = 0, this.startFragRequested || (this.loadedmetadata = !1), e > 0 && -1 ===
					t && (Ya.log("override startPosition with lastCurrentTime @" + e.toFixed(3)), t = e), this
					.state = yh.IDLE, this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t,
					this.tick()
			}, i.stopLoad = function() {
				var t = this.fragCurrent;
				t && (t.loader && t.loader.abort(), this.fragCurrent = null), this.fragPrevious = null, this
					.state = yh.STOPPED, this.forceStartLoad = !1
			}, i.tick = function() {
				this.ticks++, this.doTick()
			}, i.doTick = function() {
				switch (this.state) {
					case yh.ERROR:
						break;
					case yh.BUFFER_FLUSHING:
						this.fragLoadError = 0;
						break;
					case yh.IDLE:
						this._doTickIdle();
						break;
					case yh.FRAG_LOADING_WAITING_RETRY:
						var t = performance.now(),
							e = this.retryDate;
						(!e || t >= e || this.media && this.media.seeking) && (Ya.log(
								"mediaController: retryDate reached, switch back to IDLE state"), this.state =
							yh.IDLE);
						break;
					case yh.ERROR:
					case yh.STOPPED:
					case yh.FRAG_LOADING:
					case yh.PARSING:
					case yh.PARSED:
					case yh.ENDED:
				}
				this._checkBuffer()
			}, i._doTickIdle = function() {
				var t = this.mp4.config,
					e = this.media;
				if (e || !this.startFragRequested && t.startFragPrefetch) {
					var i = this.loadedmetadata ? e.currentTime : this.nextLoadPosition,
						n = Math.min(t.maxBufferLength, t.maxMaxBufferLength),
						r = Ja.bufferInfo(this.mediaBuffer ? this.mediaBuffer : e, i, t.maxBufferHole),
						o = r.len,
						s = {};
					if (o >= n) {
						if (this.isBufferFull) return;
						return this.isBufferFull = !0, void this.mp4.trigger(za.BUFFER_FULL, s)
					}
					this.isBufferFull = !1, 0 == o && this.mp4.trigger(za.BUFFER_EMPTY, s), Ya.trace(
						"buffer length of " + o.toFixed(3) + " is below max of " + n.toFixed(3) +
						". checking for more payload ...");
					var a = this.fragPrevious;
					if (a)
						if (e.duration - Math.max(r.end, a.start) <= Math.max(.2, a.duration)) return this.mp4
							.trigger(za.BUFFER_EOS, s), void(this.state = yh.ENDED);
					this._fetchPayloadOrEos(i, r)
				}
			}, i._fetchPayloadOrEos = function(t, e) {
				var i = this.fragPrevious,
					n = this.fragments || [],
					r = n.length;
				if (0 !== r) {
					var o, s = n[0].start,
						a = n[r - 1].start + n[r - 1].duration,
						h = e.end;
					h < s && (o = n[0]), o || (o = this._findFragment(s, i, r, this.fragments, h, a)), o && this
						._loadFragmentOrKey(o, t, h)
				}
			}, i._findFragment = function(t, e, i, n, r, o) {
				var s, a, h = this.mp4.config.maxFragLookUpTolerance,
					c = e ? n[e.idx + 1] : void 0,
					u = function(t) {
						var e = Math.min(h, t.duration);
						return t.start + t.duration - e <= r ? 1 : t.start - e > r && t.start ? -1 : 0
					};
				return r < o ? (r > o - h && (h = 0), a = c && !u(c) ? c : Qa(n, u)) : a = n[i - 1], a && (s =
					a), s
			}, i._loadFragmentOrKey = function(t, e, i) {
				var n = this.mp4,
					r = n.config;
				if (Ya.log("Loading " + t.idx + ", currentTime:" + e.toFixed(3) + ", bufferEnd:" + i.toFixed(
					3)), void 0 !== this.fragLoadIdx ? this.fragLoadIdx++ : this.fragLoadIdx = 0, t.loadCounter
					) {
					t.loadCounter++;
					var o = r.fragLoadingLoopThreshold;
					if (t.loadCounter > o && Math.abs(this.fragLoadIdx - t.loadIdx) < o) return void n.trigger(
						za.ERROR, {
							type: Ha.MEDIA_ERROR,
							details: ja.FRAG_LOOP_LOADING_ERROR,
							fatal: !1,
							frag: t
						})
				} else t.loadCounter = 1;
				t.loadIdx = this.fragLoadIdx, t.autoLevel = n.autoLevelEnabled, t.bitrateTest = this
					.bitrateTest, this.fragCurrent = t, this.startFragRequested = !0, isNaN(t.idx) || t
					.bitrateTest || (this.nextLoadPosition = t.start + t.duration), n.trigger(za.FRAG_LOADING, {
						frag: t
					}), this.state = yh.FRAG_LOADING
			}, i.flushMainBuffer = function(t, e) {
				this.state = yh.BUFFER_FLUSHING;
				var i = {
					startOffset: t,
					endOffset: e
				};
				this.mp4.trigger(za.BUFFER_FLUSHING, i)
			}, i.onMediaAttached = function(t) {
				var e = this.media = this.mediaBuffer = t.media;
				this.onvseeking = this.onMediaSeeking.bind(this), this.onvseeked = this.onMediaSeeked.bind(
					this), this.onvended = this.onMediaEnded.bind(this), e.addEventListener("seeking", this
						.onvseeking), e.addEventListener("seeked", this.onvseeked), e.addEventListener("ended",
						this.onvended);
				var i = this.config;
				i.autoStartLoad && this.mp4.startLoad(i.startPosition)
			}, i.onMediaDetaching = function() {
				var t = this.media;
				t && t.ended && (Ya.log("MSE detaching and video ended, reset startPosition"), this
					.startPosition = this.lastCurrentTime = 0);
				var e = this.fragments;
				e && e.forEach(function(t) {
						t.loadCounter = void 0, t.backtracked = void 0
					}), t && (t.removeEventListener("seeking", this.onvseeking), t.removeEventListener("seeked",
							this.onvseeked), t.removeEventListener("ended", this.onvended), this.onvseeking =
						this.onvseeked = this.onvended = null), this.media = this.mediaBuffer = null, this
					.loadedmetadata = !1, this.stopLoad()
			}, i.onMediaSeeking = function() {
				var t = this.media,
					e = t ? t.currentTime : void 0,
					i = this.config;
				isNaN(e) || Ya.log("media seeking to " + e.toFixed(3));
				var n = this.mediaBuffer ? this.mediaBuffer : t,
					r = Ja.bufferInfo(n, e, this.config.maxBufferHole);
				if (this.state === yh.FRAG_LOADING) {
					var o = this.fragCurrent;
					if (0 === r.len && o) {
						var s = i.maxFragLookUpTolerance,
							a = o.start - s,
							h = o.start + o.duration + s;
						e < a || e > h ? (o.loader && (Ya.log(
								"seeking outside of buffer while fragment load in progress, cancel fragment load"
								), o.loader.abort()), this.fragCurrent = null, this.fragPrevious = null,
							this.state = yh.IDLE) : Ya.log(
							"seeking outside of buffer but within currently loaded fragment range")
					}
				} else this.state === yh.ENDED && (0 === r.len && (this.fragPrevious = 0), this.state = yh
				.IDLE);
				t && (this.lastCurrentTime = e), this.state !== yh.FRAG_LOADING && void 0 !== this
					.fragLoadIdx && (this.fragLoadIdx += 2 * i.fragLoadingLoopThreshold), this.loadedmetadata ||
					(this.nextLoadPosition = this.startPosition = e), this.tick()
			}, i.onMediaSeeked = function() {
				var t = this.media,
					e = t ? t.currentTime : void 0;
				isNaN(e) || Ya.log("media seeked to " + e.toFixed(3)), this.tick()
			}, i.onMediaEnded = function() {
				Ya.log("media ended"), this.startPosition = this.lastCurrentTime = 0
			}, i.onmetadataParsed = function(t) {
				Ya.log("trigger BUFFER_RESET"), this.mp4.trigger(za.BUFFER_RESET), this.stalled = !1, this
					.startPosition = this.lastCurrentTime = 0, this.fragments = t.fragments || [], this
					.startFragRequested = !1;
				var e = this.config;
				(e.autoStartLoad || this.forceStartLoad) && this.mp4.startLoad(e.startPosition);
				var i = {
					video: {
						container: "video/mp4",
						codec: '"avc1.64001E, mp4a.40.5"'
					}
				};
				if (this.state === yh.PARSING) {
					for (trackName in this.mp4.trigger(za.BUFFER_CODECS, i), i) {
						track = i[trackName], Ya.log("main track:" + trackName + ", container:" + track
							.container + ", codecs=" + track.codec + ".");
						var n = t.fragment;
						n && (this.appended = !0, this.pendingBuffering = !0, this.mp4.trigger(za
							.BUFFER_APPENDING, {
								type: trackName,
								frag: n,
								parent: "main",
								content: "initSegment"
							}))
					}
					this.tick()
				}
			}, i.onFragLoaded = function(t) {
				var e = this.fragCurrent,
					i = t.frag;
				this.state === yh.FRAG_LOADING && i && e && i.idx === e.idx && (this.stats = t.stats, this
						.state = yh.PARSING, this.pendingBuffering = !0, this.appended = !1, Ya.log("Parsing " +
							i.idx + " fragment, start " + e.byteRangeStartOffset + ", end " + e
							.byteRangeEndOffset), this.demuxer.createFragment(new Uint8Array(t.payload), e)),
					this.fragLoadError = 0
			}, i.onFragParsingData = function(t) {
				var e = this,
					i = this.fragCurrent,
					n = t.frag;
				i && n.idx === i.idx && this.state === yh.PARSING && ([t.data1].forEach(function(i) {
					i && i.length && e.state === yh.PARSING && (e.appended = !0, e
						.pendingBuffering = !0, e.mp4.trigger(za.BUFFER_APPENDING, {
							type: t.type,
							data: i,
							parent: "main",
							content: "data"
						}))
				}), this.tick())
			}, i.onFragParsed = function(t) {
				var e = this.fragCurrent,
					i = t.frag;
				e && i.idx === e.idx && this.state === yh.PARSING && (this.stats.tparsed = performance.now(),
					this.state = yh.PARSED, this._checkAppendedParsed())
			}, i.onBufferCreated = function(t) {
				var e = t.tracks;
				for (var i in e) {
					e[i];
					"video" === i && (this.videoBuffer = e[i].buffer)
				}
				this.mediaBuffer = this.media
			}, i.onBufferAppended = function(t) {
				var e = this.state;
				e !== yh.PARSING && e !== yh.PARSED || (this.pendingBuffering = t.pending > 0, this
					._checkAppendedParsed())
			}, i._checkAppendedParsed = function() {
				if (!(this.state !== yh.PARSED || this.appended && this.pendingBuffering)) {
					var t = this.fragCurrent;
					if (t) {
						this.mediaBuffer ? this.mediaBuffer : this.media;
						this.fragPrevious = t;
						var e = this.stats;
						e.tbuffered = performance.now(), this.fragLastKbps = Math.round(8 * e.total / (e
							.tbuffered - e.tfirst)), this.mp4.trigger(za.FRAG_BUFFERED, {
							stats: e,
							frag: t,
							id: "main"
						}), this.state = yh.IDLE
					}
					this.tick()
				}
			}, i.onError = function(t) {
				var e = t.frag || this.fragCurrent;
				if (!e || "main" === e.type) {
					var i = !!this.media && Ja.isBuffered(this.media, this.media.currentTime) && Ja.isBuffered(
						this.media, this.media.currentTime + .5);
					switch (t.details) {
						case ja.FRAG_LOAD_ERROR:
						case ja.FRAG_LOAD_TIMEOUT:
						case ja.KEY_LOAD_ERROR:
						case ja.KEY_LOAD_TIMEOUT:
							if (!t.fatal)
								if (this.fragLoadError + 1 <= this.config.fragLoadingMaxRetry) {
									var n = Math.min(Math.pow(2, this.fragLoadError) * this.config
										.fragLoadingRetryDelay, this.config.fragLoadingMaxRetryTimeout);
									e.loadCounter = 0, Ya.warn(
											"mediaController: frag loading failed, retry in " + n + " ms"), this
										.retryDate = performance.now() + n, this.loadedmetadata || (this
											.startFragRequested = !1, this.nextLoadPosition = this.startPosition
											), this.fragLoadError++, this.state = yh.FRAG_LOADING_WAITING_RETRY
								} else Ya.error("mediaController: " + t.details +
										" reaches max retry, redispatch as fatal ..."), t.fatal = !0, this
									.state = yh.ERROR;
							break;
						case ja.FRAG_LOOP_LOADING_ERROR:
							t.fatal || (i ? (this._reduceMaxBufferLength(e.duration), this.state = yh.IDLE) : e
								.autoLevel && 0 !== e.level || (t.fatal = !0, this.state = yh.ERROR));
							break;
						case ja.BUFFER_FULL_ERROR:
							"main" !== t.parent || this.state !== yh.PARSING && this.state !== yh.PARSED || (i ?
								(this._reduceMaxBufferLength(this.config.maxBufferLength), this.state = yh
									.IDLE) : (Ya.warn(
									"buffer full error also media.currentTime is not buffered, flush everything"
									), this.fragCurrent = null, this.flushMainBuffer(0, Number
									.POSITIVE_INFINITY)))
					}
				}
			}, i._reduceMaxBufferLength = function(t) {
				var e = this.config;
				e.maxMaxBufferLength >= t && (e.maxMaxBufferLength /= 2, Ya.warn(
						"main:reduce max buffer length to " + e.maxMaxBufferLength + "s"), void 0 !== this
					.fragLoadIdx && (this.fragLoadIdx += 2 * e.fragLoadingLoopThreshold))
			}, i._checkBuffer = function() {
				var t = this.media,
					e = this.config;
				if (t && t.readyState) {
					var i = t.currentTime,
						n = this.mediaBuffer ? this.mediaBuffer : t,
						r = n.buffered;
					if (!this.loadedmetadata && r.length) {
						this.loadedmetadata = !0;
						var o = t.seeking ? i : this.startPosition,
							s = Ja.isBuffered(n, o),
							a = r.start(0),
							h = !s && Math.abs(o - a) < e.maxSeekHole;
						(i !== o || h) && (Ya.log("target start position:" + o), h && (o = a, Ya.log(
							"target start position not buffered, seek to buffered.start(0) " + o)), Ya.log(
							"adjust currentTime from " + i + " to " + o), t.currentTime = o)
					} else {
						var c = Ja.bufferInfo(t, i, 0),
							u = !(t.paused || t.ended || 0 === t.buffered.length),
							l = i !== this.lastCurrentTime;
						if (this.lastCurrentTime = i, l) this.stallReported && (Ya.warn(
								"playback not stuck anymore @" + i + ", after " + Math.round(performance
									.now() - this.stalled) + "ms"), this.stallReported = !1), this.stalled =
							void 0, this.nudgeRetry = 0;
						else if (u) {
							var d = performance.now(),
								f = this.mp4;
							if (this.stalled) {
								var p = d - this.stalled,
									m = c.len,
									v = this.nudgeRetry || 0;
								if (m <= .5 && p > 1e3 * e.lowBufferWatchdogPeriod) {
									this.stallReported || (this.stallReported = !0, Ya.warn(
										"playback stalling in low buffer @" + i), f.trigger(za.ERROR, {
										type: Ha.MEDIA_ERROR,
										details: ja.BUFFER_STALLED_ERROR,
										fatal: !1,
										buffer: m
									}));
									var g = c.nextStart,
										y = g - i;
									if (g && y < e.maxSeekHole && y > 0) {
										this.nudgeRetry = ++v;
										var _ = v * e.nudgeOffset;
										Ya.log("adjust currentTime from " + t.currentTime +
												" to next buffered @ " + g + " + nudge " + _), t.currentTime =
											g + _, this.stalled = void 0, f.trigger(za.ERROR, {
												type: Ha.MEDIA_ERROR,
												details: ja.BUFFER_SEEK_OVER_HOLE,
												fatal: !1,
												hole: g + _ - i
											})
									}
								} else if (m > .5 && p > 1e3 * e.highBufferWatchdogPeriod)
									if (this.stallReported || (this.stallReported = !0, Ya.warn(
											"playback stalling in high buffer @" + i), f.trigger(za.ERROR, {
											type: Ha.MEDIA_ERROR,
											details: ja.BUFFER_STALLED_ERROR,
											fatal: !1,
											buffer: m
										})), this.stalled = void 0, this.nudgeRetry = ++v, v < e
										.nudgeMaxRetry) {
										var b = t.currentTime,
											w = b + v * e.nudgeOffset;
										Ya.log("adjust currentTime from " + b + " to " + w), t.currentTime = w,
											f.trigger(za.ERROR, {
												type: Ha.MEDIA_ERROR,
												details: ja.BUFFER_NUDGE_ON_STALL,
												fatal: !1
											})
									} else Ya.error("still stuck in high buffer @" + i + " after " + e
										.nudgeMaxRetry + ", raise fatal error"), f.trigger(za.ERROR, {
										type: Ha.MEDIA_ERROR,
										details: ja.BUFFER_STALLED_ERROR,
										fatal: !0
									})
							} else this.stalled = d, this.stallReported = !1
						}
					}
				}
			}, i.onFragLoadEmergencyAborted = function() {
				this.state = yh.IDLE, this.loadedmetadata || (this.startFragRequested = !1, this
					.nextLoadPosition = this.startPosition), this.tick()
			}, i.onBufferFlushed = function() {
				this.mediaBuffer ? this.mediaBuffer : this.media;
				void 0 !== this.fragLoadIdx && (this.fragLoadIdx += 2 * this.config.fragLoadingLoopThreshold),
					this.state = yh.IDLE, this.fragPrevious = null
			}, fn(e, [{
				key: "state",
				set: function(t) {
					if (this.state !== t) {
						var e = this.state;
						this._state = t, Ya.log("main stream:" + e + "->" + t), this.mp4.trigger(za
							.STREAM_STATE_TRANSITION, {
								previousState: e,
								nextState: t
							})
					}
				},
				get: function() {
					return this._state
				}
			}, {
				key: "bufferInfo",
				get: function() {
					var t = this.mp4.config,
						e = this.media,
						i = this.loadedmetadata ? e.currentTime : this.nextLoadPosition;
					return Ja.bufferInfo(this.mediaBuffer ? this.mediaBuffer : e, i, t
						.maxBufferHole)
				}
			}]), e
		}(Xa);

	function bh() {
		if ("undefined" != typeof window) return window.MediaSource || window.WebKitMediaSource
	}
	var wh = bh(),
		kh = function(t) {
			function e(e) {
				var i;
				return (i = t.call(this, e, za.MEDIA_ATTACHING, za.MEDIA_DETACHING, za.METADATA_PARSED, za
							.BUFFER_RESET, za.BUFFER_APPENDING, za.BUFFER_CODECS, za.BUFFER_EOS, za.BUFFER_FLUSHING
							) || this)._msDuration = null, i._levelDuration = null, i._live = null, i._objectUrl =
					null, i.onsbue = i.onSBUpdateEnd.bind(i), i.onsbe = i.onSBUpdateError.bind(i), i
					.pendingTracks = {}, i.tracks = {}, i
			}
			pn(e, t);
			var i = e.prototype;
			return i.destroy = function() {
				Xa.prototype.destroy.call(this)
			}, i.onmetadataParsed = function(t) {
				this.sourceBufferNb = 1, Ya.log(this.sourceBufferNb + " sourceBuffer(s) expected"), this
					.onBufferCodecs()
			}, i.onMediaAttaching = function(t) {
				var e = this.media = t.media;
				if (e) {
					var i = this.mediaSource = new wh;
					this.onmso = this.onMediaSourceOpen.bind(this), this.onmse = this.onMediaSourceEnded.bind(
							this), this.onmsc = this.onMediaSourceClose.bind(this), i.addEventListener(
							"sourceopen", this.onmso), i.addEventListener("sourceended", this.onmse), i
						.addEventListener("sourceclose", this.onmsc), e.src = URL.createObjectURL(i), this
						._objectUrl = e.src
				}
			}, i.onMediaDetaching = function() {
				Ya.log("media source detaching");
				var t = this.mediaSource;
				if (t) {
					if ("open" === t.readyState) try {
						t.endOfStream()
					} catch (t) {
						Ya.warn("onMediaDetaching:" + t.message + " while calling endOfStream")
					}
					t.removeEventListener("sourceopen", this.onmso), t.removeEventListener("sourceended", this
							.onmse), t.removeEventListener("sourceclose", this.onmsc), this.media && (URL
							.revokeObjectURL(this._objectUrl), this.media.src === this._objectUrl ? (this.media
								.removeAttribute("src"), this.media.load()) : Ya.warn(
								"media.src was changed by a third party - skip cleanup")), this.mediaSource =
						null, this.media = null, this._objectUrl = null, this.pendingTracks = {}, this
						.tracks = {}, this.sourceBuffer = {}, this.flushRange = [], this.segments = [], this
						.appended = 0
				}
				this.onmso = this.onmse = this.onmsc = null, this.mp4.trigger(za.MEDIA_DETACHED)
			}, i.onMediaSourceOpen = function() {
				Ya.log("media source opened"), this.mp4.trigger(za.MEDIA_ATTACHED, {
					media: this.media
				});
				var t = this.mediaSource;
				t && t.removeEventListener("sourceopen", this.onmso), this.checkPendingTracks()
			}, i.checkPendingTracks = function() {
				var t = this.pendingTracks,
					e = bn(t).length;
				e && (this.sourceBufferNb <= e || 0 === this.sourceBufferNb) && (this.createSourceBuffers(t),
					this.pendingTracks = {}, this.doAppending())
			}, i.onMediaSourceClose = function() {
				Ya.log("media source closed")
			}, i.onMediaSourceEnded = function() {
				Ya.log("media source ended")
			}, i.onSBUpdateEnd = function() {
				if (this.audioTimestampOffset) {
					var t = this.sourceBuffer.audio;
					Ya.warn("change mpeg audio timestamp offset from " + t.timestampOffset + " to " + this
							.audioTimestampOffset), t.timestampOffset = this.audioTimestampOffset, delete this
						.audioTimestampOffset
				}
				this._needsFlush && this.doFlush(), this._needsEos && this.checkEos(), this.appending = !1;
				var e = this.segments.length;
				this.mp4.trigger(za.BUFFER_APPENDED, {
					pending: e
				}), this._needsFlush || this.doAppending()
			}, i.onSBUpdateError = function(t) {
				Ya.error("sourceBuffer error:", t), this.mp4.trigger(za.ERROR, {
					type: Ha.MEDIA_ERROR,
					details: ja.BUFFER_APPENDING_ERROR,
					fatal: !1
				})
			}, i.onBufferReset = function() {
				var t = this.sourceBuffer;
				for (var e in t) {
					var i = t[e];
					try {
						this.mediaSource.removeSourceBuffer(i), i.removeEventListener("updateend", this.onsbue),
							i.removeEventListener("error", this.onsbe)
					} catch (t) {}
				}
				this.sourceBuffer = {}, this.flushRange = [], this.segments = [], this.appended = 0
			}, i.onBufferCodecs = function(t) {
				if (t = {
						video: {
							container: "video/mp4",
							codec: '"avc1.64001E, mp4a.40.5"'
						}
					}, this.sourceBuffer = this.sourceBuffer || {}, 0 === bn(this.sourceBuffer).length) {
					for (var e in t) this.pendingTracks[e] = t[e];
					var i = this.mediaSource;
					i && "open" === i.readyState && this.checkPendingTracks()
				}
			}, i.createSourceBuffers = function(t) {
				var e = this.sourceBuffer,
					i = this.mediaSource;
				for (var n in t)
					if (!e[n]) {
						var r = t[n],
							o = r.codec,
							s = r.container + ";codecs=" + o;
						Ya.log("creating sourceBuffer(" + s + ")");
						try {
							var a = e[n] = i.addSourceBuffer(s);
							a.addEventListener("updateend", this.onsbue), a.addEventListener("error", this
								.onsbe), this.tracks[n] = {
								codec: o,
								container: r.container
							}, r.buffer = a
						} catch (t) {
							Ya.error("error while trying to add sourceBuffer:" + t.message), this.mp4.trigger(za
								.ERROR, {
									type: Ha.MEDIA_ERROR,
									details: ja.BUFFER_ADD_CODEC_ERROR,
									fatal: !1,
									err: t,
									mimeType: s
								})
						}
					} this.mp4.trigger(za.BUFFER_CREATED, {
					tracks: t
				})
			}, i.onBufferAppending = function(t) {
				this._needsFlush || (this.segments ? this.segments.push(t.data) : this.segments = [t.data], this
					.doAppending())
			}, i.onBufferAppendFail = function(t) {
				Ya.error("sourceBuffer error:", t.event), this.mp4.trigger(za.ERROR, {
					type: Ha.MEDIA_ERROR,
					details: ja.BUFFER_APPENDING_ERROR,
					fatal: !1
				})
			}, i.onBufferEos = function(t) {
				var e = this.sourceBuffer,
					i = t.type;
				for (var n in e) i && n !== i || e[n].ended || (e[n].ended = !0, Ya.log(n +
					" sourceBuffer now EOS"));
				this.checkEos()
			}, i.checkEos = function() {
				var t = this.sourceBuffer,
					e = this.mediaSource;
				if (e && "open" === e.readyState) {
					for (var i in t) {
						var n = t[i];
						if (!n.ended) return;
						if (n.updating) return void(this._needsEos = !0)
					}
					Ya.log(
						"all media data available, signal endOfStream() to MediaSource and stop loading fragment");
					try {
						e.endOfStream()
					} catch (t) {
						Ya.warn("exception while calling mediaSource.endOfStream()")
					}
					this._needsEos = !1
				} else this._needsEos = !1
			}, i.onBufferFlushing = function(t) {
				this.flushRange.push({
					start: t.startOffset,
					end: t.endOffset,
					type: t.type
				}), this.flushBufferCounter = 0, this.doFlush()
			}, i.doFlush = function() {
				for (; this.flushRange.length;) {
					var t = this.flushRange[0];
					if (!this.flushBuffer(t.start, t.end, t.type)) return void(this._needsFlush = !0);
					this.flushRange.shift(), this.flushBufferCounter = 0
				}
				if (0 === this.flushRange.length) {
					this._needsFlush = !1;
					var e = 0,
						i = this.sourceBuffer;
					try {
						for (var n in i) e += i[n].buffered.length
					} catch (t) {
						Ya.error("error while accessing sourceBuffer.buffered")
					}
					this.appended = e, this.mp4.trigger(za.BUFFER_FLUSHED)
				}
			}, i.doAppending = function() {
				var t = this.mp4,
					e = this.sourceBuffer,
					i = this.segments;
				if (bn(e).length) {
					if (this.media.error) return this.segments = [], void Ya.error(
						"trying to append although a media error occured, flush segment and abort");
					if (this.appending) return void Ya.log("sb appending in progress");
					if (i && i.length) {
						var n = i.shift();
						try {
							var r = e.video;
							r ? r.updating ? i.unshift(n) : (r.ended = !1, r.appendBuffer(n), this.appendError =
								0, this.appended++, this.appending = !0) : this.onSBUpdateEnd()
						} catch (e) {
							Ya.error("error while trying to append buffer:" + e.message), i.unshift(n);
							var o = {
								type: Ha.MEDIA_ERROR
							};
							if (22 === e.code) return this.segments = [], o.details = ja.BUFFER_FULL_ERROR, o
								.fatal = !1, void t.trigger(za.ERROR, o);
							if (this.appendError ? this.appendError++ : this.appendError = 1, o.details = ja
								.BUFFER_APPEND_ERROR, this.appendError > t.config.appendErrorMaxRetry) return Ya
								.log("fail " + t.config.appendErrorMaxRetry +
									" times to append segment in sourceBuffer"), i = [], o.fatal = !0,
								void t.trigger(za.ERROR, o);
							o.fatal = !1, t.trigger(za.ERROR, o)
						}
					}
				}
			}, i.flushBuffer = function(t, e, i) {
				var n, r, o, s, a, h, c = this.sourceBuffer;
				if (bn(c).length) {
					if (Ya.log("flushBuffer,pos/start/end: " + this.media.currentTime.toFixed(3) + "/" + t +
							"/" + e), this.flushBufferCounter < this.appended) {
						for (var u in c)
							if (!i || u === i) {
								if ((n = c[u]).ended = !1, n.updating) return Ya.warn(
									"cannot flush, sb updating in progress"), !1;
								try {
									for (r = 0; r < n.buffered.length; r++)
										if (o = n.buffered.start(r), s = n.buffered.end(r), -1 !== navigator
											.userAgent.toLowerCase().indexOf("firefox") && e === Number
											.POSITIVE_INFINITY ? (a = t, h = e) : (a = Math.max(o, t), h = Math
												.min(s, e)), Math.min(h, s) - a > .5) return this
											.flushBufferCounter++, Ya.log("flush " + u + " [" + a + "," +
												h + "], of [" + o + "," + s + "], pos:" + this.media
												.currentTime), n.remove(a, h), !1
								} catch (t) {
									Ya.warn(
										"exception while accessing sourcebuffer, it might have been removed from MediaSource")
								}
							}
					} else Ya.warn("abort flushing too many retries");
					Ya.log("buffer flushed")
				}
				return !0
			}, e
		}(Xa);
	var Eh, Sh, Th, xh = {
			autoStartLoad: !0,
			startPosition: -1,
			defaultAudioCodec: void 0,
			debug: !1,
			capLevelOnFPSDrop: !1,
			capLevelToPlayerSize: !1,
			initialLiveManifestSize: 1,
			maxBufferLength: 30,
			maxBufferSize: 6e7,
			maxBufferHole: .5,
			maxSeekHole: 2,
			lowBufferWatchdogPeriod: .5,
			highBufferWatchdogPeriod: 3,
			nudgeOffset: .1,
			nudgeMaxRetry: 3,
			maxFragLookUpTolerance: .15,
			liveSyncDurationCount: 3,
			liveMaxLatencyDurationCount: 1 / 0,
			liveSyncDuration: void 0,
			liveMaxLatencyDuration: void 0,
			liveDurationInfinity: !1,
			maxMaxBufferLength: 600,
			enableWorker: !0,
			enableSoftwareAES: !0,
			manifestLoadingTimeOut: 1e4,
			manifestLoadingMaxRetry: 1,
			manifestLoadingRetryDelay: 1e3,
			manifestLoadingMaxRetryTimeout: 64e3,
			startLevel: void 0,
			levelLoadingTimeOut: 1e4,
			levelLoadingMaxRetry: 4,
			levelLoadingRetryDelay: 1e3,
			levelLoadingMaxRetryTimeout: 64e3,
			fragLoadingTimeOut: 2e4,
			fragLoadingMaxRetry: 6,
			fragLoadingRetryDelay: 1e3,
			fragLoadingMaxRetryTimeout: 64e3,
			fragLoadingLoopThreshold: 3,
			startFragPrefetch: !1,
			fpsDroppedMonitoringPeriod: 5e3,
			fpsDroppedMonitoringThreshold: .2,
			appendErrorMaxRetry: 3,
			loader: function() {
				function t(t) {
					t && t.xhrSetup && (this.xhrSetup = t.xhrSetup)
				}
				var e = t.prototype;
				return e.destroy = function() {
					this.abort(), this.loader = null
				}, e.abort = function() {
					var t = this.loader;
					t && 4 !== t.readyState && (this.stats.aborted = !0, t.abort()), window.clearTimeout(
						this.requestTimeout), this.requestTimeout = null, window.clearTimeout(this
						.retryTimeout), this.retryTimeout = null
				}, e.load = function(t, e, i) {
					this.context = t, this.config = e, this.callbacks = i, this.stats = {
						trequest: performance.now(),
						retry: 0
					}, this.retryDelay = e.retryDelay, this.loadInternal()
				}, e.loadInternal = function() {
					var t, e = this.context;
					t = this.loader = new XMLHttpRequest;
					var i = this.stats;
					i.tfirst = 0, i.loaded = 0;
					var n = this.xhrSetup,
						r = (-1 == e.url.indexOf("?") ? "?" : "&") + "_t=" + +new Date;
					try {
						if (n) try {
							n(t, e.url + r)
						} catch (i) {
							t.open("GET", e.url + r, !0), n(t, e.url + r)
						}
						t.readyState || t.open("GET", e.url + r, !0)
					} catch (i) {
						return void this.callbacks.onError({
							code: t.status,
							text: i.message
						}, e, t)
					}
					e.rangeStart && t.setRequestHeader("Range", "bytes=" + e.rangeStart + "-" + (e
							.rangeEnd > 0 ? e.rangeEnd : "")), t.onreadystatechange = this.readystatechange
						.bind(this), t.onprogress = this.loadprogress.bind(this), t.responseType = e
						.responseType, this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this),
							this.config.timeout), t.send()
				}, e.readystatechange = function(t) {
					var e = t.currentTarget,
						i = e.readyState,
						n = this.stats,
						r = this.context,
						o = this.config;
					if (!n.aborted && i >= 2)
						if (window.clearTimeout(this.requestTimeout), 0 === n.tfirst && (n.tfirst = Math
								.max(performance.now(), n.trequest)), 4 === i) {
							var s = e.status;
							if (s >= 200 && s < 300) {
								var a, h;
								n.tload = Math.max(n.tfirst, performance.now()), h = "arraybuffer" === r
									.responseType ? (a = e.response).byteLength : (a = e.responseText)
									.length, n.loaded = n.total = h;
								var c = {
									url: e.responseURL,
									data: a
								};
								this.callbacks.onSuccess(c, n, r, e)
							} else n.retry >= o.maxRetry || s >= 400 && s < 499 ? (Ya.error(s +
								" while loading " + r.url), this.callbacks.onError({
								code: s,
								text: e.statusText
							}, r, e)) : (Ya.warn(s + " while loading " + r.url + ", retrying in " + this
									.retryDelay + "..."), this.destroy(), this.retryTimeout = window
								.setTimeout(this.loadInternal.bind(this), this.retryDelay), this
								.retryDelay = Math.min(2 * this.retryDelay, o.maxRetryDelay), n.retry++)
						} else this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), o
							.timeout)
				}, e.loadtimeout = function() {
					var t = this.stats,
						e = this.context,
						i = this.config;
					t.retry >= i.maxRetry ? (Ya.warn("timeout while loading " + e.url), this.callbacks
						.onTimeout(this.stats, this.context, null)) : (Ya.warn(
						"timeout while loading " + e.url + ", retrying in " + this.retryDelay +
						"..."), this.destroy(), this.retryTimeout = window.setTimeout(this
						.loadInternal.bind(this), this.retryDelay), this.retryDelay = Math.min(2 *
						this.retryDelay, i.maxRetryDelay), t.retry++)
				}, e.loadprogress = function(t) {
					var e = t.currentTarget,
						i = performance.now(),
						n = this.stats;
					n.loaded = t.loaded, t.lengthComputable && (n.total = t.total, n.lastLoadedTime && (n
							.speed = (n.loaded - n.lastLoaded) / (i - n.lastLoadedTime) * 1e3 / 1024)), n
						.lastLoaded = n.loaded, n.lastLoadedTime = i;
					var r = this.callbacks.onProgress;
					r && r(n, this.context, null, e)
				}, t
			}(),
			fLoader: void 0,
			pLoader: void 0,
			xhrSetup: void 0,
			fetchSetup: void 0,
			stretchShortVideoTrack: !1,
			maxAudioFramesDrift: 1,
			minAutoBitrate: 0
		},
		Ah = function() {
			function t(e) {
				void 0 === e && (e = {});
				var i = t.DefaultConfig;
				for (var n in i) n in e || (e[n] = i[n]);
				Ka(e.debug), this.config = e, this._autoLevelCapping = -1, this.preloadTime = e.preloadTime || 15;
				var r = this.observer = new Hr;
				r.trigger = function(t) {
					for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n -
						1] = arguments[n];
					r.emit.apply(r, [t, t].concat(i))
				}, r.off = function(t) {
					for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n -
						1] = arguments[n];
					r.removeListener.apply(r, [t].concat(i))
				}, this.on = r.on.bind(r), this.off = r.off.bind(r), this.trigger = r.trigger.bind(r);
				new Za(this);
				var o = this.streamController = new _h(this),
					s = new kh(this),
					a = [o];
				this.networkControllers = a;
				var h = [s, Za];
				this.coreComponents = h
			}
			t.isSupported = function() {
				return t = bh(), e = window.SourceBuffer || window.WebKitSourceBuffer, i = t && "function" ==
					typeof t.isTypeSupported && t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),
					n = !e || e.prototype && "function" == typeof e.prototype.appendBuffer && "function" ==
					typeof e.prototype.remove, !!i && !!n;
				var t, e, i, n
			}, fn(t, null, [{
				key: "version",
				get: function() {
					return "2.0.6-1ced740"
				}
			}, {
				key: "Events",
				get: function() {
					return za
				}
			}, {
				key: "ErrorTypes",
				get: function() {
					return Ha
				}
			}, {
				key: "ErrorDetails",
				get: function() {
					return ja
				}
			}, {
				key: "DefaultConfig",
				get: function() {
					return t.defaultConfig ? t.defaultConfig : xh
				},
				set: function(e) {
					t.defaultConfig = e
				}
			}]);
			var e = t.prototype;
			return e.destroy = function() {
				Ya.log("destroy"), this.trigger(za.DESTROYING), this.detachMedia(), this.coreComponents.concat(
					this.networkControllers).forEach(function(t) {
					t.destroy()
				}), this.url = null, this.observer.removeAllListeners(), this._autoLevelCapping = -1
			}, e.attachMedia = function(t) {
				Ya.log("attachMedia"), this.media = t, this.trigger(za.MEDIA_ATTACHING, {
					media: t
				})
			}, e.detachMedia = function() {
				Ya.log("detachMedia"), this.trigger(za.MEDIA_DETACHING), this.media = null
			}, e.loadSource = function(t) {
				t = xa.buildAbsoluteURL(window.location.href, t, {
					alwaysNormalize: !0
				}), Ya.log("loadSource:" + t), this.url = t, this.networkControllers.forEach(function(e) {
					e.loadSource(t)
				})
			}, e.startLoad = function(t) {
				void 0 === t && (t = -1), Ya.log("startLoad(" + t + ")"), this.networkControllers.forEach(
					function(e) {
						e.startLoad(t)
					})
			}, e.stopLoad = function() {
				Ya.log("stopLoad"), this.networkControllers.forEach(function(t) {
					t.stopLoad()
				})
			}, e.recoverMediaError = function() {
				Ya.log("recoverMediaError");
				var t = this.media;
				this.detachMedia(), this.attachMedia(t)
			}, fn(t, [{
				key: "bufferInfo",
				get: function() {
					return this.streamController.bufferInfo
				}
			}]), t
		}(),
		Ch = {
			debug: !1,
			enableWorker: !1,
			manifestLoadingMaxRetry: 2,
			manifestLoadingTimeOut: 14e3,
			nudgeMaxRetry: 20,
			fragLoadingMaxRetry: 9999
		},
		Rh = "1.0.1",
		Ih = "mango-kernel-mp4",
		Lh = (Th = Sh = function(t) {
			function e(e, i, n) {
				var r;
				if (void 0 === n && (n = {}), (r = t.call(this) || this).version = Rh, !In(e)) throw new Error(
					"video element passed in " + Ih + " must be a HTMLVideoElement, but not " + typeof e
					);
				if (!Sn(i)) throw new Error("config of " + Ih + " must be an Object but not " + typeof i);
				return r.video = e, r.config = i, r.customConfig = Pn({}, Ch, n), r.mp4Kernel = new Ah(r
					.customConfig), r.bindEvents(), r.attachMedia(), r
			}
			pn(e, t), e.isSupport = function() {
				return Ah.isSupported()
			};
			var i = e.prototype;
			return i.bindEvents = function(t) {
				void 0 === t && (t = !1);
				var e = this.mp4Kernel;
				if (e) {
					var i = t ? "off" : "on";
					e[i](Ah.Events.ERROR, this.mp4ErrorHandler), e[i](Ah.Events.BUFFER_EMPTY, this
						.mp4EventHandler), e[i](Ah.Events.BUFFER_FULL, this.mp4EventHandler), e[i](Ah
						.Events.METADATA_PARSED, this.mp4EventHandler), e[i](Ah.Events
						.FRAG_LOAD_PROGRESS, this.mp4EventHandler), e[i](Ah.Events.FRAG_PARSING_DATA,
						this.mp4EventHandler)
				}
			}, i.load = function() {
				return this.mp4Kernel.loadSource(this.config.src)
			}, i.startLoad = function() {
				return this.mp4Kernel.startLoad()
			}, i.stopLoad = function() {
				return this.mp4Kernel.stopLoad()
			}, i.attachMedia = function() {
				return this.mp4Kernel.attachMedia(this.video)
			}, i.play = function() {
				return this.video.play()
			}, i.destroy = function() {
				return this.bindEvents(!0), this.mp4Kernel.destroy()
			}, i.seek = function(t) {
				this.video.currentTime = t
			}, i.pause = function() {
				return this.video.pause()
			}, i.refresh = function() {
				return this.mp4Kernel.stopLoad(), this.mp4Kernel.loadSource(this.config.src)
			}, i.getMetadata = function() {
				return this.metadata
			}, i.getSpeed = function() {
				return this.speed || 0
			}, i.getFps = function() {
				return this.fps || 0
			}, i.getBufferInfo = function() {
				return this.mp4Kernel.bufferInfo
			}, i.mp4EventHandler = function(t, e) {
				t == Ah.Events.BUFFER_EMPTY && as.warn(Ih, "mp4core buffer is empty."), t == Ah.Events
					.FRAG_PARSING_DATA && "video" === e.type && (this.fps = e.nb / (e.endPTS - e.startPTS)),
					t == Ah.Events.METADATA_PARSED && (this.metadata = e.meta), t == Ah.Events
					.FRAG_LOAD_PROGRESS && (this.speed = e.stats.speed || 0), this.emit(t, e)
			}, i.mp4ErrorHandler = function(t, e) {
				this.emit("mp4StreamError", e), this.emit(t, e), as.error(Ih,
					"mp4core error ouccurred at event [" + t + "], detail " + (e && e.details) + " - " +
					(e && e.err))
			}, e
		}(Zr), Sh.version = Rh, vn((Eh = Th).prototype, "mp4EventHandler", [Kn], yn(Eh.prototype,
			"mp4EventHandler"), Eh.prototype), vn(Eh.prototype, "mp4ErrorHandler", [Kn], yn(Eh.prototype,
			"mp4ErrorHandler"), Eh.prototype), "2.0.6"),
		Ph = {
			isLive: !1,
			box: "",
			preset: {},
			presetConfig: {}
		},
		Dh = function(t, e) {
			return (Dh = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(t, e)
		};

	function Mh(t, e, i, n) {
		return new(i || (i = Promise))(function(r, o) {
			function s(t) {
				try {
					h(n.next(t))
				} catch (t) {
					o(t)
				}
			}

			function a(t) {
				try {
					h(n.throw(t))
				} catch (t) {
					o(t)
				}
			}

			function h(t) {
				t.done ? r(t.value) : new i(function(e) {
					e(t.value)
				}).then(s, a)
			}
			h((n = n.apply(t, e || [])).next())
		})
	}

	function Bh(t, e) {
		var i, n, r, o, s = {
			label: 0,
			sent: function() {
				if (1 & r[0]) throw r[1];
				return r[1]
			},
			trys: [],
			ops: []
		};
		return o = {
			next: a(0),
			throw: a(1),
			return: a(2)
		}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
			return this
		}), o;

		function a(o) {
			return function(a) {
				return function(o) {
					if (i) throw new TypeError("Generator is already executing.");
					for (; s;) try {
						if (i = 1, n && (r = 2 & o[0] ? n.return : o[0] ? n.throw || ((r = n.return) &&
								r.call(n), 0) : n.next) && !(r = r.call(n, o[1])).done) return r;
						switch (n = 0, r && (o = [2 & o[0], r.value]), o[0]) {
							case 0:
							case 1:
								r = o;
								break;
							case 4:
								return s.label++, {
									value: o[1],
									done: !1
								};
							case 5:
								s.label++, n = o[1], o = [0];
								continue;
							case 7:
								o = s.ops.pop(), s.trys.pop();
								continue;
							default:
								if (!(r = (r = s.trys).length > 0 && r[r.length - 1]) && (6 === o[0] ||
										2 === o[0])) {
									s = 0;
									continue
								}
								if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
									s.label = o[1];
									break
								}
								if (6 === o[0] && s.label < r[1]) {
									s.label = r[1], r = o;
									break
								}
								if (r && s.label < r[2]) {
									s.label = r[2], s.ops.push(o);
									break
								}
								r[2] && s.ops.pop(), s.trys.pop();
								continue
						}
						o = e.call(t, s)
					} catch (t) {
						o = [6, t], n = 0
					} finally {
						i = r = 0
					}
					if (5 & o[0]) throw o[1];
					return {
						value: o[0] ? o[1] : void 0,
						done: !0
					}
				}([o, a])
			}
		}
	}
	var Oh = Date.now || function() {
			return +new Date
		},
		Uh = function() {
			var t, e, i;
			return "function" == typeof WeakMap && (WeakMap.prototype || 0).set ? (t = new WeakMap, function(e, i) {
				var n = t.get(e);
				return null === i ? void 0 !== n && t.delete(e) : !n && i ? (t.set(e, n = {}), n) : n
			}) : (e = Oh(), i = "__$widΦ" + e.toString(36), t = {}, function(n, r) {
				if (!n || "object" != typeof n) throw TypeError("Invalid host object apply with weak data");
				var o;
				return null === r ? n[i] && (delete t[n[i]], delete n[i]) : (o = n[i] || r && (o = ++e, t[
					o] = {}, n[i] = o)) && t[o]
			})
		}(),
		Fh = {}.hasOwnProperty;

	function Nh(t, e) {
		for (var i in t) Fh.call(t, i) && e(t[i], i)
	}
	var Vh = Date.now || function() {
			return +new Date
		},
		zh = Object.defineProperty,
		Hh = zh ? function(t, e, i) {
			return zh(t, e, {
				writable: !0,
				value: i
			})
		} : function(t, e, i) {
			return t[e] = i
		},
		jh = Object.keys || function(t) {
			var e = [];
			return Nh(t, function(t, i) {
				e.push(i)
			}), e
		},
		$h = 2,
		Wh = 0,
		qh = 1,
		Gh = 2,
		Kh = /\s+/,
		Yh = Vh() * Math.random() & 65535,
		Xh = function(t, e, i) {
			var n = [];
			return n[Wh] = t, n[qh] = e, n[Gh] = i, n
		};

	function Zh() {}
	var Qh = Zh.prototype;

	function Jh(t, e, i) {
		var n;
		switch (i.length) {
			case 0:
				n = e ? t.call(e) : t();
				break;
			case 1:
				n = t.call(e, i[0]);
				break;
			case 2:
				n = t.call(e, i[0], i[1]);
				break;
			default:
				n = t.apply(e, i)
		}
		return n
	}

	function tc(t, e, i, n) {
		var r = !0;
		if (e)
			for (var o, s, a, h = -1, c = {
					type: t,
					timeStamp: Vh(),
					data: i
				}; o = e[++h];) {
				s = o[Wh], a = o[qh] || n;
				try {
					r = o[Gh] === $h ? !1 !== Jh(s, a, [c, i]) && r : !1 !== Jh(s, a, i) && r
				} catch (t) {
					setTimeout(function() {}, 1)
				}
			}
		return r
	}
	Qh.addListener = function(t, e, i, n) {
		var r, o, s = 1;
		if (e && "object" == typeof e && (e = (i = e).handleEvent, s = $h), !e) return this;
		for (r = Uh(this, 1), this._events || Hh(this, "_events", r), t = t.split(Kh); o = t.shift();)(!n && r[
			o] || (r[o] = [])).push(Xh(e, i, s));
		return this
	}, Qh.on = Qh.addListener, Qh.once = function(t, e, i) {
		var n = !1,
			r = this,
			o = function o() {
				r.removeListener(t, o), n || (n = !0, e.apply(i || r, arguments))
			};
		return o.guid = e.guid || (e.guid = Yh++), r.on(t, o)
	}, Qh.removeListener = function(t, e, i) {
		var n, r, o, s, a, h;
		if (e && "object" == typeof e && (e = (i = e).handleEvent), !(n = Uh(this))) return this;
		if (!(t || e || i)) return Nh(n, function(t, e) {
			delete n[e]
		}), Uh(this, null), this;
		for (t = t ? t.split(Kh) : jh(n); r = t.shift();)
			if (o = n[r])
				if (e || i) {
					for (s = o.length; --s >= 0;) h = (a = o[s])[Wh], e && h !== e && (void 0 === h.guid || h
						.guid !== e.guid) || i && a[qh] !== i || o.splice(s, 1);
					o.length || delete n[r]
				} else delete n[r];
		return function(t) {
			for (var e in t)
				if (Fh.call(t, e)) return !1;
			return !0
		}(n) && Uh(this, null), this
	}, Qh.off = Qh.removeListener, Qh.removeAllListeners = function(t) {
		return this.removeListener(t)
	}, Qh.emit = function(t) {
		var e, i, n, r, o = !0;
		if (!(e = Uh(this))) return this;
		t = t.split(Kh);
		for (var s = arguments.length, a = new Array(s > 1 ? s - 1 : 0), h = 1; h < s; h++) a[h - 1] =
			arguments[h];
		for (; i = t.shift();)(n = e.all) && (n = n.slice()), (r = e[i]) && (r = r.slice()), "all" !== i && (o =
			tc(i, r, a, this) && o), o = tc(i, n, [i].concat(a), this) && o;
		return o
	}, Qh.listenerCount = function(t) {
		var e, i = Uh(this);
		return i && (e = i[t]) ? e.length : 0
	}, Zh.EventEmitter = Zh;
	var ec = function() {
			function t(t, e) {
				void 0 === e && (e = !1);
				var i = this;
				this.eventMap = {}, this.ready = !1, this.currentStreamId = "", this.initTimeout = 0, this
					.eventMap = {}, this.ready = !1;
				var n = "string" == typeof t ? document.getElementById(t) : t;
				this.element = n, this.flashplayer = this.element.childNodes[0], (window || document).Player = this,
					this.addEventListener("loaded", this.onReady, this), this.addEventListener("loadedmetadata",
						this.onMetaData, this), this.initTimeout = setTimeout(function() {
						i.dispatchEvent("flashInitFail", null), i.removeEvents()
					}, 5e3)
			}
			var e = t.prototype;
			return e.onReady = function() {
				this.ready = !0, clearTimeout(this.initTimeout)
			}, e.getReady = function() {
				return Mh(this, void 0, void 0, function() {
					var t = this;
					return Bh(this, function(e) {
						return [2, new Promise(function(e) {
							t.ready ? e() : t.addEventListener("loaded",
						function() {
								e()
							}, t)
						})]
					})
				})
			}, e.getProp = function(t) {
				return this.flashplayer ? this.flashplayer.getProp(t) : null
			}, e.setProp = function(t, e) {
				return this.flashplayer ? this.flashplayer.setProp(t, e) : null
			}, e.getCurrentTime = function() {
				return this.ready && this.flashplayer && this.flashplayer.getProp ? this.flashplayer.getProp(
					"currentTime") : 0
			}, e.createStream = function(t) {
				return Mh(this, void 0, void 0, function() {
					var e = this;
					return Bh(this, function(i) {
						return [2, new Promise(function(i) {
							e.addEventListener("streamcreated", function(t) {
								e.removeEvent("streamcreated"), i(t)
							}, e), e.flashplayer.createStream(t)
						})]
					})
				})
			}, e.loadStream = function(t, e, i) {
				return this.flashplayer.loadStream(t, e, i)
			}, e.attachStream = function(t) {
				return this.currentStreamId = t, this.flashplayer.attachStream(t)
			}, e.disposeStream = function(t) {
				return this.flashplayer.disposeStream(t)
			}, e.onMetaData = function(t) {
				this.metadata = t, this.dispatchEvent("metadata", t)
			}, e.eventHandler = function(t, e) {
				this.dispatchEvent(t, e)
			}, e.play = function() {
				this.flashplayer.play()
			}, e.play2 = function(t, e, i) {
				this.flashplayer.play2(t)
			}, e.pause = function() {
				this.flashplayer.pause()
			}, e.resume = function() {
				this.flashplayer.resume()
			}, e.stop = function() {
				this.flashplayer.stop()
			}, e.seek = function(t) {
				this.flashplayer.seek(t)
			}, e.addEventListener = function(t, e, i) {
				void 0 === i && (i = null), null == this.eventMap[t] && (this.eventMap[t] = []), this.eventMap[
					t].some(function(t) {
					return e === t.callback
				}) || this.eventMap[t].push({
					callback: e,
					thisIs: i
				})
			}, e.dispatchEvent = function(t, e) {
				this.eventMap[t] && this.eventMap[t].forEach(function(t) {
					t.callback.call(t.thisIs, e)
				})
			}, e.removeEventListener = function(t, e) {
				if (null != this.eventMap[t])
					for (var i = 0; i < this.eventMap[t].length; i++)
						if (this.eventMap[t][i].callback === e) {
							this.eventMap[t].splice(i, 1);
							break
						}
			}, e.removeEvent = function(t) {
				delete this.eventMap[t]
			}, e.removeEvents = function() {
				this.eventMap = {}
			}, e.destroy = function() {}, t
		}(),
		ic = function(t) {
			function e(e, i) {
				var n = t.call(this) || this;
				return n._currentStreamId = "", n._nextStreamId = "", n._config = i, n.player = new ec(e, !0), n
					.player.addEventListener("flashInitFail", n.onFlashInitFail, n), n
			}! function(t, e) {
				function i() {
					this.constructor = t
				}
				Dh(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
			}(e, t);
			var i = e.prototype;
			return i.onFlashInitFail = function() {
				this.emit("flashInitFail", {
					data: {},
					type: "flashInitFail"
				})
			}, i.load = function(t, e, i) {
				return void 0 === e && (e = 0), void 0 === i && (i = 16 / 9), Mh(this, void 0, void 0,
				function() {
					var n;
					return Bh(this, function(r) {
						switch (r.label) {
							case 0:
								return [4, this.player.getReady()];
							case 1:
								return r.sent(), this.player.setProp("ratio", i), this
									._currentStreamId && this.player.disposeStream(this
										._currentStreamId), [4, this.player.createStream(this
										.getVideoType(t))];
							case 2:
								return n = r.sent(), this.player.loadStream(n, t, e), this
									._currentStreamId = n, this.player.attachStream(n), this
									.player.play(), [2]
						}
					})
				})
			}, i.play = function() {
				try {
					this.player.play()
				} catch (t) {}
			}, i.playNext = function(t) {
				var e = this;
				return new Promise(function(t, i) {
					if ("" != e._nextStreamId) {
						e._currentStreamId && e.player.disposeStream(e._currentStreamId), e
							._currentStreamId = e._nextStreamId, e._nextStreamId = "", e.player
							.attachStream(e._currentStreamId);
						try {
							var n = setTimeout(function() {
								e.player.removeEvent("timeupdate"), clearTimeout(n), i(
									"flash preload play fail.")
							}, 1e3);
							e.player.addEventListener("timeupdate", function() {
								e.player.getProp("currentTime") > 0 && (e.player.removeEvent(
									"timeupdate"), clearTimeout(n), t())
							}), e.player.play()
						} catch (t) {
							i("flash player not ready!")
						}
					} else i("no perload")
				})
			}, i.preload = function(t, e, i) {
				return void 0 === e && (e = 0), void 0 === i && (i = !0), Mh(this, void 0, void 0, function() {
					var i;
					return Bh(this, function(n) {
						switch (n.label) {
							case 0:
								return [4, this.player.getReady()];
							case 1:
								return n.sent(), [4, this.player.createStream(this.getVideoType(
									t))];
							case 2:
								return i = n.sent(), this.player.loadStream(i, t, e), this
									._nextStreamId = i, [2]
						}
					})
				})
			}, i.startLoad = function(t, e) {
				void 0 === e && (e = -1);
				var i = -1 != e ? e : 0;
				this.load(t, i)
			}, i.refresh = function() {
				this.load(this._config.src, 0)
			}, i.stopLoad = function() {}, i.getMetadata = function() {
				return this.player.metadata
			}, i.getSpeed = function() {
				return this.player.getProp("currentBytesPerSecond") / 8e3
			}, i.getVideoType = function(t) {
				return -1 != t.indexOf(".m3u8") ? "hls" : -1 != t.indexOf(".mp4") || -1 != t.indexOf(".flv") ?
					"mp4" : "auto"
			}, i.seek = function(t) {
				this.player.seek(t)
			}, i.pause = function() {
				this.player.pause()
			}, f(i, "currentTime", {
				get: function() {
					return this.player.getCurrentTime()
				},
				enumerable: !0,
				configurable: !0
			}), i.getBufferInfo = function() {
				return {
					len: this.player.getProp("buffered") - this.player.getProp("currentTime")
				}
			}, i.getFps = function() {
				return this.player.element.currentFPS || 0
			}, i.destroy = function() {
				return this.player.destroy()
			}, e
		}(Zh);

	function nc(t, e, i) {
		"string" == typeof e && (e = function(t) {
			for (var e = t.length, i = new ArrayBuffer(2 * e), n = new Uint16Array(i), r = 0; r < e; r++) n[
				r] = t.charCodeAt(r);
			return n
		}(e));
		var n = t.byteLength + 4 + e.byteLength + 4 + i.byteLength,
			r = 0,
			o = new ArrayBuffer(n),
			s = new DataView(o),
			a = new Uint8Array(o, r, t.byteLength);
		a.set(t), r += a.byteLength, s.setUint32(r, e.byteLength, !0), r += 4;
		var h = new Uint16Array(o, r, e.length);
		return h.set(e), r += h.byteLength, s.setUint32(r, i.byteLength, !0), r += 4, new Uint8Array(o, r, i
			.byteLength).set(i), new Uint8Array(o, 0, o.byteLength)
	}
	/**
	 * native source handler for supporting Fairplay streaming.
	 * This source handler only supports encrypted HLS playback.
	 * It does not contain any fallbacks.
	 *
	 * Demo: https://bitmovin.com/demos/drm
	 * Licence:  https://www.mgtv.com/xml/player/drm/fairplay.cer
	 * vid: 5161084
	 *
	 * dns + 175.6.15.195 pcweb.api.mgtv.com
	 *
	 * @author genie88 (genie88@163.com)
	 * MIT Licensed
	 **/
	var rc, oc = "keySystemNotSupport",
		sc = "createMediaKeys",
		ac = "createKeySession",
		hc = "fetchCertificateError",
		cc = "fetchLicenseError",
		uc = "KeySessionWebkitKeyError",
		lc = function() {
			function t(t, e) {
				t.src && (this.url = t.src, this.video = e.video, t && t.drmData && (this.drmData = {
						certificateUrl: "https://www.mgtv.com/xml/player/drm/fairplay.cer",
						licenseUrl: t.drmData["com.apple.fps.1_0"].serverURL,
						keySystem: "com.apple.fps.1_0"
					}), this.kernel = e, this.onCertificateError = this.onCertificateError.bind(this), this
					.onCertificateLoad = this.onCertificateLoad.bind(this), this.onKeySessionWebkitKeyAdded =
					this.onKeySessionWebkitKeyAdded.bind(this), this.onKeySessionWebkitKeyError = this
					.onKeySessionWebkitKeyError.bind(this), this.onKeySessionWebkitKeyMessage = this
					.onKeySessionWebkitKeyMessage.bind(this), this.onLicenseError = this.onLicenseError.bind(
						this), this.onLicenseLoad = this.onLicenseLoad.bind(this), this.onVideoWebkitNeedKey =
					this.onVideoWebkitNeedKey.bind(this), e.isReady_ = !1, this.src(t))
			}
			var e = t.prototype;
			return e.createKeySession = function(t, e) {
				if (as.info("fairplay", "createKeySession with keySystem " + t), !this.video.webkitKeys) {
					if (!WebKitMediaKeys.isTypeSupported(t, "video/mp4")) return void this.kernel.emit(
						"nativeStreamError", {
							url: this.url,
							fatal: !0,
							code: 300,
							details: oc
						});
					this.video.webkitSetMediaKeys(new WebKitMediaKeys(t))
				}
				if (!this.video.webkitKeys) return as.error("fairplay", "create mediakeys error."), void this
					.kernel.emit("nativeStreamError", {
						url: this.url,
						fatal: !0,
						code: 301,
						details: sc
					});
				as.info("fairplay", "create key session ...");
				var i = this.video.webkitKeys.createSession("video/mp4", e);
				return i || (as.error("fairplay", "create key session error."), void this.kernel.emit(
					"nativeStreamError", {
						url: this.url,
						fatal: !0,
						code: 302,
						details: ac
					}))
			}, e.fetchCertificate = function(t) {
				var e = this,
					i = this.drmData.certificateUrl;
				as.info("fairplay", "fetch certificate: " + i);
				var n = new XMLHttpRequest;
				n.responseType = "arraybuffer", n.addEventListener("error", this.onCertificateError, !1), n
					.addEventListener("load", function(i) {
						e.onCertificateLoad(i, t)
					}, !1), n.open("GET", i, !0), n.send()
			}, e.fetchLicense = function(t) {
				var e = t.target,
					i = t.message,
					n = this.drmData.licenseUrl;
				as.info("fairplay", "fetch license: " + n);
				var r = new XMLHttpRequest;
				r.responseType = "arraybuffer", r.session = e, r.addEventListener("error", this.onLicenseError,
						!1), r.addEventListener("load", this.onLicenseLoad, !1), r.open("POST", n, !0), r
					.setRequestHeader("Content-type", "application/octet-stream"), r.send(i)
			}, e.hasProtection = function(t) {
				var e = void 0 === t ? {} : t,
					i = e.certificateUrl,
					n = e.keySystem,
					r = e.licenseUrl;
				return i && n && r
			}, e.onCertificateError = function() {
				this.kernel.emit("nativeStreamError", {
					url: this.url,
					fatal: !0,
					code: 303,
					details: hc
				})
			}, e.onCertificateLoad = function(t, e) {
				var i = t.target,
					n = i.response;
				200 === i.status ? (as.info("fairplay", "fetch certifacate ok."), this.certificate =
					new Uint8Array(n), e()) : this.onCertificateError()
			}, e.onKeySessionWebkitKeyAdded = function() {
				as.info("fairplay", "Decryption key was added to the session.")
			}, e.onKeySessionWebkitKeyError = function() {
				this.kernel.emit("nativeStreamError", {
					url: this.url,
					fatal: !0,
					code: 304,
					details: uc,
					message: "A decryption key error was encountered"
				})
			}, e.onKeySessionWebkitKeyMessage = function(t) {
				var e = t.message,
					i = t.target;
				as.info("fairplay", "keySessionWebkitKeyMessage event is triggered."), this.fetchLicense({
					message: e,
					target: i
				})
			}, e.onLicenseError = function() {
				this.kernel.emit("fairplayLicenseRequest", {
					error: {
						code: 305,
						details: cc
					}
				}), this.kernel.emit("nativeStreamError", {
					url: this.url,
					fatal: !0,
					code: 305,
					details: cc
				})
			}, e.onLicenseLoad = function(t) {
				var e = t.target,
					i = e.response,
					n = e.session;
				200 === e.status ? (this.kernel.emit("fairplayLicenseRequest", {}), as.info("fairplay",
					"fetch license ok."), n.update(new Uint8Array(i))) : this.onLicenseError()
			}, e.onVideoWebkitNeedKey = function(t) {
				var e = this.drmData.keySystem;
				as.info("fairplay", "videoWebkitNeedKey event is triggered.");
				var i, n, r, o = (r = t.initData, i = String.fromCharCode.apply(null, new Uint16Array(r
						.buffer)), (n = document.createElement("a")).href = i, n.hostname),
					s = nc(t.initData, o, this.certificate),
					a = this.createKeySession(e, s);
				a.contentId = o, a.addEventListener("webkitkeyadded", this.onKeySessionWebkitKeyAdded, !1), a
					.addEventListener("webkitkeyerror", this.onKeySessionWebkitKeyError, !1), a
					.addEventListener("webkitkeymessage", this.onKeySessionWebkitKeyMessage, !1)
			}, e.src = function(t) {
				var e = this,
					i = t.src;
				this.hasProtection(this.drmData) ? (this.video.addEventListener("webkitneedkey", this
						.onVideoWebkitNeedKey, !1), this.certificate ? this.video.src = i : this
					.fetchCertificate(function() {
						e.video.src = i
					})) : this.video.src = i
			}, t
		}(),
		dc = 0,
		fc = function(t) {
			function e(e, i, n) {
				var r;
				if (r = t.call(this) || this, !In(e)) throw new Error(
					"You must pass in an legal video element but not " + typeof e);
				return r.video = e, r.config = i, r.customConfig = n, r
			}
			pn(e, t), e.isSupport = function() {
				return !0
			};
			var i = e.prototype;
			return i.load = function(t, e, i, n) {
				var r = this;
				if (void 0 === e && (e = -1), n && n["com.apple.fps.1_0"] ? this.fairplay = new lc({
						src: t,
						drmData: n
					}, this) : (this.video.setAttribute("src", t), this.video.src = t), -1 != e) {
					var o = function() {
						r.seek(e), to(r.video, "canplaythrough", o, !0)
					};
					eo(this.video, "canplaythrough", o, !0), this.seek(e)
				}
			}, i.startLoad = function(t, e) {
				void 0 === e && (e = -1);
				var i = -1 != e ? e : this.video.currentTime || dc;
				this.load(t, i), this.seek(i)
			}, i.stopLoad = function() {
				dc = this.video.currentTime, this.video.src = "", this.video.removeAttribute("src")
			}, i.destroy = function() {
				In(this.video) && this.stopLoad(), this.removeAllListeners()
			}, i.play = function() {
				return this.video.play()
			}, i.pause = function() {
				return this.video.pause()
			}, i.refresh = function() {
				this.video.src = this.config.src
			}, i.getMetadata = function() {
				return {}
			}, i.getSpeed = function() {
				return 0
			}, i.getFps = function() {
				return 29.9
			}, i.getBufferInfo = function() {}, i.attachMedia = function() {}, i.seek = function(t) {
				this.video.currentTime = t
			}, e
		}(Zr),
		pc = "mango-kernel",
		mc = {
			flv: ".flv",
			hls: ".m3u8",
			flash: ".m3u8",
			dash: ".mpd",
			mp4: ".mp4"
		},
		vc = ["mediaInfo", "heartbeat", "hlsSegmentLoaded", "hlsBufferFull", "hlsBufferEmpty",
			"hlsRecoverStreamError", "hlsStreamError", "hlsDispatcherLoaded", "hlsDispatcherError",
			"hlsLevelSwitching", "hlsLevelSwitched", "hlsLevelLoaded", "hlsManifestParsed", "dashBufferEmpty",
			"dashBufferFull", "dashStreamError", "dashRecoverStreamError", "dashLicenseRequest",
			"fairplayLicenseRequest", "nativeStreamError", "flvStreamError", "error", "stats", "p2p-error",
			"segment-loaded", "p2p-report", "peers", "flashInitFail"
		],
		gc = (vn((rc = function(t) {
			function e(e, i) {
				var n;
				if ((n = t.call(this) || this).VERSION = Lh, !In(e)) throw new Error(
					"You must pass in an video element to the mango-kernel");
				return n.config = Pn({}, Ph, i), n.videoElement = e, n.initVideoKernel(), n.bindEvents(n
					.videoKernel), n
			}
			pn(e, t);
			var i = e.prototype;
			return i.destroy = function() {
				this.bindEvents(this.videoKernel, !0), this.videoKernel.destroy(), this
					.removeAllListeners()
			}, i.initVideoKernel = function() {
				var t = this.config,
					e = this.chooseBox(t);
				this.box = e;
				var i = this.chooseVideoKernel(this.box, t.preset);
				if (!En(i)) throw new Error("We can't find video kernel for " + e +
					". Please check your config and make sure it's installed or provided");
				var n = t.presetConfig[this.box];
				n && Pn(t, n), this.videoKernel = new i(this.videoElement, t, n)
			}, i.chooseBox = function(t) {
				var e = t.src,
					i = t.box;
				if (xn(i) && i) return i;
				for (var n in e = e.toLowerCase(), mc) {
					var r = mc[n];
					if (e.indexOf(r) > -1) return n
				}
				return "native"
			}, i.playNext = function(t) {
				return this.videoKernel.playNext ? this.videoKernel.playNext(t) : Promise.reject(
					"kernal not support preload.")
			}, i.chooseVideoKernel = function(t, e) {
				switch (t) {
					case "flash":
						return ic;
					case "native":
						return fc;
					case "mp4":
						return this.getMp4Kernel(e.mp4);
					case "flv":
					case "dash":
					case "hls":
						return e[t];
					default:
						throw new Error("We currently do not support box " + t)
				}
			}, i.getMp4Kernel = function(t) {
				var e = t && En(t.isSupport);
				return e && t.isSupport() ? t : (e && this.warnLog(
					"mp4 decode is not support in this browser, we will switch to the native video kernel"
					), this.box = "native", fc)
			}, i.attachMedia = function() {
				this.videoKernel.attachMedia()
			}, i.load = function(t, e, i, n, r, o) {
				void 0 === t && (t = this.config.src), void 0 === e && (e = -1), void 0 === r && (
						r = -1), void 0 === o && (o = ""), this.config.src = t, this.videoKernel
					.load(t, e, i, n, r, o)
			}, i.preload = function(t, e, i) {
				void 0 === t && (t = this.config.src), void 0 === e && (e = -1), this.config.src =
					t, this.videoKernel.preload(t, e, i)
			}, i.loadLevel = function(t) {
				if (!En(this.videoKernel.loadLevel)) throw new Error(
					"This video kernel do not support loadLevel");
				return this.videoKernel.loadLevel(t)
			}, i.startLoad = function(t) {
				if (void 0 === t && (t = -1), !En(this.videoKernel.startLoad)) throw new Error(
					"This video kernel do not support startLoad");
				this.videoKernel.startLoad(this.config.src, t)
			}, i.stopLoad = function() {
				En(this.videoKernel.stopLoad) && this.videoKernel.stopLoad()
			}, i.play = function() {
				this.videoKernel.play()
			}, i.pause = function() {
				this.videoKernel.pause()
			}, i.seek = function(t) {
				t = Tn(t) ? t : ~~t, Tn(t) ? this.videoKernel.seek(t) : this.errorLog(
					"When you try to seek, you must offer us a number, but not " + typeof t)
			}, i.refresh = function() {
				this.videoKernel.refresh()
			}, i.on = function(t, e) {
				this.videoKernel.on(t, e)
			}, i.off = function(t, e) {
				this.videoKernel.off(t, e)
			}, i.errorLog = function() {
				for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] =
					arguments[i];
				return this.emit("error", new Error(e[0])), as.error.apply(as, [pc].concat(e))
			}, i.warnLog = function() {
				for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] =
					arguments[i];
				return as.warn.apply(as, [pc].concat(e))
			}, i.handleEvent = function(t) {
				var e = t.type,
					i = t.data;
				this.emit(e, i)
			}, i.bindEvents = function(t, e) {
				var i = this;
				void 0 === e && (e = !1), vc.forEach(function(n) {
					return t[e ? "off" : "on"](n, i.handleEvent)
				})
			}, fn(e, [{
				key: "currentTime",
				get: function() {
					return this.videoKernel.currentTime || this.videoElement
						.currentTime || 0
				}
			}, {
				key: "metadata",
				get: function() {
					return this.videoKernel.getMetadata()
				}
			}, {
				key: "downloadSpeed",
				get: function() {
					return this.videoKernel.getSpeed()
				}
			}, {
				key: "fps",
				get: function() {
					return this.videoKernel.getFps()
				}
			}, {
				key: "bufferInfo",
				get: function() {
					return this.videoKernel.getBufferInfo()
				}
			}, {
				key: "stats",
				get: function() {
					return "hls" === this.box ? this.videoKernel.stats : null
				}
			}]), e
		}(Zr)).prototype, "handleEvent", [Kn], yn(rc.prototype, "handleEvent"), rc.prototype), rc),
		yc = ["abort", "canplay", "canplaythrough", "durationchange", "emptied", "encrypted", "ended", "error",
			"interruptbegin", "interruptend", "loadeddata", "loadedmetadata", "loadstart", "mozaudioavailable",
			"pause", "play", "playing", "progress", "ratechange", "seeked", "seeking", "stalled", "suspend",
			"timeupdate", "volumechange", "waiting", "enterpictureinpicture", "leavepictureinpicture"
		],
		_c = ["buffered", "currentSrc", "duration", "error", "ended", "networkState", "paused", "readyState",
			"seekable", "sinkId", "controlsList", "tabIndex", "dataset", "offsetHeight", "offsetLeft",
			"offsetParent", "offsetTop", "offsetWidth"
		],
		bc = ["beforeinput", "blur", "click", "compositionend", "compositionstart", "compositionupdate", "dblclick",
			"focus", "focusin", "focusout", "input", "keydown", "keypress", "keyup", "mousedown", "mouseenter",
			"mouseleave", "mousemove", "mouseout", "mouseover", "mouseup", "resize", "scroll", "select", "wheel",
			"mousewheel", "fullscreenchange", "contextmenu", "touchstart", "touchmove", "touchend"
		],
		wc = ["keydown", "keypress", "keyup", "click", "touchstart", "touchmove", "touchend"],
		kc = ["wheel", "mousewheel", "touchstart", "touchmove"],
		Ec = ["loadLevel", "silentLoad", "preload", "fullscreen"],
		Sc = ["playNext", "play", "pause", "seek", "refresh", "startLoad", "stopLoad"],
		Tc = ["load"],
		xc = ["focus", "fullscreen", "requestFullscreen", "exitFullscreen"],
		Ac = ["canPlayType", "captureStream", "setSinkId", "requestPictureInPicture"],
		Cc = Object.getOwnPropertyDescriptor;

	function Rc(t) {
		if (!t || !t.hasOwnProperty) return !1;
		for (var e = ["value", "initializer", "get", "set"], i = 0, n = e.length; i < n; i++)
			if (t.hasOwnProperty(e[i])) return !0;
		return !1
	}

	function Ic(t) {
		return !!t && (w(t.get) || w(t.set)) && C(t.configurable) && C(t.enumerable) && void 0 === t.writable
	}

	function Lc(t) {
		return !!t && t.hasOwnProperty("value") && C(t.configurable) && C(t.enumerable) && C(t.writable)
	}

	function Pc(t) {
		return !!t && w(t.initializer) && C(t.configurable) && C(t.enumerable) && C(t.writable)
	}

	function Dc(t, e) {
		if (void 0 === e && (e = "You must pass me an array of function"), !b(t) || t.length < 1)
		throw new TypeError(e);
		if (1 === t.length) {
			if (!w(t[0])) throw new TypeError(e);
			return t[0]
		}
		return t.reduce(function(t, i) {
			if (!w(i) || !w(t)) throw new TypeError(e);
			return function(e) {
				return z(i, this)(z(t, this)(e))
			}
		})
	}
	var Mc = function() {
		var t = Object.getOwnPropertyNames,
			e = Object.getOwnPropertySymbols;
		return w(e) ? function(i) {
			return Array.from(t(i).concat(e(i)))
		} : t
	}();
	var Bc = w(Object.getOwnPropertyDescriptors) ? Object.getOwnPropertyDescriptors : function(t) {
		return Mc(t).reduce(function(e, i) {
			return e[i] = Cc(t, i), e
		}, {})
	};

	function Oc() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (!e.length) throw new TypeError("You must pass in decorators in compressMultipleDecorators");
		return e.forEach(function(t) {
			if (!w(t)) throw new TypeError('Decorators must be a function, but not "' + t + '" in ' +
				typeof t)
		}), 1 === e.length ? e[0] : function(t, i, n) {
			return e.reduce(function(e, n) {
				return n(t, i, e)
			}, n)
		}
	}

	function Uc(t, e) {
		var i = void 0 === t ? {} : t,
			n = i.get,
			r = i.set,
			o = void 0 === e ? {} : e,
			s = o.preGet,
			a = void 0 !== s && s,
			h = o.preSet,
			c = void 0 === h || h;
		if (!(w(n) || w(r) || b(n) && n.length > 0 || b(r) && r.length > 0)) throw new TypeError(
			"@accessor need a getter or setter. If you don't need to add setter/getter. You should remove @accessor"
			);
		var u = "@accessor only accept function or array of function as getter/setter";
		return n = b(n) ? Dc(n, u) : n, r = b(r) ? Dc(r, u) : r,
			function(t, e, i) {
				var o = i || {},
					s = o.configurable,
					h = void 0 === s || s,
					u = o.enumerable,
					l = void 0 === u || u,
					d = w(n),
					f = w(r),
					p = function(t) {
						return d ? z(n, this)(t) : t
					},
					m = function(t) {
						return f ? z(r, this)(t) : t
					};
				if (Ic(i)) {
					var v = i.get,
						g = i.set,
						y = w(v),
						_ = w(g);
					return {
						get: y || d ? function() {
							var t = this,
								e = z(p, this),
								i = function() {
									return y ? z(v, t)() : void 0
								};
							return (a ? [e, i] : [i, e]).reduce(function(t, e) {
								return e(t)
							}, void 0)
						} : void 0,
						set: _ || f ? function(t) {
							var e = this,
								i = z(m, this),
								n = function(t) {
									return _ ? z(g, e)(t) : t
								};
							return (c ? [i, n] : [n, i]).reduce(function(t, e) {
								return e(t)
							}, t)
						} : void 0,
						configurable: h,
						enumerable: l
					}
				}
				if (Pc(i)) {
					var b, k = i.initializer,
						E = !1;
					return {
						get: function() {
							var t = z(p, this);
							return E ? t(b) : (b = z(k, this)(), E = !0, t(b))
						},
						set: function(t) {
							var e = z(m, this);
							return b = c ? e(t) : t, E = !0, c || e(b), b
						},
						configurable: h,
						enumerable: l
					}
				}
				var S = (i || {}).value;
				return {
					get: function() {
						return z(p, this)(S)
					},
					set: function(t) {
						var e = z(m, this);
						return S = c ? e(t) : t, c || e(S), S
					},
					configurable: h,
					enumerable: l
				}
			}
	}

	function Fc() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (0 === e.length) throw new Error(
			"@before accept at least one parameter. If you don't need to preprocess before your function, do not add @before decorators"
			);
		if (e.length > 2 && Rc(e[2])) throw new Error(
			"You may use @before straightly, @before return decorators, you should call it before you set it as decorator."
			);
		for (var n = e.length - 1; n > -1; n--)
			if (!w(e[n])) throw new TypeError("@before only accept function parameter");
		return function(t, i, n) {
			var r = n || {},
				o = r.value,
				s = r.configurable,
				a = r.enumerable,
				h = r.writable;
			if (!w(o)) throw new TypeError('@before can only be used on function, please check the property "' +
				i + '" is a method or not.');
			return {
				value: function() {
					for (var t = this, i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] =
						arguments[r];
					var s = e.reduce(function(e, i) {
						var n = z(i, t).apply(void 0, e);
						return void 0 === n ? e : b(n) ? n : [n]
					}, n);
					return z(o, this).apply(void 0, s)
				},
				configurable: s,
				enumerable: a,
				writable: h
			}
		}
	}

	function Nc() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (0 === e.length) throw new Error(
			"@initialize accept at least one parameter. If you don't need to initialize your value, do not add @initialize."
			);
		if (e.length > 2 && Rc(e[2])) throw new Error(
			"You may use @initialize straightly, @initialize return decorators, you need to call it");
		var n = Dc(e, "@initialize only accept function parameter");
		return function(t, e, i) {
			if (void 0 === i) return {
				value: z(n, t)(),
				configurable: !0,
				writable: !0,
				enumerable: !0
			};
			if (Ic(i)) {
				var r = !1;
				return Uc({
					get: function(t) {
						return r ? t : z(n, this)(t)
					},
					set: i.set ? function(t) {
						return r = !0, t
					} : void 0
				})(t, e, i)
			}
			if (Pc(i)) {
				var o = i.initializer;
				return {
					initializer: function() {
						return z(n, this)(z(o, this)())
					},
					configurable: i.configurable,
					writable: i.writable,
					enumerable: i.enumerable
				}
			}
			return {
				value: z(n, this)(i.value),
				writable: i.writable,
				configurable: i.configurable,
				enumerable: i.enumerable
			}
		}
	}
	var Vc = Object.getOwnPropertyDescriptor,
		zc = Object.defineProperty;

	function Hc(t, e, i, n, r, o) {
		var s = i.configurable,
			a = i.enumerable,
			h = o.force,
			c = o.omit,
			u = Vc(n, r);
		if (void 0 !== u) {
			if (c) return;
			if (!h) throw new Error('"' + e +
				'" is an existing property, if you want to override it, please set "force" true in @alias option.'
				);
			if (!u.configurable) throw new Error('property "' + e + '" is unconfigurable.')
		}
		zc(n, r, {
			get: function() {
				return t[e]
			},
			set: function(i) {
				return t[e] = i, e
			},
			configurable: s,
			enumerable: a
		})
	}

	function jc(t, e, i) {
		if (2 === arguments.length ? A(t) && (i = e, e = t, t = void 0) : 1 === arguments.length && (e = t, t =
				void 0), !A(e)) throw new TypeError(
			"@alias need a string as a key to find the porperty to set alias on");
		var n = "If you want to use @alias to set alias on other instance, you must pass in a legal instance";
		if (void 0 !== t && I(t)) throw new TypeError(n);
		var r = k(i) ? i : {
				force: !1,
				omit: !1
			},
			o = r.force,
			s = r.omit;
		return function(i, r, a) {
			function h(t, e, i) {
				var r = I(t) ? e : t,
					o = i.split("."),
					s = o.slice(-1)[0];
				if (I(r = j(r, o.slice(0, -1), {
						throwError: !0
					}))) throw new TypeError(n);
				return {
					target: r,
					name: s
				}
			}
			if (Pc(a = a || {
					value: void 0,
					configurable: !0,
					writable: !0,
					enumerable: !0
				})) return Nc(function(i) {
				var n = h(t, this, e),
					c = n.target,
					u = n.name;
				return Hc(this, r, a, c, u, {
					force: o,
					omit: s
				}), i
			})(i, r, a);
			if (Ic(a)) {
				var c, u = function(i) {
					if (c) return i;
					var n = h(t, this, e),
						u = n.target,
						l = n.name;
					return Hc(this, r, a, u, l, {
						force: o,
						omit: s
					}), c = !0, i
				};
				return Uc({
					get: u,
					set: u
				})(i, r, a)
			}
			var l = h(t, i, e),
				d = l.target,
				f = l.name;
			return Hc(i, r, a, d, f, {
				force: o,
				omit: s
			}), a
		}
	}
	var $c = Object.defineProperty;

	function Wc(t, e) {
		var i = void 0 === e ? {} : e,
			n = i.requirement,
			r = i.customArgs,
			o = void 0 !== r && r;
		return function(e) {
			for (var i = void 0 === e ? {} : e, r = i.exclude, s = void 0 === r ? [] : r, a = i.include, h =
					void 0 === a ? [] : a, c = i.construct, u = void 0 !== c && c, l = i.self, d = void 0 !==
					l && l, f = arguments.length, p = new Array(f > 1 ? f - 1 : 0), m = 1; m < f; m++) p[m -
				1] = arguments[m];
			if (!b(s)) throw new TypeError("options.exclude must be an array");
			if (!b(h)) throw new TypeError("options.include must be an array");
			return function(e) {
				var i = w(e);
				if (!d && !i) throw new TypeError("@" + t.name + "Class can only be used on class");
				if (d && I(e)) throw new TypeError("@" + t.name +
					"Class must be used on non-primitive type value in 'self' mode");
				var r = d ? e : e.prototype;
				if (_(r)) throw new Error("The prototype of the " + e.name + " is empty, please check it");
				var a = Bc(r);
				Mc(r).concat(h).forEach(function(e) {
					var h = a[e];
					"constructor" === e && !u || d && i && ["name", "length", "prototype"].indexOf(
						e) > -1 || s.indexOf(e) > -1 || w(n) && !1 === n(r, e, h, {
						self: d
					}) || $c(r, e, (o ? t.apply(void 0, p) : t)(r, e, h))
				})
			}
		}
	}
	var qc, Gc = Wc(Kc, {
		requirement: function(t, e, i) {
			return Lc(i) && w(i.value)
		}
	});

	function Kc(t, e, i) {
		if (1 === arguments.length) return Gc()(t);
		var n = i || {},
			r = n.value,
			o = n.configurable;
		if (!w(r)) throw new TypeError('@autobind can only be used on functions, not "' + r + '" in ' + typeof r +
			' on property "' + e + '"');
		var s, a = t.constructor;
		return {
			configurable: o,
			enumerable: !1,
			get: function() {
				var i = this,
					n = function() {
						for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
						return r.call.apply(r, [i].concat(e))
					};
				return this === t ? r : this.constructor !== a && Object.getPrototypeOf(this).constructor ===
					a ? r : this.constructor !== a && e in this.constructor.prototype ? function(t, e) {
						if ("undefined" == typeof WeakMap) throw new Error("Using @autobind on " + e.name +
							"() requires WeakMap support due to its use of super." + e.name + "()");
						qc || (qc = new WeakMap), !1 === qc.has(t) && qc.set(t, new WeakMap);
						var i = qc.get(t);
						return !1 === i.has(e) && i.set(e, z(e, t)), i.get(e)
					}(this, r) : (f(this, e, {
						configurable: !0,
						writable: !0,
						enumerable: !1,
						value: n
					}), n)
			},
			set: (s = e, function(t) {
				return f(this, s, {
					configurable: !0,
					writable: !0,
					enumerable: !0,
					value: t
				}), t
			})
		}
	}
	var Yc = Object.defineProperty;

	function Xc(t, e, i) {
		if (void 0 === i) return {
			value: void 0,
			writable: !1,
			enumerable: !1,
			configurable: !1
		};
		if (i.enumerable = !1, i.configurable = !1, Ic(i)) {
			var n = i.get;
			if (i.set = void 0, !w(n)) return;
			return {
				get: function() {
					var t = z(n, this)();
					return Yc(this, e, {
						value: t,
						writable: !1,
						configurable: !1,
						enumerable: !1
					}), t
				},
				set: void 0,
				configurable: !1,
				enumerable: !1
			}
		}
		return i.writable = !1, i
	}
	var Zc = Object.getOwnPropertyDescriptor,
		Qc = Object.defineProperty;

	function Jc(t, e) {
		var i = (void 0 === e ? {} : e).other;
		if (!w(t) && !R(t) && !A(t)) throw new TypeError("@waitUntil only accept Function, Promise or String");
		return function(e, n, r) {
			var o = r || {},
				s = o.value,
				a = o.configurable;
			if (!w(s)) throw new TypeError("@waituntil can only be used on function, but not " + s +
				' on property "' + n + '"');
			var h = !1,
				c = [],
				u = R(t) ? function() {
					return t
				} : w(t) ? t : function() {
					var e = t.split("."),
						n = e.slice(-1),
						r = I(i) ? this : i;
					if (!h) {
						var o = j(r, e.slice(0, -1));
						if (_(o)) return o;
						var s = Zc(o, n),
							a = function(t) {
								if (!0 === t)
									for (; c.length > 0;) c[0](), c.shift();
								return t
							},
							u = Rc(s) ? Uc({
								set: a
							})(o, n, s) : Uc({
								set: a
							})(o, n, {
								value: void 0,
								configurable: !0,
								enumerable: !0,
								writable: !0
							});
						Qc(o, n, u), h = !0
					}
					return j(r, e)
				};
			return {
				value: function() {
					for (var t = this, e = arguments.length, i = new Array(e), n = 0; n < e; n++) i[n] =
						arguments[n];
					var r = z(s, this),
						o = z(u, this).apply(void 0, i);
					return R(o) ? Promise.resolve(o).then(function() {
						return z(s, t).apply(void 0, i)
					}) : !0 === o ? z(s, this).apply(void 0, i) : new Promise(function(t) {
						c.push(function() {
							r.apply(void 0, i), t()
						})
					})
				},
				enumerable: !1,
				configurable: a,
				writable: !1
			}
		}
	}

	function tu(t, e, i) {
		return void 0 === i ? {
			value: void 0,
			enumerable: !1,
			configurable: !0,
			writable: !0
		} : (i.enumerable = !1, i)
	}
	var eu = Object.defineProperty,
		iu = Object.getOwnPropertyDescriptor;

	function nu(t, e, i) {
		var n = void 0 === i ? {} : i,
			r = n.self,
			o = void 0 !== r && r,
			s = n.omit,
			a = void 0 !== s && s,
			h = w(e);
		if (h || b(e)) {
			if (!w(t)) throw new TypeError("If you want to decorator class, you must pass it a legal class");
			if (h) e(t);
			else
				for (var c = 0, u = e.length; c < u; c++) {
					var l = e[c];
					if (!w(l)) throw new TypeError(
						"If you want to decorate an class, you must pass it function or array of function");
					l(t)
				}
			return t
		}
		if (!o && !w(t)) throw new TypeError(
			"applyDecorators only accept class as first arguments. If you want to modify instance, you should set options.self true."
			);
		if (o && I(t)) throw new TypeError("We can't apply docorators on a primitive value, even in self mode");
		if (!k(e)) throw new TypeError("applyDecorators only accept object as second arguments");
		var d = o ? t : t.prototype;
		if (_(d)) throw new Error("The class muse have a prototype, please take a check");
		for (var f in e) {
			var p = e[f],
				m = b(p) ? p : [p],
				v = void 0;
			try {
				v = Oc.apply(void 0, m)
			} catch (t) {
				throw new Error("The decorators set on props must be Function or Array of Function")
			}
			var g = iu(d, f);
			if (!g || g.configurable) eu(d, f, v(d, f, g));
			else if (!a) throw new Error(f + " of " + d + " is unconfigurable")
		}
		return t
	}
	var ru, ou, su, au, hu, cu = ["push", "pop", "unshift", "shift", "splice", "sort", "reverse"];

	function uu(t, e, i) {
		var n, r = i.diff,
			o = i.operationPrefix,
			s = {},
			a = !1,
			h = new Proxy(t, {
				get: function(t, i, n) {
					var h = t[i];
					if (b(t) && cu.indexOf(i) > -1) return function() {
						a = !0, z(h, n).apply(void 0, arguments), a = !1, e()
					};
					if (!0 === s[i]) return h;
					if (k(h) || b(h)) {
						var c = s[i] || uu(h, e, {
							diff: r,
							operationPrefix: o
						});
						return s[i] = c, c
					}
					return s[i] = !0, h
				},
				set: function(t, i, n) {
					var h = t[i],
						c = k(n) || b(n) ? uu(n, e, {
							diff: r,
							operationPrefix: o
						}) : n;
					return t[i] = c, s[i] = !0, !!(a || r && h === c) || (e(), !0)
				},
				deleteProperty: function(t, i) {
					return delete t[i], delete s[i], !!a || (e(), !0)
				}
			}),
			c = ((n = {})[o + "set"] = [Nc(function(t) {
				return function(t, e) {
					h[t] = e
				}
			}), tu], n[o + "del"] = [Nc(function(t) {
				return function(t) {
					delete h[t]
				}
			}), tu], n);
		return nu(h, c, {
			self: !0
		}), h
	}

	function lu(t, e, i) {
		var n, r = this,
			o = i.operationPrefix,
			s = i.diff,
			a = {},
			h = !1;

		function c(t) {
			var i;
			return t.reduce(function(t, n) {
				return t[n] = [Uc({
					set: function(t) {
						return i = this[n], t
					}
				}), Uc({
					get: function(t) {
						return a[n] ? t : ((k(t) || b(t)) && lu(t, e, {
							operationPrefix: o,
							diff: s
						}), a[n] = !0, t)
					},
					set: function(t) {
						return (k(t) || b(t)) && lu(t, e, {
							operationPrefix: o,
							diff: s
						}), a[n] = !0, h || s && i === t || e(), t
					}
				}, {
					preSet: !1
				})], t
			}, {})
		}
		var u = c(Mc(t));
		if (nu(t, u, {
				self: !0,
				omit: !0
			}), b(t)) {
			var l = cu.reduce(function(i, n) {
				return i[n] = [Nc(function(i) {
					return i = w(i) ? i : Array.prototype[n],
						function() {
							var n = t.length;
							if (h = !0, z(i, t).apply(void 0, arguments), h = !1, n < t
								.length) {
								var r = c(new Array(t.length - n).fill(1).map(function(t, e) {
									return (e + n).toString()
								}));
								nu(t, r, {
									self: !0,
									omit: !0
								})
							}
							e()
						}
				}), tu], i
			}, {});
			nu(t, l, {
				self: !0
			})
		}
		var d = ((n = {})[o + "set"] = [Nc(function(e) {
			return function(i, n, o) {
				var s = void 0 === o ? {} : o,
					a = s.disable,
					h = s.isNewVal;
				if (h = h || -1 === Mc(t).indexOf(i), w(e) && z(e, r)(i, n, {
						disable: !0,
						isNewVal: h
					}), h) {
					var u = c([i]);
					nu(t, u, {
						self: !0,
						omit: !0
					})
				}
				a || (t[i] = n)
			}
		}), tu], n[o + "del"] = [Nc(function(i) {
			return function(n) {
				w(i) ? z(i, r)(n) : delete t[n], e()
			}
		}), tu], n);
		return nu(t, d, {
			self: !0
		}), t
	}

	function du(t, e) {
		var i = void 0 === e ? {} : e,
			n = i.other,
			r = i.backup;
		if (!w(t) && !A(t)) throw new TypeError("@runnable only accept Function or String");
		return function(e, i, o) {
			var s = o || {},
				a = s.value,
				h = s.configurable;
			if (!w(a)) throw new TypeError("@runnable can only be used on method, but not " + a +
				' on property "' + i + '".');
			var c = w(t) ? t : function() {
				var e = t.split(".");
				return j(I(n) ? this : n, e)
			};
			return r = w(r) ? r : function() {}, {
				value: function() {
					return !0 === z(c, this).apply(void 0, arguments) ? z(a, this).apply(void 0,
						arguments) : z(r, this).apply(void 0, arguments)
				},
				enumerable: !1,
				configurable: h,
				writable: !1
			}
		}
	}

	function fu(t, e, i) {
		return void 0 === i ? {
			value: void 0,
			enumerable: !0,
			configurable: !0,
			writable: !0
		} : (i.configurable = !0, i)
	}

	function pu() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		var n = A(e[0]) ? e.shift() : "";
		return e.unshift(function(t) {
			return A(t) ? t : n
		}), Uc({
			set: e,
			get: e
		})
	}

	function mu() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		var n = !!C(e[0]) && e.shift();
		return e.unshift(function(t) {
			return C(t) ? t : n
		}), Uc({
			set: e,
			get: e
		})
	}

	function vu() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		var n = E(e[0]) ? e.shift() : 0;
		return e.unshift(function(t) {
			return E(t) ? t : n
		}), Uc({
			set: e,
			get: e
		})
	}
	Wc(Fc, {
		requirement: function(t, e, i) {
			return Lc(i) && w(i.value)
		},
		customArgs: !0
	}), Wc(function() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		if (0 === e.length) throw new Error(
			"@after accept at least one parameter. If you don't need to preprocess after your function, do not add @after decorators"
			);
		if (e.length > 2 && Rc(e[2])) throw new Error(
			"You may have used @after straightly. @after return decorators. You should call it before you use it as decorators"
			);
		var n = Dc(e, "@after only accept function parameter");
		return function(t, e, i) {
			var r = i || {},
				o = r.value,
				s = r.configurable,
				a = r.enumerable,
				h = r.writable;
			if (!w(o)) throw new TypeError(
				'@after can only be used on function, please checkout your property "' + e +
				'" is a method or not.');
			return {
				value: function() {
					var t = z(o, this).apply(void 0, arguments);
					return z(n, this)(t)
				},
				configurable: s,
				enumerable: a,
				writable: h
			}
		}
	}, {
		requirement: function(t, e, i) {
			return Lc(i) && w(i.value)
		},
		customArgs: !0
	}), Wc(du, {
		requirement: function(t, e, i) {
			return Lc(i) && w(i.value)
		},
		customArgs: !0
	}), Wc(Jc, {
		requirement: function(t, e, i) {
			return Lc(i) && w(i.value)
		},
		customArgs: !0
	});
	var gu = /^(before|after|_)/;

	function yu(t) {
		return !t.match(gu)
	}
	var _u = (ru = du(yu), ou = du(yu, {
			backup: function() {
				return !1
			}
		}), su = du(yu), au = du(yu, {
			backup: function() {
				return !1
			}
		}), d((hu = function() {
			function t(t) {
				this.events = {}, this.onceMap = {}, this.__dispatcher = t
			}
			var e = t.prototype;
			return e.on = function(t, e, i) {
				var n = this._getEventStage(e),
					r = n.stage,
					o = n.key;
				this._addEvent([o, r, t], i)
			}, e.off = function(t, e, i) {
				var n = this._getEventStage(e),
					r = n.stage,
					o = [n.key, r, t];
				if (!this._removeEvent(o, i)) {
					var s = this._getHandlerFromOnceMap(o, i);
					w(s) && this._removeEvent(o, s) && this._removeFromOnceMap(o, i, s)
				}
			}, e.once = function(t, e, i) {
				var n = this._getEventStage(e),
					r = n.stage,
					o = n.key,
					s = this,
					a = [o, r, t],
					h = function() {
						z(i, this).apply(void 0, arguments), s._removeEvent(a, h), s
							._removeFromOnceMap(a, i, h)
					};
				this._addEvent(a, h), this._addToOnceMap(a, i, h)
			}, e.emit = function(t) {
				for (var e = this, i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), r =
					1; r < i; r++) n[r - 1] = arguments[r];
				var o = this.events[t];
				if (T(o)) return Ec.indexOf(t) > -1 ? Promise.resolve() : this._eventProcessor
					.apply(this, [t, {
						sync: !1
					}].concat(n));
				var s = this._getEventQueue(o.before, this.__dispatcher.order);
				return mt.apply(void 0, [s].concat(n)).then(function() {
					if (!(Ec.indexOf(t) > -1)) return e._eventProcessor.apply(e, [t, {
						sync: !1
					}].concat(n))
				}).catch(function(t) {
					return M(t) && e.__dispatcher.throwError(t), Promise.reject(t)
				})
			}, e.emitSync = function(t) {
				for (var e = this.events[t], i = arguments.length, n = new Array(i > 1 ? i - 1 : 0),
						r = 1; r < i; r++) n[r - 1] = arguments[r];
				if (T(e)) return Ec.indexOf(t) > -1 || this._eventProcessor.apply(this, [t, {
					sync: !0
				}].concat(n));
				var o = this._getEventQueue(e.before, this.__dispatcher.order);
				return vt.apply(void 0, [o].concat(n)) && (Ec.indexOf(t) > -1 || this
					._eventProcessor.apply(this, [t, {
						sync: !0
					}].concat(n)))
			}, e.trigger = function(t) {
				for (var e = this, i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), r =
					1; r < i; r++) n[r - 1] = arguments[r];
				var o = this.events[t];
				if (T(o)) return Promise.resolve(!0);
				var s = this._getEventQueue(o.main, this.__dispatcher.order);
				return mt.apply(void 0, [s].concat(n)).then(function() {
					var t = e._getEventQueue(o.after, e.__dispatcher.order);
					return mt.apply(void 0, [t].concat(n))
				}).then(function() {
					return e._runSideEffectEvent.apply(e, [t, e.__dispatcher.order].concat(
						n))
				}).catch(function(i) {
					return M(i) && e.__dispatcher.throwError(i), e._runSideEffectEvent
						.apply(e, [t, e.__dispatcher.order].concat(n))
				})
			}, e.triggerSync = function(t) {
				var e = this.events[t];
				if (T(e)) return !0;
				for (var i = this._getEventQueue(e.main, this.__dispatcher.order), n = this
						._getEventQueue(e.after, this.__dispatcher.order), r = arguments.length, o =
						new Array(r > 1 ? r - 1 : 0), s = 1; s < r; s++) o[s - 1] = arguments[s];
				var a = vt.apply(void 0, [i].concat(o)) && vt.apply(void 0, [n].concat(o));
				return this._runSideEffectEvent.apply(this, [t, this.__dispatcher.order].concat(o)),
					a
			}, e.destroy = function() {
				delete this.events, delete this.__dispatcher
			}, e._addEvent = function(t, e) {
				var i = (t = F(t)).pop(),
					n = t.reduce(function(t, e) {
						return t[e] = t[e] || {}, t[e]
					}, this.events);
				n[i] = n[i] || [], n[i].push(e)
			}, e._removeEvent = function(t, e) {
				for (var i = (t = F(t)).pop(), n = this.events, r = 0, o = t.length; r < o; r++) {
					var s = n[t[r]];
					if (T(s)) return;
					n = s
				}
				var a = n[i] || [],
					h = a.indexOf(e),
					c = h > -1;
				return c && a.splice(h, 1), a.length < 1 && delete n[i], c
			}, e._addToOnceMap = function(t, e, i) {
				var n = t.join("-"),
					r = this.onceMap[n] = this.onceMap[n] || new Map;
				r.has(e) || r.set(e, []), r.get(e).push(i)
			}, e._removeFromOnceMap = function(t, e, i) {
				var n = t.join("-"),
					r = this.onceMap[n],
					o = r.get(e),
					s = o.indexOf(i);
				o.splice(s, 1), T(o) && r.delete(e)
			}, e._getHandlerFromOnceMap = function(t, e) {
				var i = t.join("-"),
					n = this.onceMap[i];
				if (!_(n) && n.has(e)) return n.get(e)[0]
			}, e._getEventStage = function(t) {
				var e = t.match(gu),
					i = e && e[0] || "main";
				return e && (t = V(t.replace(gu, ""))), {
					stage: i,
					key: t
				}
			}, e._getEventQueue = function(t, e) {
				var i = this;
				return e = b(e) ? e.concat(["_vm"]) : ["_vm"], T(t) ? [] : e.reduce(function(e, n) {
					return T(t[n]) || !b(t[n]) || !i.__dispatcher.plugins[n] && "_vm" !==
						n ? e : e.concat(t[n].map(function(t) {
							return z(t, i.__dispatcher.plugins[n] || i.__dispatcher
								.vm)
						}))
				}, [])
			}, e._eventProcessor = function(t, e) {
				for (var i = e.sync, n = Sc.indexOf(t) > -1, r = xc.indexOf(t) > -1, o = Tc.indexOf(
						t) > -1, s = arguments.length, a = new Array(s > 2 ? s - 2 : 0), h = 2; h <
					s; h++) a[h - 2] = arguments[h];
				if (n || r || o) {
					var c, u;
					if (o)(c = this.__dispatcher)[t].apply(c, a);
					else(u = this.__dispatcher[n ? "kernel" : "dom"])[t].apply(u, a);
					if (yc.indexOf(t) > -1 || bc.indexOf(t) > -1) return !0
				}
				return this[i ? "triggerSync" : "trigger"].apply(this, [t].concat(a))
			}, e._runSideEffectEvent = function(t, e) {
				for (var i = arguments.length, n = new Array(i > 2 ? i - 2 : 0), r = 2; r < i; r++)
					n[r - 2] = arguments[r];
				var o = this.events[t];
				return !T(o) && (this._getEventQueue(o._, e).forEach(function(t) {
					return t.apply(void 0, n)
				}), !0)
			}, t
		}()).prototype, "emit", [ru], p(hu.prototype, "emit"), hu.prototype), d(hu.prototype, "emitSync", [ou],
			p(hu.prototype, "emitSync"), hu.prototype), d(hu.prototype, "trigger", [su], p(hu.prototype,
			"trigger"), hu.prototype), d(hu.prototype, "triggerSync", [au], p(hu.prototype, "triggerSync"), hu
			.prototype), hu),
		bu = function(t, e) {
			return (bu = Object.setPrototypeOf || {
					__proto__: []
				}
				instanceof Array && function(t, e) {
					t.__proto__ = e
				} || function(t, e) {
					for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
				})(t, e)
		};
	/*! *****************************************************************************
	 Copyright (c) Microsoft Corporation.
	 Permission to use, copy, modify, and/or distribute this software for any
	 purpose with or without fee is hereby granted.
	 THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	 REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	 AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	 INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	 LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	 OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	 PERFORMANCE OF THIS SOFTWARE.
	 ***************************************************************************** */
	function wu(t, e) {
		function i() {
			this.constructor = t
		}
		bu(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
	}
	var ku, Eu, Su, Tu, xu, Au, Cu, Ru, Iu = function() {
		return (Iu = Object.assign || function(t) {
			for (var e, i = 1, n = arguments.length; i < n; i++)
				for (var r in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[
					r]);
			return t
		}).apply(this, arguments)
	};

	function Lu(t, e, i, n) {
		var r, o = arguments.length,
			s = o < 3 ? e : null === n ? n = p(e, i) : n;
		if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) s = Reflect.decorate(t, e, i, n);
		else
			for (var a = t.length - 1; a >= 0; a--)(r = t[a]) && (s = (o < 3 ? r(s) : o > 3 ? r(e, i, s) : r(e,
				i)) || s);
		return o > 3 && s && f(e, i, s), s
	}

	function Pu(t, e, i, n) {
		return new(i || (i = Promise))(function(r, o) {
			function s(t) {
				try {
					h(n.next(t))
				} catch (t) {
					o(t)
				}
			}

			function a(t) {
				try {
					h(n.throw(t))
				} catch (t) {
					o(t)
				}
			}

			function h(t) {
				var e;
				t.done ? r(t.value) : (e = t.value, e instanceof i ? e : new i(function(t) {
					t(e)
				})).then(s, a)
			}
			h((n = n.apply(t, e || [])).next())
		})
	}

	function Du(t, e) {
		var i, n, r, o, s = {
			label: 0,
			sent: function() {
				if (1 & r[0]) throw r[1];
				return r[1]
			},
			trys: [],
			ops: []
		};
		return o = {
			next: a(0),
			throw: a(1),
			return: a(2)
		}, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
			return this
		}), o;

		function a(o) {
			return function(a) {
				return function(o) {
					if (i) throw new TypeError("Generator is already executing.");
					for (; s;) try {
						if (i = 1, n && (r = 2 & o[0] ? n.return : o[0] ? n.throw || ((r = n.return) &&
								r.call(n), 0) : n.next) && !(r = r.call(n, o[1])).done) return r;
						switch (n = 0, r && (o = [2 & o[0], r.value]), o[0]) {
							case 0:
							case 1:
								r = o;
								break;
							case 4:
								return s.label++, {
									value: o[1],
									done: !1
								};
							case 5:
								s.label++, n = o[1], o = [0];
								continue;
							case 7:
								o = s.ops.pop(), s.trys.pop();
								continue;
							default:
								if (!(r = (r = s.trys).length > 0 && r[r.length - 1]) && (6 === o[0] ||
										2 === o[0])) {
									s = 0;
									continue
								}
								if (3 === o[0] && (!r || o[1] > r[0] && o[1] < r[3])) {
									s.label = o[1];
									break
								}
								if (6 === o[0] && s.label < r[1]) {
									s.label = r[1], r = o;
									break
								}
								if (r && s.label < r[2]) {
									s.label = r[2], s.ops.push(o);
									break
								}
								r[2] && s.ops.pop(), s.trys.pop();
								continue
						}
						o = e.call(t, s)
					} catch (t) {
						o = [6, t], n = 0
					} finally {
						i = r = 0
					}
					if (5 & o[0]) throw o[1];
					return {
						value: o[0] ? o[1] : void 0,
						done: !0
					}
				}([o, a])
			}
		}
	}

	function Mu(t, e) {
		if (!A(t)) throw new TypeError("key parameter must be String");
		if (!w(e)) throw new TypeError("fn parameter must be Function")
	}

	function Bu() {
		for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
		return e.length > 2 ? ["set"].concat(e) : 2 === e.length ? ["video", "container", "wrapper", "videoElement"]
			.indexOf(e[0]) > -1 ? ["get"].concat(e) : ["set", "container"].concat(e) : ["get", "container"].concat(
				e)
	}

	function Ou(t) {
		return A(t) ? t : void 0
	}

	function Uu(t) {
		return Uc({
			get: function(e) {
				return this.dispatcher.videoConfigReady && this.inited ? this.dom.videoElement[t] : e
			},
			set: function(e) {
				return this.dispatcher.videoConfigReady ? (this.dom.videoElement[t] = e, e) : e
			}
		})
	}

	function Fu(t) {
		var e = k(t) ? t : {
				set: t,
				get: t,
				isBoolean: !1
			},
			i = e.set,
			n = e.get,
			r = e.isBoolean;
		return Uc({
			get: function(t) {
				return this.dispatcher.videoConfigReady && this.inited ? this.dom.videoElement[n] : t
			},
			set: function(t) {
				if (!this.dispatcher.videoConfigReady) return t;
				var e = r ? t ? "" : void 0 : null === t ? void 0 : t;
				return this.dom.setAttr("video", i, e), t
			}
		}, {
			preSet: !1
		})
	}

	function Nu(t, e) {
		return Uc({
			get: function(i) {
				var n = this.dom.getAttr("video", t);
				return this.dispatcher.videoConfigReady && this.inited ? e ? !!n : n : i
			},
			set: function(i) {
				if (!this.dispatcher.videoConfigReady) return i;
				var n = e ? i || void 0 : null === i ? void 0 : i;
				return this.dom.setAttr("video", t, n), i
			}
		})
	}

	function Vu(t) {
		return Uc({
			get: function(e) {
				if (!this.dispatcher.videoConfigReady || !this.inited) return e;
				var i, n = this.dom.getAttr("video", t),
					r = this.dom.videoElement[t];
				return !b(i = n) && i - Number.parseFloat(i) + 1 >= 0 && E(r) ? r : n || void 0
			},
			set: function(e) {
				return this.dispatcher.videoConfigReady ? (void 0 === e || E(e) ? i = e : A(e) && !
					Number.isNaN(parseFloat(e)) && (i = e), this.dom.setAttr("video", t, i), i) : e;
				var i
			}
		})
	}
	var zu, Hu = {
			src: [pu(), Uc({
				set: function(t) {
					return this.dispatcher.readySync && this.autoload && t !== this.src && (this
						.needToLoadSrc = !0), t
				}
			}), Uc({
				set: function(t) {
					return this.needToLoadSrc && (this.needToLoadSrc = !1, this.dispatcher.bus.emit(
						"load", t)), t
				}
			}, {
				preSet: !1
			})],
			autoload: mu(),
			autoplay: [mu(), Uu("autoplay")],
			controls: [mu(), Uu("controls")],
			width: [Vu("width")],
			height: [Vu("height")],
			crossOrigin: [Uc({
				set: Ou
			}), Fu({
				set: "crossorigin",
				get: "crossOrigin"
			})],
			loop: [mu(), Uu("loop")],
			defaultMuted: [mu(), Fu({
				get: "defaultMuted",
				set: "muted",
				isBoolean: !0
			})],
			muted: [mu(), Uu("muted")],
			preload: [Uc({
				set: function(t) {
					return ["none", "auto", "metadata", ""].indexOf(t) > -1 ? t : "none"
				}
			}, {
				preSet: !0
			}), Fu("preload")],
			poster: [pu(), Uc({
				get: function(t) {
					return this.dispatcher.videoConfigReady && this.inited && this.dom.videoElement
						.poster || t
				},
				set: function(t) {
					return this.dispatcher.videoConfigReady ? (t.length && this.dom.setAttr("video",
						"poster", t), t) : t
				}
			})],
			playsInline: [Uc({
				get: function(t) {
					var e = this.dom.videoElement.playsInline;
					return this.dispatcher.videoConfigReady && this.inited ? void 0 === e ? t : e :
						t
				},
				set: function(t) {
					if (!this.dispatcher.videoConfigReady) return t;
					this.dom.videoElement.playsInline = t;
					var e = t ? "" : void 0;
					return this.dom.setAttr("video", "playsinline", e), this.dom.setAttr("video",
							"webkit-playsinline", e), this.dom.setAttr("video", "x5-playsinline",
						e), t
				}
			}), mu()],
			x5VideoPlayerFullscreen: [Uc({
				set: function(t) {
					return !!t
				},
				get: function(t) {
					return !!t
				}
			}), Nu("x5-video-player-fullscreen", !0)],
			x5VideoOrientation: [Uc({
				set: Ou
			}), Nu("x5-video-orientation")],
			x5VideoPlayerType: [Uc({
				set: function(t) {
					if (!this.dispatcher.videoConfigReady) return t;
					var e = "h5" === t ? "h5" : void 0;
					return this.dom.setAttr("video", "x5-video-player-type", e), t
				},
				get: function() {
					return this.dom.getAttr("video", "x5-video-player-type") ? "h5" : void 0
				}
			})],
			xWebkitAirplay: [Uc({
				set: function(t) {
					return !!t
				},
				get: function(t) {
					return !!t
				}
			}), Nu("x-webkit-airplay", !0)],
			playbackRate: [vu(1), Uu("playbackRate")],
			defaultPlaybackRate: [Uu("defaultPlaybackRate"), vu(1)],
			disableRemotePlayback: [mu(), Uu("disableRemotePlayback")],
			volume: [vu(1), Uu("volume")]
		},
		ju = (ku = function() {
			for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
			var n = !!C(e[0]) && e.shift();
			return e.unshift(function(t) {
				return C(t) ? t : n
			}), Nc.apply(void 0, e)
		}(), Eu = function() {
			for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
			var n = A(e[0]) ? e.shift() : "";
			return e.unshift(function(t) {
				return A(t) ? t : n
			}), Nc.apply(void 0, e)
		}(function(t) {
			return t.toLocaleLowerCase()
		}), Tu = d((Su = function() {
			function t(t, e) {
				l(this, "needToLoadSrc", Tu, this), l(this, "changeWatchable", xu, this), l(this,
						"inited", Au, this), this.src = "", l(this, "isLive", Cu, this), l(this, "box",
						Ru, this), this.preset = {}, this.presetConfig = {}, this.autoload = !0, this
					.autoplay = !1, this.controls = !1, this.width = "100%", this.height = "100%", this
					.crossOrigin = void 0, this.loop = !1, this.defaultMuted = !1, this.muted = !1, this
					.preload = "auto", this.poster = void 0, this.playsInline = !1, this
					.x5VideoPlayerFullscreen = !1, this.x5VideoOrientation = void 0, this
					.x5VideoPlayerType = void 0, this.xWebkitAirplay = !1, this.playbackRate = 1, this
					.defaultPlaybackRate = 1, this.disableRemotePlayback = !1, this.volume = 1, this
					._kernelProperty = ["isLive", "box", "preset", "kernels", "presetConfig"], this
					._realDomAttr = ["src", "controls", "width", "height", "crossOrigin", "loop",
						"muted", "preload", "poster", "autoplay", "playsInline",
						"x5VideoPlayerFullscreen", "x5VideoOrientation", "xWebkitAirplay",
						"playbackRate", "defaultPlaybackRate", "autoload", "disableRemotePlayback",
						"defaultMuted", "volume", "x5VideoPlayerType"
					], nu(this, Hu, {
						self: !0
					}), f(this, "dispatcher", {
						value: t,
						enumerable: !1,
						writable: !1,
						configurable: !1
					}), f(this, "dom", {
						value: t.dom,
						enumerable: !1,
						writable: !1,
						configurable: !1
					}), this.set(e)
			}
			var e = t.prototype;
			return e.init = function() {
				var t = this;
				this._realDomAttr.forEach(function(e) {
					t[e] = t[e]
				}), this.inited = !0
			}, e.set = function(t, e) {
				k(t) ? N(this, t) : this[t] = e
			}, e.get = function(t, e) {
				return Rt(this, t, e)
			}, t
		}()).prototype, "needToLoadSrc", [tu], {
			configurable: !0,
			enumerable: !0,
			writable: !0,
			initializer: function() {
				return !1
			}
		}), xu = d(Su.prototype, "changeWatchable", [tu], {
			configurable: !0,
			enumerable: !0,
			writable: !0,
			initializer: function() {
				return !0
			}
		}), Au = d(Su.prototype, "inited", [tu], {
			configurable: !0,
			enumerable: !0,
			writable: !0,
			initializer: function() {
				return !1
			}
		}), Cu = d(Su.prototype, "isLive", [ku, fu], {
			configurable: !0,
			enumerable: !0,
			writable: !0,
			initializer: function() {
				return !1
			}
		}), Ru = d(Su.prototype, "box", [Eu, fu], {
			configurable: !0,
			enumerable: !0,
			writable: !0,
			initializer: function() {
				return ""
			}
		}), Su),
		$u = function() {
			function t() {
				this.__events = {}, this.__unwatchHandlers = []
			}
			var e = t.prototype;
			return e.__wrapAsVideo = function(t) {
				var e = this;
				_c.forEach(function(t) {
					Object.defineProperty(e, t, {
						get: function() {
							return this.__dispatcher.dom.videoElement[t]
						},
						set: void 0,
						configurable: !1,
						enumerable: !1
					})
				}), Ac.forEach(function(t) {
					Object.defineProperty(e, t, {
						get: function() {
							var e = this.__dispatcher.dom.videoElement;
							return z(e[t], e)
						},
						set: void 0,
						configurable: !1,
						enumerable: !1
					})
				}), nu(this, t._realDomAttr.concat(t._kernelProperty).reduce(function(e, i) {
					return e[i] = [Uc({
						get: function() {
							return t[i]
						},
						set: function(e) {
							return t[i] = e, e
						}
					}), tu], e
				}, {}), {
					self: !0
				}), Sc.forEach(function(t) {
					Object.defineProperty(e, t, {
						value: function() {
							for (var e = this, i = [], n = 0; n < arguments.length; n++) i[
								n] = arguments[n];
							return new Promise(function(n) {
								var r;
								e.__dispatcher.bus.once(e.__id, "_" + t, n), (r = e
									.__dispatcher.bus)[/^(seek)$/.test(t) ?
									"emitSync" : "emit"].apply(r, [t].concat(i))
							})
						},
						configurable: !0,
						enumerable: !1,
						writable: !0
					})
				}), xc.forEach(function(t) {
					"fullscreen" !== t && Object.defineProperty(e, t, {
						value: function() {
							for (var e, i = [], n = 0; n < arguments.length; n++) i[n] =
								arguments[n];
							return (e = this.__dispatcher.dom)[t].apply(e, i)
						},
						configurable: !0,
						enumerable: !1,
						writable: !0
					})
				})
			}, Object.defineProperty(e, "currentTime", {
				get: function() {
					return this.__dispatcher.kernel.currentTime
				},
				set: function(t) {
					this.__dispatcher.bus.emitSync("seek", t)
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "metadata", {
				get: function() {
					return this.__dispatcher.kernel.metadata
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "downloadSpeed", {
				get: function() {
					return this.__dispatcher.kernel.downloadSpeed
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "fps", {
				get: function() {
					return this.__dispatcher.kernel.fps
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "bufferInfo", {
				get: function() {
					return this.__dispatcher.kernel.bufferInfo
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "stats", {
				get: function() {
					return this.__dispatcher.kernel.stats
				},
				enumerable: !0,
				configurable: !0
			}), e.$watch = function(t, e, i) {
				var n, r = this,
					o = void 0 === i ? {} : i,
					s = o.deep,
					a = o.diff,
					h = void 0 === a || a,
					c = o.other,
					u = o.proxy,
					l = void 0 !== u && u;
				if (!A(t) && !b(t)) throw new TypeError(
					"$watch only accept string and Array<string> as key to find the target to spy on, but not " +
					t + ", whose type is " + typeof t);
				var d = !0,
					f = function() {
						d = !1;
						var t = r.__unwatchHandlers.indexOf(f);
						t > -1 && r.__unwatchHandlers.splice(t, 1)
					},
					p = A(t) ? t.split(".") : t,
					m = p.pop(),
					v = this.__dispatcher.videoConfig;
				return nu(0 === p.length && !c && v._realDomAttr.indexOf(m) > -1 ? v : ["isFullscreen",
					"fullscreenElement"
				].indexOf(m) > -1 ? this.__dispatcher.dom : j(c || this, p, {
					throwError: !0
				}), ((n = {})[m] = function() {
					for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] =
						arguments[i];
					var n = k(e[e.length - 1]) ? e[e.length - 1] : {},
						r = n.deep,
						o = n.omit,
						s = n.other,
						a = n.operationPrefix,
						h = void 0 === a ? "__" : a,
						c = n.diff,
						u = void 0 === c || c,
						l = n.proxy;
					if ("function" != typeof Proxy && (l = !1), !e.length) throw new TypeError(
						"You must pass a function or a string to find the hanlder function."
						);
					if (void 0 !== s && I(s)) throw new TypeError(
						"If you want us to trigger function on the other instance, you must pass in a legal instance"
						);
					if (!A(h)) throw new TypeError("operationPrefix must be an string");
					return function(t, i, n) {
						var a, c, d, f = e.reduce(function(i, n, r) {
								if (!A(n) && !w(n)) {
									if (!r || r !== e.length - 1) throw new TypeError(
										"You can only pass function or string as handler"
										);
									return i
								}
								return i.push(A(n) ? function(e, i) {
									var r = j(s || t, n);
									if (w(r)) return z(r, this)(e, i);
									if (!o) throw new Error(
										"You pass in a function for us to trigger, please ensure the property to be a function or set omit flag true"
										)
								} : n), i
							}, []),
							p = function(t, e) {
								var i = this;
								f.forEach(function(n) {
									return z(n, i)(t, e)
								})
							},
							m = !1;
						return Oc(Uc({
							set: function(t) {
								var e = this;
								a = this[i], d = void 0;
								var n = function() {
									return z(p, e)(c, a)
								};
								return r && (k(t) || b(t)) ? l ? uu(t, n, {
									diff: u,
									operationPrefix: h
								}) : lu(t, n, {
									operationPrefix: h,
									diff: u
								}) : t
							},
							get: function(t) {
								var e = this;
								if (d) return d;
								if (!m) {
									m = !0;
									var i = function() {
										return z(p, e)(c, a)
									};
									if (r && (k(t) || b(t))) {
										if (l) return d = uu(t, i, {
											diff: u,
											operationPrefix: h
										}), a = d, c = d, d;
										lu(t, i, {
											operationPrefix: h,
											diff: u
										})
									}
									a = t, c = t
								}
								return t
							}
						}, {
							preSet: !0
						}), Uc({
							set: function(t) {
								return c = t, u && a === t || z(p, this)(c, a),
									a = t, t
							}
						}, {
							preSet: !1
						}))(t, i, n)
					}
				}(function() {
					for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
					!d || this instanceof ju && !this.dispatcher.changeWatchable || z(e, this)
						.apply(void 0, t)
				}, {
					deep: s,
					diff: h,
					proxy: l
				}), n), {
					self: !0
				}), this.__unwatchHandlers.push(f), f
			}, e.$set = function(t, e, i) {
				if (!k(t) && !b(t)) throw new TypeError("$set only support Array or Object, but not " + t +
					", whose type is " + typeof t);
				w(t.__set) ? t.__set(e, i) : t[e] = i
			}, e.$del = function(t, e) {
				if (!k(t) && !b(t)) throw new TypeError("$del only support Array or Object, but not " + t +
					", whose type is " + typeof t);
				w(t.__del) ? t.__del(e) : delete t[e]
			}, e.load = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return new Promise(function(i) {
					var n;
					t.__dispatcher.bus.once(t.__id, "_load", i), (n = t.__dispatcher.bus).emit.apply(n,
						["load"].concat(e))
				})
			}, Object.defineProperty(e, "isPipMode", {
				get: function() {
					return document.pictureInPictureElement && document.pictureInPictureElement === this
						.$video
				},
				enumerable: !0,
				configurable: !0
			}), e.exitPictureInPicture = function() {
				document.exitPictureInPicture && document.pictureInPictureElement && document
					.exitPictureInPicture()
			}, e.$silentLoad = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return this.__dispatcher.bus.emit("silentLoad").then(function() {
					var i;
					return (i = t.__dispatcher).silentLoad.apply(i, e)
				}).then(function(e) {
					t.__dispatcher.bus.trigger("silentLoad", e)
				})
			}, e.$preLoadAd = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return this.__dispatcher.bus.emit("preLoadAd").then(function() {
					var i;
					return (i = t.__dispatcher).preLoadAd.apply(i, e)
				}).then(function(e) {
					t.__dispatcher.bus.trigger("preLoadAd", e)
				})
			}, e.$playNextAd = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return this.__dispatcher.bus.emit("playNextAd").then(function() {
					var i;
					return (i = t.__dispatcher).playNextAd.apply(i, e)
				}).then(function(e) {
					t.__dispatcher.bus.trigger("playNextAd", e)
				})
			}, e.$preLoad = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return this.__dispatcher.bus.emit("preLoad").then(function() {
					var i;
					return (i = t.__dispatcher).preLoad.apply(i, e)
				}).then(function(e) {
					t.__dispatcher.bus.trigger("preLoad", e)
				})
			}, e.$load2 = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return this.__dispatcher.bus.emit("load2").then(function() {
					var i;
					return (i = t.__dispatcher).load2.apply(i, e)
				}).then(function(e) {
					return t.__dispatcher.bus.trigger("load2", e), e
				})
			}, e.$switchKernel = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return this.__dispatcher.bus.emit("switchKernel").then(function() {
					var i;
					return (i = t.__dispatcher).switchKernel.apply(i, e)
				}).then(function(e) {
					t.__dispatcher.bus.trigger("switchKernel", e)
				})
			}, e.$loadLevel = function() {
				for (var t = this, e = [], i = 0; i < arguments.length; i++) e[i] = arguments[i];
				return this.__dispatcher.bus.emit("loadLevel").then(function() {
					var i;
					return (i = t.__dispatcher).loadLevel.apply(i, e)
				}).then(function(e) {
					t.__dispatcher.bus.trigger("loadLevel", e)
				})
			}, e.$fullscreen = function(t, e) {
				if (void 0 === t && (t = !0), void 0 === e && (e = "container"), !this.__dispatcher.bus
					.emitSync("fullscreen", t, e)) return !1;
				var i = this.__dispatcher.dom.fullscreen(t, e);
				return this.__dispatcher.bus.triggerSync("fullscreen", t, e), i
			}, e.$emit = function(t) {
				for (var e, i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
				if (!A(t)) throw new TypeError("emit key parameter must be String");
				(e = this.__dispatcher.bus).emit.apply(e, [t].concat(i))
			}, e.$emitSync = function(t) {
				for (var e, i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
				if (!A(t)) throw new TypeError("emitSync key parameter must be String");
				return (e = this.__dispatcher.bus).emitSync.apply(e, [t].concat(i))
			}, e.$on = function(t, e) {
				this.__dispatcher.bus.on(this.__id, t, e), this.__addEvents(t, e)
			}, e.$off = function(t, e) {
				this.__dispatcher.bus.off(this.__id, t, e), this.__removeEvents(t, e)
			}, e.$once = function(t, e) {
				var i = this,
					n = function() {
						for (var r = [], o = 0; o < arguments.length; o++) r[o] = arguments[o];
						z(e, this).apply(void 0, r), i.__removeEvents(t, n)
					};
				i.__addEvents(t, n), this.__dispatcher.bus.once(this.__id, t, n)
			}, e.$css = function(t) {
				for (var e, i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
				return (e = this.__dispatcher.dom)[t + "Style"].apply(e, i)
			}, e.$attr = function(t) {
				for (var e, i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
				if ("set" === t && /video/.test(i[0])) {
					if (!this.__dispatcher.videoConfigReady) return i[2];
					if (this.__dispatcher.videoConfig._realDomAttr.indexOf(i[1]) > -1) {
						var r = i[1],
							o = i[2];
						return this.__dispatcher.videoConfig[r] = o, o
					}
				}
				return (e = this.__dispatcher.dom)[t + "Attr"].apply(e, i)
			}, Object.defineProperty(e, "$plugins", {
				get: function() {
					return this.__dispatcher.plugins
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "$pluginOrder", {
				get: function() {
					return this.__dispatcher.order
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "$wrapper", {
				get: function() {
					return this.__dispatcher.dom.wrapper
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "$container", {
				get: function() {
					return this.__dispatcher.dom.container
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "$video", {
				get: function() {
					return this.__dispatcher.dom.videoElement
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "isFullscreen", {
				get: function() {
					return this.__dispatcher.dom.isFullscreen
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "fullscreenElement", {
				get: function() {
					return this.__dispatcher.dom.fullscreenElement
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "container", {
				get: function() {
					return this.__dispatcher.containerConfig
				},
				set: function(t) {
					if (!k(t)) throw new Error("The config of container must be Object, but not " +
						typeof t + ".");
					return N(this.__dispatcher.containerConfig, t), this.__dispatcher.container
				},
				enumerable: !0,
				configurable: !0
			}), e.__addEvents = function(t, e) {
				this.__events[t] = this.__events[t] || [], this.__events[t].push(e)
			}, e.__removeEvents = function(t, e) {
				if (!T(this.__events[t])) {
					var i = this.__events[t].indexOf(e);
					i < 0 || (this.__events[t].splice(i, 1), T(this.__events[t]) && delete this.__events[t])
				}
			}, e.__destroy = function() {
				var t = this;
				this.__unwatchHandlers.forEach(function(t) {
					return t()
				}), Object.keys(this.__events).forEach(function(e) {
					b(t.__events[e]) && t.__events[e].forEach(function(i) {
						return t.$off(e, i)
					})
				}), delete this.__events
			}, Lu([jc("silentLoad")], t.prototype, "$silentLoad", null), Lu([jc("preLoadAd")], t.prototype,
				"$preLoadAd", null), Lu([jc("playNextAd")], t.prototype, "$playNextAd", null), Lu([jc(
				"preLoad")], t.prototype, "$preLoad", null), Lu([jc("load2")], t.prototype, "$load2", null), Lu(
				[jc("switchKernel")], t.prototype, "$switchKernel", null), Lu([jc("loadLevel")], t.prototype,
				"$loadLevel", null), Lu([jc("fullScreen")], t.prototype, "$fullscreen", null), Lu([jc("emit")],
				t.prototype, "$emit", null), Lu([jc("emitSync")], t.prototype, "$emitSync", null), Lu([jc("on"),
				jc("addEventListener"), Fc(Mu)
			], t.prototype, "$on", null), Lu([jc("off"), jc("removeEventListener"), Fc(Mu)], t.prototype,
				"$off", null), Lu([jc("once"), Fc(Mu)], t.prototype, "$once", null), Lu([jc("css"), Fc(Bu)], t
				.prototype, "$css", null), Lu([jc("attr"), Fc(Bu)], t.prototype, "$attr", null), Lu([tu], t
				.prototype, "$plugins", null), Lu([tu], t.prototype, "$pluginOrder", null), Lu([tu], t
				.prototype, "$wrapper", null), Lu([tu], t.prototype, "$container", null), Lu([tu], t.prototype,
				"$video", null), t = Lu([Gc()], t)
		}(),
		Wu = Gc()(zu = function(t) {
			function e(e, i, n) {
				var r, o = void 0 === e ? {} : e,
					s = o.id,
					a = o.name,
					h = o.level,
					c = void 0 === h ? 0 : h,
					u = o.operable,
					l = void 0 === u || u,
					d = o.beforeCreate,
					p = o.create,
					m = o.init,
					v = o.inited,
					y = o.destroy,
					_ = o.events,
					b = void 0 === _ ? {} : _,
					E = o.data,
					x = void 0 === E ? {} : E,
					R = o.computed,
					I = void 0 === R ? {} : R,
					L = o.methods,
					P = void 0 === L ? {} : L,
					D = o.el,
					M = o.penetrate,
					B = void 0 !== M && M,
					O = o.inner,
					U = void 0 === O || O,
					F = o.autoFocus,
					V = o.className;
				if (void 0 === n && (n = {
						name: a
					}), (r = t.call(this) || this).destroyed = !1, r.VERSION = "7.0.2-29233fb", r.__operable = !
					0, r.__level = 0, T(i)) throw new TypeError("lack of dispatcher");
				if (!A(s)) throw new TypeError("id of PluginConfig must be string");
				r.__id = s, r.__dispatcher = i, r.$videoConfig = r.__dispatcher.videoConfig, r.__wrapAsVideo(r
					.$videoConfig), r.beforeCreate = r.beforeCreate || d;
				try {
					w(r.beforeCreate) && r.beforeCreate({
						events: b,
						data: x,
						computed: I,
						methods: P
					}, n)
				} catch (t) {
					r.$throwError(t)
				}
				if (!T(P) && k(P) && g(P).forEach(function(t) {
						var e = P[t];
						if (!w(e)) throw new TypeError("plugins methods must be Function");
						f(r, t, {
							value: z(e, r),
							writable: !0,
							enumerable: !1,
							configurable: !0
						})
					}), !T(b) && k(b) && g(b).forEach(function(t) {
						if (!w(b[t])) throw new TypeError("plugins events hook must bind with Function");
						r.$on(t, b[t])
					}), !T(x) && k(x) && N(r, x), !T(I) && k(I)) {
					var H = g(I).reduce(function(t, e) {
						var i = I[e];
						return w(i) ? (t[e] = Uc({
							get: i
						}), t) : k(i) && (w(i.get) || w(i.set)) ? (t[e] = Uc(i), t) : t
					}, {});
					nu(r, H, {
						self: !0
					})
				}
				r.create = r.create || p, r.init = r.init || m, r.inited = r.inited || v, r.destroy = r
					.destroy || y, r.$dom = r.__dispatcher.dom.insertPlugin(r.__id, D, {
						penetrate: B,
						inner: U,
						autoFocus: F,
						className: V
					}), r.$inner = U, r.$autoFocus = F, r.$penetrate = B, nu(r, {
						$inner: Xc,
						$autoFocus: Xc,
						$penetrate: Xc
					}, {
						self: !0
					}), r.$operable = C(n.operable) ? n.operable : l, r.__level = S(n.level) ? n.level : c, r
					.$config = n;
				try {
					w(r.create) && r.create()
				} catch (t) {
					r.$throwError(t)
				}
				return r
			}
			r(e, t);
			var i = e.prototype;
			return i.__init = function(t) {
				try {
					w(this.init) && this.init(t)
				} catch (t) {
					this.$throwError(t)
				}
			}, i.__inited = function() {
				var t, e = this;
				try {
					t = w(this.inited) && this.inited()
				} catch (t) {
					this.$throwError(t)
				}
				return this.readySync = !R(t), this.ready = this.readySync ? Promise.resolve() : t.then(
					function(t) {
						return e.readySync = !0, t
					}).catch(function(t) {
					return M(t) ? e.$throwError(t) : Promise.reject(t)
				}), this.readySync || this.ready
			}, i.$bumpToTop = function() {
				var t = this.__dispatcher._getTopLevel(this.$inner);
				this.$level = t + 1
			}, i.$throwError = function(t) {
				this.__dispatcher.throwError(t)
			}, i.$destroy = function() {
				w(this.destroy) && this.destroy(), t.prototype.__destroy.call(this), this.__dispatcher.dom
					.removePlugin(this.__id), delete this.__dispatcher, delete this.$dom, this.destroyed = !
					0
			}, n(e, [{
				key: "$operable",
				set: function(t) {
					C(t) && (this.$dom.style.pointerEvents = t ? "auto" : "none", this
						.__operable = t)
				},
				get: function() {
					return this.__operable
				}
			}, {
				key: "$level",
				set: function(t) {
					S(t) && (this.__level = t, this.__dispatcher._sortZIndex())
				},
				get: function() {
					return this.__level
				}
			}]), e
		}($u)) || zu;

	function qu(t, e) {
		for (var i = 0; i < e.length; i++) {
			var n = e[i];
			n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), f(t, n.key,
				n)
		}
	}

	function Gu(t, e, i, n, r) {
		var o = {};
		return Object.keys(n).forEach(function(t) {
				o[t] = n[t]
			}), o.enumerable = !!o.enumerable, o.configurable = !!o.configurable, ("value" in o || o.initializer) &&
			(o.writable = !0), o = i.slice().reverse().reduce(function(i, n) {
				return n(t, e, i) || i
			}, o), r && void 0 !== o.initializer && (o.value = o.initializer ? o.initializer.call(r) : void 0, o
				.initializer = void 0), void 0 === o.initializer && (Object.defineProperty(t, e, o), o = null), o
	}
	var Ku, Yu, Xu, Zu, Qu, Ju, tl, el, il = Object.getOwnPropertyDescriptor,
		nl = Object.keys,
		rl = ["", "o", "ms", "moz", "webkit", "webkitCurrent"],
		ol = [
			["", ""],
			["exit", "cancel"],
			["screen", "Screen"]
		],
		sl = {
			position: "fixed",
			zIndex: "2147483647",
			left: 0,
			top: 0,
			right: 0,
			bottom: 0,
			overflow: "hidden",
			width: "100%",
			height: "100%"
		},
		al = ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"],
		hl = ["fullscreenerror", "webkitfullscreenerror", "mozfullscreenerror", "MSFullscreenError"],
		cl = at.document,
		ul = void 0 !== cl;

	function ll(t, e, i) {
		if (k(e))
			for (var n in e) ll(t, n, e[n]);
		else t.style[e] = i
	}

	function dl(t, e, i) {
		void 0 === i && (i = {}), k(e) && (i = e), A(t) && (e = t);
		var n = i.keyOnly,
			r = void 0 !== n && n;
		if (!ul) return r ? "" : void 0;
		if (P(t) || (t = cl), !A(e)) throw new Error("You must pass in a string as name, but not " + typeof e +
		".");
		for (var o = 0; o < ol.length; o++) {
			e = e.replace(ol[o][0], ol[o][1]);
			for (var s = 0; s < rl.length; s++) {
				var a = 0 === s ? e : rl[s] + e.charAt(0).toUpperCase() + e.substr(1);
				if (void 0 !== t[a]) return r ? a : t[a]
			}
		}
		return r ? "" : void 0
	}

	function fl(t, e, i) {
		var n, r = void 0 === i ? {} : i,
			o = r.bubbles,
			s = void 0 === o || o,
			a = r.cancelable,
			h = void 0 === a || a;
		if (w(Event) ? n = new Event(e, {
				bubbles: s,
				cancelable: h
			}) : ul && cl.createEvent ? (n = cl.createEvent("HTMLEvents")).initEvent(e, !0, !0) : ul && cl
			.createEventObject && ((n = cl.createEventObject()).eventType = e, n.eventName = e), !k(n) && !x(n))
			throw new Error("We can't create an object on this browser, please report to author");
		t.dispatchEvent ? t.dispatchEvent(n) : t.fireEvent ? t.fireEvent("on" + n.eventType, n) : t[e] ? t[e]() : t[
			"on" + e] && t["on" + e]()
	}
	var pl = dl("fullscreenEnabled"),
		ml = !1,
		vl = new(Ku = Gc(), Yu = jc("requestFullscreen"), Xu = jc("exitFullscreen"), Zu = jc("addEventListener"),
			Qu = jc("removeEventListener"), Ku((Gu(el = (tl = function() {
				function t() {
					this._fullscreenElement = null, this.isNativelySupport = y(dl(
						"fullscreenElement")) && (!y(pl) || !0 === pl), this._openKey = ul ? dl(
						cl.body || cl.documentElement, "requestFullscreen", {
							keyOnly: !0
						}) : "", this._exitKey = dl("exitFullscreen", {
						keyOnly: !0
					}), this._useStyleFirst = !1, this.hasUsedStyle = !1
				}
				var e, i, n, r = t.prototype;
				return r.open = function(t, e) {
					var i = (void 0 === e ? {} : e).force,
						n = void 0 !== i && i,
						r = this.fullscreenElement;
					if (r && r !== t) {
						if (!n) return fl(cl, "fullscreenerror"), !1;
						this.exit()
					}
					if (!this.useStyleFirst) {
						if (this.isNativelySupport) return w(t[this._openKey]) && t[this
							._openKey](), !0;
						if (t instanceof HTMLVideoElement && t.webkitSupportsFullscreen && w(t
								.webkitEnterFullscreen)) return t.webkitEnterFullscreen(), this
							._fullscreenElement = t, !0
					}
					return this._savedStyles = nl(sl).reduce(function(e, i) {
							return e[i] = t.style[i], e
						}, {}), ll(t, sl), cl.body && (this._bodyOverflow = cl.body.style
							.overflow, cl.body.style.overflow = "hidden"), cl.documentElement &&
						(this._htmlOverflow = cl.documentElement.style.overflow, cl
							.documentElement.style.overflow = "hidden"), this
						._fullscreenElement = t, this.hasUsedStyle = !0, fl(t,
							"fullscreenchange"), !0
				}, r.exit = function() {
					if (!this.isFullscreen) return !1;
					if (this.isNativelySupport && !this.useStyleFirst && !this.hasUsedStyle)
						return cl[this._exitKey](), !0;
					var t = this._fullscreenElement;
					return ll(t, this._savedStyles), cl.body && (cl.body.style.overflow = this
							._bodyOverflow), cl.documentElement && (cl.documentElement.style
							.overflow = this._htmlOverflow), this._fullscreenElement = null,
						this._savedStyles = {}, fl(t, "fullscreenchange"), !0
				}, r.on = function(t, e, i) {
					void 0 === i && (i = cl), this._handleEvent(i, "addEventListener", t, e)
				}, r.off = function(t, e, i) {
					void 0 === i && (i = cl), this._handleEvent(i, "removeEventListener", t, e)
				}, r._handleEvent = function(t, e, i, n) {
					("fullscreenchange" === i ? al : "fullscreenerror" === i ? hl : [i]).forEach
						(function(i) {
							t[e](i, n)
						})
				}, e = t, (i = [{
					key: "useStyleFirst",
					get: function() {
						return ml
					},
					set: function(t) {
						return (t = !!t) === ml ? t : (ml = t, fl(cl,
							"esfullscreenmethodchange"), t)
					}
				}, {
					key: "fullscreenElement",
					get: function() {
						return ["fullscreenElement", "webkitFullscreenElement",
							"mozFullScreenElement", "msFullscreenElement"
						].reduce(function(t, e) {
							return t || cl[e]
						}, null) || this._fullscreenElement
					}
				}, {
					key: "isFullscreen",
					get: function() {
						return P(this.fullscreenElement)
					}
				}]) && qu(e.prototype, i), n && qu(e, n), t
			}()).prototype, "open", [Yu], il(el, "open"), el), Gu(el, "exit", [Xu], il(el, "exit"), el), Gu(
				el, "on", [Zu], il(el, "on"), el), Gu(el, "off", [Qu], il(el, "off"), el), Ju = tl)) || Ju),
		gl = function() {
			if ("undefined" != typeof Map) return Map;

			function t(t, e) {
				var i = -1;
				return t.some(function(t, n) {
					return t[0] === e && (i = n, !0)
				}), i
			}
			return function() {
				function e() {
					this.__entries__ = []
				}
				return f(e.prototype, "size", {
					get: function() {
						return this.__entries__.length
					},
					enumerable: !0,
					configurable: !0
				}), e.prototype.get = function(e) {
					var i = t(this.__entries__, e),
						n = this.__entries__[i];
					return n && n[1]
				}, e.prototype.set = function(e, i) {
					var n = t(this.__entries__, e);
					~n ? this.__entries__[n][1] = i : this.__entries__.push([e, i])
				}, e.prototype.delete = function(e) {
					var i = this.__entries__,
						n = t(i, e);
					~n && i.splice(n, 1)
				}, e.prototype.has = function(e) {
					return !!~t(this.__entries__, e)
				}, e.prototype.clear = function() {
					this.__entries__.splice(0)
				}, e.prototype.forEach = function(t, e) {
					void 0 === e && (e = null);
					for (var i = 0, n = this.__entries__; i < n.length; i++) {
						var r = n[i];
						t.call(e, r[1], r[0])
					}
				}, e
			}()
		}(),
		yl = "undefined" != typeof window && "undefined" != typeof document && window.document === document,
		_l = void 0 !== W && W.Math === Math ? W : "undefined" != typeof self && self.Math === Math ? self :
		"undefined" != typeof window && window.Math === Math ? window : Function("return this")(),
		bl = "function" == typeof requestAnimationFrame ? requestAnimationFrame.bind(_l) : function(t) {
			return setTimeout(function() {
				return t(Date.now())
			}, 1e3 / 60)
		},
		wl = 2;
	var kl = 20,
		El = ["top", "right", "bottom", "left", "width", "height", "size", "weight"],
		Sl = "undefined" != typeof MutationObserver,
		Tl = function() {
			function t() {
				this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this
					.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh =
					function(t, e) {
						var i = !1,
							n = !1,
							r = 0;

						function o() {
							i && (i = !1, t()), n && a()
						}

						function s() {
							bl(o)
						}

						function a() {
							var t = Date.now();
							if (i) {
								if (t - r < wl) return;
								n = !0
							} else i = !0, n = !1, setTimeout(s, e);
							r = t
						}
						return a
					}(this.refresh.bind(this), kl)
			}
			return t.prototype.addObserver = function(t) {
				~this.observers_.indexOf(t) || this.observers_.push(t), this.connected_ || this.connect_()
			}, t.prototype.removeObserver = function(t) {
				var e = this.observers_,
					i = e.indexOf(t);
				~i && e.splice(i, 1), !e.length && this.connected_ && this.disconnect_()
			}, t.prototype.refresh = function() {
				this.updateObservers_() && this.refresh()
			}, t.prototype.updateObservers_ = function() {
				var t = this.observers_.filter(function(t) {
					return t.gatherActive(), t.hasActive()
				});
				return t.forEach(function(t) {
					return t.broadcastActive()
				}), t.length > 0
			}, t.prototype.connect_ = function() {
				yl && !this.connected_ && (document.addEventListener("transitionend", this.onTransitionEnd_),
					window.addEventListener("resize", this.refresh), Sl ? (this.mutationsObserver_ =
						new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
							attributes: !0,
							childList: !0,
							characterData: !0,
							subtree: !0
						})) : (document.addEventListener("DOMSubtreeModified", this.refresh), this
						.mutationEventsAdded_ = !0), this.connected_ = !0)
			}, t.prototype.disconnect_ = function() {
				yl && this.connected_ && (document.removeEventListener("transitionend", this.onTransitionEnd_),
					window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this
					.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document
					.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ =
					null, this.mutationEventsAdded_ = !1, this.connected_ = !1)
			}, t.prototype.onTransitionEnd_ = function(t) {
				var e = t.propertyName,
					i = void 0 === e ? "" : e;
				El.some(function(t) {
					return !!~i.indexOf(t)
				}) && this.refresh()
			}, t.getInstance = function() {
				return this.instance_ || (this.instance_ = new t), this.instance_
			}, t.instance_ = null, t
		}(),
		xl = function(t, e) {
			for (var i = 0, n = g(e); i < n.length; i++) {
				var r = n[i];
				f(t, r, {
					value: e[r],
					enumerable: !1,
					writable: !1,
					configurable: !0
				})
			}
			return t
		},
		Al = function(t) {
			return t && t.ownerDocument && t.ownerDocument.defaultView || _l
		},
		Cl = Ml(0, 0, 0, 0);

	function Rl(t) {
		return parseFloat(t) || 0
	}

	function Il(t) {
		for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
		return e.reduce(function(e, i) {
			return e + Rl(t["border-" + i + "-width"])
		}, 0)
	}

	function Ll(t) {
		var e = t.clientWidth,
			i = t.clientHeight;
		if (!e && !i) return Cl;
		var n = Al(t).getComputedStyle(t),
			r = function(t) {
				for (var e = {}, i = 0, n = ["top", "right", "bottom", "left"]; i < n.length; i++) {
					var r = n[i],
						o = t["padding-" + r];
					e[r] = Rl(o)
				}
				return e
			}(n),
			o = r.left + r.right,
			s = r.top + r.bottom,
			a = Rl(n.width),
			h = Rl(n.height);
		if ("border-box" === n.boxSizing && (Math.round(a + o) !== e && (a -= Il(n, "left", "right") + o), Math
				.round(h + s) !== i && (h -= Il(n, "top", "bottom") + s)), ! function(t) {
				return t === Al(t).document.documentElement
			}(t)) {
			var c = Math.round(a + o) - e,
				u = Math.round(h + s) - i;
			1 !== Math.abs(c) && (a -= c), 1 !== Math.abs(u) && (h -= u)
		}
		return Ml(r.left, r.top, a, h)
	}
	var Pl = "undefined" != typeof SVGGraphicsElement ? function(t) {
		return t instanceof Al(t).SVGGraphicsElement
	} : function(t) {
		return t instanceof Al(t).SVGElement && "function" == typeof t.getBBox
	};

	function Dl(t) {
		return yl ? Pl(t) ? function(t) {
			var e = t.getBBox();
			return Ml(0, 0, e.width, e.height)
		}(t) : Ll(t) : Cl
	}

	function Ml(t, e, i, n) {
		return {
			x: t,
			y: e,
			width: i,
			height: n
		}
	}
	var Bl = function() {
			function t(t) {
				this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = Ml(0, 0, 0, 0), this.target =
					t
			}
			return t.prototype.isActive = function() {
				var t = Dl(this.target);
				return this.contentRect_ = t, t.width !== this.broadcastWidth || t.height !== this
					.broadcastHeight
			}, t.prototype.broadcastRect = function() {
				var t = this.contentRect_;
				return this.broadcastWidth = t.width, this.broadcastHeight = t.height, t
			}, t
		}(),
		Ol = function() {
			return function(t, e) {
				var i, n, r, o, s, a, h, c = (n = (i = e).x, r = i.y, o = i.width, s = i.height, a =
					"undefined" != typeof DOMRectReadOnly ? DOMRectReadOnly : Object, h = Object.create(a
						.prototype), xl(h, {
						x: n,
						y: r,
						width: o,
						height: s,
						top: r,
						right: n + o,
						bottom: s + r,
						left: n
					}), h);
				xl(this, {
					target: t,
					contentRect: c
				})
			}
		}(),
		Ul = function() {
			function t(t, e, i) {
				if (this.activeObservations_ = [], this.observations_ = new gl, "function" != typeof t)
				throw new TypeError("The callback provided as parameter 1 is not a function.");
				this.callback_ = t, this.controller_ = e, this.callbackCtx_ = i
			}
			return t.prototype.observe = function(t) {
				if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
				if ("undefined" != typeof Element && Element instanceof Object) {
					if (!(t instanceof Al(t).Element)) throw new TypeError(
						'parameter 1 is not of type "Element".');
					var e = this.observations_;
					e.has(t) || (e.set(t, new Bl(t)), this.controller_.addObserver(this), this.controller_
						.refresh())
				}
			}, t.prototype.unobserve = function(t) {
				if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
				if ("undefined" != typeof Element && Element instanceof Object) {
					if (!(t instanceof Al(t).Element)) throw new TypeError(
						'parameter 1 is not of type "Element".');
					var e = this.observations_;
					e.has(t) && (e.delete(t), e.size || this.controller_.removeObserver(this))
				}
			}, t.prototype.disconnect = function() {
				this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this)
			}, t.prototype.gatherActive = function() {
				var t = this;
				this.clearActive(), this.observations_.forEach(function(e) {
					e.isActive() && t.activeObservations_.push(e)
				})
			}, t.prototype.broadcastActive = function() {
				if (this.hasActive()) {
					var t = this.callbackCtx_,
						e = this.activeObservations_.map(function(t) {
							return new Ol(t.target, t.broadcastRect())
						});
					this.callback_.call(t, e, t), this.clearActive()
				}
			}, t.prototype.clearActive = function() {
				this.activeObservations_.splice(0)
			}, t.prototype.hasActive = function() {
				return this.activeObservations_.length > 0
			}, t
		}(),
		Fl = "undefined" != typeof WeakMap ? new WeakMap : new gl,
		Nl = function() {
			return function t(e) {
				if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function.");
				if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
				var i = Tl.getInstance(),
					n = new Ul(e, i, this);
				Fl.set(this, n)
			}
		}();
	["observe", "unobserve", "disconnect"].forEach(function(t) {
		Nl.prototype[t] = function() {
			var e;
			return (e = Fl.get(this))[t].apply(e, arguments)
		}
	});
	var Vl, zl, Hl, jl, $l, Wl, ql, Gl = void 0 !== _l.ResizeObserver ? _l.ResizeObserver : Nl;

	function Kl(t) {
		if ("video" === t && (t = "videoElement"), !P(this[t])) throw new TypeError('Your target "' + t +
			'" is not a legal HTMLElement');
		for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n - 1] = arguments[n];
		return [t].concat(i)
	}

	function Yl(t, e, i) {
		if (!A(e)) throw new TypeError(
			"to handle dom's attribute or style, your attr parameter must be string, but not " + e +
			" in " + typeof e);
		if (!A(t)) throw new TypeError(
			"to handle dom's attribute or style, your target parameter must be string, , but not " + t +
			" in " + typeof t);
		return [t, e, i]
	}
	var Xl, Zl, Ql, Jl, td, ed, id = (Vl = Jc("__dispatcher.videoConfigReady"), zl = Fc(Yl, Kl), Hl = Fc(Yl, Kl),
			jl = Fc(Yl, Kl), $l = Fc(Yl, Kl), Wl = Fc(Kl), d((ql = function() {
				function t(t, e) {
					var i = this;
					if (i.plugins = {}, i.originHTML = "", i.videoEventHandlerList = [], i
						.videoDomEventHandlerList = [], i.containerDomEventHandlerList = [], i
						.wrapperDomEventHandlerList = [], i.wrapperGuestureEventHandlerList = [], i
						.globalEventHandlerList = [], i.__domEventHandlerList = {}, i.__mouseInVideo = !1, i
						.__videoExtendedNodes = [], i.isFullscreen = !1, i.fullscreenElement = void 0, i
						.__dispatcher = e, !P(t) && !A(t)) throw new TypeError(
						"Wrapper can only be string or HTMLElement, but not " + typeof t);
					var n = Ie(t);
					if (0 === n.length) throw new TypeError(
						"Can not get dom node accroding wrapper. Please check your wrapper");
					i.wrapper = n[0], i.originHTML = i.wrapper.innerHTML;
					var r = n.find("video")[0];
					r || (r = document.createElement("video")), i.installVideo(r), i._addDomEvents(i
							.container, i.containerDomEventHandlerList,
							function(t) {
								return function() {
									for (var e, n = arguments.length, r = new Array(n), o = 0; o <
										n; o++) r[o] = arguments[o];
									return (e = i.__dispatcher.bus).triggerSync.apply(e, ["c_" + t]
										.concat(r))
								}
							}), i._addDomEvents(i.wrapper, i.wrapperDomEventHandlerList, function(t) {
							return function() {
								for (var e, n = arguments.length, r = new Array(n), o = 0; o <
									n; o++) r[o] = arguments[o];
								return (e = i.__dispatcher.bus).triggerSync.apply(e, ["w_" + t]
									.concat(r))
							}
						}), i._fullscreenMonitor(), vl.on("fullscreenchange", i._fullscreenMonitor), i
						.containerResizeObserver = new Gl(i._resizeMonitor), i.containerResizeObserver
						.observe(i.container), i._addGlobalEvents(document, i.globalEventHandlerList,
							function(t) {
								return function() {
									for (var e, n = arguments.length, r = new Array(n), o = 0; o <
										n; o++) r[o] = arguments[o];
									return (e = i.__dispatcher.bus).triggerSync.apply(e, ["g_" + t]
										.concat(r))
								}
							})
				}
				var e = t.prototype;
				return e.installVideo = function(t, e) {
					var i = (void 0 === e ? {} : e).bindEvent,
						n = void 0 === i || i;
					if (this.__videoExtendedNodes.push(t), ye(t, "tabindex", -1), this
						._autoFocusToVideo(t), P(this.container)) {
						var r = this.container;
						0 === r.childNodes.length ? r.appendChild(t) : r.insertBefore(t, r.childNodes[
							0])
					} else t.parentElement && P(t.parentElement) && t.parentElement !== this.wrapper ?
						this.container = t.parentElement : (this.container = document.createElement(
							"container"), Ie(this.container).append(t));
					return this.container.parentElement !== this.wrapper && Ie(this.wrapper).append(this
						.container), n && this.bindVideoEvents(t), this.videoElement = t, t
				}, e.bindVideoEvents = function(t) {
					var e = this;
					yc.forEach(function(i) {
						var n = function() {
							for (var t, n = arguments.length, r = new Array(n), o = 0; o <
								n; o++) r[o] = arguments[o];
							return (t = e.__dispatcher.bus).trigger.apply(t, [i].concat(r))
						};
						e.videoEventHandlerList.push(n), Te(t, i, n)
					}), this._addDomEvents(t, this.videoDomEventHandlerList, function(t) {
						return e._getEventHandler(t, {
							penetrate: !0
						})
					})
				}, e.removeVideo = function() {
					var t = this,
						e = this.videoElement;
					return this._autoFocusToVideo(this.videoElement, !1), yc.forEach(function(e, i) {
							Se(t.videoElement, e, t.videoEventHandlerList[i])
						}), this.videoEventHandlerList = [], bc.forEach(function(e, i) {
							Se(t.videoElement, e, t.videoDomEventHandlerList[i])
						}), this.videoDomEventHandlerList = [], Ie(e).remove(), delete this
						.videoElement, e
				}, e.insertPlugin = function(t, e, i) {
					var n = this;
					if (void 0 === i && (i = {}), !A(t)) throw new TypeError(
						"insertPlugin id parameter must be string");
					if (P(this.plugins[t]) && this.removePlugin(t), A(e))
						if (/<[^>]+?>/.test(e)) {
							var r = document.createElement("div");
							r.innerHTML = e, e = r.children[0]
						} else e = document.createElement(function(t) {
							return V(t).replace(/([A-Z])/g, function(t) {
								return "-" + t.toLowerCase()
							})
						}(e));
					else k(e) && (i = e);
					var o = i,
						s = o.inner,
						a = o.penetrate,
						h = o.autoFocus,
						c = i.className,
						u = e && P(e) ? e : document.createElement("div");
					b(c) && (c = c.join(" ")), A(c) && _e(u, c), this.plugins[t] = u;
					var l = s ? this.container : this.wrapper,
						d = s ? this.videoElement : this.container;
					return (C(h) ? h : s) && this._autoFocusToVideo(u), a && (this
						.__domEventHandlerList[t] = this.__domEventHandlerList[t] || [], this
						._addDomEvents(u, this.__domEventHandlerList[t], function(t) {
							return n._getEventHandler(t, {
								penetrate: a
							})
						}), this.__videoExtendedNodes.push(u)), l.lastChild === d ? (l.appendChild(
						u), u) : (l.insertBefore(u, d.nextSibling), u)
				}, e.removePlugin = function(t) {
					var e = this;
					if (A(t)) {
						var i = this.plugins[t];
						P(i) && (i.parentNode && i.parentNode.removeChild(i), this._autoFocusToVideo(i,
							!0)), T(this.__domEventHandlerList[t]) || (bc.forEach(function(i, n) {
							Se(e.plugins[t], i, e.__domEventHandlerList[t][n])
						}), delete this.__domEventHandlerList[t]), delete this.plugins[t]
					}
				}, e.setPluginsZIndex = function(t) {
					var e = this;
					t.forEach(function(t, i) {
						return Ae(t.match(/^(videoElement|container)$/) ? e[t] : e.plugins[t],
							"z-index", ++i)
					})
				}, e.setAttr = function(t, e, i) {
					ye(this[t], e, i)
				}, e.getAttr = function(t, e) {
					return ge(this[t], e)
				}, e.setStyle = function(t, e, i) {
					Ae(this[t], e, i)
				}, e.getStyle = function(t, e) {
					return xe(this[t], e)
				}, e.requestFullscreen = function(t) {
					return vl.open(this[t])
				}, e.exitFullscreen = function() {
					return vl.exit()
				}, e.fullscreen = function(t, e) {
					void 0 === t && (t = !0), void 0 === e && (e = "container");
					for (var i = arguments.length, n = new Array(i > 2 ? i - 2 : 0), r = 2; r < i; r++)
						n[r - 2] = arguments[r];
					return t ? this.requestFullscreen.apply(this, [e].concat(n)) : this.exitFullscreen
						.apply(this, n)
				}, e.focus = function() {
					this.videoElement.focus()
				}, e.destroy = function() {
					var t = this;
					this.removeVideo(), bc.forEach(function(e, i) {
							Se(t.container, e, t.containerDomEventHandlerList[i]), Se(t.wrapper, e,
								t.wrapperDomEventHandlerList[i])
						}), wc.forEach(function(e, i) {
							Se(document, e, t.globalEventHandlerList[i])
						}), vl.off("fullscreenchange", this._fullscreenMonitor), this
						.containerResizeObserver.unobserve(this.container), this.containerResizeObserver
						.disconnect(), this.wrapper.innerHTML = this.originHTML, delete this
						.containerResizeObserver, delete this.wrapper, delete this.plugins
				}, e._addDomEvents = function(t, e, i) {
					bc.forEach(function(n) {
						var r = i(n);
						e.push(r), kc.indexOf(n) > -1 ? Te(t, n, r, !1, {
							passive: !0
						}) : Te(t, n, r)
					})
				}, e._addGlobalEvents = function(t, e, i) {
					wc.forEach(function(n) {
						var r = i(n);
						e.push(r), kc.indexOf(n) > -1 ? Te(t, n, r, !1, {
							passive: !0
						}) : Te(t, n, r)
					})
				}, e._autoFocusToVideo = function(t, e) {
					void 0 === e && (e = !1), P(t) && ((e ? Se : Te)(t, "mouseup", this._focusToVideo, !
						1, !0), (e ? Se : Te)(t, "touchend", this._focusToVideo, !1, !0))
				}, e._focusToVideo = function() {
					var t = window.scrollX || window.pageXOffset,
						e = window.scrollY || window.pageYOffset;
					window.scrollTo(t, e)
				}, e._resizeMonitor = function(t, e) {
					for (var i, n = u(t); !(i = n()).done;) {
						var r = i.value.contentRect,
							o = r.left,
							s = r.top,
							a = r.width,
							h = r.height;
						this.__dispatcher.bus.triggerSync("c_resize", {
							width: a,
							height: h,
							left: o,
							top: s
						})
					}
				}, e._fullscreenMonitor = function(t) {
					var e = vl.fullscreenElement,
						i = this.isFullscreen;
					!e || !D(this.wrapper, e) && e !== this.wrapper ? (this.isFullscreen = !1, this
							.fullscreenElement = void 0) : (this.isFullscreen = !0, this
							.fullscreenElement = this.wrapper === e ? "wrapper" : this.container === e ?
							"container" : this.videoElement === e ? "video" : e), x(t) && i !== this
						.isFullscreen && this.__dispatcher.bus.triggerSync("fullscreenchange", t)
				}, e._getEventHandler = function(t, e) {
					var i = this;
					if (!e.penetrate || ["mouseenter", "mouseleave"].indexOf(t) < 0) return function() {
						for (var e, n = arguments.length, r = new Array(n), o = 0; o < n; o++)
							r[o] = arguments[o];
						(e = i.__dispatcher.bus).triggerSync.apply(e, [t].concat(r))
					};
					var n = function(t) {
						return i.__videoExtendedNodes.indexOf(t) > -1 || i.__videoExtendedNodes
							.reduce(function(e, i) {
								return e || D(i, t)
							}, !1)
					};
					return function() {
						for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++) e[r] =
							arguments[r];
						var o, s, a = e[0],
							h = a.toElement,
							c = a.currentTarget,
							u = a.relatedTarget,
							l = a.type,
							d = h || u;
						return i.__mouseInVideo && "mouseleave" === l && !n(d) ? (i
								.__mouseInVideo = !1, (o = i.__dispatcher.bus).triggerSync.apply(o,
									["mouseleave"].concat(e))) : !i.__mouseInVideo &&
							"mouseenter" === l && n(c) ? (i.__mouseInVideo = !0, (s = i.__dispatcher
								.bus).triggerSync.apply(s, ["mouseenter"].concat(e))) : void 0
					}
				}, t
			}()).prototype, "setAttr", [Vl, zl], p(ql.prototype, "setAttr"), ql.prototype), d(ql.prototype,
				"getAttr", [Hl], p(ql.prototype, "getAttr"), ql.prototype), d(ql.prototype, "setStyle", [jl], p(ql
				.prototype, "setStyle"), ql.prototype), d(ql.prototype, "getStyle", [$l], p(ql.prototype,
				"getStyle"), ql.prototype), d(ql.prototype, "requestFullscreen", [Wl], p(ql.prototype,
				"requestFullscreen"), ql.prototype), d(ql.prototype, "_focusToVideo", [Kc], p(ql.prototype,
				"_focusToVideo"), ql.prototype), d(ql.prototype, "_resizeMonitor", [Kc], p(ql.prototype,
				"_resizeMonitor"), ql.prototype), d(ql.prototype, "_fullscreenMonitor", [Kc], p(ql.prototype,
				"_fullscreenMonitor"), ql.prototype), ql),
		nd = {
			width: "100%",
			top: "0px",
			display: "block"
		},
		rd = function(t, e, i) {
			var n = this;
			n.__dispatcher = t, n.__target = e, ["width", "height", "bottom", "top", "position", "display"].forEach(
				function(t) {
					f(n, t, {
						get: function() {
							return this.__dispatcher.dom.getStyle(this.__target, t)
						},
						set: function(e) {
							if (E(e) && (e += "px"), !A(e)) throw new Error("The value of " + t +
								" in " + this.__target + "Config must be string, but not " +
								typeof e + ".");
							this.__dispatcher.dom.setStyle(this.__target, t, e)
						},
						configurable: !0,
						enumerable: !0
					})
				}), N(n, i)
		},
		od = ["audioTracks", "autoPlay", "controller", "controls", "crossOrigin", "currentSrc", "currentTime",
			"defaultMuted", "defaultPlaybackRate", "duration", "ended", "error", "loop", "mediaGroup", "muted",
			"networkState", "paused", "playbackRate", "poster", "preload", "readyState", "seekable", "seeking",
			"src", "startDate", "textTracks", "videoTracks", "videoWidth", "videoHeight", "volume", "currentFPS",
			"videoBytesPerSecond", "currentBytesPerSecond", "ratio", "type", "p2p", "bufferTime"
		],
		sd = ["abort", "canplay", "canplaythrough", "durationchange", "emptied", "ended", "error", "loadeddata",
			"loadedmetadata", "loadstart", "pause", "play", "playing", "progress", "ratechange", "seeked",
			"seeking", "stalled", "suspend", "timeupdate", "volumechange", "waiting", "statechange"
		],
		ad = ["canPlayType", "load", "play", "pause", "switchVideo", "seek"],
		hd = "7.0.2-29233fb";

	function cd(t) {
		var e = t.type,
			i = t.p2p,
			n = document.createElement("flash"),
			r = "mgtv-player-" + +new Date,
			o = [],
			s = Object.create(null);
		s.count = 0, n.style.position = "relative", n.style.display = "block", n.style.width = "100%", n.style
			.height = "100%", n.innerHTML = '<object id="' + r +
			'" data="//player.mgtv.com/mgtv_v6_player/PlayerCore.swf?ver=' + hd +
			'" type="application/x-shockwave-flash" width="100%" height="100%">\n                <param name="allowScriptAccess" value="always">\n                <param name="quality" value="best">\n                <param name="allowFullScreen" value="true">\n                <param name="wmode" value="Opaque">\n                <param name="allowScriptAccess" value="always">\n                <param name="flashvars" value="type=' +
			e + "&p2p=" + i +
			'">\n                <param name="bgcolor" value="#000000">\n                <param name="type" value="application/x-shockwave-flash">\n                <param name="pluginspage" value="https://www.macromedia.com/go/getflashplayer">\n            </object><overlay style="width:100%;height:100%;position:absolute;top:0;left:0;"></overlay>';
		var a = n.childNodes[0],
			h = n.childNodes[1];
		return n._addEventListener = n.addEventListener, n._removeEventListener = n.removeEventListener, n
			._setAttribute = n.setAttribute, n._getAttribute = n.getAttribute, n.setAttribute = function(t, e) {
				a.setAttribute(t, e)
			}, n.getAttribute = function(t) {
				return a.getAttribute(t)
			}, n.install = function(t) {
				(t = t || document.getElementById("mgtv-player-1")).append(n)
			}, n.addEventListener = function(t, e, i) {
				-1 !== sd.findIndex(function(e) {
					return e === t
				}) ? (s[t] || (s[t] = []), s[t].push(e)) : n._installed ? h.addEventListener(t, e, i) : o.push(
					function() {
						h.addEventListener(t, e, i)
					})
			}, n.removeEventListener = function(t, e, i) {
				if (-1 !== sd.findIndex(function(e) {
						return e === t
					})) {
					var r = s[t] || [];
					r = r.filter(function(t) {
						return t !== e
					}), s[t] = r
				} else n._installed ? h.removeEventListener(t, e, i) : o.push(function() {
					h.removeEventListener(t, e, i)
				})
			}, n.emitEventCache = function(t, e, i) {
				var n = Object.create(null);
				n.type = e, n.target = t, (s[e] || []).forEach(function(e) {
					e.apply(t, [n, i])
				})
			}, f(n, "buffered", {
				get: function() {
					if (n._installed) try {
						var t = a.getProp("currentTime"),
							e = a.getProp("buffered");
						return {
							length: 1,
							start: function(e) {
								return t
							},
							end: function(t) {
								return e
							}
						}
					} catch (t) {
						return {
							length: 0,
							start: function(t) {
								return 0
							},
							end: function(t) {
								return 0
							}
						}
					}
				}
			}), od.forEach(function(t) {
				f(n, t, {
					get: function() {
						if (n._installed) return a.getProp(t)
					},
					set: function(e) {
						a.setProp ? a.setProp(t, e) : o.push(function() {
							a.setProp(t, e)
						})
					}
				})
			}), ad.forEach(function(t) {
				f(n, t, {
					value: function() {
						for (var e = arguments.length, i = new Array(e), r = 0; r < e; r++) i[r] =
							arguments[r];
						n._installed ? a[t] && a[t].apply(a, i) : o.push(function() {
							a[t] && a[t].apply(a, i)
						})
					}
				})
			}), window.onVideoEvent = function(t, e) {
				"loaded" == t && (n._installed = !0, o.forEach(function(t) {
					return t.apply(n)
				})), "statechange" == t && 1 == n.readyState && n.play(), n.emitEventCache(n, t, e)
			}, n
	}
	var ud = {},
		ld = {};

	function dd(t) {
		if (!A(t)) throw new Error("Plugin's name must be a string, but not \"" + t + '" in ' + typeof t);
		return V(t)
	}
	var fd, pd, md, vd, gd, yd, _d, bd, wd, kd, Ed, Sd, Td, xd, Ad, Cd, Rd, Id, Ld = (Xl = Fc(dd), Zl = Fc(function(
				t) {
				if (w(t)) {
					if (!(t.prototype instanceof Wu)) throw new TypeError("Your are trying to install plugin " +
						t.name + ", but it's not extends from Mango.plugin.")
				} else {
					if (!k(t) || T(t)) throw new TypeError("plugin's config must be an Object, but not \"" + t +
						'" in ' + typeof t);
					var e = t.name;
					if (!A(e) || e.length < 1) throw new TypeError('plugin must have a legal namea, but not "' +
						e + '" in ' + typeof e)
				}
			}), Ql = Fc(dd), Jl = Fc(dd), td = Fc(dd), d((ed = function() {
				function t(t, e) {
					var i = this;
					if (i.plugins = {}, i.order = [], i.readySync = !1, i.zIndexMap = {
							inner: [],
							outer: []
						}, i.changeWatchable = !0, !k(t)) throw new TypeError(
						'UserConfig must be an Object, but not "' + t + '" in ' + typeof t);
					i.dom = new id(t.wrapper, i), i.bus = new _u(i), i.vm = e, i.videoConfigReady = !1, i
						.videoConfig = new ju(i, t), b(t.plugins) && !b(t.plugin) && (t.plugin = t.plugins,
							delete t.plugins), i._initUserPlugin(t.plugin);
					var n = N({}, nd, t.container || {});
					i.order.forEach(function(t) {
							return i.plugins[t].__init(i.videoConfig, n)
						}), i.videoConfigReady = !0, i.videoConfig.init(), i.containerConfig = new rd(i,
							"container", n), i.kernel = i._createKernel(i.dom.videoElement, i.videoConfig),
						i._bindKernelEvents(i.kernel);
					var r = [];
					i.order.forEach(function(t) {
							var e = i.plugins[t].__inited();
							R(e) && r.push(e)
						}), i.readySync = 0 === r.length, i.ready = i.readySync ? Promise.resolve() :
						Promise.all(r).then(function() {
							i.readySync = !0, i.bus.trigger("ready"), i._autoloadVideoSrcAtFirst()
						}), i.readySync && i._autoloadVideoSrcAtFirst()
				}
				var e = t.prototype;
				return e.addPlugins = function(t) {
					var e = this;
					void 0 === t && (t = []);
					var i = [],
						n = this.order;
					b(t) || (t = [t]), this.videoConfigReady = !1, t.map(function(t) {
						e.use(t), i.push(n[n.length - 1])
					}), this.videoConfigReady = !0;
					var r = N({}, nd, this.videoConfig.container || {});
					i.forEach(function(t) {
						return e.plugins[t].__init(e.videoConfig, r)
					});
					var o = [];
					i.forEach(function(t) {
						var i = e.plugins[t].__inited();
						R(i) && o.push(i)
					}), this.ready.then(function() {
						return Promise.all(o)
					})
				}, e.use = function(e) {
					if (A(e) && (e = {
							name: e,
							alias: void 0
						}), !k(e) || k(e) && !A(e.name)) throw new TypeError(
						"pluginImpl do not match requirement");
					A(e.alias) || (e.alias = void 0);
					var i = e,
						n = i.name,
						r = i.alias;
					e.name = r || n, delete e.alias;
					var o = V(n),
						s = V(r || n),
						a = e,
						h = t.getPluginConfig(o);
					if (T(h)) throw new TypeError("You have not installed plugin " + o);
					k(h) && (h.id = s);
					var c = w(h) ? new h({
						id: s
					}, this, a) : new Wu(h, this, a);
					return this.plugins[s] = c, f(this.vm, s, {
						value: c,
						configurable: !0,
						enumerable: !1,
						writable: !1
					}), this.order.push(s), this._sortZIndex(), this.videoConfigReady && c
					.__inited(), c.ready
				}, e.unuse = function(t) {
					var e = this.plugins[t];
					if (k(e) && w(e.$destroy)) {
						e.$destroy();
						var i = this.order.indexOf(t);
						i > -1 && this.order.splice(i, 1), delete this.plugins[t], delete this.vm[t]
					} else delete this.plugins[t]
				}, e.handleEvent = function(t) {
					var e = t.type;
					switch (e) {
						case "error":
							this.throwError(t)
					}
					this.bus.triggerSync(e, t)
				}, e.throwError = function(t) {
					this.vm.__throwError(t)
				}, e.loadLevel = function(t) {
					return this.kernel.loadLevel(t)
				}, e.silentLoad = function(t, e) {
					var i = this;
					void 0 === e && (e = {});
					var n = e,
						r = n.duration,
						o = void 0 === r ? 3 : r,
						s = n.bias,
						a = void 0 === s ? 0 : s,
						h = n.repeatTimes,
						c = void 0 === h ? 0 : h,
						u = n.increment,
						l = void 0 === u ? 0 : u,
						d = n.waitingBuffer,
						f = n.isLive,
						p = void 0 === f ? this.videoConfig.isLive : f,
						m = n.box,
						v = void 0 === m ? this.videoConfig.box : m,
						g = n.kernels,
						y = void 0 === g ? this.videoConfig.kernels : g,
						_ = n.preset,
						b = void 0 === _ ? this.videoConfig.preset : _,
						w = e.immediate || p,
						k = {
							isLive: p,
							box: v,
							src: t,
							kernels: y,
							preset: b
						},
						E = null;
					return mt(new Array(c + 1).fill(1).map(function(t, n) {
						return function() {
							return new Promise(function(t, r) {
								if (e.abort) return r({
									error: !0,
									message: "user abort the mission"
								});
								var s, h = document.createElement("video"),
									u = i.kernel.bufferInfo;
								!d && u && u.len - 2 > o + l * n ? (s = i.kernel
										.currentTime + u.len - 2, i.kernel
										.stopLoad()) : s = i.kernel
									.currentTime + o + l * n, h.muted = !0;
								var f, m, v, g, y = !1,
									_ = function() {
										var e = i.kernel.currentTime;
										if (a <= 0 && e >= s || a > 0 && (Math
												.abs(s - e) <= a && y || e - s >
												a)) {
											if (Se(i.dom.videoElement,
													"timeupdate", _), Se(h,
													"error", m, !0), !y)
											return Se(h, "canplay", v, !0),
												Se(h, "loadedmetadata", g, !
													0), i.kernel
											.startLoad(), t();
											p || f.seek(e - 1e-4), r({
												error: !1,
												video: h,
												kernel: f
											})
										}
									};
								v = function() {
										y = !0, w && (Se(i.dom.videoElement,
											"timeupdate", _), Se(h,
											"error", m, !0), f.off(
											"error", m), r({
											error: !1,
											video: h,
											kernel: f
										}))
									}, g = function() {
										p || f.seek(s + 1)
									}, m = function(e) {
										var o;
										if (Se(h, "canplay", v, !0), Se(h,
												"loadedmetadata", g, !0), Se(i
												.dom.videoElement, "timeupdate",
												_), f.off("error", m), e
											.target === f) {
											var s = e.data.errmsg;
											Yi.error(
												"mango's silentload bump into a kernel error",
												s), o = new Error(s)
										} else o = T(h.error) ? new Error(
												"unknow video error") :
											new Error(h.error.message), Yi
											.error("mango's silentload", o
												.message);
										return i.kernel.startLoad(), n === c ?
											r(o) : t(o)
									}, Te(h, "canplay", v, !0), Te(h,
										"loadedmetadata", g, !0), Te(h, "error",
										m, !0), E && E.destroy(), (f = i
										._createKernel(h, k)).on("error", m),
									Te(i.dom.videoElement, "timeupdate", _), f
									.load(), E = f
							})
						}
					})).then(function() {
						var e = "The silentLoad for " + t +
							" timed out. Please set a longer duration or check your network";
						return E && E.destroy(), Promise.reject(new Error(e))
					}).catch(function(t) {
						if (M(t) || t.error) return t = M(t) ? t : new Error(t.message), E && E
							.destroy(), i.kernel.startLoad(), Promise.reject(t);
						var e = t,
							n = e.video,
							r = e.kernel;
						return i.dom.videoElement.paused ? (i.switchKernel({
							video: n,
							kernel: r,
							config: k
						}), Promise.resolve()) : new Promise(function(t) {
							Te(n, "play", function() {
								i.switchKernel({
									video: n,
									kernel: r,
									config: k
								}), t()
							}, !0), n.play()
						})
					})
				}, e.playNextAd = function() {
					var t = this;
					return "flash" == this.videoConfig.box ? this.kernel.playNext() : new Promise(
						function(e, i) {
							var n = t.preloadObj;
							if (n) {
								var r = n.video,
									o = n.kernel,
									s = n.config,
									a = setTimeout(function() {
										clearTimeout(a), o.destroy(), i("play timeout")
									}, 1e3);
								Te(r, "play", function() {
									t.switchKernel({
										video: r,
										kernel: o,
										config: s
									}), clearTimeout(a), e()
								}, !0), r.play(), t.preloadObj = null
							} else i("no perload")
						})
				}, e.preLoadAd = function(t, e) {
					e.duration, e.bias, e.repeatTimes, e.increment;
					var i = e.box,
						n = void 0 === i ? this.videoConfig.box : i,
						r = e.kernels,
						o = void 0 === r ? this.videoConfig.kernels : r,
						s = e.preset,
						a = void 0 === s ? this.videoConfig.preset : s,
						h = e.isLive,
						c = {
							box: n,
							src: t,
							kernels: o,
							preset: a,
							isLive: void 0 === h ? this.videoConfig.isLive : h
						};
					if ("flash" == n) this.kernel.preload(t, 0, !1);
					else {
						var u, l, d, f, p = document.createElement("video");
						p.muted = !0, f = function() {}, l = function(t) {
								var e;
								if (Se(p, "canplay", d, !0), Se(p, "loadedmetadata", f, !0), u.off(
										"error", l), t.target === u) {
									var i = t.data.errmsg;
									Yi.error("mango's preload bump into a kernel error", i), e =
										new Error(i)
								} else e = T(p.error) ? new Error("unknow video error") : new Error(p
									.error.message), Yi.error("mango's preload", e.message)
							}, Te(p, "canplay", d = function() {}, !0), Te(p, "loadedmetadata", f, !0),
							Te(p, "error", l, !0), (u = this._createKernel(p, c)).on("error", l), u
							.load(), this.preloadObj = {
								kernel: u,
								video: p,
								config: c
							}
					}
				}, e.preLoad = function(t, e) {
					var i = this;
					void 0 === e && (e = {});
					var n = e,
						r = n.duration,
						o = void 0 === r ? 5e3 : r,
						s = (n.bias, n.repeatTimes),
						a = void 0 === s ? 0 : s,
						h = (n.increment, n.box),
						c = void 0 === h ? this.videoConfig.box : h,
						u = n.kernels,
						l = void 0 === u ? this.videoConfig.kernels : u,
						d = n.preset,
						f = void 0 === d ? this.videoConfig.preset : d,
						p = n.isLive,
						m = void 0 === p ? this.videoConfig.isLive : p,
						v = {
							box: c,
							src: t,
							kernels: l,
							preset: f,
							isLive: m
						},
						g = e.immediate || !1,
						y = null;
					return mt(new Array(a + 1).fill(1).map(function(n, r) {
						return function() {
							return new Promise(function(n, s) {
								if (e.abort) return s({
									error: !0,
									message: "user abort the mission"
								});
								if ("flash" == c) i.kernel.preload(t, 0, !1);
								else {
									var h = document.createElement("video");
									h.muted = !0;
									var u, l, d, f, p = !1,
										m = !1,
										_ = null,
										b = function() {
											m = !0, Se(i.dom.videoElement,
													"ended", b), Se(h, "error",
													l, !0), _ && clearTimeout(
												_), p ? s({
													error: !1,
													video: h,
													kernel: u
												}) : (Se(h, "canplay", d, !0),
													Se(h, "loadedmetadata", f, !
														0), n())
										};
									d = function() {
										p = !0, m && (Se(i.dom.videoElement,
												"ended", b), Se(h,
												"error", l, !0), _ &&
											clearTimeout(_), u.off(
												"error", l), s({
												error: !1,
												video: h,
												kernel: u
											}))
									}, f = function() {}, l = function(t) {
										var e;
										if (Se(h, "canplay", d, !0), Se(h,
												"loadedmetadata", f, !0),
											Se(i.dom.videoElement, "ended",
												b), _ && clearTimeout(_), u
											.off("error", l), t.target === u
											) {
											var o = t.data.errmsg;
											Yi.error(
												"mango's preload bump into a kernel error",
												o), e = new Error(o)
										} else e = T(h.error) ? new Error(
												"unknow video error") :
											new Error(h.error.message), Yi
											.error("mango's preload", e
												.message);
										return r === a ? s(e) : n(e)
									}, Te(h, "canplay", d, !0), Te(h,
										"loadedmetadata", f, !0), Te(h,
										"error", l, !0), y && y.destroy(), (
										u = i._createKernel(h, v)).on(
										"error", l), Te(i.dom.videoElement,
										"ended", b), g && (_ &&
										clearTimeout(_), _ = setTimeout(b,
											o)), u.load(), y = u
								}
							})
						}
					})).then(function() {
						var e = "The preload for " + t +
							" timed out. Please set a longer duration or check your network";
						return y && y.destroy(), Promise.reject(new Error(e))
					}).catch(function(t) {
						if (M(t) || t.error) return t = M(t) ? t : new Error(t.message), y && y
							.destroy(), Promise.reject(t);
						var e = t,
							n = e.video,
							r = e.kernel;
						return new Promise(function(t) {
							Te(n, "play", function() {
								i.switchKernel({
									video: n,
									kernel: r,
									config: v
								}), t()
							}, !0), n.play()
						})
					})
				}, e.load = function(t, e) {
					void 0 === e && (e = {});
					var i = A(t) ? t : k(t) && A(t.src) ? t.src : "";
					k(t) && (delete t.src, e = t);
					var n = this.kernel.box,
						r = this.videoConfig,
						o = e,
						s = o.playlist,
						a = void 0 === s ? r.playlist : s,
						h = o.isLive,
						c = void 0 === h ? r.isLive : h,
						u = o.box,
						l = void 0 === u ? r.box : u,
						d = o.preset,
						f = void 0 === d ? r.preset : d,
						p = o.kernels,
						m = void 0 === p ? r.kernels : p,
						v = o.startPosition,
						g = void 0 === v ? -1 : v,
						y = o.startLevel,
						_ = void 0 === y ? -1 : y,
						b = o.drmData,
						w = o.p2p,
						E = void 0 === w || w,
						S = o.ratio,
						T = o.cdnld;
					if ("hls" === l || l !== n || "flv" === l || "native" === l && b) {
						var x = Pt(i) ? "mp4" : "hls",
							C = "flash" === l ? cd({
								type: x,
								p2p: E
							}) : document.createElement("video"),
							R = {
								isLive: c,
								box: l,
								preset: f,
								src: i,
								playlist: a,
								kernels: m,
								p2pSwitch: E,
								cdnld: T
							},
							I = this._createKernel(C, R);
						Yi.warn("kernel", "switch kernel from [" + n + "] to [" + l + "]."), this
							.switchKernel({
								video: C,
								kernel: I,
								config: R
							})
					}
					var L = this.videoConfig.autoload;
					this._changeUnwatchable(this.videoConfig, "autoload", !1), this.videoConfig.src =
						i || this.videoConfig.src, this.videoConfig.playlist = a || this.videoConfig
						.playlist, this.kernel.load(this.videoConfig.src, g, S, b, _, T), this
						._changeUnwatchable(this.videoConfig, "autoload", L)
				}, e.load2 = function(t, e) {
					void 0 === e && (e = {});
					var i = A(t) ? t : k(t) && A(t.src) ? t.src : "";
					k(t) && (delete t.src, e = t);
					var n = this.videoConfig,
						r = e,
						o = r.playlist,
						s = void 0 === o ? n.playlist : o,
						a = r.isLive,
						h = void 0 === a ? n.isLive : a,
						c = r.box,
						u = void 0 === c ? n.box : c,
						l = r.preset,
						d = void 0 === l ? n.preset : l,
						f = r.kernels,
						p = void 0 === f ? n.kernels : f,
						m = r.startPosition,
						v = void 0 === m ? -1 : m,
						g = r.startLevel,
						y = void 0 === g ? -1 : g,
						_ = r.p2p,
						b = void 0 === _ || _,
						w = r.drmData,
						E = r.ratio,
						S = r.cdnld,
						T = Pt(i) ? "mp4" : "hls",
						x = "flash" === u ? cd({
							type: T,
							p2p: b
						}) : document.createElement("video"),
						C = {
							isLive: h,
							box: u,
							preset: d,
							src: i,
							playlist: s,
							kernels: p,
							cdnld: S
						},
						R = this._createKernel(x, C);
					return R.load(i, v, E, w, y, S), {
						video: x,
						kernel: R,
						config: C
					}
				}, e.switchKernel = function(t) {
					var e = this,
						i = t.video,
						n = t.kernel,
						r = t.config,
						o = this.kernel,
						s = F(this.videoConfig);
					this.dom.removeVideo(), this.dom.installVideo(i, {
							bindEvent: !0
						}), this.videoConfig.changeWatchable = !1, this.videoConfig.autoload = !1, this
						.videoConfig.src = r.src, this.videoConfig._realDomAttr.forEach(function(t) {
							if ("src" !== t) {
								var i = s[t];
								(function(t) {
									return null == t
								})(i) || (e.videoConfig[t] = i)
							}
						}), this.videoConfig.changeWatchable = !0, this._bindKernelEvents(o, !0), this
						._bindKernelEvents(n), this.kernel = n;
					var a = r.isLive,
						h = r.box,
						c = r.preset,
						u = r.kernels;
					m(this.videoConfig, {
						isLive: a,
						box: h,
						preset: c,
						kernels: u
					}), this.kernel.play(), o.destroy()
				}, e.destroy = function() {
					for (var t in this.plugins) this.unuse(t);
					this.bus.destroy(), delete this.bus, this.dom.destroy(), delete this.dom, this
						._bindKernelEvents(this.kernel, !0), this.kernel.destroy(), delete this.kernel,
						delete this.vm, delete this.plugins, delete this.order
				}, e._initUserPlugin = function(t) {
					var e = this;
					return void 0 === t && (t = []), b(t) || (t = []), t.map(function(t) {
						return e.use(t)
					})
				}, e._sortZIndex = function() {
					var t = this,
						e = this.order.reduce(function(e, i) {
							var n = t.plugins[i];
							if (T(n)) return e;
							var r = e[n.$inner ? "inner" : "outer"],
								o = n.$level;
							return r[o] = r[o] || [], r[o].push(i), e
						}, {
							inner: {},
							outer: {}
						}),
						i = e.inner,
						n = e.outer;
					i[0] = i[0] || [], i[0].unshift("videoElement"), n[0] = n[0] || [], n[0].unshift(
						"container");
					var r = pt(i),
						o = pt(n);
					this.dom.setPluginsZIndex(r), this.dom.setPluginsZIndex(o), this.zIndexMap.inner =
						r, this.zIndexMap.outer = o
				}, e._getTopLevel = function(t) {
					var e = this.zIndexMap[t ? "inner" : "outer"],
						i = this.plugins[e[e.length - 1]];
					return T(i) ? 0 : i.$level
				}, e._autoloadVideoSrcAtFirst = function() {
					if (this.videoConfig.video_id) Yi.warn(
						"When you has config video_id, it will not autoreload");
					else if (this.videoConfig.autoload) {
						if (!this.videoConfig.src) return void Yi.warn(
							"You have not set the src, so you better set autoload to be false. Accroding to https://github.com/Mangojs/mango/blob/master/doc/zh-cn/mango-api.md#src."
							);
						this.bus.emit("load", this.videoConfig.src)
					}
				}, e._changeUnwatchable = function(t, e, i) {
					this.changeWatchable = !1, t[e] = i, this.changeWatchable = !0
				}, e._createKernel = function(t, e) {
					var i = this,
						n = e.kernels,
						r = e.preset,
						o = {},
						s = {};
					b(n) && (s = n.reduce(function(t, e) {
						if (A(e)) {
							var i = ld[e];
							return w(i) ? (t[e] = i, t) : (Yi.warn(
								"You have not installed kernel for " + e + "."), t)
						}
						if (k(e)) {
							var n = e.name,
								r = e.handler;
							if (A(r)) {
								var s = ld[r];
								return w(s) ? (t[r] = s, o[r] = e, t) : (Yi.warn(
										"You have not installed kernel for " + r + "."),
									t)
							}
							if (w(r)) {
								var a = n || r.name;
								return t[a] = r, o[a] = e, t
							}
							return Yi.warn(
								"When you pass in an SingleKernelConfig in Array, you must clarify it's handler, we only support handler in string or function but not " +
								typeof r), t
						}
						return Yi.warn(
							"If you pass in kernels as array, you must pass in kernels in string or function, but not " +
							typeof e), t
					}, {})), k(n) && g(n).forEach(function(t) {
						var e = n[t];
						if (!w(e)) {
							if (k(e)) {
								var i = e.handler;
								if (A(i)) {
									var r = ld[i];
									return w(r) ? (s[t] = r, void(o[t] = e)) : void Yi.warn(
										"You have not installed kernel for " + i + ".")
								}
								return w(i) ? (s[t] = i, void(o[t] = e)) : void Yi.warn(
									"When you pass in an SingleKernelConfig in Object, you must clarify it's handler, we only support handler in string or function but not " +
									typeof i)
							}
							return Yi.warn(
								"If you pass in kernels as object, you must pass in kernels in string or function, but not " +
								typeof e), n
						}
						s[t] = e
					}), e.preset = m(s, r), e.presetConfig = o;
					var a = new gc(t, e);
					if ("hls" == e.box) {
						a.once("hlsManifestParsed", function() {
							i.vm.emit("startPoint", "step3")
						});
						var h = function() {
							i.vm.emit("startPoint", "buffer"), a.videoElement.removeEventListener(
								"canplay", h)
						};
						a.videoElement.addEventListener("canplay", h)
					}
					return "flash" == e.box && a.videoElement.addEventListener("canplay", function() {
						i.vm.emit("startPoint", "buffer")
					}), a
				}, e._bindKernelEvents = function(t, e) {
					var i = this;
					void 0 === e && (e = !1), vc.forEach(function(n) {
						return t[e ? "off" : "on"](n, i.handleEvent)
					})
				}, t.install = function(t) {
					var e = V(t.name);
					T(ud[e]);
					var i = w(t) ? t : N({
						id: e
					}, t);
					return ud[e] = i, e
				}, t.hasInstalled = function(t) {
					return !T(ud[t])
				}, t.uninstall = function(t) {
					delete ud[t]
				}, t.getPluginConfig = function(t) {
					return ud[t]
				}, t.installKernel = function(t, e) {
					(k(t) ? Object.entries(t) : [
						[t, e]
					]).forEach(function(t) {
						var e = t[0],
							i = t[1];
						if (!w(i)) throw new Error("The kernel you install on " + e +
							" must be a Function, but not " + typeof i);
						w(ld[e]) && Yi.warn("You have alrady install a kernel on " + e +
							", and now we will replace it"), ld[e] = i
					})
				}, t.uninstallKernel = function(t) {
					delete ld[t]
				}, t.hasInstalledKernel = function(t) {
					return w(ld[t])
				}, t
			}()).prototype, "unuse", [Xl], p(ed.prototype, "unuse"), ed.prototype), d(ed.prototype, "handleEvent", [
				Kc
			], p(ed.prototype, "handleEvent"), ed.prototype), d(ed, "install", [Zl], p(ed, "install"), ed), d(ed,
				"hasInstalled", [Ql], p(ed, "hasInstalled"), ed), d(ed, "uninstall", [Jl], p(ed, "uninstall"), ed),
			d(ed, "getPluginConfig", [td], p(ed, "getPluginConfig"), ed), ed),
		Pd = (pd = d((fd = function() {
			function t() {
				this.log = {
					error: !0,
					info: !0,
					warn: !0,
					debug: !0,
					verbose: !0
				}, l(this, "_silent", pd, this), this.errorHandler = void 0;
				var t = g(this.log).reduce(function(t, e) {
					return t[e] = Uc({
						get: function() {
							return Yi["ENABLE_" + e.toUpperCase()]
						},
						set: function(t) {
							return Yi["ENABLE_" + e.toUpperCase()] = t, !0 === t &&
								(this.silent = !1), t
						}
					}), t
				}, {});
				nu(this.log, t, {
					self: !0
				})
			}
			return n(t, [{
				key: "silent",
				get: function() {
					return this._silent
				},
				set: function(t) {
					var e = this;
					void 0 !== t && (t = !!t, this._silent = t, g(this.log).forEach(
						function(i) {
							e.log[i] = !t
						}))
				}
			}]), t
		}()).prototype, "_silent", [tu], {
			configurable: !0,
			enumerable: !0,
			writable: !0,
			initializer: function() {
				return !1
			}
		}), fd),
		Dd = Gc()((Rd = Cd = function(t) {
				function e(e) {
					var i;
					if ((i = t.call(this) || this).destroyed = !1, l(i, "__id", gd, i), l(i, "version", yd, i),
						A(e) || P(e)) e = {
						wrapper: e,
						controls: !0
					};
					else {
						if (!k(e)) throw new Error(
							"You must pass in an Object containing wrapper or string or element to new a Mango"
							);
						if (!e.wrapper) throw new Error("You must pass in an legal object")
					}
					var n = new Ld(e, i);
					return i.config = n.videoConfig, i.cversion = n.kernel.VERSION, i.ready = n.ready, i
						.readySync = n.readySync, i.__dispatcher = n, i.__wrapAsVideo(n.videoConfig), i
				}
				r(e, t), e.registerEvents = function(t) {
					var e = void 0 === t ? {} : t,
						i = e.name,
						n = e.target;
					if (!i || !A(i)) throw new Error("The event name must be a string, but not " +
					typeof i);
					if (!n || !A(n)) throw new Error("The event target must be a string, but not " +
						typeof n);
					"kernel" === n && vc.push(i)
				};
				var i = e.prototype;
				return i.destroy = function() {
					this.destroyed || (t.prototype.__destroy.call(this), this.__dispatcher.destroy(), f(
						this, "__dispatcher", {
							get: function() {
								throw new Error("This instance has been destroyed.")
							},
							enumerable: !0,
							configurable: !0
						}), Ie(this.config.wrapper).html(""), this.destroyed = !0)
				}, i.addPlugins = function(t) {
					return void 0 === t && (t = []), this.__dispatcher.addPlugins(t)
				}, i.use = function(t) {
					return this.__dispatcher.use(t)
				}, i.unuse = function(t) {
					return this.__dispatcher.unuse(t)
				}, i.__throwError = function(t) {
					A(t) && (t = new Error(t));
					var i = this.config.errorHandler || e.config.errorHandler;
					if (w(i)) return i(t);
					if (!e.config.silent && M(t)) throw t
				}, e
			}($u), Cd.plugin = Wu, Cd.config = new Pd, Cd.install = Ld.install, Cd.uninstall = Ld.uninstall, Cd
			.hasInstalled = Ld.hasInstalled, Cd.installKernel = Ld.installKernel, Cd.uninstallKernel = Ld
			.uninstallKernel, Cd.hasInstalledKernel = Ld.hasInstalledKernel, Cd.getPluginConfig = Ld
			.getPluginConfig, gd = d((vd = Rd).prototype, "__id", [Xc], {
				configurable: !0,
				enumerable: !0,
				writable: !0,
				initializer: function() {
					return "_vm"
				}
			}), yd = d(vd.prototype, "version", [Xc], {
				configurable: !0,
				enumerable: !0,
				writable: !0,
				initializer: function() {
					return "7.0.2-29233fb"
				}
			}), d(vd, "plugin", [Xc], (_d = (_d = p(vd, "plugin")) ? _d.value : void 0, {
				enumerable: !0,
				configurable: !0,
				writable: !0,
				initializer: function() {
					return _d
				}
			}), vd), d(vd, "config", [Xc], (bd = (bd = p(vd, "config")) ? bd.value : void 0, {
				enumerable: !0,
				configurable: !0,
				writable: !0,
				initializer: function() {
					return bd
				}
			}), vd), d(vd, "install", [Xc], (wd = (wd = p(vd, "install")) ? wd.value : void 0, {
				enumerable: !0,
				configurable: !0,
				writable: !0,
				initializer: function() {
					return wd
				}
			}), vd), d(vd, "uninstall", [Xc], (kd = (kd = p(vd, "uninstall")) ? kd.value : void 0, {
				enumerable: !0,
				configurable: !0,
				writable: !0,
				initializer: function() {
					return kd
				}
			}), vd), d(vd, "hasInstalled", [Xc], (Ed = (Ed = p(vd, "hasInstalled")) ? Ed.value : void 0, {
				enumerable: !0,
				configurable: !0,
				writable: !0,
				initializer: function() {
					return Ed
				}
			}), vd), d(vd, "installKernel", [Xc], (Sd = (Sd = p(vd, "installKernel")) ? Sd.value : void 0, {
				enumerable: !0,
				configurable: !0,
				writable: !0,
				initializer: function() {
					return Sd
				}
			}), vd), d(vd, "uninstallKernel", [Xc], (Td = (Td = p(vd, "uninstallKernel")) ? Td.value : void 0, {
				enumerable: !0,
				configurable: !0,
				writable: !0,
				initializer: function() {
					return Td
				}
			}), vd), d(vd, "hasInstalledKernel", [Xc], (xd = (xd = p(vd, "hasInstalledKernel")) ? xd.value :
				void 0, {
					enumerable: !0,
					configurable: !0,
					writable: !0,
					initializer: function() {
						return xd
					}
				}), vd), d(vd, "getPluginConfig", [Xc], (Ad = (Ad = p(vd, "getPluginConfig")) ? Ad.value :
				void 0, {
					enumerable: !0,
					configurable: !0,
					writable: !0,
					initializer: function() {
						return Ad
					}
				}), vd), md = vd)) || md,
		Md = ["//pcweb.api.mgtv.com", "//pcweb2.api.mgtv.com", "//pcweb3.api.mgtv.com"],
		Bd = {
			CMSDATA_TIMEOUT: [4e3, 4e3, 4e3],
			MAX_CMSDATA_RETRY: 3,
			CMSDATA_RETRY_DOMAINS: Md,
			GETSOURCE_TIMEOUT: [4e3, 4e3, 4e3],
			MAX_GETSOURCE_RETRY: 3,
			GETSOURCE_RETRY_DOMAINS: Md,
			DISPATCHER_TIMEOUT: [11e3, 11e3, 11e3],
			MAX_DISPATCHER_RETRY: 3,
			ANTI_THEFT_PNO: 1020,
			ANTI_THEFT_VERSION: "0.3.0301",
			SUBTITLEDATA_TIMEOUT: [4e3, 4e3, 4e3],
			MAX_SUBTITLEDATA_RETRY: 3
		},
		Od = /iPad/i.test(navigator.userAgent),
		Ud = "Mac" === zt.os && "safari" == dt.name && ~~dt.version.major >= 13,
		Fd = function(t) {
			var e = Od ? "1121" : t.useFlash ? "1029" : "1030",
				i = Od ? "pad" : t.useFlash ? "h5flash" : "pch5",
				n = (t || 0).lobparam || {},
				r = n.did,
				o = void 0 === r ? "" : r,
				s = n.suuid,
				a = void 0 === s ? "" : s,
				h = n.cxid,
				c = void 0 === h ? "" : h,
				u = ~~(+new Date / 1e3);
			return {
				did: o,
				suuid: a,
				cxid: c,
				type: i,
				pno: e,
				tk2: btoa("did=" + o + "|pno=" + e + "|ver=0.3.0301|clit=" + u).replace(/\+/g, "_").replace(/\//g,
					"~").replace(/=/g, "-").split("").reverse().join(""),
				timestamp: u
			}
		},
		Nd = function() {
			function t(t) {
				this.vm = t.vm, this.abroad = t.vm.config.abroad, this.isIntelMgtv = 1 == this.vm.config.i18n, this
					.reset()
			}
			var e = t.prototype;
			return e.reset = function() {
				this.getCMSDataRetry = 0, this.getSourceRetry = 0, this.getDispatcherRetry = 0, this
					.getSubtitleDataRetry = 0
			}, e._genVParams = function(t) {
				var e = Fd(this.vm._config),
					i = e.tk2;
				return St({
					did: e.did,
					suuid: e.suuid,
					cxid: e.cxid,
					tk2: i,
					video_id: t,
					type: e.type,
					_support: 1e7
				})
			}, e.getLocaledCMSParam = function(t) {
				var e = "1" == this.vm._config.i18n ? "intelmgtv" : "";
				return t = k(t) ? Object.assign(t, {
					src: e,
					abroad: this.abroad
				}) : t += "&src=" + e + "&abroad=" + this.abroad
			}, e.getStarSegments = function(t) {
				var e = this.getLocaledCMSParam({
						_support: "10000000",
						vid: t
					}),
					i = Bd.CMSDATA_RETRY_DOMAINS[0] + "/star/pointlist?" + St(e);
				return Yi.info("cms", "fetch star segments, request url is " + i + "."), Fi(i, {
					timeout: 3 * Bd.CMSDATA_TIMEOUT[0]
				}).then(function(t) {
					return t.json()
				})
			}, e.getVinfo = function(t) {
				var e = this.getLocaledCMSParam(this._genVParams(t)),
					i = Bd.CMSDATA_RETRY_DOMAINS[0] + "/player/video?" + e;
				return Yi.info("cms", "fetch videoinfo, request url is " + i + "."), Fi(i, {
					timeout: 3 * Bd.CMSDATA_TIMEOUT[0]
				}).then(function(t) {
					return t.json()
				})
			}, e.getP2pConfig = function(t) {
				var e = "//pc.bz.mgtv.com/confs/p2p";
				return Yi.info("cms", "fetch p2p config, request url is " + e + "."), Fi(e, {
					jsonpCallbackFunction: "callback_p2pconfig"
				}).then(function(t) {
					return t.json()
				})
			}, e.getPlayerConfig = function() {
				return Fi("//banner.api.mgtv.com/recommend/conf?" + St(this.getLocaledCMSParam({
					platform: "pcweb"
				})), {
					jsonpCallbackFunction: "callback_playerconfig"
				}).then(function(t) {
					return t.json()
				}).catch(function() {})
			}, e.getSubtitleData = function(t) {
				var e = this,
					i = "//pcweb.api.mgtv.com/video/title?" + St({
						videoId: t,
						_support: 1e7
					});
				return Fi(i).then(function(t) {
					return t.json()
				}).then(function(t) {
					var n = t.code,
						r = void 0 === n ? "" : n,
						o = t.data,
						s = void 0 === o ? "" : o;
					t.msg;
					return 200 == ~~r && s ? (e.getSubtitleDataRetry = 0, e.vm.emit("subtitleData", {
						status: "loadComplete",
						api: "subtitleData",
						retry: e.getSubtitleDataRetry,
						url: i,
						code: r,
						data: s
					})) : e.vm.emit("subtitleData", {
						status: "loadError",
						api: "subtitleData",
						retry: e.getSubtitleDataRetry,
						maxRetry: Bd.MAX_SUBTITLEDATA_RETRY,
						url: i,
						code: r,
						data: {}
					}), {
						code: r,
						data: s,
						url: i
					}
				}).catch(function(n) {
					if (Yi.info("subtitledata", "fetch subtitle data timeout, reason " + n), e.vm.emit(
							"subtitleData", {
								status: "loadTimeout",
								api: "subtitleData",
								retry: e.getSubtitleDataRetry,
								maxRetry: Bd.MAX_SUBTITLEDATA_RETRY,
								url: i,
								code: "600",
								data: {}
							}), e.getSubtitleDataRetry++, e.getSubtitleDataRetry < Bd
						.MAX_SUBTITLEDATA_RETRY) return e.getSubtitleData(t);
					throw e.vm.emit("subtitleData", {
						status: "loadComplete",
						api: "subtitleData",
						retry: e.getSubtitleDataRetry,
						maxRetry: Bd.MAX_SUBTITLEDATA_RETRY,
						url: i,
						code: "600",
						data: {}
					}), n
				})
			}, e.getCMSData = function(t) {
				var e = this,
					i = Bd.CMSDATA_TIMEOUT[this.getCMSDataRetry],
					n = this._genVParams(t),
					r = this.getLocaledCMSParam({
						auth_mode: 1
					}),
					o = Bd.CMSDATA_RETRY_DOMAINS[this.getCMSDataRetry] + "/player/video?" + n + "&" + St(r);
				return Yi.info("cms", "fetch videoinfo, request url is " + o + ", timeout [" + i +
					"], retring " + this.getCMSDataRetry + " nth."), Fi(o, {
					timeout: i
				}).then(function(t) {
					return t.json()
				}).then(function(t) {
					var i = t || {},
						n = i.code,
						r = void 0 === n ? "" : n,
						s = i.data,
						a = void 0 === s ? "" : s,
						h = i.timestamp,
						c = void 0 === h ? Date.now() : h;
					return 200 == +r && a ? e.getCMSDataRetry = 0 : (Yi.info("cms",
						"fetch videoinfo fail, error code [" + r + "], stop retry."), e.vm.emit(
						"videoInfoData", {
							status: "loadError",
							api: "videoInfoData",
							retry: e.getCMSDataRetry,
							maxRetry: Bd.MAX_CMSDATA_RETRY,
							url: o,
							code: r,
							data: {}
						}), e.vm.emit("apiRequestError", {
						type: "error",
						target: e,
						rawdata: t,
						data: Iu({
							fatal: !0
						}, $i.VIDEOINFO_DATA_FAIL)
					})), {
						data: a,
						code: r,
						url: o,
						timeoffset: Date.now() - c
					}
				}).catch(function(i) {
					if (Yi.info("cms", "fetch videoinfo timeout, reason " + i), e.vm.emit(
							"videoInfoData", {
								status: "loadTimeout",
								api: "videoInfoData",
								retry: e.getCMSDataRetry,
								maxRetry: Bd.MAX_CMSDATA_RETRY,
								url: o,
								code: "600",
								data: {}
							}), e.getCMSDataRetry++, e.getCMSDataRetry < Bd.MAX_CMSDATA_RETRY) return e
						.getCMSData(t);
					throw e.vm.emit("apiRequestError", {
						type: "error",
						target: e,
						data: Iu({
							fatal: !0
						}, $i.VIDEOINFO_TIMEOUT)
					}), i
				})
			}, e.getSource = function(t, e, i) {
				var n = this;
				void 0 === i && (i = !1);
				var r = Fd(this.vm._config),
					o = r.tk2,
					s = r.type,
					a = Bd.GETSOURCE_TIMEOUT[this.getSourceRetry],
					h = this.getLocaledCMSParam({
						_support: "10000000",
						tk2: o,
						pm2: e,
						video_id: t,
						type: s,
						auth_mode: 1
					}),
					c = i || 0 != this.getSourceRetry || this.isIntelMgtv || !Ud ? h : Iu({}, h, {
						vf: "h265"
					}),
					u = Bd.GETSOURCE_RETRY_DOMAINS[this.getSourceRetry] + "/player/getSource?" + St(c);
				if (!(this.getSourceRetry >= Bd.MAX_GETSOURCE_RETRY)) return Yi.info("cms",
					"fetch video source detail, request url is " + u + ", retring " + this
					.getSourceRetry + " nth."), Fi(u, {
					timeout: a
				}).then(function(t) {
					return t.json()
				}).then(function(i) {
					var r = Rt(i, "data.stream.length", 0),
						o = Rt(n, "vm.cms.videoInfoData.user.purview", 200),
						s = 0 === r && 200 == ~~o;
					if (200 != i.code || !i.data || s) {
						if (Yi.info("cms", "fetch video source detail fail, status code is [" + i
								.code + "]."), n.vm.emit("getSource", {
								status: "loadError",
								api: "getSource",
								retry: n.getSourceRetry,
								maxRetry: Bd.MAX_GETSOURCE_RETRY,
								url: u,
								code: i.code,
								data: {}
							}), n.getSourceRetry++, n.getSourceRetry < Bd.MAX_GETSOURCE_RETRY)
							return n.getSource(t, e).catch(function(t) {});
						throw n.vm.emit("apiRequestError", {
							type: "error",
							target: n,
							data: Iu({
								fatal: !0
							}, $i.SOURCE_DATA_FAIL)
						}), new Error("retry reach the max limit, stop retry.")
					}
					return Yi.info("cms", "fetch video source detail ok, status code [" + i.code +
						"]."), i.data.stream = i.data.stream.reverse(), n.vm.emit("getSource", {
						status: "loadComplete",
						url: u,
						code: "200",
						data: i.data
					}), n.getSourceRetry = 0, i
				}).catch(function(i) {
					if (n.getSourceRetry < Bd.MAX_GETSOURCE_RETRY && (Yi.info("cms",
							"fetch video source detail timeout. reason " + i), n.vm.emit(
							"getSource", {
								status: "loadTimeout",
								api: "getSource",
								retry: n.getSourceRetry,
								maxRetry: Bd.MAX_GETSOURCE_RETRY,
								url: u,
								code: "600",
								data: {}
							})), n.getSourceRetry++, n.getSourceRetry < Bd.MAX_GETSOURCE_RETRY)
						return n.getSource(t, e).catch(function(t) {});
					throw n.vm.emit("apiRequestError", {
						type: "error",
						target: n,
						data: Iu({
							fatal: !0
						}, $i.SOURCE_TIMEOUT)
					}), i
				})
			}, e.getNextVideoInfo = function(t, e) {
				var i = this;
				if (k(t)) this.vm.emit("nextVideoInfo", t);
				else {
					var n, r, o = "",
						s = !1;
					if (A(t) && t.indexOf("&") ? (o = t.split("&")[0], s = "false" == t.split("&")[1]) : o = t
						.toString(), s) {
						var a = this.vm.getVideoInfo();
						n = a.cid || "", r = a.plid || ""
					}
					if (o) {
						var h = this.vm._config.lobparam.cxid || "",
							c = "//pcweb.api.mgtv.com/player/vinfo?" + St({
								video_id: o,
								cid: n,
								pid: r,
								cxid: h,
								_support: "10000000"
							});
						return Yi.info("cms", "fetch nextvideoinfo, request url is " + c), Fi(c, {
							timeout: 1e4
						}).then(function(t) {
							return t.json()
						}).then(function(t) {
							if (200 != t.code || !t.data) throw Yi.info("cms",
								"fetch nextvideoinfo fail, video [" + o + "], status code [" + t
								.code + "]"), new Error(t.msg);
							Yi.info("cms", "fetch nextvideoinfo ok, video [" + o + "], status code [" +
								t.code + "]"), i.nextVideoInfo = t.data, i.vm.emit("nextVideoInfo",
								i.nextVideoInfo)
						}).catch(function(t) {
							Yi.info("cms", "fetch nextvideoinfo fail, " + t + ".")
						})
					}
					Yi.info("cms", "invalid next video id [" + o + "]")
				}
			}, e.getDispatcher = function(t, e, i, n, r) {
				var o = this;
				void 0 === i && (i = 0), void 0 === n && (n = ""), void 0 === r && (r = !0);
				var s = this.vm._config.lobparam,
					a = s.did,
					h = s.suuid,
					c = t.stream_domain[i] || t.stream_domain[0],
					u = t.stream.find(function(t) {
						return ~~t.def == e
					});
				if (!(i >= Bd.MAX_DISPATCHER_RETRY) && u && u.url) {
					var l = -1 !== u.url.indexOf("?") ? "&" : "?",
						d = n ? "&svrip=" + n : "",
						f = c + u.url + l + "did=" + a + "&suuid=" + h + d,
						p = Bd.DISPATCHER_TIMEOUT[i];
					return Yi.info("cms", "fetch dispatcher, CDN domain [" + c + "], definition [" + u.name +
						"], request url " + f + ", retring " + i + " nth"), Fi(f, {
						timeout: p
					}).then(function(t) {
						return t.json()
					}).then(function(n) {
						if (!n || "ok" != n.status || !n.info) {
							if (Yi.info("cms", "fetch dispatcher fail, status code [" + n.status + "]"),
								r && o.vm.emit("getDispatcher", {
									status: "loadError",
									api: "getDispatcher",
									retry: i,
									maxRetry: Bd.MAX_DISPATCHER_RETRY,
									url: f,
									code: n.code || 0,
									data: {}
								}), ++i < Bd.MAX_DISPATCHER_RETRY) return o.getDispatcher(t, e, i, "",
								r);
							throw r && o.vm.emit("apiRequestError", {
								type: "error",
								target: o,
								data: Iu({
									fatal: !0
								}, $i.DISPATCHER_DATA_FAIL)
							}), new Error("retry reach the max limit, stop retry.")
						}
						o.sourceInfo = n;
						try {
							if (-1 !== u.scale.indexOf(":")) {
								var s = u.scale.split(":");
								u.ratio = Number(s[0]) / Number(s[1])
							} else u.ratio = parseFloat(u.scale), isNaN(u.ratio) || 0 == u.ratio ? u
								.ratio = 16 / 9 : u.ratio = Math.min(Math.max(.25, u.ratio), 2.5)
						} catch (t) {
							u.ratio = 16 / 9
						}
						return o.sourceInfo.ratio = u.ratio, Od || o.vm._config.useFlash || (o
								.sourceInfo.info = o.sourceInfo.info.replace(/^http:\/\//, "https://")),
							Yi.info("cms", "fetch dispatcher ok. source [" + o.sourceInfo.info + "]"),
							r && o.vm.emit("getDispatcher", {
								status: "loadComplete",
								url: f,
								code: "200",
								data: n.info
							}), o.sourceInfo
					}).catch(function(n) {
						if (i < Bd.MAX_DISPATCHER_RETRY && r && (Yi.info("cms",
								"fetch dispatcher timeout, " + n + "."), o.vm.emit(
							"getDispatcher", {
								status: "loadTimeout",
								api: "getDispatcher",
								retry: i,
								maxRetry: Bd.MAX_DISPATCHER_RETRY,
								url: f,
								code: "600",
								data: {}
							})), ++i < Bd.MAX_DISPATCHER_RETRY) return o.getDispatcher(t, e, i, "", r);
						throw r && o.vm.emit("apiRequestError", {
							type: "error",
							target: o,
							data: Iu({
								fatal: !0
							}, $i.DISPATCHER_TIMEOUT)
						}), n
					})
				}
			}, t
		}();
	! function(t) {
		t[t.IDLE = 0] = "IDLE", t[t.FRONT_AD_BEGIN = 1] = "FRONT_AD_BEGIN", t[t.FRONT_AD_PLAY = 2] =
			"FRONT_AD_PLAY", t[t.FRONT_AD_END = 3] = "FRONT_AD_END", t[t.VIDEO_PLAY = 4] = "VIDEO_PLAY", t[t
				.VIDEO_PAUSE = 5] = "VIDEO_PAUSE", t[t.MID_AD_BEGIN = 6] = "MID_AD_BEGIN", t[t.MID_AD_END = 7] =
			"MID_AD_END", t[t.VIDEO_END = 8] = "VIDEO_END", t[t.END_AD_BEGIN = 9] = "END_AD_BEGIN", t[t.END_AD_END =
				10] = "END_AD_END"
	}(Id || (Id = {}));
	var Vd, zd = Id,
		Hd = /iPad/i.test(navigator.userAgent),
		jd = "cms";
	! function(t) {
		t[t.Start = 0] = "Start", t[t.Config = 1] = "Config", t[t.VideoInfo = 2] = "VideoInfo", t[t.AdUrls = 3] =
			"AdUrls", t[t.Source = 4] = "Source", t[t.Dispatcher = 5] = "Dispatcher", t[t.Cdn = 6] = "Cdn", t[t
				.Buffer = 7] = "Buffer", t[t.Playing = 8] = "Playing", t[t.Fail = 9] = "Fail"
	}(Vd || (Vd = {}));
	var $d, Wd = function() {
			function t(t) {
				var e = this;
				this.isFairplay = !1, this.isPreload = !1, this.loadingState = Vd.Start, this._hasBoundEvents = !1,
					this.cachedSubtitles = [], this.cdnld = "", this.isIntelMgtv = !1, this.errorRetry = !1, this
					.vm = t.vm, this.isPreload = t.isPreload || !1, this.dataFetcher = new Nd({
						vm: this.vm
					}), this.startLevel = -1, this.state = zd.IDLE, this.cdnld = this.vm.config.cdnld, this
					.isIntelMgtv = 1 == this.vm.config.i18n, this.vm.config.set({
						kernels: {
							flash: {
								p2p: {
									enable: !0
								}
							}
						}
					}), this.cfgDeferred = this.dataFetcher.getP2pConfig(this.video_id).then(function(t) {
						var i = t && t.data;
						(Yi.info(jd, "global p2p cfg => " + JSON.stringify(i)), i.p2p && i.p2p.pc) && (Math
							.floor(100 * Math.random()) > i.p2p.pc && e.vm.config.set({
								kernels: {
									flash: {
										p2p: {
											enable: !1
										}
									}
								}
							}));
						var n = Rt(i, "p2p.h5", !0),
							r = k(n) ? Iu({
								enable: !0
							}, n) : {
								enable: !!n
							},
							o = e.vm.config.get("kernels.hls.p2p.enable", !1);
						return e.p2pInitialVal = r.enable = o && r.enable, Yi.info(jd, "h5 p2p settings => " +
							JSON.stringify(r)), i
					}).catch(function(t) {
						Yi.error(jd, "get p2p config fail, reason: " + t)
					}), this.bindEvent(), this.bindEventsBefore(), Yi.info(jd, "cms middleware is created.")
			}
			var e = t.prototype;
			return Object.defineProperty(e, "state", {
				get: function() {
					return this._state
				},
				set: function(t) {
					this.vm.state = this._state = t
				},
				enumerable: !0,
				configurable: !0
			}), e.init = function(t, e) {
				var i = this;
				void 0 === e && (e = !1), this.isPreFetchedVideo = !1, this.dashRecoverStreamErrorRetry = 0,
					this.recoverVideoErrorRetry = 0, this.hasDrmData = !1, this.hasMp4Source = !1, this
					.hasDashSource = !1, this.hasVideoPlayed = !1, this.currrentDef = 0, this._state = zd.IDLE,
					this.video_id = t, this.cdnip = "", this.errorRetry = e, this.emitMockPlaying = gt(
					function() {
						"hidden" != document.visibilityState || !i.vm.isAutoplay || i.hasVideoPlayed || i
							.state != zd.FRONT_AD_BEGIN && i.state != zd.FRONT_AD_END || (i
								.emitMockPlaying = null, i.vm.emit("playing"))
					}, 2e3), Promise.all([this.cfgDeferred, this.dataFetcher.getPlayerConfig().catch(function(
					t) {})]).then(function(e) {
						e[0];
						var n = e[1];
						return i.confData = n, i.vm.emit("confData", {
							conf: Rt(n, "data", {})
						}), i.loadingState = Vd.Config, i.dataFetcher.getCMSData(t).catch(function(e) {
							Yi.error(jd, "get video info fail, video id [" + t + "], reason: " + e)
						})
					}).then(function(t) {
						var e = t.url,
							n = t.data,
							r = t.code,
							o = t.timeoffset;
						if (200 == +r && n && n.info) {
							if (i.loadingState = Vd.Fail, n.info.video_id != i.video_id) return;
							i.loadingState = Vd.VideoInfo, i.isPreload || (i.vm.config.set({
								kernels: {
									hls: {
										p2p: {
											enable: i.p2pInitialVal
										}
									}
								}
							}), n.info && n.info.duration < 600 && i.vm.config.set({
								kernels: {
									hls: {
										p2p: {
											enable: !1
										}
									}
								}
							}));
							var s = void 0;
							if (n.drm && n.info && "1" == n.info.drmFlag) {
								i.vm._config.useFlash = !1;
								var a = navigator.userAgent.indexOf("Trident") > -1 && navigator.userAgent
									.indexOf("rv:11.0") > -1,
									h = document.createElement("video");
								!a || "onmsneedkey" in h || i.vm.emit("dashStreamError", {
										data: {
											error: {
												code: 112,
												message: "eme is not supported."
											}
										}
									}), s = "com.widevine.alpha", 1 == n.drm.drmType ? s =
									"com.microsoft.playready" : 3 == n.drm.drmType && (s =
										"com.apple.fps.1_0", i.isFairplay = !0);
								var c = "persistent-license";
								navigator.userAgent.indexOf("Edge") > -1 && 1 == n.drm.drmType && (c =
									"temporary"), n.drmData = {}, n.drmData[s] = {
									serverURL: n.drm.licenseUrl,
									sessionType: c
								}, i.vm.drm = s
							}
							i.videoInfoData = n, Yi.info(jd, "fetch videoinfo ok, status code [" + r +
								"]."), i.vm.emit("videoInfoData", {
									isPreload: i.isPreload,
									url: e,
									code: r,
									data: n,
									status: "loadComplete",
									timeoffset: o
								}), i.isPreload || (i.vm.getPaymentInfo(n.user, n.info, i.confData), i.vm
									.getCMSDataEvent(i.videoInfoData), i.vm.emitSync("startPoint",
										"videoInfo"), i.vm.emit("cmsData", {
										isPreload: i.isPreload,
										url: e,
										code: r,
										data: n,
										status: "loadComplete"
									}))
						}
					})
			}, e.getBufferState = function() {
				switch (this.loadingState) {
					case Vd.Start:
					case Vd.Config:
					case Vd.VideoInfo:
					case Vd.Playing:
					case Vd.Fail:
						return !1;
					case Vd.AdUrls:
					case Vd.Source:
					case Vd.Dispatcher:
					case Vd.Cdn:
					case Vd.Buffer:
						return !0
				}
			}, e.getSubtitleData = function(t) {
				var e = this;
				this.dataFetcher.getSubtitleData(t).then(function(t) {
					e.subtitleData = t
				}).catch(function(t) {})
			}, e.onSwitchSubtitle = function(t) {
				var e = this,
					i = t.language;
				if (this.cachedSubtitles[i]) this.vm.emit("subtitleChange", {
					subtitles: this.cachedSubtitles[i]
				});
				else if (this.subtitleData && 200 == this.subtitleData.code && this.subtitleData.data.title) {
					var n = this.subtitleData.data.title.find(function(t) {
						return t.language == i
					});
					if (n) Fi(this.dispatchData.stream_domain[0] + n.url).then(function(t) {
						return t.json()
					}).then(function(t) {
						void 0 === t && (t = {});
						var n = t.info;
						fetch(n).then(function(t) {
							return t.text()
						}).then(function(t) {
							try {
								var n = function(t) {
									(t = (t = t.replace(/\r/g, "")).split(
										/(\d+)\n(\d{2}:\d{2}:\d{2},\d{3}) --> (\d{2}:\d{2}:\d{2},\d{3})/g
										)).shift();
									for (var e = [], i = 0; i < t.length; i += 4) e.push({
										id: t[i].trim(),
										startTime: Pi(t[i + 1].trim()),
										endTime: Pi(t[i + 2].trim()),
										text: t[i + 3].trim()
									});
									return e.sort(function(t, e) {
										return t.startTime - e.startTime
									}), e
								}(t);
								e.vm.emit("subtitleChange", {
									subtitles: n
								}), e.cachedSubtitles[i] = n
							} catch (t) {
								Yi.warn(jd, "parser srt file error:" + t)
							}
						})
					})
				}
			}, e.getVinfo = function(t) {
				return this.dataFetcher.getVinfo(t)
			}, e.getHighestFisibleDef = function(t, e) {
				var i;
				if (e)
					for (var n = 0; n < t.length; n++)
						if (t[n].def == e && "" != t[n].url) {
							i = t[n];
							break
						} if (!i)
					for (n = 0; n < t.length; n++)
						if ("" != t[n].url) {
							i = t[n];
							break
						} return i
			}, e.setNextVideoId = function(t, e) {
				Yi.info(jd, "received next video id [" + t + "]"), this.nextId = t
			}, e.getStartTime = function() {
				if ("200" != this.videoInfoData.user.purview) return 0;
				for (var t = 0, e = this.vm.config.startTime || ~~xt("start_time"), i = ~~this.videoInfoData
						.info.watchTime, n = zi.get("honey-rec") || [], r = 0 !== zi.get("mango-skip-start"),
						o = 0, s = 0; s < n.length; s++)
					if (this.video_id == n[s].vid) {
						o = ~~n[s].time;
						break
					} return this.skipStartTime = Number(this.videoInfoData.points.start.split("|")[0]) || 0,
					this.skipEndTime = Number(this.videoInfoData.points.end.split("|")[0]) || 0, t = e || i ||
					o || 0, (r && this.skipEndTime ? this.skipEndTime : ~~this.videoInfoData.info.duration) -
					t <= 3 && (t = 0), r && this.skipStartTime > 0 && t < this.skipStartTime && (t = this
						.skipStartTime), t
			}, e.loadVideoSource = function() {
				var t = this,
					e = this.getStartTime(),
					i = this.sourceInfo && Pt(this.sourceInfo.info),
					n = this.sourceInfo && Dt(this.sourceInfo.info),
					r = "native";
				this.vm._config.useFlash || this.vm._config.isIpad || i || n || this.isFairplay ? (r = this
						.isFairplay ? "native" : n ? "dash" : this.vm._config.useFlash ? "flash" : i ? "mp4" :
						"native", Yi.info(jd, "use " + r + " kernel to load video source."), this.vm.load({
							src: this.sourceInfo.info,
							ratio: this.sourceInfo.ratio,
							p2p: this.vm.config.get("kernels.flash.p2p.enable", !0),
							box: r,
							drmData: this.videoInfoData.drmData,
							startPosition: e
						})) : (r = "hls", Yi.info(jd, "use " + r + " kernel to load video source."), this
						.useFakeMasterPlaylist ? this.preloadKernel ? (this.preloadKernel.kernel.off("stats",
							this.forwardStats), this.vm.switchKernel(this.preloadKernel), setTimeout(
							function() {
								t.vm.play()
							}), this.vm.emit("playing"), this.preloadKernel = null) : this.vm.load({
							src: "",
							playlist: this.dispatchData,
							p2p: this.vm.config.get("kernels.hls.p2p.enable", !0),
							drmData: this.videoInfoData.drmData,
							startPosition: e,
							startLevel: this.startLevel,
							box: r,
							cdnld: this.cdnld
						}) : this.vm.load({
							src: this.sourceInfo.info,
							p2p: this.vm.config.get("kernels.hls.p2p.enable", !0),
							startPosition: e,
							drmData: this.videoInfoData.drmData,
							box: r
						})), this.vm.emit("videoReady"), Yi.info(jd,
						"set <video> source attr, send player event [videoReady]."), this.loadingState = Vd
					.Buffer
			}, e.onRecoverDashStreamError = function(t) {
				this.dashRecoverStreamErrorRetry < 2 ? (Yi.info(jd,
						"trying recover from dashStream error, retry " + this.dashRecoverStreamErrorRetry +
						"."), t.retry = this.dashRecoverStreamErrorRetry, this.recoverVideoError(), this
					.dashRecoverStreamErrorRetry++) : (Yi.info(jd, "send [dashStreamError] event."), t
					.retry = this.dashRecoverStreamErrorRetry, this.vm.__dispatcher.kernel.destroy(), this
					.vm.emit("dashStreamError", t))
			}, e.onHlsDispatcherError = function(t) {
				this.vm.emit("apiRequestError", {
					type: "error",
					target: t.target,
					data: Iu({
						fatal: !0
					}, $i.DISPATCHER_DATA_FAIL)
				})
			}, e.recoverVideoError = function() {
				var t = this;
				this.dataFetcher.getDispatcher(this.dispatchData, this.currrentDef, 0, this.cdnip, !0).then(
					function(e) {
						t.sourceInfo = e, t.cdnip = Lt(t.sourceInfo.info).hostname, t.loadVideoSource()
					})
			}, e.onPlaying = function(t) {
				if (this.state == zd.FRONT_AD_BEGIN) {
					if (!this.vm.manualClickPlay && !this.vm.isAutoplay) return;
					return this.state = zd.FRONT_AD_PLAY, Yi.info(jd,
						"front ad is playing, send player event [frontAdPlay]."), void this.vm.emit(
						"frontAdPlay")
				}
				return this.state == zd.MID_AD_BEGIN ? (Yi.info(jd,
						"middle ad is playing, send player event [midAdPlay]."), void this.vm.emit(
						"midAdPlay")) : this.state == zd.FRONT_AD_END ? (this.state = zd.VIDEO_PLAY, this
						.hasVideoPlayed = !0, this.vm.emit("videoPlay", {
							videoUrl: Rt(this, "sourceInfo.info", ""),
							videoId: this.video_id,
							state: this.state
						}), Yi.info(jd, "video is playing, send player event [videoPlay]."), void this
						.onVideoPlay()) : this.state == zd.MID_AD_END ? (this.state = zd.VIDEO_PLAY, this.vm
						._config.isIpad && this._pauseTime && (this.vm.seek(this._pauseTime), this._pauseTime =
							0, this.vm.play()), void this.vm.emit("videoResumeMid")) : this.state == zd
					.VIDEO_PAUSE ? (this.state = zd.VIDEO_PLAY, Yi.info(jd, "send player event [videoResume]."),
						void this.vm.emit("videoResume")) : void 0
			}, e.getStarSegments = function() {
				var t = this,
					e = Rt(this, "videoInfoData.user.purview"),
					i = Rt(this, "videoInfoData.info.starPointFlag");
				"200" == e && i && this.dataFetcher.getStarSegments(this.video_id).then(function(e) {
					if (e && 200 == e.code && e.data) {
						var i = e.data.list || [];
						t.vm.emit("starSegments", {
							starSegments: i
						}), i.length > 0 && !Hd && t.vm.emit("showGuide", {
							type: "starSegments"
						})
					}
				}).catch(function(t) {})
			}, e.showContinueTip = function() {
				var t = this.getStartTime();
				0 !== zi.get("mango-skip-start") && this.skipStartTime > 0 && t > 0 && t <= this.skipStartTime ?
					(Yi.info(jd, "skip start is on, seek to " + t), this.vm.emit("showBottomTip", {
						_type: "skipStartTPL",
						_time: 2e3
					}), t = this.skipStartTime) : t > 1 && (Yi.info(jd,
						"continue play from recent watch point, seek to " + t), this.vm.emit(
						"showBottomTip", {
							_type: "continuePlayTPL",
							_time: 2e3,
							time: _t(t)
						}))
			}, e.onVideoPlay = function() {
				var t = this;
				this.loadingState, Vd.Playing, this.videoPlayTimeoutTimer && clearTimeout(this
						.videoPlayTimeoutTimer), this.vm.enableFloatWindow(!0), this.getStarSegments(), this
					.showContinueTip();
				var e = this.vm.getPlayerNextId() || this.nextId;
				e ? this.dataFetcher.getNextVideoInfo(e, null) : setTimeout(function() {
					(e = t.vm.getPlayerNextId()) && t.dataFetcher.getNextVideoInfo(e, null)
				}, 2e3), this._hasBoundEvents || (this.bindEventsAfter(), this._hasBoundEvents = !0)
			}, e.onSwitchClarity = function(t) {
				var e = this;
				Yi.info("cms", "switch definition to [" + t.name + "].");
				var i = this.dispatchData.stream.find(function(e) {
					return e.def == t.def
				});
				if (i) {
					if ("" == i.url) return Yi.info("cms",
						"user is not authorized to watch, open hd1080 dialog."), void this.vm.emit(
						"showHdDialog", Object.assign(this.videoInfoData, t));
					var n = this.sourceInfo && Pt(this.sourceInfo.info),
						r = this.sourceInfo && Dt(this.sourceInfo.info);
					this.vm._config.isIpad || this.vm._config.useFlash || n || r || this.isFairplay ? (this
						.currrentDef = ~~t.def, this.dataFetcher.getDispatcher(this.dispatchData, ~~t.def,
							0).then(function(o) {
							e.sourceInfo = o, e.cdnip = Lt(e.sourceInfo.info).hostname;
							var s = e.vm.currentTime,
								a = e.isFairplay ? "native" : r ? "dash" : e.vm._config.useFlash ?
								"flash" : n ? "mp4" : "native";
							e.vm.load({
								src: o.info,
								ratio: o.ratio,
								p2p: e.vm.config.get("kernels.flash.p2p.enable", !0),
								drmData: e.videoInfoData.drmData,
								box: a,
								startPosition: s
							}), setTimeout(function() {
								zi.set("mango-def", ~~t.def), zi.set("mango-def-auto", t.auto ?
									"1" : "0"), Yi.info("cms",
									"switch definition ok, definition [" + t.name +
									"], source [" + o.info + "]."), e.vm.emit(
									"clarityChanged", {
										error: null,
										stream: i,
										auto: t.auto,
										silent: t.silent
									})
							}, 1e3)
						}).catch(function(n) {
							Yi.info("cms", "switch definition fail , " + n + "."), e.vm.emit(
								"clarityChanged", {
									error: n,
									stream: i,
									auto: t.auto,
									silent: t.silent
								})
						})) : this.vm.loadLevel(~~t.index - 1).then(function() {
						zi.set("mango-def", ~~t.def), zi.set("mango-def-auto", t.auto ? "1" : "0"), Yi
							.info("cms", "switch definition ok, definition [" + t.name + "]"), e.vm
							.emit("clarityChanged", {
								error: null,
								stream: i,
								auto: t.auto,
								silent: t.silent
							})
					})
				}
			}, e.onFrontAdBegin = function(t) {
				this.state = zd.FRONT_AD_BEGIN
			}, e.onVideoPrefetch = function(t) {
				var e = this;
				if (!this.isPreFetchedVideo) {
					this.isPreFetchedVideo = !0;
					var i = this.video_id;
					this.vm.emitSync("startPoint", "step1Request"), this.dataFetcher.getSource(i, t.atc.pm2,
						this.errorRetry).then(function(t) {
						if (t && t.data) {
							e.loadingState = Vd.Source, e.dispatchData = t.data;
							var n = e.dispatchData.stream;
							n.forEach(function(t, i) {
								if (t.url) {
									var n = e.vm._config.lobparam,
										r = n.did,
										o = n.suuid,
										s = -1 !== t.url.indexOf("?") ? "&" : "?";
									t.url = t.url + s + "did=" + r + "&suuid=" + o
								}
							});
							var r, o = e.videoInfoData.user,
								s = zi.get("mango-def");
							Hd || (null === zi.get("mango-def-auto") ? (r = !0, s = "1") : r = !!~~zi
								.get("mango-def-auto")), void 0 !== e.vm._config.initDef && (s = e
								.vm._config.initDef);
							var a = e.getHighestFisibleDef(n, s);
							if (!a) return Yi.error("cms",
									"can't find fesible definition for current user, stream=" + n),
								Yi.error("cms", "user vip=[" + o.isvip + "] purview=[" + o.purview +
									"]."), void("200" != o.purview ? e.vm.emit("showVipDialog", e
									.videoInfoData) : e.vm.emit("internalError", {
									data: Iu({
										fatal: !0
									}, $i.SOURCE_DATA_FAIL)
								}));
							e.hasDrmData = "1" == e.videoInfoData.info.drmFlag, e.hasDashSource = -1 !==
								n.findIndex(function(t) {
									return "MPEG-DASH" === t.fileformat
								}), e.vm.emit("clarityData", {
									stream: n,
									def: a,
									isAutoDef: r,
									isDrm: e.hasDrmData
								}), Yi.info("cms", "find fesible definition for current user, def=[" + a
									.name + "] index=" + a.def + "."), e.vm.emitSync("startPoint",
									"step1"), e.isIntelMgtv && e.getSubtitleData(i), Hd || e.vm._config
								.useFlash || e.hasDrmData || e.hasMp4Source || e.hasDashSource ? (e
									.currrentDef = ~~a.def, e.dataFetcher.getDispatcher(e.dispatchData,
										e.currrentDef, 0).then(function(t) {
										e.loadingState = Vd.Dispatcher, e.sourceInfo = t, e.vm
											.emitSync("startPoint", "step2"), e.cdnip = Lt(e
												.sourceInfo.info).hostname, e.state == zd
											.FRONT_AD_END && e.loadVideoSource()
									})) : (e.currrentDef = ~~a.def, e.isAutoDef = r, e
									.mockMasterPlaylist(n, e.currrentDef, r))
						} else e.loadingState = Vd.Fail
					})
				}
			}, e.mockMasterPlaylist = function(t, e, i) {
				var n = this;
				if (this.levels = t.slice(0).reverse(), i || this.levels.forEach(function(t, i) {
						~~t.def === e && (n.startLevel = i)
					}), this.useFakeMasterPlaylist = !0, this.vm.emitSync("startPoint", "step2"), this.state ==
					zd.FRONT_AD_END) this.loadVideoSource();
				else {
					var r = this.getStartTime();
					this.vm.load2({
						src: "",
						playlist: this.dispatchData,
						p2p: this.vm.config.get("kernels.hls.p2p.enable", !0),
						startPosition: r,
						drmData: this.videoInfoData.drmData,
						startLevel: this.startLevel,
						box: "hls",
						cdnld: this.cdnld
					}).then(function(t) {
						n.preloadKernel = t, n.preloadKernel.kernel.on("hlsDispatcherLoaded", function(
							t) {
							n.vm.emit("hlsDispatcherLoaded", t)
						}), n.preloadKernel.kernel.on("stats", n.forwardStats)
					})
				}
			}, e.forwardStats = function(t) {
				this.vm.emit("stats", t)
			}, e.onFrontAdEnd = function(t) {
				this.state = zd.FRONT_AD_END, this.isPreFetchedVideo ? (this.sourceInfo && this
					.loadVideoSource(), this.useFakeMasterPlaylist && this.loadVideoSource()) : this
					.onVideoPrefetch(t)
			}, e.onMidAdBegin = function(t) {
				this.state = zd.MID_AD_BEGIN, this._pauseTime = t.time
			}, e.onMidAdEnd = function() {
				if (this.state = zd.MID_AD_END, !zi.get("mango-loop-open")) {
					var t = 0 !== zi.get("mango-skip-start");
					this.skipEndTime = Number(this.videoInfoData.points.end.split("|")[0]) || 0;
					var e = this._pauseTime - this.skipEndTime;
					if (t && Math.abs(e) < 3) return this.vm.stopLoad(), this.vm.pause(), this.vm.emit(
						"videoEnd"), void Yi.info(jd,
						"send player event [videoEnd] when back slice ad end.")
				}
				var i = this._pauseTime || 0,
					n = this.sourceInfo && Pt(this.sourceInfo.info),
					r = this.sourceInfo && Dt(this.sourceInfo.info);
				if (this._pauseTime = 0, this.vm._config.isIpad || this.vm._config.useFlash || n || r || this
					.isFairplay) {
					var o = this.isFairplay ? "native" : r ? "dash" : this.vm._config.useFlash ? "flash" : n ?
						"mp4" : "native";
					this.vm.load({
						src: this.sourceInfo.info,
						ratio: this.sourceInfo.ratio,
						p2p: this.vm.config.get("kernels.flash.p2p.enable", !0),
						startPosition: i,
						drmData: this.videoInfoData.drmData,
						box: o
					})
				} else this.useFakeMasterPlaylist ? this.vm.load({
					src: "",
					playlist: this.dispatchData,
					p2p: this.vm.config.get("kernels.hls.p2p.enable", !0),
					startPosition: i,
					drmData: this.videoInfoData.drmData,
					box: "hls",
					cdnld: this.cdnld
				}) : this.vm.load({
					src: this.sourceInfo.info,
					p2p: this.vm.config.get("kernels.hls.p2p.enable", !0),
					startPosition: i,
					drmData: this.videoInfoData.drmData,
					box: "hls"
				})
			}, e.onSeeking = function() {
				this.state == zd.VIDEO_PLAY && this.vm.emit("videoSeeking", {
					seektime: this.vm.currentTime,
					isCurPoint: 0,
					dragType: 1
				})
			}, e.onSeeked = function() {
				this.state == zd.VIDEO_PLAY && (Yi.info(jd, "send player event [videoDrag]."), this.vm.emit(
					"videoDrag", {
						seektime: this.vm.currentTime,
						isCurPoint: 0,
						dragType: 1
					}))
			}, e.onTimeupdate = function() {
				this.state == zd.VIDEO_PLAY && this.vm.emit("videoTimeupdate", {
					currentTime: this.vm.currentTime
				}), this.emitMockPlaying && this.emitMockPlaying()
			}, e.onEnded = function() {
				this.state != zd.FRONT_AD_BEGIN && this.state != zd.FRONT_AD_PLAY || (this.vm.emit(
						"adFragmentEnd"), Yi.info(jd, "send player event [adFragmentEnd].")), this.state != zd
					.VIDEO_PLAY && this.state != zd.VIDEO_PAUSE || (this.state = zd.VIDEO_END, this.vm.emit(
						"videoEnd"), Yi.info(jd, "send player event [videoEnd] when vido is realy end.")), this
					.state == zd.END_AD_BEGIN && (this.state = zd.END_AD_END)
			}, e.onWaiting = function() {
				this.state != zd.FRONT_AD_BEGIN && this.state != zd.FRONT_AD_PLAY ? this.state != zd
					.VIDEO_PLAY || this.vm.emit("videoWaiting") : this.vm.emit("frontAdWaiting")
			}, e.onError = function(t) {
				(void 0 === t && (t = {}), t.data = t.data || {}, t.data.url = t.data.url || this.sourceInfo &&
					this.sourceInfo.info, this.state != zd.FRONT_AD_BEGIN && this.state != zd.FRONT_AD_PLAY) ?
				this.state != zd.FRONT_AD_END && this.state != zd.VIDEO_PLAY || (("native" == this.vm.box ||
						"flash" == this.vm.box) && this.recoverVideoErrorRetry < 2 ? (Yi.info(jd,
							"trying recover from video error, retry " + this.recoverVideoErrorRetry + "."),
						t.retry = this.recoverVideoErrorRetry, this.recoverVideoError(), this
						.recoverVideoErrorRetry++, this.vm.emit("videoError", t)) : (Yi.info(jd,
							"send [videoError] event, after retry " + this.recoverVideoErrorRetry +
							" times."), t.retry = this.recoverVideoErrorRetry, t.data = t.data || {}, t.data
						.fatal = !0, this.vm.__dispatcher.kernel.destroy(), this.vm.emit("videoError", t))):
					this.vm.emit("frontAdError", t)
			}, e.onPlay = function(t) {
				var e = this;
				this.state == zd.FRONT_AD_END && (this.vm.emit("videoPlayStart"), (this.vm._config.isIpad ||
					this.vm._config.useFlash) && (this.videoPlayTimeoutTimer && clearTimeout(this
					.videoPlayTimeoutTimer), this.videoPlayTimeoutTimer = setTimeout(function() {
					Yi.info(jd, "load video source timeout, send video timeout error event.");
					var t = e.recoverVideoErrorRetry >= 2;
					e.vm.emit("error", {
						data: {
							fatal: t,
							type: "videoNetworkError",
							code: 2,
							url: e.sourceInfo.info,
							details: "timeoutError"
						}
					})
				}, 11e3)))
			}, e.onPause = function(t) {
				this.state == zd.VIDEO_PLAY && (this.state = zd.VIDEO_PAUSE, this.vm.emit("videoPause"), Yi
					.info(jd, "send player event [videoPause]."))
			}, e.onVideoWillEnd = function(t) {
				t && t.time && (this.videoWillEndTimer && clearTimeout(this.videoWillEndTimer), this
					.videoWillEndTimer = setTimeout(function() {}, 1e3 * t.time))
			}, e.onCancelVideoWillEnd = function() {
				this.videoWillEndTimer && clearTimeout(this.videoWillEndTimer)
			}, e.onVideoReplay = function() {
				this.state = zd.VIDEO_PLAY, Hd && this.vm.load({
					src: this.sourceInfo.info,
					ratio: this.sourceInfo.ratio,
					drmData: this.videoInfoData.drmData,
					box: "native"
				})
			}, e.onVideoReload = function(t) {
				t && t.preloadSuccess || (this.dashRecoverStreamErrorRetry = 0, this.recoverVideoErrorRetry = 0,
					this.currrentDef = 0, this.hasDrmData = !1, this.startLevel = -1, this
					.isPreFetchedVideo = !1, this.sourceInfo = null, this.useFakeMasterPlaylist = null, this
					.nextId = null, this.preloadKernel = null, this.cachedSubtitles = [], this.state = zd
					.IDLE, this.dataFetcher.reset(), this.vm.stopLoad(), this.vm.pause())
			}, e.onFrontAdUrls = function() {
				this.loadingState = Vd.AdUrls
			}, e.onHlsLevelSwitched = function(t) {
				if (this.levels) {
					Yi.info(jd, "Hls level switched: " + t.data.prevLevel + " ----\x3e " + t.data.level + ".");
					var e, i = this.levels[t.data.level];
					e = null === zi.get("mango-def-auto") ? 1 : ~~zi.get("mango-def-auto");
					var n = !1;
					null == t.data.prevLevel && (n = !0), this.vm.emit("clarityChanged", {
						stream: i,
						auto: e,
						silent: n
					})
				}
			}, e.onPreloadVideoPrefetch = function(t) {
				this.onVideoPrefetch(t)
			}, e.setCurrent = function() {
				this.isPreload = !1, this.vm.on("videoReload", this.onVideoReload), this.vm.emitSync(
					"nextVideoPlay", {
						video_id: this.video_id
					});
				var t = this.videoInfoData;
				this.vm.config.set({
					kernels: {
						hls: {
							p2p: {
								enable: this.p2pInitialVal
							}
						}
					}
				}), t.info && Number(t.info.duration) < 600 && this.vm.config.set({
					kernels: {
						hls: {
							p2p: {
								enable: !1
							}
						}
					}
				}), this.vm.getPaymentInfo(t.user, t.info, this.confData), this.vm.getCMSDataEvent(this
					.videoInfoData)
			}, e.bindEvent = function() {
				this.onPlaying = this.onPlaying.bind(this), this.onPlay = this.onPlay.bind(this), this.onPause =
					this.onPause.bind(this), this.onSeeking = this.onSeeking.bind(this), this.onSeeked = this
					.onSeeked.bind(this), this.onWaiting = this.onWaiting.bind(this), this.onTimeupdate = this
					.onTimeupdate.bind(this), this.onEnded = this.onEnded.bind(this), this.onError = this
					.onError.bind(this), this.onSwitchClarity = this.onSwitchClarity.bind(this), this
					.onFrontAdBegin = this.onFrontAdBegin.bind(this), this.onFrontAdEnd = this.onFrontAdEnd
					.bind(this), this.onMidAdBegin = this.onMidAdBegin.bind(this), this.onMidAdEnd = this
					.onMidAdEnd.bind(this), this.onVideoPrefetch = this.onVideoPrefetch.bind(this), this
					.onVideoWillEnd = this.onVideoWillEnd.bind(this), this.onCancelVideoWillEnd = this
					.onCancelVideoWillEnd.bind(this), this.onVideoReplay = this.onVideoReplay.bind(this), this
					.onVideoReload = this.onVideoReload.bind(this), this.onHlsLevelSwitched = this
					.onHlsLevelSwitched.bind(this), this.onRecoverDashStreamError = this
					.onRecoverDashStreamError.bind(this), this.onHlsDispatcherError = this.onHlsDispatcherError
					.bind(this), this.onFrontAdUrls = this.onFrontAdUrls.bind(this), this
					.onPreloadVideoPrefetch = this.onPreloadVideoPrefetch.bind(this), this.onSwitchSubtitle =
					this.onSwitchSubtitle.bind(this)
			}, e.bindEventsBefore = function() {
				this.vm.on("fontAdUrls", this.onFrontAdUrls), this.isPreload ? this.vm.on(
						"preloadVideoPrefetch", this.onPreloadVideoPrefetch) : this.vm.on("videoReload", this
						.onVideoReload), this.vm.on("videoPrefetch", this.onVideoPrefetch), this.vm.on(
						"dashRecoverStreamError", this.onRecoverDashStreamError), this.vm.on("hlsLevelSwitched",
						this.onHlsLevelSwitched), this.vm.on("frontAdBegin", this.onFrontAdBegin), this.vm.on(
						"frontAdEnd", this.onFrontAdEnd), this.vm.on("timeupdate", this.onTimeupdate), this.vm
					.on("ended", this.onEnded), this.vm.on("error", this.onError), this.vm.on("playing", this
						.onPlaying), this.vm.on("play", this.onPlay), this.vm.on("switchSubtitle", this
						.onSwitchSubtitle)
			}, e.bindEventsAfter = function() {
				this.vm.on("videoReplay", this.onVideoReplay), this.vm.on("videoRefresh", this.onVideoReplay),
					this.vm.on("videoWillEnd", this.onVideoWillEnd), this.vm.on("cancelVideoWillEnd", this
						.onCancelVideoWillEnd), this.vm.on("midAdBegin", this.onMidAdBegin), this.vm.on(
						"midAdEnd", this.onMidAdEnd), this.vm.on("switchClarity", this.onSwitchClarity), this.vm
					.on("pause", this.onPause), this.vm.on("seeking", this.onSeeking), this.vm.on("seeked", this
						.onSeeked), this.vm.on("waiting", this.onWaiting)
			}, e.removeEvents = function() {
				this.vm.off("playing", this.onPlaying), this.vm.off("play", this.onPlay), this.vm.off("pause",
						this.onPause), this.vm.off("seeking", this.onSeeking), this.vm.off("seeked", this
						.onSeeked), this.vm.off("waiting", this.onWaiting), this.vm.off("timeupdate", this
						.onTimeupdate), this.vm.off("ended", this.onEnded), this.vm.off("error", this.onError),
					this.vm.off("switchClarity", this.onSwitchClarity), this.vm.off("frontAdBegin", this
						.onFrontAdBegin), this.vm.off("frontAdEnd", this.onFrontAdEnd), this.vm.off(
						"midAdBegin", this.onMidAdBegin), this.vm.off("midAdEnd", this.onMidAdEnd), this.vm.off(
						"videoPrefetch", this.onVideoPrefetch), this.vm.off("videoWillEnd", this
					.onVideoWillEnd), this.vm.off("cancelVideoWillEnd", this.onCancelVideoWillEnd), this.vm.off(
						"videoReplay", this.onVideoReplay), this.vm.off("videoRefresh", this.onVideoReplay),
					this.vm.off("videoReload", this.onVideoReload), this.vm.off("hlsLevelSwitched", this
						.onHlsLevelSwitched), this.vm.off("dashRecoverStreamError", this
						.onRecoverDashStreamError), this.vm.off("hlsDispatcherError", this
					.onHlsDispatcherError), this.vm.off("fontAdUrls", this.onFrontAdUrls), this.vm.off(
						"preloadVideoPrefetch", this.onPreloadVideoPrefetch), this.vm.off("switchSubtitle", this
						.onSwitchSubtitle)
			}, e.destroy = function() {
				this.removeEvents(), delete this.videoInfoData, delete this.dispatchData, delete this.sourceInfo
			}, Lu([Kc], t.prototype, "forwardStats", null), t
		}(),
		qd = (($d = {
			error_videoinfo_video_offline: {
				code: "101401",
				msg: "抱歉, 该视频已下线"
			},
			error_videoinfo_video_not_exist: {
				code: "101402",
				msg: "抱歉, 该视频不存在"
			},
			error_videoinfo_copyright_mangotv: {
				code: "101403",
				msg: "因版权限制, 请到芒果互联网电视观看该视频"
			},
			error_videoinfo_copyright_app: {
				code: "101404",
				msg: "因版权限制, 请前往APP观看该视频"
			},
			error_videoinfo_copyright_illegal_area: {
				code: "101405",
				msg: "因版权限制, 该视频暂不提供本国家/地区播放"
			},
			error_videoinfo_retrieve_failure: {
				code: "101501",
				msg: "视频信息获取失败"
			},
			error_videoinfo_not_exist: {
				code: "101502",
				msg: "媒资信息不存在"
			},
			error_videoinfo_parameter_error: {
				code: "101301",
				msg: "参数错误"
			},
			error_videoinfo_ip_authority_failure: {
				code: "101302",
				msg: "IP鉴权失败"
			},
			error_videoinfo_pm2_check_failure: {
				code: "101303",
				msg: "加密串校验参数错误"
			},
			error_videoinfo_resolve_no_stream: {
				code: "102100",
				msg: "无播放清晰度, stream 字段为空"
			},
			error_videoinfo_timeout: {
				code: "103600",
				msg: "一层接口请求超时"
			},
			error_dispatcher_resolve_no_url: {
				code: "202001",
				msg: "二层接口未返回url地址"
			},
			error_dispatcher_resolve_invalid_url: {
				code: "202002",
				msg: "二层接口返回的url地址为"
			},
			error_dispatcher_timeout: {
				code: "203600",
				msg: "二层接口请求超时"
			},
			error_cdn_hls_master_video_not_exist: {
				code: "301404",
				msg: "视频文件不存在"
			},
			error_cdn_hls_master_video_no_authority: {
				code: "301403",
				msg: "视频文件无权限访问"
			},
			error_cdn_hls_master_m3u8_500: {
				code: "301500",
				msg: "master m3u8文件请求遇到500错误"
			},
			error_cdn_hls_master_m3u8_501: {
				code: "301501",
				msg: "master m3u8文件请求遇到501错误"
			},
			error_cdn_hls_master_m3u8_502: {
				code: "301502",
				msg: "master m3u8文件请求遇到502错误"
			},
			error_cdn_hls_master_m3u8_timeout: {
				code: "3016XX",
				msg: "master m3u8文件TCP请求超时"
			},
			error_cdn_hls_level_video_not_exist: {
				code: "310404",
				msg: "视频文件不存在"
			},
			error_cdn_hls_level_video_no_authority: {
				code: "310403",
				msg: "视频文件无权限访问"
			},
			error_cdn_hls_level_m3u8_500: {
				code: "310500",
				msg: "level m3u8文件请求遇到500错误"
			},
			error_cdn_hls_level_m3u8_501: {
				code: "310501",
				msg: "level m3u8文件请求遇到501错误"
			},
			error_cdn_hls_level_m3u8_502: {
				code: "310502",
				msg: "level m3u8文件请求遇到502错误"
			},
			error_cdn_hls_level_m3u8_timeout: {
				code: "310600",
				msg: "level m3u8文件TCP请求超时"
			},
			error_cdn_hls_level_switch_error: {
				code: "310701",
				msg: "切换清晰度出现 levelSwitchError 错误"
			},
			error_cdn_hls_m3u8_parsing_error: {
				code: "302000",
				msg: "m3u8文件校验解析错误"
			},
			error_cdn_hls_m3u8_video_format_error: {
				code: "302001",
				msg: "视频文件格式错误导致解析失败"
			},
			error_cdn_hls_m3u8_hash_check_failure: {
				code: "302002",
				msg: "一致性hash校验不成功，m3u8文件下载不完整或者被篡改"
			},
			error_cdn_hls_m3u8_ts_index_null: {
				code: "302003",
				msg: "ts文件索引为空"
			},
			error_cdn_hls_m3u8_codec_not_support: {
				code: "303000",
				msg: "m3u8文件中声明了不支持的音视频格式"
			},
			error_cdn_hls_ts_video_not_exist: {
				code: "304404",
				msg: "视频文件不存在"
			},
			error_cdn_hls_ts_video_no_authority: {
				code: "304403",
				msg: "视频文件无权限访问"
			},
			error_cdn_hls_ts_500: {
				code: "304500",
				msg: "TS文件请求遇到500错误"
			},
			error_cdn_hls_ts_501: {
				code: "304501",
				msg: "TS文件请求遇到501错误"
			},
			error_cdn_hls_ts_502: {
				code: "304502",
				msg: "TS文件请求遇到502错误"
			},
			error_cdn_hls_ts_timeout: {
				code: "304600",
				msg: "在超时时长内ts数据没有下载完成"
			},
			error_cdn_hls_ts_client_network: {
				code: "304700",
				msg: "客户端网络错误，TS请求失败"
			},
			error_cdn_hls_fragdecrypt: {
				code: "305000",
				msg: "解码TS文件中的音视频数据出错 (fragDecryptError)"
			},
			error_cdn_hls_fragparsingeerror: {
				code: "305001",
				msg: "TS片段解析出错"
			},
			error_cdn_hls_remuxalloc: {
				code: "305002",
				msg: "解码过程中遇到浏览器内存不足，无法分配内存 (remuxAllocError)"
			},
			error_cdn_hls_bufferaddcodec: {
				code: "305003",
				msg: "将sourceBuffer对象添加到MediaSource对象时遇到异常（bufferAddCodecError）"
			},
			error_cdn_hls_bufferappending: {
				code: "305004",
				msg: "追加buffer的过程中遇到错误(bufferAppendingError)"
			},
			error_cdn_hls_bufferappend: {
				code: "305005",
				msg: "追加buffer的之后遇到错误(bufferAppendError)"
			},
			error_cdn_hls_buffernudgeonstall: {
				code: "306000",
				msg: "播放过程中buffer存在间隙导致卡顿 (bufferNudgeOnStall)"
			},
			error_cdn_hls_unknown: {
				code: "309000",
				msg: "其他未知的错误"
			},
			error_cdn_dash_mpd_404: {
				code: "311404",
				msg: "获取mpd文件的请求返回404错误"
			},
			error_cdn_dash_mpd_403: {
				code: "311403",
				msg: "获取mpd文件的请求返回403错误"
			},
			error_cdn_dash_mpd_500: {
				code: "311500",
				msg: "获取mpd文件的请求返回500错误"
			},
			error_cdn_dash_mpd_timeout: {
				code: "311600",
				msg: "mpd文件请求超时"
			},
			error_cdn_dash_mpd_resolve_failure: {
				code: "312001",
				msg: "mpd文件解析失败"
			},
			error_cdn_dash_mpd_resolve_url_failure: {
				code: "312002",
				msg: "通用URL解析错误"
			},
			error_cdn_dash_mpd_resolve_no_duration: {
				code: "312003",
				msg: "mpd文件不包含时长信息"
			},
			error_cdn_dash_mpd_resolve_codec_not_support: {
				code: "312004",
				msg: "mpd文件codec类型不支持"
			},
			error_cdn_dash_mpd_resolve_no_valid_stream: {
				code: "312005",
				msg: "mpd不包含可用的流信息"
			},
			error_cdn_dash_mpd_resolve_text_file_failure: {
				code: "312100",
				msg: "TTML或者VTT等文本文件解析失败"
			},
			error_cdn_dash_mpd_resolve_muxed_detected: {
				code: "312200",
				msg: "检测到 `muxed` 类型的媒体类型"
			},
			error_cdn_dash_xlink_404: {
				code: "313404",
				msg: "获取xlink文件的请求返回404错误"
			},
			error_cdn_dash_xlink_403: {
				code: "313403",
				msg: "获取xlink文件的请求返回403错误"
			},
			error_cdn_dash_xlink_500: {
				code: "313500",
				msg: "获取xlink文件的请求返回500错误"
			},
			error_cdn_dash_xlink_timeout: {
				code: "313600",
				msg: "xlink文件请求超时"
			},
			error_cdn_dash_representation_abnormal: {
				code: "314001",
				msg: "representation异常 "
			},
			error_cdn_dash_representation_update_abnormal: {
				code: "314002",
				msg: "representation更新异常"
			},
			error_cdn_dash_fragment_404: {
				code: "315404",
				msg: "获取片段文件的请求返回404错误"
			},
			error_cdn_dash_fragment_403: {
				code: "315403",
				msg: "获取片段文件的请求返回403错误"
			},
			error_cdn_dash_fragment_500: {
				code: "315500",
				msg: "获取片段文件的请求返回500错误"
			},
			error_cdn_dash_fragment_timeout: {
				code: "315600",
				msg: "片段文件请求超时"
			},
			error_cdn_dash_buffer_append: {
				code: "316001",
				msg: "追加缓存遇到错误"
			},
			error_cdn_dash_buffer_remove: {
				code: "316002",
				msg: "移除缓存遇到错误"
			},
			error_cdn_dash_buffer_update: {
				code: "316003",
				msg: "缓存数据更新时遇到错误"
			},
			error_cdn_dash_mse_not_support: {
				code: "317001",
				msg: "浏览器不支持MSE"
			},
			error_cdn_dash_eme_not_support: {
				code: "317002",
				msg: "浏览器不支持EME"
			},
			error_cdn_dash_codec_not_support: {
				code: "317003",
				msg: "浏览器不支持的视频编码"
			},
			error_cdn_dash_mpd_download: {
				code: "318001",
				msg: "mpd文件下载错误"
			},
			error_cdn_dash_xlink_download: {
				code: "318002",
				msg: "xlink文件下载错误"
			},
			error_cdn_dash_initsegment_download: {
				code: "318003",
				msg: "initSegment文件下载错误"
			},
			error_cdn_dash_segment_download: {
				code: "318004",
				msg: "indexSegment和mediaSegment和bitStreamSwitchingSegment的文件的下载错误"
			},
			error_cdn_dash_drm_key_common: {
				code: "319100",
				msg: "通用的key错误类型"
			},
			error_cdn_dash_drm_key: {
				code: "319101",
				msg: "key错误类型"
			},
			error_cdn_dash_drm_key_client: {
				code: "319102",
				msg: "客户端相关的key错误"
			},
			error_cdn_dash_drm_key_service: {
				code: "319103",
				msg: "服务相关的key错误"
			},
			error_cdn_dash_drm_key_output: {
				code: "319104",
				msg: "输出相关的key错误"
			},
			error_cdn_dash_drm_key_hardware: {
				code: "319105",
				msg: "硬件相关的key错误"
			},
			error_cdn_dash_drm_key_domain: {
				code: "319106",
				msg: "域名相关的key错误"
			},
			error_cdn_dash_drm_keymessage: {
				code: "319107",
				msg: "keymessage事件发生错误"
			},
			error_cdn_dash_drm_keymessage_challenge: {
				code: "319108",
				msg: "keymessage事件中challenge无效"
			},
			error_cdn_dash_drm_cert_update_failure: {
				code: "319109",
				msg: "证书未成功更新"
			},
			error_cdn_dash_drm_cert_expire: {
				code: "319110",
				msg: "证书过期"
			},
			error_cdn_dash_drm_cert_server_url_null: {
				code: "319111",
				msg: "认证服务器url为空"
			},
			error_cdn_dash_drm_keysystem_denied: {
				code: "319112",
				msg: "keySystem 访问被拒绝"
			},
			error_cdn_dash_drm_keysesstion_create: {
				code: "319113",
				msg: "keySession 创建失败"
			},
			error_cdn_dash_drm_cert_after_keymessage: {
				code: "319114",
				msg: "keymessage事件触发后证书请求出错"
			},
			error_cdn_dash_other_error: {
				code: "320000",
				msg: "unknown dash cdn error"
			},
			error_cdn_fairplay_keysystem_browser_version: {
				code: "325001",
				msg: "浏览器版本不支持当前指定的keySystem类型"
			},
			error_cdn_fairplay_keysystem_mediakeys: {
				code: "325002",
				msg: "创建MediaKeys遇到错误"
			},
			error_cdn_fairplay_keysystem_keysession: {
				code: "325003",
				msg: "创建KeySession时遇到错误"
			},
			error_cdn_fairplay_keysession_webkitkeyerror: {
				code: "325004",
				msg: "KeySession对象抛出 webkitkeyerror 事件"
			},
			error_cdn_fairplay_cert_404: {
				code: "326404",
				msg: "获取cert的请求返回404错误"
			},
			error_cdn_fairplay_cert_403: {
				code: "326403",
				msg: "获取cert的请求返回403错误"
			},
			error_cdn_fairplay_cert_500: {
				code: "326500",
				msg: "获取cert的请求返回500错误"
			},
			error_cdn_fairplay_cert_timeout: {
				code: "326600",
				msg: "cert请求超时"
			},
			error_cdn_fairplay_license_404: {
				code: "327404",
				msg: "获取license的请求返回404错误"
			},
			error_cdn_fairplay_license_403: {
				code: "327403",
				msg: "获取license的请求返回403错误"
			},
			error_cdn_fairplay_license_500: {
				code: "327500",
				msg: "获取license的请求返回500错误"
			},
			error_cdn_fairplay_license_timeout: {
				code: "327600",
				msg: "license请求超时"
			},
			error_cdn_vanilla_close_downlowd: {
				code: "330001",
				msg: "下载过程中被用户终止"
			},
			error_cdn_vanilla_network: {
				code: "330002",
				msg: "网络加载错误或者超时"
			},
			error_cdn_vanilla_decode: {
				code: "330003",
				msg: "解码时遇到错误"
			},
			error_cdn_vanilla_format_not_support: {
				code: "330004",
				msg: "不支持的音视频格式"
			},
			error_cdn_vanilla_encrypted_media: {
				code: "330005",
				msg: "加密媒体错误"
			},
			error_cdn_vanilla_unknown: {
				code: "330006",
				msg: "其他未知错误"
			},
			error_cdn_flv_network: {
				code: "340100",
				msg: "网络连接错误"
			},
			error_cdn_flv_decode: {
				code: "340101",
				msg: "解码错误"
			},
			error_cdn_flv_seek: {
				code: "340102",
				msg: "无法seek导致报错"
			},
			error_cdn_flv_stream_close: {
				code: "340103",
				msg: "播放遇到流结束"
			},
			error_cdn_flv_media_source: {
				code: "340104",
				msg: "媒体文件错误"
			},
			error_cdn_flv_source_buffer: {
				code: "340105",
				msg: "流错误"
			},
			error_cdn_flv_source_buffer_abort: {
				code: "340106",
				msg: "SBABORT"
			},
			error_cdn_flv_buffer_append: {
				code: "340107",
				msg: "追加流数据报错"
			},
			error_cdn_flv_unknown: {
				code: "340200",
				msg: "其他未知错误"
			},
			error_cdn_mp4_metadata_resolve: {
				code: "350001",
				msg: "metadata解析错误"
			},
			error_cdn_mp4_codec_not_support: {
				code: "350002",
				msg: "不支持的codecs编码格式"
			},
			error_cdn_mp4_fragment_loop: {
				code: "350003",
				msg: "fragment循环加载错误"
			},
			error_cdn_mp4_fragment_decode: {
				code: "350004",
				msg: "fragment解码错误"
			},
			error_cdn_mp4_fragment_resolve: {
				code: "350005",
				msg: "fragment解析错误"
			},
			error_cdn_mp4_alloc: {
				code: "350006",
				msg: "内存分配错误"
			},
			error_cdn_mp4_add_source_buffer: {
				code: "350007",
				msg: "添加sourceBuffer遇到错误"
			},
			error_cdn_mp4_buffer_fill: {
				code: "350008",
				msg: "填流错误"
			},
			error_cdn_mp4_buffer_filling: {
				code: "350009",
				msg: "填流中错误"
			},
			error_cdn_mp4_caton: {
				code: "350010",
				msg: "播放卡顿错误"
			},
			error_cdn_mp4_other_internal: {
				code: "350100",
				msg: "其他内部位置错误"
			},
			error_cdn_interactive_fragment_404: {
				code: "370404",
				msg: "获取片段文件的请求返回404错误"
			},
			error_cdn_interactive_fragment_403: {
				code: "370403",
				msg: "获取片段文件的请求返回403错误"
			},
			error_cdn_interactive_fragment_500: {
				code: "370500",
				msg: "获取片段文件的请求返回500错误"
			},
			error_cdn_interactive_fragment_timeout: {
				code: "370600",
				msg: "片段文件请求超时"
			}
		}).error_cdn_interactive_fragment_404 = {
			code: "373001",
			msg: "分支视频播放出错"
		}, $d.getError = function(t) {
			var e, i, n = g(qd).filter(function(e) {
				return qd[e].code && qd[e].code == t
			});
			if (n.length > 0) return qd[n[0]];
			switch (i = "", (e = t.toString()).substr(0, 3)) {
				case "201":
					i = "Dispatcher请求失败";
					break;
				case "307":
					i = "m3u8文件DRM解密错误";
					break;
				case "311":
					i = "获取mpd文件的请求返回 " + e.substr(3) + " 错误";
					break;
				case "313":
					i = "获取xlink文件的请求返回 " + e.substr(3) + " 错误";
					break;
				case "315":
					i = "获取片段文件的请求返回 " + e.substr(3) + " 错误";
					break;
				case "326":
					i = "获取证书（cert）的请求返回 " + e.substr(3) + " 错误 ";
					break;
				case "327":
					i = "获取证书（license）的请求返回 " + e.substr(3) + " 错误 ";
					break;
				case "372":
					i = "缓存分支视频出错";
					break;
				case "410":
					i = "信令服务连接错误"
			}
			switch (e.substr(0, 4)) {
				case "3014":
				case "3015":
					i = "master m3u8文件请求出现 " + e.substr(3) + " 错误";
					break;
				case "3016":
					i = "master m3u8文件TCP请求超时";
					break;
				case "3104":
				case "3105":
					i = "level m3u8文件请求出现 " + e.substr(3) + " 错误";
					break;
				case "3106":
					i = "level m3u8文件TCP请求超时";
					break;
				case "3044":
				case "3045":
					i = "TS文件请求出现 " + e.substr(3) + " 错误"
			}
			return {
				code: e,
				msg: i
			}
		}, $d),
		Gd = {
			init: "0",
			pv: "a",
			cmsbegin: "b",
			cmsend: "c",
			routebegin: "d",
			routeend: "e",
			streambegin: "f",
			adinit: "g",
			adfrontbegin: "h",
			adfrontend: "i",
			adbegin: "j",
			adend: "k",
			play: "l",
			stop: "m",
			pause: "n",
			resume: "o",
			forward: "p",
			backward: "q",
			drag: "r",
			hb: "s",
			next: "t",
			buffer: "u",
			openfscreen: "v",
			closefscreen: "w",
			replay: "x",
			refresh: "y",
			reload: "z"
		},
		Kd = {
			LogEvent: {
				ACT_PV: "pv",
				ACT_CMSBEGIN: "cmsbegin",
				ACT_CMSEND: "cmsend",
				ACT_ROUTEBEGIN: "routebegin",
				ACT_ROUTEEND: "routeend",
				ACT_STREAMBEGIN: "streambegin",
				ACT_ADINIT: "adinit",
				ACT_AD_FRONT_BEGIN: "adfrontbegin",
				ACT_AD_FRONT_END: "adfrontend",
				ACT_ADBEGIN: "adbegin",
				ACT_ADEND: "adend",
				ACT_PLAY: "play",
				ACT_STOP: "stop",
				ACT_PAUSE: "pause",
				ACT_RESUME: "resume",
				ACT_FORWARD: "forward",
				ACT_BACKWARD: "backward",
				ACT_DRAG: "drag",
				ACT_HEARTBEAT: "hb",
				ACT_LIVE_HEARTBEAT: "heartbeat",
				ACT_NEXT: "next",
				ACT_OPENFSCREEN: "openfscreen",
				ACT_CLOSEFSCREEN: "closefscreen",
				ACT_CHANGEFSCREEN: "changefscreen",
				ACT_SHARE: "share",
				ACT_TOVIP: "noad",
				ACT_POPCLICK: "popclick",
				ACT_POPCLOSE: "popclose",
				ACT_VOICE: "voice",
				ACT_DEFINITION: "definition",
				ACT_SCALE: "scale",
				ACT_BRIGHTNESS: "brightness",
				ACT_CONTRAST: "contrast",
				ACT_SKIP: "skip",
				ACT_SEARCH: "psearch",
				ACT_BUFFER: "buffer",
				ACT_EXIT_CODE: "exit",
				ACT_ERROR_CODE: "er",
				ACT_P2P: "h5p2p"
			},
			LogParam: {
				PARAM_TIME: "time",
				PARAM_VERSION: "pver",
				PARAM_CVERSION: "cver",
				PARAM_SUUID: "suuid",
				PARAM_GUID: "guid",
				PARAM_URL: "url",
				PARAM_COOKIE: "cookie",
				PARAM_UUID: "uuid",
				PARAM_CH: "ch",
				PARAM_SESSIONID: "sessionid",
				PARAM_ACT: "act",
				PARAM_BID: "bid",
				PARAM_IDX: "idx",
				PARAM_REF: "ref",
				PARAM_PT: "pt",
				PARAM_CF: "cf",
				PARAM_CT: "ct",
				PARAM_ET: "et",
				PARAM_TD: "td",
				PARAM_VTS: "vts",
				PARAM_VID: "vid",
				PARAM_PLID: "plid",
				PARAM_CID: "cid",
				PARAM_CDNIP: "cdnip",
				PARAM_PURL: "purl",
				PARAM_PAY: "pay",
				PARAM_AP: "ap",
				PARAM_DEF: "def",
				PARAM_PSTATUS: "pstatus",
				PARAM_ISTRY: "istry",
				PARAM_BDID: "bdid",
				PARAM_EXT1: "ext1",
				PARAM_EXT2: "ext2",
				PARAM_EXT3: "ext3",
				PARAM_EXT4: "ext4",
				PARAM_EXT5: "ext5",
				PARAM_EXT6: "ext6",
				PARAM_EXT7: "ext7",
				PARAM_BFTYPE: "bftype",
				PARAM_HT: "ht",
				PARAM_BSID: "bsid",
				PARAM_CPN: "cpn",
				PARAM_CP: "cp",
				PARAM_UVIP: "uvip",
				PARAM_NFID: "nfid",
				PARAM_RDC: "rdc",
				PARAM_WVER: "wver",
				PARAM_MP: "mp",
				PARAM_PIX: "pix",
				PARAM_ABROAD: "abroad",
				PARAM_SRC: "src"
			},
			RequestType: {
				CMS: 10,
				DISPATCHER: 20,
				CDN: 30,
				GETSOURCE: 40
			},
			ReportError: qd,
			ActionEvents: Gd,
			parseAction: function(t) {
				for (var e, i = t.split(""), n = [], r = u(i); !(e = r()).done;)
					for (var o, s = e.value, a = u(Gd); !(o = a()).done;) {
						var h = o.value,
							c = Gd[h];
						c == s && n.push(h)
					}
				return n.join("--\x3e")
			}
		};
	var Yd = Kd.LogParam,
		Xd = Kd.RequestType,
		Zd = "//v1-play.log.mgtv.com/info.php?",
		Qd = /iPad/i.test(navigator.userAgent),
		Jd = function() {
			function t(t) {
				this.init(t)
			}
			var e = t.prototype;
			return e.init = function(t) {
				this.config = t || this.config, this.method = this.config.method, this.videoUrl = "", this.p2p =
					this.config.p2p, this.mHeartBeatTimerTicker = 0, this.mBufferEmpty = 0, this
					.mHeartBeatTimeValue = 3e5, this.mVideoPlayTime = 0, this.commonParams = {}, this
					.commonParams.p = Qd ? "5" : "13", this.commonParams.t = this.config.isLive ? "1" : "0",
					this.commonParams.cv = "20170105", this.commonParams.v = "imgotv-" + this.config.pcore +
					"-" + this.config.pver + (this.p2p ? ".1" : ""), this.commonParams.c = 1, this.commonParams
					.pt = 4, this.commonParams.st = this.config.subtype || "", this.commonParams.ld = this
					.method.getSessionId(), this.commonParams.abroad = this.config.abroad, this.commonParams
					.src = this.config.isIntelMgtv ? "intelmgtv" : "mgtv", this.setA(0), this.setU(), this
					.canPlayParams = {}, this.canPlayParams[Yd.PARAM_BID] = Qd ? "1.1.26" : "1.1.90", this
					.canPlayParams[Yd.PARAM_SUUID] = Rt(this, "config.lobparam.suuid"), this.canPlayParams[Yd
						.PARAM_COOKIE] = this.method.getCookie(), this.canPlayParams[Yd.PARAM_CH] = this.method
					.getCxid(), this.canPlayParams[Yd.PARAM_URL] = document.location.href || "", this
					.canPlayParams[Yd.PARAM_REF] = Rt(this, "config.lobparam.ref"), this.canPlayParams[Yd
						.PARAM_MP] = 0, this.canPlayParams[Yd.PARAM_SESSIONID] = this.method.getSessionId(),
					this.canPlayParams[Yd.PARAM_WVER] = this.config.wver, this.sendHeartbeat = this
					._sendHeartbeat.bind(this)
			}, e.setPCore = function(t, e) {
				this.config.pcore = t, this.config.p2p = e, this.commonParams.v = "imgotv-" + this.config
					.pcore + "-" + this.config.pver + (e ? ".1" : "")
			}, e.setV = function(t) {
				this.commonParams.v = t
			}, e.setU = function() {
				this.commonParams.u = this.method.getGUID()
			}, e.setB = function(t) {
				this.commonParams.b = t
			}, e.setA = function(t) {
				this.commonParams.a = t
			}, e.start = function() {
				this.startHeartbeat()
			}, e.bufferEmptyCount = function() {
				this.mBufferEmpty++, 1 == this.mBufferEmpty && this.sendFirstBuffer()
			}, e.setVideoUrl = function(t) {
				this.videoUrl = this.videoUrl || t.h
			}, e.stop = function() {
				this.sendPlayComplete(), this.stopHeartbeat()
			}, e.startHeartbeat = function() {
				0 == this.mHeartBeatTimerTicker && (this.mHeartBeatTimerTicker = setInterval(this.sendHeartbeat,
					this.mHeartBeatTimeValue), this.sendHeartbeat())
			}, e.stopHeartbeat = function() {
				clearInterval(this.mHeartBeatTimerTicker), this.mHeartBeatTimerTicker = 0, this.mBufferEmpty = 0
			}, e.sendFirstBuffer = function() {
				var t = {};
				if (this.videoUrl) {
					t.f = this.mBufferEmpty, t.r = "0", t.o = this.mVideoPlayTime;
					var e = this.method.parseURL(this.videoUrl);
					t.h = e.host, t.l = e.relative, this.sendLog(Zd, t)
				}
			}, e._sendHeartbeat = function() {
				var t = {};
				if (this.videoUrl) {
					t.f = this.mBufferEmpty, t.r = "1";
					var e = this.method.parseURL(this.videoUrl);
					t.h = e.host, t.l = e.relative, this.sendLog(Zd, t), this.mBufferEmpty = 0
				}
			}, e.sendError = function(t) {
				var e = {};
				if (this.videoUrl) {
					var i = this.method.parseURL(this.videoUrl);
					e.h = i.host, e.l = i.relative, e.f = "1", e.r = t.r || "2", e.e = t.code, e.o = this
						.mVideoPlayTime, this.sendLog(Zd, e)
				}
			}, e.sendPlayComplete = function() {
				var t = {};
				if (this.videoUrl) {
					var e = this.method.parseURL(this.videoUrl);
					t.h = e.host, t.l = e.relative, t.f = this.mBufferEmpty, t.r = "3", t.o = this
						.mVideoPlayTime, this.sendLog(Zd, t)
				}
			}, e.sendRequestResult = function(t) {
				var e = {};
				if (e.s = this.createS(t.type), e.f = t.f, t.h) {
					var i = this.method.parseURL(t.h);
					e.h = i.host, e.l = i.relative
				}
				for (var n in null != t.a && (this.commonParams.a = t.a), e.si = this.method.findSI(t.h), t
						.code && (e.e = t.code), e.z = t.z, e.type = Number(e.s) - 1, e.time = this.method
						.getTime(), this.canPlayParams) e[n] = this.canPlayParams[n];
				t.timing && (e.ex = encodeURIComponent("timing=" + t.timing)), this.sendLog(
					"//v2.log.mgtv.com/info.php?", e)
			}, e.createS = function(t) {
				var e = "";
				switch (t) {
					case Xd.CMS:
						e = "10";
						break;
					case Xd.GETSOURCE:
						e = "1";
						break;
					case Xd.DISPATCHER:
						e = "2";
						break;
					case Xd.CDN:
						e = "3"
				}
				return e
			}, e.sendLog = function(t, e) {
				var i = m({}, this.commonParams, e);
				un(t + this.method.params(i))
			}, n(t, [{
				key: "VideoPlayTime",
				set: function(t) {
					this.mVideoPlayTime = t
				}
			}]), t
		}(),
		tf = st(function(t) {
			var e, i;
			e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", i = {
				rotl: function(t, e) {
					return t << e | t >>> 32 - e
				},
				rotr: function(t, e) {
					return t << 32 - e | t >>> e
				},
				endian: function(t) {
					if (t.constructor == Number) return 16711935 & i.rotl(t, 8) | 4278255360 & i.rotl(t,
						24);
					for (var e = 0; e < t.length; e++) t[e] = i.endian(t[e]);
					return t
				},
				randomBytes: function(t) {
					for (var e = []; t > 0; t--) e.push(Math.floor(256 * Math.random()));
					return e
				},
				bytesToWords: function(t) {
					for (var e = [], i = 0, n = 0; i < t.length; i++, n += 8) e[n >>> 5] |= t[i] << 24 -
						n % 32;
					return e
				},
				wordsToBytes: function(t) {
					for (var e = [], i = 0; i < 32 * t.length; i += 8) e.push(t[i >>> 5] >>> 24 - i %
						32 & 255);
					return e
				},
				bytesToHex: function(t) {
					for (var e = [], i = 0; i < t.length; i++) e.push((t[i] >>> 4).toString(16)), e
						.push((15 & t[i]).toString(16));
					return e.join("")
				},
				hexToBytes: function(t) {
					for (var e = [], i = 0; i < t.length; i += 2) e.push(parseInt(t.substr(i, 2), 16));
					return e
				},
				bytesToBase64: function(t) {
					for (var i = [], n = 0; n < t.length; n += 3)
						for (var r = t[n] << 16 | t[n + 1] << 8 | t[n + 2], o = 0; o < 4; o++) 8 * n +
							6 * o <= 8 * t.length ? i.push(e.charAt(r >>> 6 * (3 - o) & 63)) : i.push(
								"=");
					return i.join("")
				},
				base64ToBytes: function(t) {
					t = t.replace(/[^A-Z0-9+\/]/gi, "");
					for (var i = [], n = 0, r = 0; n < t.length; r = ++n % 4) 0 != r && i.push((e
							.indexOf(t.charAt(n - 1)) & Math.pow(2, -2 * r + 8) - 1) << 2 * r | e
						.indexOf(t.charAt(n)) >>> 6 - 2 * r);
					return i
				}
			}, t.exports = i
		}),
		ef = {
			utf8: {
				stringToBytes: function(t) {
					return ef.bin.stringToBytes(unescape(encodeURIComponent(t)))
				},
				bytesToString: function(t) {
					return decodeURIComponent(escape(ef.bin.bytesToString(t)))
				}
			},
			bin: {
				stringToBytes: function(t) {
					for (var e = [], i = 0; i < t.length; i++) e.push(255 & t.charCodeAt(i));
					return e
				},
				bytesToString: function(t) {
					for (var e = [], i = 0; i < t.length; i++) e.push(String.fromCharCode(t[i]));
					return e.join("")
				}
			}
		},
		nf = ef,
		rf = function(t) {
			return null != t && ( of (t) || function(t) {
				return "function" == typeof t.readFloatLE && "function" == typeof t.slice && of (t.slice(0,
					0))
			}(t) || !!t._isBuffer)
		};

	function of (t) {
		return !!t.constructor && "function" == typeof t.constructor.isBuffer && t.constructor.isBuffer(t)
	}
	var sf = st(function(t) {
			var e, i, n, r, o;
			e = tf, i = nf.utf8, n = rf, r = nf.bin, (o = function(t, s) {
				t.constructor == String ? t = s && "binary" === s.encoding ? r.stringToBytes(t) : i
					.stringToBytes(t) : n(t) ? t = Array.prototype.slice.call(t, 0) : Array.isArray(
					t) || t.constructor === Uint8Array || (t = t.toString());
				for (var a = e.bytesToWords(t), h = 8 * t.length, c = 1732584193, u = -271733879, l = -
						1732584194, d = 271733878, f = 0; f < a.length; f++) a[f] = 16711935 & (a[f] <<
					8 | a[f] >>> 24) | 4278255360 & (a[f] << 24 | a[f] >>> 8);
				a[h >>> 5] |= 128 << h % 32, a[14 + (h + 64 >>> 9 << 4)] = h;
				var p = o._ff,
					m = o._gg,
					v = o._hh,
					g = o._ii;
				for (f = 0; f < a.length; f += 16) {
					var y = c,
						_ = u,
						b = l,
						w = d;
					c = p(c, u, l, d, a[f + 0], 7, -680876936), d = p(d, c, u, l, a[f + 1], 12, -
							389564586), l = p(l, d, c, u, a[f + 2], 17, 606105819), u = p(u, l, d, c, a[
							f + 3], 22, -1044525330), c = p(c, u, l, d, a[f + 4], 7, -176418897), d = p(
							d, c, u, l, a[f + 5], 12, 1200080426), l = p(l, d, c, u, a[f + 6], 17, -
							1473231341), u = p(u, l, d, c, a[f + 7], 22, -45705983), c = p(c, u, l, d,
							a[f + 8], 7, 1770035416), d = p(d, c, u, l, a[f + 9], 12, -1958414417), l =
						p(l, d, c, u, a[f + 10], 17, -42063), u = p(u, l, d, c, a[f + 11], 22, -
							1990404162), c = p(c, u, l, d, a[f + 12], 7, 1804603682), d = p(d, c, u, l,
							a[f + 13], 12, -40341101), l = p(l, d, c, u, a[f + 14], 17, -1502002290),
						c = m(c, u = p(u, l, d, c, a[f + 15], 22, 1236535329), l, d, a[f + 1], 5, -
							165796510), d = m(d, c, u, l, a[f + 6], 9, -1069501632), l = m(l, d, c, u,
							a[f + 11], 14, 643717713), u = m(u, l, d, c, a[f + 0], 20, -373897302), c =
						m(c, u, l, d, a[f + 5], 5, -701558691), d = m(d, c, u, l, a[f + 10], 9,
							38016083), l = m(l, d, c, u, a[f + 15], 14, -660478335), u = m(u, l, d, c,
							a[f + 4], 20, -405537848), c = m(c, u, l, d, a[f + 9], 5, 568446438), d = m(
							d, c, u, l, a[f + 14], 9, -1019803690), l = m(l, d, c, u, a[f + 3], 14, -
							187363961), u = m(u, l, d, c, a[f + 8], 20, 1163531501), c = m(c, u, l, d,
							a[f + 13], 5, -1444681467), d = m(d, c, u, l, a[f + 2], 9, -51403784), l =
						m(l, d, c, u, a[f + 7], 14, 1735328473), c = v(c, u = m(u, l, d, c, a[f + 12],
							20, -1926607734), l, d, a[f + 5], 4, -378558), d = v(d, c, u, l, a[f + 8],
							11, -2022574463), l = v(l, d, c, u, a[f + 11], 16, 1839030562), u = v(u, l,
							d, c, a[f + 14], 23, -35309556), c = v(c, u, l, d, a[f + 1], 4, -
						1530992060), d = v(d, c, u, l, a[f + 4], 11, 1272893353), l = v(l, d, c, u, a[
							f + 7], 16, -155497632), u = v(u, l, d, c, a[f + 10], 23, -1094730640), c =
						v(c, u, l, d, a[f + 13], 4, 681279174), d = v(d, c, u, l, a[f + 0], 11, -
							358537222), l = v(l, d, c, u, a[f + 3], 16, -722521979), u = v(u, l, d, c,
							a[f + 6], 23, 76029189), c = v(c, u, l, d, a[f + 9], 4, -640364487), d = v(
							d, c, u, l, a[f + 12], 11, -421815835), l = v(l, d, c, u, a[f + 15], 16,
							530742520), c = g(c, u = v(u, l, d, c, a[f + 2], 23, -995338651), l, d, a[
							f + 0], 6, -198630844), d = g(d, c, u, l, a[f + 7], 10, 1126891415), l = g(
							l, d, c, u, a[f + 14], 15, -1416354905), u = g(u, l, d, c, a[f + 5], 21, -
							57434055), c = g(c, u, l, d, a[f + 12], 6, 1700485571), d = g(d, c, u, l, a[
							f + 3], 10, -1894986606), l = g(l, d, c, u, a[f + 10], 15, -1051523), u = g(
							u, l, d, c, a[f + 1], 21, -2054922799), c = g(c, u, l, d, a[f + 8], 6,
							1873313359), d = g(d, c, u, l, a[f + 15], 10, -30611744), l = g(l, d, c, u,
							a[f + 6], 15, -1560198380), u = g(u, l, d, c, a[f + 13], 21, 1309151649),
						c = g(c, u, l, d, a[f + 4], 6, -145523070), d = g(d, c, u, l, a[f + 11], 10, -
							1120210379), l = g(l, d, c, u, a[f + 2], 15, 718787259), u = g(u, l, d, c,
							a[f + 9], 21, -343485551), c = c + y >>> 0, u = u + _ >>> 0, l = l + b >>>
						0, d = d + w >>> 0
				}
				return e.endian([c, u, l, d])
			})._ff = function(t, e, i, n, r, o, s) {
				var a = t + (e & i | ~e & n) + (r >>> 0) + s;
				return (a << o | a >>> 32 - o) + e
			}, o._gg = function(t, e, i, n, r, o, s) {
				var a = t + (e & n | i & ~n) + (r >>> 0) + s;
				return (a << o | a >>> 32 - o) + e
			}, o._hh = function(t, e, i, n, r, o, s) {
				var a = t + (e ^ i ^ n) + (r >>> 0) + s;
				return (a << o | a >>> 32 - o) + e
			}, o._ii = function(t, e, i, n, r, o, s) {
				var a = t + (i ^ (e | ~n)) + (r >>> 0) + s;
				return (a << o | a >>> 32 - o) + e
			}, o._blocksize = 16, o._digestsize = 16, t.exports = function(t, i) {
				if (null == t) throw new Error("Illegal argument " + t);
				var n = e.wordsToBytes(o(t, i));
				return i && i.asBytes ? n : i && i.asString ? r.bytesToString(n) : e.bytesToHex(n)
			}
		}),
		af = Kd.LogEvent,
		hf = Kd.ActionEvents,
		cf = /iPad/i.test(navigator.userAgent),
		uf = cf ? "1.1.26" : "1.1.90",
		lf = "//pcweb-v1.log.mgtv.com/dispatcher.do?",
		df = "//hd-pcweb-v1.log.mgtv.com/dispatcher.do?",
		ff = function() {
			function t(t) {
				var e = this;
				e._animationFrame = null, e._recordInterval = null, e._recordCounter = 0, e._recordList = [], e
					.actionEvents = [], e.init(t), document.addEventListener("visibilitychange", function() {
						"hidden" == document.visibilityState ? e.stopRecordFps() : e.startRecordFps()
					})
			}
			var e = t.prototype;
			return e.init = function(t, e, i) {
				this.startRecordFps(), this.ispreload = i ? "1" : "0", this.config = t || this.config, this
					.iscdntest = this.config.iscdntest, this.cdnld = this.config.cdnld, this.method = this
					.config.method, this.stats = {}, this.byteStatsDetail = {}, this.p2pErrors = {}, this
					.levelDetails = {}, this.currentDownloadDef = 0, e && this.actionEvents.push(hf[e]), this
					.actionEvents.push(hf.init), this.userIP = "", this._hbIntervalTimeArr = [3e3, 2e3, 1e4,
						3e4, 15e3, 12e4
					], this._hbIntervalTypeArr = ["0", "1", "3", "4", "5", "6"], this._sdkByteHBIntervalTime =
					3e5, this.sdk_byte_report_idx = 0, this.p2p_error_report_idx = 0, this.timeoffset = 0, this
					._pstatus = -1;
				var n = "0";
				this.config.liveType && ("tv" === this.config.liveType ? n = "1" : "scene" === this.config
					.liveType && (n = "4"));
				var r = this.commonParams = {};
				r.suuid = Rt(this, "config.lobparam.suuid"), r.cookie = this.method.getCookie(), r.uuid = this
					.method.getUUID(), r.guid = this.method.getGUID(), r.ch = this.method.getCxid(), r.uvip =
					this.method.getUVIP(), r.url = document.location.href || "", r.ref = Rt(this,
						"config.lobparam.ref"), r.ap = "0", r.ext1 = "0", r.ext2 = "html5", r.bid = "1.1.1", r
					.time = "", r.pver = "imgotv-" + this.config.pcore + "-" + this.config.pver, r.cver =
					"h5." + this.config.cver, r.sessionid = "", r.act = "", r.idx = "", r.pt = n, r.cf = "", r
					.ct = "", r.et = "", r.td = "", r.vts = "", r.vid = "", r.plid = "", r.cid = "", r.bsid =
					"", r.pay = "", r.def = "", r.pstatus = "", r.istry = "", r.bdid = "", r.ht = "", r.bftype =
					"", r.abroad = this.config.abroad, r.src = this.config.isIntelMgtv ? "intelmgtv" : "", r
					.cpn = Rt(this, "config.lobparam.cpn", "1"), r.fpa = Rt(this, "config.lobparam.fpa", "0"), r
					.ctl = Rt(this, "config.lobparam.ctl", "0"), r.ftl = Rt(this, "config.lobparam.ftl", "0"), r
					.lob = Rt(this, "config.lobparam.lob", ""), r.nfid = this.method.getNFID(), r.wver = this
					.config.wver, r.cp = "", r.rdc = "", r.mp = "0", this.hbTimerHandler = this.onTimerHandler
					.bind(this), this.getCurHBType = this._getCurHBType.bind(this), this.sdkByteHBHandler = this
					.sendSDKByteHB.bind(this), this.resetData("replay" == e);
				var o = 1 == zi.get("mango-aiswitcher");
				this.setAISwitcher(o)
			}, e.setTimeOffset = function(t) {
				this.timeoffset = isNaN(parseFloat(t)) ? 0 : t
			}, e.setStats = function(t) {
				this.stats = t
			}, e.setDetail = function(t) {
				var e = parseFloat(t.delay);
				isNaN(e) || (t.delay -= this.timeoffset);
				var i = t.from;
				this.byteStatsDetail[i] = this.byteStatsDetail[i] || [], this.byteStatsDetail[i].push(t), this
					.iscdntest && this.sendSDKByteHB()
			}, e.setP2PError = function(t) {
				var e = t.from,
					i = void 0 === e ? 0 : e,
					n = t.code,
					r = void 0 === n ? 0 : n;
				this.p2pErrors[i] = this.p2pErrors[i] || {}, this.p2pErrors[i][r] ? this.p2pErrors[i][r]++ :
					this.p2pErrors[i][r] = 1
			}, e.setDrmInfo = function(t) {
				this.drmInfo = t
			}, e.setMp = function(t) {
				this.commonParams.mp = t
			}, e.setPCore = function(t) {
				this.config.pcore = t, this.commonParams.pver = "imgotv-" + this.config.pcore + "-" + this
					.config.pver
			}, e.resetData = function(t) {
				this._hbIdx = 0, this._dragIdx = 0, this._pauseIdx = 0, this._resumeIdx = 0, this._forwardIdx =
					0, this._backwardIdx = 0, this._openFSIdx = 0, this._closeFSIdx = 0, this._changeFSIdx = 0,
					this._shareIdx = 0, this._noADIdx = 0, this._setVoiceIdx = 0, this._setDefIdx = 0, this
					._setScaleIdx = 0, this._setBrightIdx = 0, this._setContrastIdx = 0, this._setSkipIdx = 0,
					this._bufferEmptyTime = 0, this._bufferIdx = 0, this._adNumDict = {}, t || (this
						.drmInfo = {}), this.clearHBTimer()
			}, e.setAISwitcher = function(t) {
				for (var e, i = {}, n = u(this.commonParams.lob.split("&")); !(e = n()).done;) {
					var r = e.value.split("="),
						o = r[0],
						s = r[1];
					i[o] = s
				}
				i.aiswitcher = t ? "1" : "0";
				var a = [];
				for (var h in i) a.push(h + "=" + i[h]);
				this.commonParams.lob = a.join("&")
			}, e.setVideoInfo = function(t) {
				if (t.info && (this.commonParams.vid = t.info.video_id || "", this.commonParams.cid = t.info
						.root_id || "", this.commonParams.plid = t.info.collection_id || "", this.commonParams
						.bsid = t.info.series_id || "", this.commonParams.cf = t.info.clip_type || "", this
						.commonParams.pay = t.info.paymark || "", this.commonParams.vts = t.info.duration || ""
						), t.user && (this.commonParams.uuid = t.user.uuid, this.commonParams.uvip = "1" == t
						.user.isvip ? 1 : 0, this.commonParams.istry = 200 == t.user.purview ? "0" : "1", this
						.userIP = t.user.ip), t.drm) {
					var e = t.drm;
					t.info && (e.drmFlag = t.info.drmFlag), this.setDrmInfo(e)
				}
			}, e.convertPStatus = function(t) {
				var e = "";
				switch (t) {
					case -1:
						e = "initialize";
						break;
					case 0:
						e = "ad";
						break;
					case 1:
						e = "play";
						break;
					case 2:
						e = "buffer";
						break;
					case 3:
						e = "pause";
						break;
					case 4:
						e = "seek";
						break;
					case 5:
						e = "stop"
				}
				return e
			}, e.convertVideoScale = function(t) {
				var e = 0;
				switch (t) {
					case "默认":
						e = 0;
						break;
					case "4:3":
						e = 1;
						break;
					case "16:9":
						e = 2
				}
				return e
			}, e.updateSize = function(t) {
				this.viewSize = t
			}, e.playPoint = function(t, e, i) {
				void 0 === i && (i = "0");
				var n = this.viewSize ? this.viewSize.width + "*" + this.viewSize.height : "0*0",
					r = document.querySelector("[mg-stat-page]"),
					o = r ? r.getAttribute("mg-stat-page") : "",
					s = {
						did: this.commonParams.cookie,
						sessionid: this.method.getSessionId(),
						ch: this.commonParams.ch,
						uuid: this.commonParams.uuid,
						uvip: this.commonParams.uvip,
						ref: this.commonParams.ref,
						url: this.commonParams.url,
						lastp: "",
						cntp: o,
						ver: this.commonParams.wver,
						pref: "",
						abroad: "",
						paid: this.commonParams.suuid,
						time: this.method.getTime(),
						termid: cf ? "5" : "2",
						logtype: "udp",
						pix: n,
						event: "splay",
						bid: "20.4.1",
						sdkver: this.commonParams.pver,
						didt: this.config.lobparam.didt || "",
						lob: ""
					},
					a = {
						vid: this.commonParams.vid,
						isad: e ? "1" : "0",
						sptype: i.toString(),
						std: t
					};
				s.lob = this.method.params(a), un((this.config.isIntelMgtv ? df : lf) + this.method.params(s))
			}, e.actCMSBegin = function(t, e) {
				void 0 === t && (t = ""), void 0 === e && (e = ""), t && "" != t && (this.commonParams.vid = t),
					e && (this.commonParams.bdid = e);
				var i = {
					bid: uf
				};
				this.sendLog(af.ACT_CMSBEGIN, i)
			}, e.actCMSEnd = function(t, e) {
				e && this.setVideoInfo(e);
				var i = {
					bid: uf,
					ext4: t ? 1 : 0
				};
				this.sendLog(af.ACT_CMSEND, i)
			}, e.actRouteBegin = function(t) {
				this.commonParams.def = t;
				var e = {
					bid: uf
				};
				this.sendLog(af.ACT_ROUTEBEGIN, e)
			}, e.actRouteEnd = function(t, e) {
				if (void 0 === e && (e = null), e && this.setVideoInfo(e), !(this._setDefIdx > 0)) {
					var i = {
						ext4: t ? 1 : 0,
						bid: uf
					};
					this.sendLog(af.ACT_ROUTEEND, i)
				}
			}, e.actStreamBegin = function() {
				var t = {
					bid: uf
				};
				this.sendLog(af.ACT_STREAMBEGIN, t), this._bufferEmptyTime = (new Date).getTime()
			}, e.actAdInit = function() {
				var t = {
					bid: uf
				};
				this.sendLog(af.ACT_ADINIT, t)
			}, e.actAdFrontBegin = function(t, e, i, n) {
				void 0 === n && (n = 0);
				var r = {
					bid: uf,
					ext4: t,
					ext5: e,
					ext6: i,
					ext7: n
				};
				this._adNumDict[e] = n, this.sendLog(af.ACT_AD_FRONT_BEGIN, r)
			}, e.actAdFrontEnd = function(t, e, i, n) {
				void 0 === n && (n = 0);
				var r = {
					bid: uf,
					ext4: t,
					ext5: e,
					ext6: i,
					ext7: n
				};
				this._adNumDict[e] = n, this.sendLog(af.ACT_AD_FRONT_END, r)
			}, e.updateADProgress = function(t) {
				switch (t.progress) {
					case 1:
						t.type > 0 && t.type <= 3 && (t.ids && (t.aid = t.ids.join("_"), t.time = t.duration, t
							.adNum = t.count), this.actADBegin(t.aid, t.type - 1, t.time, t.adNum ? t
							.adNum : 0));
						break;
					case 2:
						break;
					case 3:
						this._adNumDict[t.type - 1] && (t.ids && (t.aid = t.ids.join("_"), t.time = t.duration,
							t.adNum = t.count), this.actADEnd(t.aid, t.type - 1, t.time, t.adNum))
				}
			}, e.actADBegin = function(t, e, i, n) {
				void 0 === n && (n = 0), this._pstatus = 0, this._adNumDict[e] ? this._adNumDict[e]++ : this
					._adNumDict[e] = 1;
				var r = {
					bid: uf,
					ext4: t,
					ext5: e,
					ext6: i,
					ext7: n
				};
				this.sendLog(af.ACT_ADBEGIN, r)
			}, e.actADEnd = function(t, e, i, n) {
				var r = {
					bid: uf,
					ext4: t,
					ext5: e,
					ext6: i,
					ext7: n
				};
				this.sendLog(af.ACT_ADEND, r)
			}, e.actPlayStart = function(t, e, i) {
				this._pstatus = 1, this.playStartTime = (new Date).toLocaleString(), this.actionEvents.length >
					100 && this.actionEvents.splice(0, this.actionEvents.length - 100);
				var n = this.config.usePreload ? "1" : "0",
					r = this.method.getTime(),
					o = sf(r + "mgbigdata"),
					s = {
						bid: cf ? "4.0.3" : this.config.isLive ? "1.1.1.1" : "1.1.1.0",
						isad: this._adNumDict[0] ? 1 : 0,
						cdnip: e || "",
						didt: this.config.lobparam.didt || "",
						fid: "",
						time: r,
						sbs: 0,
						ap: t,
						isdrm: this.drmInfo.drmFlag || "0",
						lob: this.commonParams.lob + "&events=" + this.actionEvents.join("") + "&state=" + i +
							"&preload=" + this.ispreload + "&usepreload=" + n + "&lang=" + this.lang +
							"&check=" + o
					};
				this.sendLog(af.ACT_PLAY, s), this.startHB(), this.startSDKByteHB()
			}, e.setLang = function(t) {
				null == this.lang && (this.lang = t)
			}, e.startHB = function() {
				var t = this.getCurDelay();
				this._hbTimer || clearTimeout(this._hbTimer), this._hbTimer = setTimeout(this.hbTimerHandler,
					t), this._hbStartTime = (new Date).getTime(), this._hbLeftTime = t
			}, e.startSDKByteHB = function() {
				this.config.isLive || (this._sdkByteHBTimer && clearInterval(this._sdkByteHBTimer), this
					._sdkByteHBTimer = setInterval(this.sdkByteHBHandler, this._sdkByteHBIntervalTime))
			}, e.getCurDelay = function() {
				if (this.config.isLive) return 6e4;
				var t = this._hbIntervalTimeArr.length;
				return this._hbIntervalTimeIndex = this._hbIdx < t ? this._hbIdx : t - 1, this
					._hbIntervalTimeArr[this._hbIntervalTimeIndex]
			}, e.pauseHB = function() {
				clearTimeout(this._hbTimer), this._hbLeftTime = this._hbLeftTime - ((new Date).getTime() - this
					._hbStartTime)
			}, e.resumeHB = function() {
				this._hbTimer = setTimeout(this.hbTimerHandler, this._hbLeftTime), this._hbStartTime = (
					new Date).getTime()
			}, e.stopHB = function() {
				this.sendHB(), this.clearHBTimer()
			}, e.stopSDKByteHB = function() {
				this.config.isLive || this._sdkByteHBTimer && (this.sendSDKByteHB(), clearInterval(this
						._sdkByteHBTimer), this._sdkByteHBTimer = null, this.sdk_byte_report_idx = 0, this
					.p2p_error_report_idx = 0)
			}, e.clearHBTimer = function() {
				this._hbLeftTime = 0, this._hbStartTime = 0, clearTimeout(this._hbTimer), this._hbTimer = 0
			}, e.onTimerHandler = function() {
				this.sendHB(), this._hbStartTime = (new Date).getTime();
				var t = this.getCurDelay();
				this._hbLeftTime = t, this._hbTimer || clearTimeout(this._hbTimer), this._hbTimer = setTimeout(
					this.hbTimerHandler, t)
			}, e.danmuStatusChange = function(t) {
				t.hasOwnProperty("switcher") && (this._danmuSwitcher = t.switcher ? 1 : 0), t.hasOwnProperty(
					"render") && (this._danmuSubmit = t.render ? 1 : 0)
			}, e.sendHB = function() {
				var t = this.stats,
					e = ~~t.p2p || 0,
					i = ~~t.total || 0;
				e > 0 && e / i < .1 && (e += .1 * i);
				var n = {
					ht: this.getCurHBType(),
					idx: this._hbIdx,
					bid: cf ? "1.1.26" : this.config.isLive ? "1.1.1.1" : "1.1.25",
					pflow: e,
					tflow: i,
					switcher: this.config.isIntelMgtv ? "0" : this._danmuSwitcher,
					submit: this.config.isIntelMgtv ? "0" : this._danmuSubmit,
					didt: this.config.lobparam.didt || "",
					fid: "",
					fps: 0
				};
				if (this._recordList.length > 25) {
					var r = Math.max.apply(Math, this._recordList),
						o = Math.min.apply(Math, this._recordList),
						s = (this._recordList.reduce(function(t, e) {
							return void 0 === t && (t = 0), t + e
						}) / this._recordList.length).toFixed(2),
						a = 0;
					this._recordList.forEach(function(t) {
						t < 40 && a++
					});
					var h = (a / this._recordList.length).toFixed(3),
						c = this.commonParams.lob;
					c += "&max=" + r + "&min=" + o + "&avg=" + s + "&cnt=" + h + "&aiswitcher=0", n.lob = c
				}
				this._recordList = [];
				var u = cf ? "//padweb-v0.log.mgtv.com/hb.php?" : null;
				this.sendLog(this.config.isLive ? af.ACT_LIVE_HEARTBEAT : af.ACT_HEARTBEAT, n, u), this._hbIdx++
			}, e.sendSDKByteHB = function() {
				if (!this.config.isLive) {
					var t = this.stats,
						e = this.getByteStatsDetail(),
						i = this.getP2PErrors(),
						n = ~~t.p2p || 0,
						r = ~~t.total || 0,
						o = cf ? "1121" : "1030",
						s = cf ? "5" : "2";
					n > 0 && n / r < .1 && (n += .1 * r);
					var a = {
						did: Rt(this, "config.lobparam.did", ""),
						suuid: this.commonParams.suuid,
						time: wt(new Date, "yyyyMMddhhmmss"),
						aver: this.commonParams.pver,
						sdkver: "1.4.1",
						uuid: kt("uuid"),
						termid: s,
						pno: o,
						vid: this.commonParams.vid,
						def: this.currentDownloadDef,
						ip: this.userIP
					};
					if (g(e).length > 0) {
						var h = m({}, a, {
							logtype: "hb",
							pver: this.iscdntest ? "0.0.6" : "0.0.5",
							bid: "2.7.1",
							idx: this.sdk_byte_report_idx,
							tflow: r,
							cflow: r - n,
							pflow: n,
							eflow: 0,
							encodeinfo: this.getEncodeInfo() || "",
							filew: this.getLevelTagAttr("EXT-MGTV-VIDEO-WIDTH") || "",
							fileh: this.getLevelTagAttr("EXT-MGTV-VIDEO-HEIGHT") || "",
							sftc: "",
							dsize: this.dsize,
							rmode: this.iscdntest ? 2 : 1,
							detail: encodeURIComponent(JSON.stringify(e))
						});
						this.sendLog2(h), this.sdk_byte_report_idx++
					}
					if (i) {
						var c = m({}, a, {
							logtype: "pcdnerr",
							pver: "0.0.1",
							bid: "2.7.2",
							idx: this.p2p_error_report_idx,
							detail: encodeURIComponent(JSON.stringify(i))
						});
						this.sendLog2(c), this.p2p_error_report_idx++
					}
				}
			}, e.getByteStatsDetail = function() {
				var t = this,
					e = F(this.byteStatsDetail);
				return this.byteStatsDetail = {}, this.dsize = 0, 0 === g(e).length ? {} : g(e).reduce(function(
					i, n) {
					return t.dsize += e[n].length, i[n] = e[n].map(function(e) {
						var i, n;
						return i = t.getLevelTagAttr("INF", t.currentDownloadDef, e.seq) || "",
							1, n = t.cdnld, e.delay + "|" + e.len + "|" + e.eff + "|" + e.err +
							"|" + e.seq + "|" + i + "|||1|" + n
					}).join(","), i
				}, {})
			}, e.getP2PErrors = function() {
				var t = F(this.p2pErrors),
					e = g(t);
				return this.p2pErrors = {}, 0 == e.length ? null : (e.forEach(function(e) {
					var i = g(t[e]),
						n = [];
					i.forEach(function(i) {
						n.push(i + "|" + t[e][i])
					}), t[e] = n.join(",")
				}), t)
			}, e._getCurHBType = function() {
				return 5 == this._pstatus ? "2" : this.config.isLive ? "4" : this._hbIntervalTypeArr[this
					._hbIntervalTimeIndex]
			}, e.updatePlayTime = function(t) {
				this.commonParams.ct = Math.round(t)
			}, e.setDef = function(t) {
				this.commonParams.def = t, this.currentDownloadDef = t
			}, e.actPlayPause = function() {
				this._pstatus = 3, this.pauseHB();
				var t = {
					idx: this._pauseIdx
				};
				this.sendLog(af.ACT_PAUSE, t), this._pauseIdx++
			}, e.actPlayResume = function() {
				this._pstatus = 1, this.resumeHB();
				var t = {
					idx: this._resumeIdx
				};
				this.sendLog(af.ACT_RESUME, t), this._resumeIdx++
			}, e.actPlayForward = function(t) {
				this._pstatus = 4, this._bufferEmptyTime = (new Date).getTime();
				var e = {
					et: t,
					idx: this._forwardIdx
				};
				this.sendLog(af.ACT_FORWARD, e), this._pstatus = 1, this._forwardIdx++
			}, e.actPlayBackward = function(t) {
				this._pstatus = 4, this._bufferEmptyTime = (new Date).getTime();
				var e = {
					et: t,
					idx: this._backwardIdx
				};
				this.sendLog(af.ACT_BACKWARD, e), this._pstatus = 1, this._backwardIdx++
			}, e.actDrag = function(t, e, i) {
				this._pstatus = 4, this._bufferEmptyTime = (new Date).getTime();
				var n = {
					et: t,
					idx: this._dragIdx,
					ext4: e ? 1 : 0,
					ext5: i
				};
				this.sendLog(af.ACT_DRAG, n), this._dragIdx++, this._pstatus = 1
			}, e.actPlayBufferEmpty = function() {
				this._pstatus = 2, this._bufferEmptyTime > 0 || (this._bufferEmptyTime = (new Date).getTime())
			}, e.actPlayBufferFull = function() {
				this._pstatus = 1
			}, e.actBuffer = function(t) {
				if (this._bufferEmptyTime > 0) {
					var e = (new Date).getTime() - this._bufferEmptyTime;
					this.commonParams.td = e || "";
					var i = {
							td: e,
							bftype: t,
							bid: cf ? "1.1.26" : "1.1.25",
							idx: this._bufferIdx
						},
						n = cf ? "//padweb-v0.log.mgtv.com/buffer.php?" : null;
					this.sendLog(af.ACT_BUFFER, i, n), this._bufferIdx++, this._bufferEmptyTime = 0
				}
			}, e.actPlayStop = function() {
				this._pstatus = 5, this.stopHB(), this.stopSDKByteHB()
			}, e.actReplay = function() {
				this.resetData()
			}, e.actNext = function() {
				this.sendLog(af.ACT_NEXT)
			}, e.actOpenFullScreen = function() {
				var t = {
					idx: this._openFSIdx
				};
				this.sendLog(af.ACT_OPENFSCREEN, t), this._openFSIdx++
			}, e.actCloseFullScreen = function() {
				var t = {
					idx: this._closeFSIdx
				};
				this.sendLog(af.ACT_CLOSEFSCREEN, t), this._closeFSIdx++
			}, e.actChangeFullScreen = function(t) {
				var e = {
					ext4: this.method.convertChangeFSScale(t),
					idx: this._changeFSIdx
				};
				this.sendLog(af.ACT_CHANGEFSCREEN, e), this._changeFSIdx++
			}, e.actShare = function(t, e) {
				var i = {
					ext4: t,
					ext5: e,
					idx: this._shareIdx
				};
				this.sendLog(af.ACT_SHARE, i), this._shareIdx++
			}, e.actNoAD = function() {
				var t = {
					idx: this._noADIdx
				};
				this.sendLog(af.ACT_TOVIP, t), this._noADIdx++
			}, e.actPopClick = function(t) {
				var e = {
					ext4: t
				};
				this.sendLog(af.ACT_POPCLICK, e)
			}, e.actPopClose = function(t) {
				var e = {
					ext4: t
				};
				this.sendLog(af.ACT_POPCLOSE, e)
			}, e.actSetVoice = function(t) {
				var e = {
					ext4: t,
					idx: this._setVoiceIdx
				};
				this.sendLog("voice", e), this._setVoiceIdx++
			}, e.actSetDef = function(t) {
				this._bufferEmptyTime = (new Date).getTime();
				var e = t,
					i = {
						idx: this._setDefIdx,
						ext4: e
					};
				this.sendLog("definition", i), this._setDefIdx++, this.commonParams.def = e
			}, e.setCurrentDownloadDef = function(t) {
				this.currentDownloadDef = t
			}, e.setSourceData = function(t) {
				this.videoStreams = t.stream.slice(0).reverse() || []
			}, e.actSetLevelDetails = function(t, e) {
				var i = this.getDefFromStreams(t);
				void 0 !== i && (this.levelDetails[i] = e)
			}, e.getDefFromStreams = function(t) {
				if (this.videoStreams && this.videoStreams[t]) return this.videoStreams[t].def
			}, e.getLevelTagAttr = function(t, e, i) {
				void 0 === i && (i = 0);
				var n = void 0 === e ? this.currentDownloadDef : e,
					r = this.levelDetails[n];
				if (void 0 === r) return "";
				var o = r.fragments;
				if (o && 0 !== o.length) {
					var s = o[i].tagList;
					if (s && 0 !== s.length) {
						var a = s.find(function(e) {
							return e[0] === t
						});
						if (a) return a[1]
					}
				}
			}, e.getEncodeInfo = function() {
				for (var t = ["EXT-MGTV-X-VERSION", "EXT-MGTV-X-VCODEC", "EXT-MGTV-X-ACODEC", "EXT-MGTV-X-PARM",
						"EXT-MGTV-X-FORMAT"
					], e = "", i = 0; i < t.length; i++) e += this.getLevelTagAttr(t[i]) || "", e += "|";
				return e.slice(0, -1)
			}, e.actSetScale = function(t) {
				var e = {
					ext4: t,
					idx: this._setScaleIdx
				};
				this.sendLog("scale", e), this._setScaleIdx++
			}, e.actSetBrightness = function(t) {
				var e = {
					ext4: t,
					idx: this._setBrightIdx
				};
				this.sendLog("brightness", e), this._setBrightIdx++
			}, e.actSetContrast = function(t) {
				var e = {
					ext4: t,
					idx: this._setContrastIdx
				};
				this.sendLog("contrast", e), this._setContrastIdx++
			}, e.actSetSkip = function(t) {
				var e = {
					ext4: t,
					idx: this._setSkipIdx
				};
				this.sendLog("skip", e), this._setSkipIdx++
			}, e.actErrorCode = function(t, e, i, n, r) {
				var o = {
					c: t,
					z: n,
					api: e,
					pcode: i,
					bid: "1.1.91",
					msg: r
				};
				this.sendLog("er", o)
			}, e.actExitCode = function(t) {
				var e = {
					code: t,
					bid: uf
				};
				this.sendLog("exit", e)
			}, e.actAutoPlayFail = function() {
				var t = {
					bid: uf
				};
				this.sendLog("autoplayfail", t)
			}, e.actDrm = function(t, e, i) {
				if (!(this.config.liveType || this.drmInfo && "0" == this.drmInfo.drmFlag) && this.drmInfo &&
					this.drmInfo.drmFirm && this.drmInfo.drmType) {
					var n = {
						bid: "1.2.11",
						retry: "0",
						ec: t,
						em: e,
						lic: i,
						firm: this.drmInfo.drmFirm || "",
						drmType: this.drmInfo.drmType || "",
						browser: this.method.getBrowser()
					};
					this.sendLog("drm", n)
				}
			}, e.actManualClickPlay = function() {
				var t = {
					bid: uf
				};
				this.sendLog("clickplay", t)
			}, e.actSwitchCamera = function() {
				var t = {
					prelid: this.prelid || "",
					preliveid: this.preliveid || "",
					bid: "1.1.1.1"
				};
				this.sendLog("switch", t)
			}, e.sendLog = function(t, e, i) {
				void 0 === e && (e = {}), this.commonParams.act = t, this.commonParams.time = e.time || this
					.method.getTime(), this.commonParams.sessionid = this.method.getSessionId(), this
					.commonParams.pstatus = this.convertPStatus(this._pstatus), this.config.isLive ? this
					.updateLiveVideoInfo() : this.updateVideoInfo();
				var n = m({}, this.commonParams, e),
					r = i || (this.config.isIntelMgtv ? df : lf);
				hf[t] && this.actionEvents.push(hf[t]), un(r + this.method.params(n))
			}, e.sendLog2 = function(t, e) {
				void 0 === t && (t = {});
				var i = m({}, t);
				un((e || (this.config.isIntelMgtv ? df : lf)) + this.method.params(i))
			}, e.updateLiveVideoInfo = function() {
				if (this.config.getLiveVideoInfo) {
					var t = this.config.getLiveVideoInfo();
					this.prelid = this.commonParams.lid || "", this.preliveid = this.commonParams.liveid || "",
						this.commonParams.pay = t.pay, this.commonParams.lid = t.sid, this.commonParams
						.activeid = t.activity_id, this.commonParams.istry = 0, this.commonParams.uvip = "1" ==
						t.uvip ? 1 : 0, this.commonParams.ln = t.activityName, this.commonParams.liveid = t
						.roomId
				}
			}, e.updateVideoInfo = function() {
				var t = this.config.getVideoInfo();
				this.commonParams.vid = t.vid, this.commonParams.plid = t.cid, this.commonParams.cid = t.rid,
					this.commonParams.bsid = t.sid, this.commonParams.bdid = t.bdid
			}, e.updateLiveInfo = function(t) {
				for (var e in t)
					if (t.hasOwnProperty(e)) {
						t[e];
						this.commonParams[e] = t[e]
					}
			}, e.startRecordFps = function() {
				var t = this;
				this._recordList = [], window.cancelAnimationFrame(this._animationFrame), this._animationFrame =
					window.requestAnimationFrame(this.recordFps.bind(this)), clearInterval(this
					._recordInterval), this._recordInterval = setInterval(function() {
						t._recordList.push(t._recordCounter), t._recordCounter = 0
					}, 1e3)
			}, e.stopRecordFps = function() {
				window.cancelAnimationFrame(this._animationFrame), clearInterval(this._recordInterval)
			}, e.recordFps = function() {
				this._recordCounter++, this._animationFrame = window.requestAnimationFrame(this.recordFps.bind(
					this))
			}, t
		}(),
		pf = Kd.LogParam,
		mf = /iPad/i.test(navigator.userAgent),
		vf = function() {
			function t(t) {
				this.config = t || this.config, this.method = this.config.method, this.commonParams = {}, this
					.commonParams[pf.PARAM_SUUID] = Rt(this, "config.lobparam.suuid"), this.commonParams[pf
						.PARAM_COOKIE] = this.method.getCookie(), this.commonParams[pf.PARAM_SESSIONID] = "", this
					.commonParams[pf.PARAM_UUID] = this.method.getUUID(), this.commonParams[pf.PARAM_GUID] = this
					.method.getGUID(), this.commonParams[pf.PARAM_CH] = this.method.getCxid(), this.commonParams[pf
						.PARAM_UVIP] = this.method.getUVIP(), this.commonParams[pf.PARAM_URL] = document.location
					.href || "", this.commonParams[pf.PARAM_REF] = Rt(this, "config.lobparam.ref"), this
					.commonParams[pf.PARAM_NFID] = this.method.getNFID(), this.commonParams[pf.PARAM_PIX] = this
					.method.getScreenPIX(), this.commonParams[pf.PARAM_WVER] = this.config.wver, this.commonParams[
						pf.PARAM_VID] = "", this.commonParams[pf.PARAM_PLID] = "", this.commonParams[pf.PARAM_CID] =
					"", this.commonParams[pf.PARAM_CF] = "", this.commonParams[pf.PARAM_RDC] = "", this
					.commonParams[pf.PARAM_ABROAD] = this.config.abroad, this.commonParams[pf.PARAM_SRC] = this
					.config.isIntelMgtv ? "intelmgtv" : ""
			}
			var e = t.prototype;
			return e.getUNID = function(t) {
				return t.playlist_id ? "0_" + t.playlist_id + "_" + (t.video_id || "") : (t.collection_id ||
					"") + "_" + (t.video_id || "")
			}, e.setVideoInfo = function(t) {
				t.info && (this.commonParams[pf.PARAM_VID] = t.info.video_id || "", this.commonParams[pf
							.PARAM_CID] = t.info.root_id || "", this.commonParams[pf.PARAM_PLID] = t.info
						.collection_id || "", this.commonParams[pf.PARAM_BSID] = t.info.series_id || "", this
						.commonParams[pf.PARAM_CF] = t.info.clip_type || ""), t.user && (this.commonParams[pf
							.PARAM_UUID] = t.user.uuid, this.commonParams[pf.PARAM_UVIP] = t.user.isvip, this
						.commonParams[pf.PARAM_ISTRY] = 200 == t.user.purview ? "0" : "1"), this.data_unid =
					this.getUNID(t.info)
			}, e.showVipDialog = function(t) {
				var e = this.method.getUVIP(),
					i = 0;
				t.info && "live" == t.info.paymark && (i = "10"), t.info && "1" == t.info.paymark && (i = "1"),
					t.info && "2" == t.info.paymark && (i = "5"), t.info && "3" == t.info.paymark && (i = "3");
				var n = {
					bid: mf ? "4.1.11" : "1.1.11",
					uvip: e,
					ext1: 3,
					ext2: "",
					ext3: i,
					ch: ""
				};
				this.sendLog("tovippv", n, "//vip.log.mgtv.com/audit_pc.html?")
			}, e.showHdDialog = function(t) {
				var e = this.method.getUVIP(),
					i = {
						bid: mf ? "4.1.11" : "1.1.11",
						dname: "pc_dialogpv_player_blue",
						ptype: 3,
						uvip: e,
						unid: this.data_unid,
						dmtype: ""
					};
				this.sendLog("dialogpv", i, "//vip.log.mgtv.com/audit_vip_bhv.html?")
			}, e.sendLog = function(t, e, i) {
				void 0 === e && (e = null), this.commonParams[pf.PARAM_ACT] = t, this.commonParams[pf
						.PARAM_TIME] = this.method.getTime(), this.commonParams[pf.PARAM_SESSIONID] = this
					.method.getSessionId();
				var n = m({}, e, this.commonParams);
				un(i + this.method.params(n))
			}, t
		}(),
		gf = "//pcweb-v1.log.mgtv.com/dispatcher.do?",
		yf = (/iPad/i.test(navigator.userAgent), ["iPad", "Mac", "Windows", "Linux", "X11"].find(function(t) {
			return new RegExp(t).test(navigator.userAgent)
		})),
		_f = "//hd-pcweb-v1.log.mgtv.com/dispatcher.do?",
		bf = P2Hls.Events,
		wf = function() {
			function t(t) {
				this.init(t), this.pvreported = !1, this.endtype = 0, this.streamType = "", this.streamFileFormat =
					"", this.box = "native", this.videoFormat = "h264"
			}
			var e = t.prototype;
			return e.init = function(t) {
				this.config = t || this.config, this.commonParams = {}, this.commonParams.vtp = Rt(this,
						"config.lobparam.cpn", "1"), this.commonParams.vid = this.config.vid, this.commonParams
					.url = window.location.href || "", this.commonParams.time = "", this.commonParams.sver = yf,
					this.commonParams.retry = "0", this.commonParams.reschg = "0", this.commonParams.proxy = "",
					this.commonParams.prottp = "", this.commonParams.psuuid = Rt(this, "config.lobparam.suuid",
						""), this.commonParams.plat = "pcweb", this.commonParams.p2ps = this.config.p2p ? 1 : 0,
					this.commonParams.browser = dt.name + dt.version.string, this.commonParams.aver = window
					.VERSION, this.commonParams.pver = "imgotv-" + this.config.pcore + "-" + this.config.pver,
					this.commonParams.did = kt("mba_deviceid") || window.STK.$.stkuuid() || "", this
					.p2p_peer_connect_counter = 0, this.p2p_peer_exist_counter = 0, this.reportPload()
			}, e.updateTime = function() {
				this.commonParams.time = this.config.method.getTime()
			}, e.setVideoInfo = function(t) {
				if (t.info)
					if (this.isDrm = "1" == t.info.drmFlag, this.isDrm) switch (~~t.drm.drmType) {
						case 1:
							this.drmType = 2;
							break;
						case 2:
							this.drmType = 1;
							break;
						case 3:
							this.drmType = 3;
							break;
						default:
							this.drmType = 0
					} else this.drmType = 0
			}, e.setDispatcherData = function(t) {
				var e = {
						m3u: 1,
						m3u8: 1,
						mp4: 2,
						flv: 4,
						mpd: 5
					},
					i = t.data,
					n = g(e).find(function(t) {
						var e = Lt(i);
						return e && e.pathname && e.pathname.indexOf("." + t) > -1
					}),
					r = Lt(i).protocol;
				r = r.endsWith(":") ? r.slice(0, -1) : r;
				var o = n ? e[n] : "";
				this.streamType = "" + r + o
			}, e.setSourceData = function(t) {
				var e = t.stream;
				if (e && 0 != e.length) {
					var i = e.find(function(t) {
						return t.fileformat
					});
					this.streamFileFormat = i ? i.fileformat : this.streamFileFormat;
					var n = e.find(function(t) {
						return t.videoFormat
					});
					this.videoFormat = n ? n.videoFormat : this.videoFormat
				}
			}, e.setBox = function(t) {
				this.box = t
			}, e.setVideoUrl = function(t) {
				this.videoUrl = this.videoUrl || t.h
			}, e.clarityChanged = function() {
				this.commonParams.reschg = 0
			}, e.retry = function() {
				this.commonParams.retry++
			}, e.setProxy = function() {
				var t = 0;
				t += this.config.p2p ? 1 : 0, t += this.isDrm ? 3 : 0, this.commonParams.proxy = t
			}, e.getCommonParams = function() {
				this.updateTime(), this.setProxy(), this.setProttp()
			}, e.setProttp = function() {
				(this.streamType || this.streamFileFormat) && (this.commonParams.prottp = this.streamType +
					"_" + this.streamFileFormat)
			}, e.setP2P = function(t) {
				var e = t.event,
					i = t.peer;
				switch (e) {
					case bf.PeerConnect:
						this.setPeerConnect(i);
						break;
					case bf.PeerClose:
						this.setPeerClose(i)
				}
			}, e.setPeerConnect = function(t) {
				this.p2p_peer_connect_counter++, this.p2p_peer_exist_counter++
			}, e.setPeerClose = function(t) {
				this.p2p_peer_exist_counter--
			}, e.reportP2P = function() {
				this.sendLog(this.config.isIntelMgtv ? _f : gf, {
					act: "p2p",
					bid: "20.8.7",
					pevt: "",
					if: "",
					ct: "",
					lt: "",
					tp: "",
					np: "",
					nat: "",
					nt: "",
					ip: "",
					pt: "",
					ext: ""
				})
			}, e.setEndType = function(t) {
				this.endtype = t
			}, e.reportPend = function() {
				this.pvreported = !1;
				var t = {
					act: "pend",
					bid: "20.8.4",
					endtp: (this.vvtime ? "20" : "10") + "_" + this.endtype
				};
				this.sendLog(this.config.isIntelMgtv ? _f : gf, t)
			}, e.reportPerr = function(t, e) {
				var i;
				switch (e) {
					case 0:
					case 1:
						i = 101;
						break;
					case 2:
					case 3:
						i = 102;
						break;
					case 4:
						i = 202;
						break;
					case 5:
						i = 203;
						break;
					case 6:
						i = 201
				}
				var n = {
					act: "perr",
					bid: "20.8.3",
					et: i,
					sc: (t + "").slice(0, 3),
					exr: (t + "").slice(3)
				};
				this.sendLog(this.config.isIntelMgtv ? _f : gf, n)
			}, e.reportPload = function() {
				this.sendLog(this.config.isIntelMgtv ? _f : gf, {
					act: "pload",
					bid: "20.8.5"
				})
			}, e.reportPpv = function() {
				if (!this.pvreported) {
					this.setPvTime();
					var t = this.config.p2p ? "flash" == this.config.box ? 1 : 2 : 0,
						e = 0;
					switch (this.box) {
						case "native":
							e = 1;
							break;
						case "hls":
							e = 2;
							break;
						case "dash":
							e = 3;
							break;
						case "flash":
							e = 4;
							break;
						case "mp4":
							e = 5;
							break;
						default:
							e = 0
					}
					var i = {
						act: "ppv",
						bid: "20.8.1",
						cdn: Lt(this.videoUrl).hostname,
						kert: e,
						p2pt: t,
						drmt: this.drmType,
						cdtp: this.videoFormat
					};
					this.sendLog(this.config.isIntelMgtv ? _f : gf, i), this.pvreported = !0
				}
			}, e.reportPskip = function() {
				this.sendLog(this.config.isIntelMgtv ? _f : gf, {
					act: "skip",
					bid: "20.8.6",
					head: "",
					buf: ""
				})
			}, e.setPvTime = function() {
				this.pvtime = this.pvtime || this.config.method.getTime()
			}, e.setVvTime = function() {
				this.vvtime = this.vvtime || this.config.method.getTime()
			}, e.setLang = function(t) {
				null == this.lang && (this.lang = t)
			}, e.reportPvv = function() {
				this.setVvTime();
				var t = {
					act: "pvv",
					bid: "20.8.2",
					ltst: Math.max(this.vvtime - this.pvtime, 0),
					dectp: this.box,
					cdtp: this.videoFormat
				};
				t.lob = this.config.method.params({
					lang: this.lang
				}), this.sendLog(this.config.isIntelMgtv ? _f : gf, t)
			}, e.sendLog = function(t, e) {
				this.getCommonParams();
				var i = m({}, this.commonParams, e);
				un(t + this.config.method.params(i))
			}, t
		}(),
		kf = function() {
			function t(t) {
				this.useFlash = t, this.points = {
					pv: 0,
					videoInfo: 0,
					adRequest: 0,
					adComplete: 0,
					step1Request: 0,
					step1: 0,
					step2: 0,
					step3: 0,
					buffer: 0
				}
			}
			var e = t.prototype;
			return e.recordPoint = function(t, e) {
				this.points[t] = void 0 === e ? Date.now() : e
			}, Object.defineProperty(e, "haveAd", {
				get: function() {
					return this.points.pv && this.points.adRequest > this.points.pv
				},
				enumerable: !0,
				configurable: !0
			}), e.toString = function() {
				var t, e, i, n = this.points;
				for (var r in n) n[r] > 0 && n[r] < this.points.pv && (n[r] = this.points.pv);
				this.haveAd ? (t = Math.max(this.points.adComplete, this.points.buffer) - this.points.pv, i =
					this.points.adComplete - this.points.adRequest, e = this.points.adRequest - this.points
					.videoInfo) : (t = this.points.buffer - this.points.pv, i = 0, e = Math.max(this.points
					.adComplete - this.points.videoInfo, 0));
				var o = [t, this.points.videoInfo - this.points.pv, 0, e, this.points.step1 - this.points
					.step1Request, this.points.step2 - this.points.step1, this.points.step3 > 0 ? this
					.points.step3 - this.points.step2 : 0, i, this.points.step3 > 0 && this.points.buffer >
					0 ? this.points.buffer - this.points.step3 : 0
				];
				return (o = o.map(this.formatData)).join(",")
			}, e.formatData = function(t) {
				return t > 1e6 && (t = 0), Math.max(0, t)
			}, e.toErrorString = function() {
				var t, e, i;
				return this.haveAd ? (i = Math.max(this.points.adComplete - this.points.adRequest, 0), e = Math
					.max(this.points.adRequest - this.points.videoInfo, 0)) : (i = 0, e = Math.max(this
					.points.adComplete - this.points.videoInfo, 0)), t = Math.max(this.points.videoInfo,
					this.points.adRequest, this.points.step1, this.points.step2, this.points.step3, this
					.points.buffer, this.points.adComplete) - this.points.pv, [t = Math.max(t, 0), Math.max(
						this.points.videoInfo - this.points.pv, 0), 0, e, this.points.step1 > 0 && this
					.points.step1Request > 0 ? this.points.step1 - this.points.step1Request : 0, this.points
					.step1 > 0 && this.points.step2 > 0 ? this.points.step2 - this.points.step1 : 0, this
					.points.step2 > 0 && this.points.step3 > 0 ? this.points.step3 - this.points.step2 : 0,
					i, this.points.step3 > 0 && this.points.buffer > 0 ? this.points.buffer - this.points
					.step3 : 0
				].join(",")
			}, Object.defineProperty(e, "finish", {
				get: function() {
					return this.haveAd ? this.useFlash ? Boolean(this.points.adComplete > 0) && Boolean(
							this.points.buffer > this.points.adComplete) : this.points.adComplete > 0 &&
						this.points.buffer > 0 : this.points.pv && this.points.buffer > 0
				},
				enumerable: !0,
				configurable: !0
			}), t
		}(),
		Ef = /iPad/i.test(navigator.userAgent),
		Sf = function() {
			function t(t) {
				this.params = {
						bid: "2.7.3",
						logtype: "p2phb",
						pver: "0.0.1",
						suuid: "",
						idx: 0,
						did: "",
						time: "",
						aver: "",
						sdkver: "",
						uuid: "",
						termid: Ef ? "5" : "2",
						pno: Ef ? "1121" : "1030",
						vid: "",
						def: "",
						ip: "",
						nattype: 0,
						detail: ""
					}, this.runInterval = void 0, this.peers = [], this.startTime = -1, this.connectTime = -1, this
					.p2pDataTime = -1, this.config = t;
				var e = t.pver,
					i = t.vid;
				this.params.vid = i, this.params.sdkver = e;
				t.getVideoInfo()
			}
			var e = t.prototype;
			return e.start = function() {
				var t = this;
				this.clear(), this.startTime = (new Date).getTime(), this.runInterval = setInterval(function() {
					t.peers.length > 0 && (t.sendReport(), t.peers = [], t.params.idx++)
				}, 3e5)
			}, e.stop = function() {
				clearInterval(this.runInterval)
			}, e.end = function() {
				this.peers.length > 0 && this.sendReport(), this.clear()
			}, e.clear = function() {
				clearInterval(this.runInterval), this.params.idx = 0, this.peers = [], this.startTime = -1, this
					.connectTime = -1, this.p2pDataTime = -1
			}, e.getSuuid = function() {
				var t, e;
				return (null === (t = this.config) || void 0 === t ? void 0 : null === (e = t.lobparam) ||
					void 0 === e ? void 0 : e.suuid) || ""
			}, e.updateData = function(t) {
				m(this.params, t)
			}, e.updatePeer = function(t) {
				-1 === this.connectTime && (this.connectTime = (new Date).getTime()), this.peers.push(t)
			}, e.sendReport = function() {
				var t = this.config.getVideoInfo(),
					e = this.connectTime - this.startTime,
					i = this.p2pDataTime - this.startTime,
					n = m({}, this.params, {
						time: this.getTime(),
						suuid: this.getSuuid(),
						uuid: this.config.method.getUUID(),
						vid: t.vid,
						fp2pt: e > 0 ? e : 0,
						fdatat: i > 0 ? i : 0,
						detail: this.peers.map(function(t) {
							return m({
								nattype: 0
							}, t)
						})
					});
				fetch("https://pcweb-v1.log.mgtv.com/dispatcher.do", {
					method: "post",
					body: JSON.stringify(n),
					headers: {
						"content-type": "application/json"
					}
				})
			}, e.getP2pData = function() {
				-1 === this.p2pDataTime && (this.p2pDataTime = (new Date).getTime())
			}, e.getTime = function() {
				var t = new Date;
				return [t.getFullYear(), t.getMonth() + 1, t.getDate(), t.getHours(), t.getMinutes(), t
					.getSeconds()
				].map(function(t) {
					return function(t, e) {
						void 0 === e && (e = 2);
						var i = t.toString(),
							n = e - i.length;
						return n > 0 ? new Array(n).fill(0).join("") + i : i
					}(t)
				}).join("")
			}, t
		}(),
		Tf = /iPad/i.test(navigator.userAgent),
		xf = function() {
			function t(t) {
				this.isSeek = !1, this.config = t;
				var e = t.method,
					i = t.lobparam,
					n = t.pver,
					r = t.vid;
				this.caches = new Array, this.commonPrams = {
					logtype: "p2preson",
					bid: "2.7.4",
					pver: "0.0.1",
					suuid: "",
					idx: 0,
					did: "",
					time: 0,
					aver: "",
					sdkver: n,
					uuid: "",
					termid: Tf ? "5" : "2",
					pno: Tf ? "1121" : "1030",
					vid: r,
					vdur: 0,
					def: "",
					ip: "",
					detail: []
				}, this.getSuuid = function() {
					return i ? i.suuid : ""
				}, this.getUuid = function() {
					return e ? e.getUUID() : ""
				}, this.getKernel = t.getKernel
			}
			var e = t.prototype;
			return e.updateData = function(t) {
				Object.assign(this.commonPrams, t)
			}, e.start = function() {
				var t = this;
				this.clear(), this.sendInterval = setInterval(function() {
					t.send()
				}, 3e5)
			}, e.end = function() {
				this.caches.length && this.send(), this.clear()
			}, e.clear = function() {
				clearInterval(this.sendInterval), this.commonPrams.idx = 0
			}, e.record = function(t) {
				var e = t.sn,
					i = t.downloadInfo,
					n = i.p2pFailReason,
					r = i.tcon,
					o = i.rcon,
					s = i.start,
					a = i.cons,
					h = i.total,
					c = i.busy,
					u = this.getKernel().videoKernel,
					l = u.getBufferInfo().len,
					d = u.video.currentTime;
				switch (n) {
					case 1:
						this.addCache(n, {
							buffer: l,
							drag: this.isSeek ? 1 : 0
						});
						break;
					case 2:
						this.addCache(n, {
							buffer: Math.round(s - d),
							tcon: r,
							rcon: o
						});
						break;
					case 3:
						this.addCache(n, {
							buffer: Math.round(s - d),
							cons: a,
							cts: e,
							tcount: h
						});
						break;
					case 4:
						this.addCache(n, {
							buffer: Math.round(s - d),
							cons: a
						});
						break;
					case 5:
						this.addCache(n, {
							buffer: Math.round(s - d),
							busy: c
						})
				}
			}, e.addCache = function(t, e) {
				var i = new Af;
				i.reason = t, i.message = e, this.caches.push(i)
			}, e.send = function() {
				function t(t) {
					var e = [];
					for (var i in t) e.push(i + "=" + t[i]);
					return e.join("&")
				}
				if (this.caches.length) {
					var e = this.config.getVideoInfo(),
						i = Object.assign({}, this.commonPrams, {
							time: this.getTime(),
							suuid: this.getSuuid(),
							uuid: this.getUuid(),
							vid: e.vid,
							detail: this.caches.map(function(e) {
								return {
									reason: e.reason,
									msg: t(e.message)
								}
							})
						});
					this.caches = [], this.commonPrams.idx++, fetch(
						"https://pcweb-v1.log.mgtv.com/dispatcher.do", {
							method: "post",
							body: JSON.stringify(i),
							headers: {
								"content-type": "application/json"
							}
						})
				}
			}, e.seek = function() {
				var t = this;
				this.isSeek = !0, clearTimeout(this.seekTimeOut), this.seekTimeOut = setTimeout(function() {
					t.isSeek = !1
				}, 2e4)
			}, e.destroy = function() {
				clearInterval(this.sendInterval)
			}, e.getTime = function() {
				var t = new Date;
				return [t.getFullYear(), t.getMonth() + 1, t.getDate(), t.getHours(), t.getMinutes(), t
					.getSeconds()
				].map(function(t) {
					return function(t, e) {
						void 0 === e && (e = 2);
						var i = t.toString(),
							n = e - i.length;
						return n > 0 ? new Array(n).fill(0).join("") + i : i
					}(t)
				}).join("")
			}, t
		}(),
		Af = function() {
			return function() {}
		}(),
		Cf = /iPad/i.test(navigator.userAgent),
		Rf = function() {
			function t(t) {
				this.config = t;
				var e = t.method,
					i = t.lobparam,
					n = t.pver,
					r = t.vid;
				this.caches = new Array, this.commonPrams = {
					logtype: "errmsg",
					bid: "2.7.4",
					pver: "0.0.1",
					suuid: "",
					idx: 0,
					did: "",
					time: 0,
					aver: "",
					sdkver: n,
					uuid: "",
					termid: Cf ? "5" : "2",
					pno: Cf ? "1121" : "1030",
					vid: r,
					vdur: 0,
					def: "",
					ip: "",
					detail: []
				}, this.getSuuid = function() {
					return i ? i.suuid : ""
				}, this.getUuid = function() {
					return e ? e.getUUID() : ""
				}, this.getKernel = t.getKernel
			}
			var e = t.prototype;
			return e.updateData = function(t) {
				Object.assign(this.commonPrams, t)
			}, e.start = function() {
				var t = this;
				this.clear(), this.sendInterval = setInterval(function() {
					t.send()
				}, 3e5)
			}, e.end = function() {
				this.caches.length && this.send(), this.clear()
			}, e.clear = function() {
				clearInterval(this.sendInterval), this.commonPrams.idx = 0
			}, e.record = function(t) {
				var e = t.type,
					i = t.params,
					n = i.result,
					r = i.peer_type,
					o = i.stime,
					s = i.code,
					a = i.type,
					h = new If;
				switch (e) {
					case "answer-result":
						h.errcode = 12906, h.message.r = n, n && (h.message.ptype = r, h.message.stime = o);
						break;
					case "candidate_result":
						h.errcode = s, h.message.r = n, n && (h.message.stime = o), h.message.ptype = r, h
							.message.type = a
				}
				this.caches.push(h)
			}, e.send = function() {
				function t(t) {
					var e = [];
					for (var i in t) e.push(i + "=" + t[i]);
					return e.join("&")
				}
				if (this.caches.length) {
					var e = this.config.getVideoInfo(),
						i = Object.assign({}, this.commonPrams, {
							time: this.getTime(),
							suuid: this.getSuuid(),
							uuid: this.getUuid(),
							vid: e.vid,
							detail: this.caches.map(function(e) {
								return {
									errcode: e.errcode,
									msg: t(e.message)
								}
							})
						});
					this.caches = [], this.commonPrams.idx++, fetch(
						"https://pcweb-v1.log.mgtv.com/dispatcher.do", {
							method: "post",
							body: JSON.stringify(i),
							headers: {
								"content-type": "application/json"
							}
						})
				}
			}, e.seek = function() {
				var t = this;
				this.isSeek = !0, clearTimeout(this.seekTimeOut), this.seekTimeOut = setTimeout(function() {
					t.isSeek = !1
				}, 2e4)
			}, e.destroy = function() {
				clearInterval(this.sendInterval)
			}, e.getTime = function() {
				var t = new Date;
				return [t.getFullYear(), t.getMonth() + 1, t.getDate(), t.getHours(), t.getMinutes(), t
					.getSeconds()
				].map(function(t) {
					return function(t, e) {
						void 0 === e && (e = 2);
						var i = t.toString(),
							n = e - i.length;
						return n > 0 ? new Array(n).fill(0).join("") + i : i
					}(t)
				}).join("")
			}, t
		}(),
		If = function() {
			return function() {
				this.message = {}
			}
		}(),
		Lf = Kd.RequestType,
		Pf = 0,
		Df = 2,
		Mf = 4,
		Bf = 5,
		Of = 6,
		Uf = function() {
			function t(t) {
				this.mStates = Pf, this.mplayType = 0, this.isSwitching = !1, this.isUserDrag = !1, this.hasAd = !1,
					this.playingAd = !1, this.config = t, this.cdnLog = new Jd(t), this.actionLog = new ff(t), this
					.vipLog = new vf(t), this.commonLog = new wf(t), this.startTime = new kf(t.useFlash), this
					.p2pLog = new Sf(t), this.p2pFail = new xf(t), this.p2pErrorMessage = new Rf(t), this
					.preloadStartTime = null
			}
			var e = t.prototype;
			return e.setMStates = function(t) {
				switch (t) {
					case "videoWaiting":
						this.mStates = this.mStates == Bf ? Bf : Mf;
						break;
					case "playing":
						this.mStates = Df;
						break;
					case "videoSeeking":
						this.mStates = Bf;
						break;
					case "videoPlayStart":
						this.mStates = Of
				}
			}, e.playPoint = function(t, e) {
				this.startTime && (this.startTime.recordPoint(t, e), this.startTime.finish && (this.actionLog
						.playPoint(this.startTime.toString(), this.startTime.haveAd), this.startTime = null
						)), this.preloadStartTime && (this.preloadStartTime.recordPoint(t, e), this
					.preloadStartTime.finish && (this.actionLog.playPoint(this.preloadStartTime.toString(),
						this.preloadStartTime.haveAd, "4"), this.preloadStartTime = null))
			}, e.playPointError = function() {
				this.actionLog.playPoint(this.startTime.toErrorString(), this.startTime.haveAd, 1), this
					.startTime = null
			}, e.playPointFail = function() {}, e.preloadVideoInfoData = function() {
				this.isPreload = !0, this.preloadStartTime = new kf(this.config.useFlash)
			}, e.playAdStart = function() {
				this.hasAd = !0, this.playingAd = !0, this.actionLog.actAdInit()
			}, e.playAdBegin = function() {
				this.actionLog.actAdFrontBegin()
			}, e.playAdEnd = function(t, e, i, n) {
				void 0 === n && (n = 0), this.playingAd = !1, this.actionLog.actAdFrontEnd(t, e, i, n), this
					.actionLog.actADEnd(t, e, i, n)
			}, e.resize = function(t) {
				this.actionLog.updateSize(t)
			}, e.playExit = function(t) {
				this.actionLog.actExitCode(t)
			}, e.playStart = function(t) {
				var e = t.ap,
					i = t.cdnip,
					n = t.state;
				this.mStates = Df, this.cdnLog.start(), this.actionLog.actPlayStart(e, i, n, this.isPreload),
					this.commonLog.reportPvv(i), this.p2pLog.start(), this.p2pFail.start(), this.p2pErrorMessage
					.start()
			}, e.playStop = function() {
				this.mStates = 3, this.cdnLog.stop(), this.actionLog.actPlayStop(), this.commonLog.reportPend(),
					this.p2pLog.end(), this.p2pFail.end(), this.p2pErrorMessage.end()
			}, e.setEndType = function(t) {
				this.commonLog.setEndType(t)
			}, e.playPause = function() {
				this.actionLog.actPlayPause(), this.actionLog.sendSDKByteHB()
			}, e.playResume = function() {
				this.actionLog.actPlayResume()
			}, e.videoReplay = function(t) {
				void 0 === t && (t = 1), this.mplayType = 2, this.actionLog.init(null, "replay"), this.actionLog
					.setMp(2), this.actionLog.actPlayStart(t), this.cdnLog.init()
			}, e.videoRefresh = function(t) {
				void 0 === t && (t = 1), this.mplayType = 3, this.actionLog.init(null, "refresh"), this
					.actionLog.setMp(3), this.actionLog.actPlayStart(t), this.cdnLog.init()
			}, e.videoReload = function(t, e) {
				this.p2pLog.end(), this.p2pFail.end(), this.p2pErrorMessage.end(), this.mplayType = 1, this
					.actionLog.stopSDKByteHB(), this.actionLog.init(null, "reload", this.isPreload), this
					.actionLog.setMp(1), this.cdnLog.init(), 3 != this.mStates && this.commonLog.reportPend(),
					this.commonLog.init(), this.startTime && (this.actionLog.playPoint(this.startTime
						.toErrorString(), this.startTime.haveAd, 3), this.startTime = null), this.isPreload &&
					null != t && t.preloadSuccess ? e && e && this.actionLog.setVideoInfo(e) : (this.startTime =
						new kf(this.config.useFlash), this.preloadStartTime = null), this.isPreload = !1
			}, e.playDrag = function(t) {
				var e = this;
				this.actionLog.actDrag(t.seektime, t.isCurPoint, t.dragType), this.isUserDrag = !0, this
					.setDragFalseTimer && clearTimeout(this.setDragFalseTimer), this.setDragFalseTimer =
					setTimeout(function() {
						e.isUserDrag = !1
					}, 1e3)
			}, e.clarityData = function() {
				var t = this;
				this.isUserDrag = !0, this.setDragFalseTimer && clearTimeout(this.setDragFalseTimer), this
					.setDragFalseTimer = setTimeout(function() {
						t.isUserDrag = !1
					}, 1e4)
			}, e.errorCode = function(t) {
				this.actionLog.actErrorCode(t.c, t.api, t.pcode, t.z, t.msg), this.commonLog.reportPerr(t.c,
					this.mStates)
			}, e.playSwitch = function(t) {
				this.actionLog.actSetDef(t), this.cdnLog.setB(t), this.cdnLog.setA(1), this.p2pLog.updateData({
					def: t
				}), this.p2pFail.updateData({
					def: t
				}), this.p2pErrorMessage.updateData({
					def: t
				})
			}, e.setLevelDetails = function(t, e) {
				this.actionLog.actSetLevelDetails(t, e)
			}, e.playBufferEmpty = function() {
				var t = this; - 1 !== [Df, Of, Bf, Mf].indexOf(this.mStates) && (this.isUserDrag || (this
					.recodeBufferEmptyTimeOut = setTimeout(function() {
						t.cdnLog.bufferEmptyCount()
					}, 500))), this.actionLog.actPlayBufferEmpty()
			}, e.playBufferFull = function() {
				this.recodeBufferEmptyTimeOut && clearTimeout(this.recodeBufferEmptyTimeOut), this.actionLog
					.actPlayBufferFull(), 1 == this.mStates ? this.actionLog.actBuffer(1) : -1 !== [Df, Of, Bf,
						Mf
					].indexOf(this.mStates) && (this.isSwitching ? (this.isSwitching = !1, this.actionLog
							.actBuffer(4)) : this.actionLog.actBuffer(this.isUserDrag ? 3 : 2), this
						.isUserDrag = !1)
			}, e.dispatcherLoaded = function(t) {
				this.commonLog.setDispatcherData(t), this.commonLog.reportPpv()
			}, e.requestStart = function(t) {
				switch (t.type) {
					case Lf.CMS:
						this.actionLog.actCMSBegin(t.vid, t.bdid);
						break;
					case Lf.DISPATCHER:
						this.actionLog.actRouteBegin(t.def);
						break;
					case Lf.CDN:
						this.actionLog.actStreamBegin()
				}
			}, e.requestSuccess = function(t) {
				switch (t.f = "0", t.z = "1", this.cdnLog.sendRequestResult(t), t.type) {
					case Lf.GETSOURCE:
						this.commonLog.setSourceData(t.data), this.actionLog.setSourceData(t.data);
						break;
					case Lf.CMS:
						this.actionLog.actCMSEnd(!0, t.data), this.vipLog.setVideoInfo(t.data), this.commonLog
							.setVideoInfo(t.data);
						break;
					case Lf.DISPATCHER:
						this.actionLog.actRouteEnd(!0);
						break;
					case Lf.CDN:
						this.cdnLog.setVideoUrl(t)
				}
			}, e.requestError = function(t) {
				if (t.type == Lf.CDN && -1 !== [Df, Bf, Mf].indexOf(this.mStates)) return 304e3 == t.code ? t
					.r = "0" : t.r = "2", void this.cdnLog.sendError(t);
				if (t.type != Lf.CMS || "40001" != t.pcode && "40002" != t.pcode && "40003" != t.pcode &&
					"40004" != t.pcode && "40005" != t.pcode ? (t.f = "-1", this.cdnLog.sendRequestResult(t)) :
					(t.f = "0", t.z = "1", this.cdnLog.sendRequestResult(t)), "1" == t.z) switch (t.type) {
					case Lf.GETSOURCE:
						break;
					case Lf.CMS:
						this.actionLog.actCMSEnd(!1, t);
						break;
					case Lf.DISPATCHER:
						this.actionLog.actRouteEnd(!1, t);
						break;
					case Lf.CDN:
				}
			}, e.setVideoUrl = function(t) {
				this.cdnLog.setVideoUrl(t), this.commonLog.setVideoUrl(t)
			}, e.updatePcore = function(t, e) {
				this.config.pcore = t, this.config.p2p = e, this.actionLog.setPCore(t), this.cdnLog.setPCore(t,
					e)
			}, e.updatePlayTime = function(t) {
				this.actionLog.updatePlayTime(t), this.cdnLog.VideoPlayTime = t
			}, e.updateDef = function(t) {
				this.cdnLog.setB(t), this.actionLog.setDef(t), this.p2pLog.updateData({
					def: t
				}), this.p2pFail.updateData({
					def: t
				}), this.p2pErrorMessage.updateData({
					def: t
				})
			}, e.showVipDialog = function(t) {
				this.vipLog.showVipDialog(t)
			}, e.showHdDialog = function(t) {
				this.vipLog.showHdDialog(t)
			}, e.updateVersion = function(t) {
				this.config.pcore = t, this.config.useFlash = "h5flash" == t
			}, e.autoPlayFail = function() {
				this.actionLog.actAutoPlayFail()
			}, e.manualClickPlay = function() {
				this.actionLog.actManualClickPlay()
			}, e.updateLiveInfo = function(t) {
				this.actionLog.updateLiveInfo(t)
			}, e.actDrm = function(t, e, i) {
				this.actionLog.actDrm(t, e, i)
			}, e.danmuStatusChange = function(t) {
				this.actionLog.danmuStatusChange(t)
			}, t
		}(),
		Ff = {
			stk: {}
		},
		Nf = function() {};
	Ff.parseURL = function(t) {
		var e = document.createElement("a");
		e.href = t;
		var i = e.hash,
			n = i.split("?");
		i = n.shift();
		var r, o = e.search;
		return !o && n && n.length > 0 && (o = "?" + n.join("&")), {
			source: t,
			protocol: e.protocol.replace(":", ""),
			host: e.hostname,
			port: e.port,
			query: o,
			file: (e.pathname.match(/\/([^\/?#]+)$/i) || [, ""])[1],
			hash: i.replace("#", ""),
			path: e.pathname.replace(/^([^\/])/, "/$1"),
			relative: (e.href.match(/tps?:\/\/[^\/]+(.+)/) || [, ""])[1],
			segments: e.pathname.replace(/^\//, "").split("/"),
			params: (r = {}, o.replace(/\?/g, "&").split("&").filter(function(t, e) {
				if ("" !== t && t.indexOf("=")) return !0
			}).forEach(function(t, e) {
				var i = t.indexOf("="),
					n = t.substring(0, i),
					o = t.substring(i + 1);
				r[n] = o
			}), r)
		}
	}, Ff.GetWWW = function(t, e) {
		void 0 === e && (e = 0);
		var i = new RegExp("//([^/]+)/", "im");
		return t.match(i)[e] || ""
	}, Ff.getHost = function(t) {
		return Ff.GetWWW(t, 1)
	}, Ff.findSI = function(t) {
		var e = new RegExp("(^|&|\\?)gsid=([^&]*)(&|$)", "im"),
			i = t && t.match(e);
		return null == i ? "" : i[2]
	}, Ff.getGUID = function() {
		return Rt(this, "stk.$.cookie.get", Nf)("MQGUID") || ""
	}, Ff.getCxid = function() {
		return Rt(this, "stk.$.getRequest", Nf)("cxid") || ""
	}, Ff.getUVIP = function() {
		return "1" == Rt(this, "stk.$.cookie.get", Nf)("vipStatus") ? 1 : 0
	}, Ff.getScreenPIX = function() {
		var t = window.screen;
		return t.width + "X" + t.height
	}, Ff.getNFID = function() {
		var t = "",
			e = window.screen,
			i = e.width,
			n = e.height,
			r = Rt(this, "stk.$.os.sys", ""),
			o = Rt(this, "stk.$.getFootprintId");
		return o ? t = o() || "" : window.Fingerprint && (t = new window.Fingerprint({
			screen_resolution: !0
		}).get()), t + i + "X" + n + r
	}, Ff.getUUID = function() {
		return Rt(this, "stk.$.uuid", Nf)() || ""
	}, Ff.getCookie = function() {
		return Rt(this, "stk.$.stkuuid", Nf)() || ""
	}, Ff.getSessionId = function() {
		return Rt(this, "stk.$.sessionid", Nf)() || ""
	}, Ff.getBrowser = function() {
		return dt && dt.version ? dt.name + dt.version.string : ""
	}, Ff.convertDefinition = function(t) {
		var e = "";
		switch (t) {
			case "全景声":
				e = "5";
				break;
			case "蓝光":
				e = "4";
				break;
			case "超清":
				e = "3";
				break;
			case "高清":
				e = "2";
				break;
			case "标清":
				e = "1";
				break;
			case "流畅":
				e = "0"
		}
		return e
	}, Ff.convertChangeFSScale = function(t) {
		switch (t) {
			case "50%":
				return "0";
			case "75%":
				return "1";
			case "100%":
				return "2";
			case "全屏":
				return "3"
		}
		return ""
	}, Ff.getTime = function() {
		return wt(new Date, "yyyyMMddhhmmss")
	}, Ff.params = function(t) {
		return St(t)
	};
	var Vf = Kd.RequestType,
		zf = Kd.ReportError,
		Hf = function() {},
		jf = /iPad/i.test(navigator.userAgent),
		$f = function(t) {
			return (t = ~~t) >= 1e3 && (t = Math.floor(t / 100) + t % 100), t
		};

	function Wf(t, e) {
		for (var i = [], n = 0; n < t.length; n++) i.push(t[n][e]);
		return i.join(",")
	}
	var qf, Gf, Kf, Yf = function() {
			function t(t) {
				var e, i = t.vm,
					n = Rt(i, "_injector.stk");
				this.vm = i, this.stk = Ff.stk = n, n && n.start && (this.stkLog = new n.start), this
					.playStartTime = 0, this.mStates = 1, this.cdnRetryCnt = 0, this.playerLog = new Uf({
						vid: Rt(i, "_config.VIDEOINFO.vid", ""),
						p2p: this.getP2P(),
						pcore: this.getPcore(),
						pver: i.version.split("-")[0],
						cver: i.cversion,
						wver: this.getWver(),
						method: Ff,
						subtype: Rt(i, "_config.lobparam.subtype", ""),
						getVideoInfo: i.getVideoInfo.bind(this.vm),
						getLiveVideoInfo: (null === (e = i.getLiveVideoInfo) || void 0 === e ? void 0 : e.bind(
							this.vm)) || null,
						isLive: i._config.isLive,
						liveType: i._config.liveType,
						get lobparam() {
							return i._config.lobparam || {}
						},
						useFlash: this.vm._config.useFlash,
						box: i.box,
						usePreload: i.isPreloadEnable,
						abroad: i._config.abroad,
						isIntelMgtv: "1" == i._config.i18n,
						iscdntest: Rt(i, "_config.iscdntest", !1),
						cdnld: Rt(i, "_config.cdnld", ""),
						getKernel: function() {
							return i.__dispatcher.kernel
						}
					}), this.bindEvent()
			}
			var e = t.prototype;
			return e.getP2P = function() {
				return this.vm._config.useFlash ? this.vm.config.get("kernels.flash.p2p.enable", !0) : !jf &&
					this.vm.config.get("kernels.hls.p2p.enable", !0)
			}, e.getPcore = function() {
				return this.vm._config.useFlash ? "h5flash" : jf ? "padh5" : "pch5"
			}, e.getWver = function() {
				var t = Rt(this, "vm._config.lobparam.wver", "");
				return jf && (t = t.replace(/pcweb-/, "padweb-")), t
			}, e.bindEvent = function() {
				var t = this,
					e = this.vm,
					i = this.playerLog;
				e.on("startPoint", function(t, e) {
					i.playPoint(t, e)
				}), e.on("startPointError", function(t, e) {
					i.playPoint(t, e), i.playPointError()
				}), e.on("stats", function(e) {
					var n = e.data,
						r = n.stats,
						o = n.byteStats;
					r && i.actionLog.setStats(r), o && i.actionLog.setDetail(o.detail), (null == r ?
						void 0 : r.p2p) > 0 && t.playerLog.p2pLog.getP2pData()
				}), e.on("p2p-error", function(e) {
					if (i.actionLog.setP2PError(e.data), 12101 == e.data.code) {
						var n = e.data.peer,
							r = n.code,
							o = n.connectDuration;
						!n.isAnswer || "ERR_ICE_CONNECTION_FAILURE" !== r &&
							"ERR_CONNECTION_FAILURE" !== r || t.playerLog.p2pLog.updatePeer({
								result: 0,
								peertype: e.data.from,
								spendtime: o,
								errcode: 12101,
								errmsg: r
							})
					}
				}), e.on("segment-loaded", function(t) {
					i.p2pFail.record(t.data)
				}), e.on("p2p-report", function(e) {
					var i = e.data;
					switch (i.type) {
						case "answer-result":
						case "candidate_result":
							t.playerLog.p2pErrorMessage.record(i)
					}
				}), e.on("peers", function(t) {
					var e = t.data,
						n = e.peerId,
						r = e.event,
						o = e.peer;
					if (i.commonLog.setP2P({
							event: r,
							peer: o
						}), i.p2pLog.updateData({
							did: n
						}), i.p2pFail.updateData({
							did: n
						}), i.p2pErrorMessage.updateData({
							did: n
						}), "peer-connect" === t.data.event) {
						var s = o.connectDuration,
							a = o.isAnswer,
							h = o.peer_type;
						a && i.p2pLog.updatePeer({
							result: 1,
							peertype: h,
							spendtime: s
						})
					}
				}), e.on("confData", function() {
					var e = t.getPcore(),
						n = t.getP2P();
					i.updatePcore(e, n)
				}), e.on("switchCamera", function() {
					i.actionLog.actSwitchCamera()
				}), e.on("videoReady", function() {
					var e = t.getPcore(),
						n = t.getP2P();
					i.updatePcore(e, n), i.commonLog.setBox(t.vm.box)
				}), e.on("switchSubtitle", function(t) {
					var e = t.language;
					i.commonLog.setLang(e), i.actionLog.setLang(e)
				}), e.on("videoInfoData", function(e) {
					var n, r, o;
					e.isPreload && t.playerLog.preloadVideoInfoData();
					var s = e.retry == e.maxRetry - 1 ? "1" : "0";
					switch (e.status) {
						case "loadComplete":
							i.requestSuccess({
								type: Vf.CMS,
								h: e.url,
								data: e.data
							}), i.actionLog.setTimeOffset(e.timeoffset);
							var a = e.data.user;
							a && (i.p2pLog.updateData({
								ip: a.ip
							}), i.p2pFail.updateData({
								ip: a.ip
							}), i.p2pErrorMessage.updateData({
								ip: a.ip
							}));
							break;
						case "loadError":
							n = e.code || 0, r = 101e3 + $f(n), o = zf.getError(r).msg, i.requestError({
									type: Vf.CMS,
									h: e.url,
									z: s,
									code: r,
									msg: o,
									pcode: n
								}), i.errorCode({
									c: r,
									api: e.url,
									pcode: "",
									z: e.retry
								}), "40001" != n && "40002" != n && "40003" != n && "40004" != n &&
								"40005" != n || i.playExit(n);
							break;
						case "loadTimeout":
							n = e.code, r = 103e3 + $f(n), o = zf.getError(r).msg, i.requestError({
								type: Vf.CMS,
								h: e.url,
								z: s,
								code: r,
								msg: o
							}), i.errorCode({
								c: r,
								api: e.url,
								pcode: "",
								z: e.retry
							})
					}
				}), e.on("getSource", function(e) {
					var n, r, o, s;
					void 0 === e && (e = {}), r = e.code || 0;
					var a = e.retry == e.maxRetry - 1 ? "1" : "0";
					switch (t.playerLog.actionLog.setAISwitcher(Boolean(null === (n = e.data) ||
						void 0 === n ? void 0 : n.bulletCommentMask)), e.status) {
						case "loadComplete":
							e.data.bulletCommentMask, i.requestSuccess({
								type: Vf.GETSOURCE,
								h: e.url,
								data: e.data
							});
							break;
						case "loadError":
							o = 101e3 + $f(r), s = zf.getError(o).msg, i.requestError({
								type: Vf.GETSOURCE,
								h: e.url,
								z: a,
								code: o,
								msg: s
							}), i.errorCode({
								c: o,
								api: e.url,
								pcode: "",
								z: e.retry
							});
							break;
						case "loadTimeout":
							o = 103e3 + $f(r), s = zf.getError(o).msg, i.requestError({
								type: Vf.GETSOURCE,
								h: e.url,
								z: a,
								code: o,
								msg: s
							}), i.errorCode({
								c: o,
								api: e.url,
								pcode: "",
								z: e.retry
							})
					}
				}), e.on("c_resize", function(e) {
					t.playerLog.resize(e)
				});
				var n = function(e) {
					var n, r, o;
					n = e.code || 0;
					var s = e.retry == e.maxRetry - 1 ? "1" : "0";
					switch (e.status) {
						case "loadComplete":
							t.videoUrl = e.data, i.setVideoUrl({
								h: t.videoUrl
							}), i.requestSuccess({
								type: Vf.DISPATCHER,
								h: e.url
							}), i.dispatcherLoaded(e);
							break;
						case "loadError":
							r = 201e3 + $f(n), o = zf.getError(r).msg, i.requestError({
								type: Vf.DISPATCHER,
								h: e.url,
								z: s,
								code: r,
								msg: o
							}), i.errorCode({
								c: r,
								api: e.url,
								pcode: "",
								z: e.retry
							});
							break;
						case "loadTimeout":
							r = 203e3 + $f(n), o = zf.getError(r).msg, i.requestError({
								type: Vf.DISPATCHER,
								h: e.url,
								z: s,
								code: r,
								msg: o
							}), i.errorCode({
								c: r,
								api: e.url,
								pcode: "",
								z: e.retry
							})
					}
				};
				e.on("getDispatcher", function(t) {
					void 0 === t && (t = {}), n(t)
				}), e.on("hlsDispatcherLoaded", function(t) {
					n(t.data)
				}), e.on("frontAdBegin", function(t) {
					i.playAdStart(), i.playAdBegin()
				}), e.on("frontAdEnd", function(t) {
					void 0 === t && (t = {}), i.playAdEnd("", 0, t.duration || 0, t.total || 0)
				}), e.on("adBlockException", function(t) {
					i.errorCode({
						c: $i.ADINFO_TIMEOUT.code,
						api: t.url || "",
						pcode: t.code,
						z: 0
					})
				}), e.on("videoPlayStart", function(e) {
					t.playerLog.setMStates("videoPlayStart"), i.requestStart({
						type: Vf.CDN
					})
				}), e.on("videoPlay", function(n) {
					void 0 === n && (n = {}), t.mStates = 2, t.videoUrl = t.videoUrl || n.videoUrl ||
						"", i.setVideoUrl({
							h: t.videoUrl
						}), t.playStartTime = +new Date, i.requestSuccess({
							type: Vf.CDN,
							h: t.videoUrl
						}), i.playStart({
							state: n.state,
							ap: e.isAutoplay,
							mp: e.isLoopPlay ? 2 : e.isContinuePlay ? 1 : 0,
							cdnip: Ot(t.videoUrl)
						}), e.config.isLive || t.dashLicenseRequested || i.actDrm("0", "", "0")
				}), e.on("videoPause", function(t) {
					i.playPause()
				}), e.on("videoResume", function(t) {
					i.playResume()
				}), e.on("videoEnd", function(e) {
					t.mStates = 3, i.setEndType(0), i.playStop()
				}), e.on("videoReplay", function(t) {
					i.videoReplay(), i.actDrm("0", "", "0")
				}), e.on("videoRefresh", function(e) {
					t.dashLicenseRequested = !1, i.videoRefresh()
				}), e.on("videoReload", function(e) {
					var n;
					t.isTrialViewEnd = !1, t.dashLicenseRequested = !1, t.playStartTime = 0, t
						.videoUrl = "", t.mStates = 1, t.cdnRetryCnt = 0;
					var r = (null === (n = t.vm.cms) || void 0 === n ? void 0 : n.videoInfoData) ||
					null;
					i.setVideoUrl({
						h: t.videoUrl
					}), i.setEndType(1), i.videoReload(e, r), t.playerLog.playPoint("pv")
				}), e.on("videoWaiting", function(e) {
					i.setMStates("videoWaiting"), !t.playStartTime || +new Date - t.playStartTime <
						1e3 || i.playBufferEmpty()
				}), e.on("playing", function(t) {
					i.setMStates("playing"), i.playBufferFull()
				}), e.on("videoSeeking", function(t) {
					i.setMStates("videoSeeking"), i.playDrag(t)
				}), e.on("clarityData", function(t) {
					t && t.def && i.updateDef(t.def.def), i.clarityData()
				}), e.on("clarityChanged", function(t) {
					!t.error && t.stream && i.playSwitch(t.stream.def)
				}), e.on("hlsLevelSwitching", function(t) {
					var e = t.data.def;
					i.actionLog.sendSDKByteHB(), i.actionLog.setCurrentDownloadDef(e)
				}), e.on("hlsLevelSwitched", function(e) {
					2 == t.mStates && null !== e.data.prevLevel && i.requestSuccess({
						type: Vf.CDN,
						h: t.videoUrl
					})
				}), e.on("hlsLevelLoaded", function(t) {
					var e = t.data,
						n = e.level,
						r = e.details;
					r && i.setLevelDetails(n, r)
				}), e.on("hlsSegmentLoaded", function(t) {
					i.segmentLoaded(t)
				}), e.on("flvError", function(t) {
					var e, n, r;
					void 0 === t && (t = {});
					var o = t.url || "";
					e = (r = {
						100: zf.error_cdn_flv_network,
						101: zf.error_cdn_flv_decode,
						102: zf.error_cdn_flv_seek,
						103: zf.error_cdn_flv_stream_close,
						104: zf.error_cdn_flv_media_source,
						105: zf.error_cdn_flv_source_buffer,
						106: zf.error_cdn_flv_source_buffer_abort,
						107: zf.error_cdn_flv_buffer_append
					} [t.data.errno] || zf.error_cdn_flv_unknown).code, n = r.msg, o && (i
						.requestError({
							type: Vf.CDN,
							h: o || "",
							code: e,
							z: "1",
							error: n
						}), i.errorCode({
							c: e,
							api: o || "",
							pcode: "",
							z: 0,
							msg: encodeURIComponent(n)
						}))
				}), e.on("hlsStreamError", function(n) {
					if (n && n.data) {
						var r, o = m({}, n.data),
							s = o.type,
							a = (o.fatal, e.config.isLive),
							h = "";
						h = a ? o.context && o.context.url || e.cms && e.cms.fakeMasterPlaylistUrl ||
							"" : Rt(o, "url") || Rt(o, "context.url") || Rt(o, "frag._url") || t
							.videoUrl;
						var c = function(e) {
							h && (i.requestError({
								type: Vf.CDN,
								h: h,
								code: e.code,
								z: t.cdnRetryCnt < 2 ? "0" : "1",
								error: e.msg
							}), i.errorCode({
								c: e.code,
								api: h,
								pcode: "",
								z: 0,
								msg: encodeURIComponent(s + e.msg)
							})), t.cdnRetryCnt++
						};
						switch (o.details) {
							case "manifestLoadError":
								c({
									code: r = 301e3 + Rt(o, "response.code", 0),
									msg: zf.getError(r).msg
								});
								break;
							case "manifestLoadTimeOut":
								c(zf.error_cdn_hls_master_m3u8_timeout);
								break;
							case "levelLoadError":
								c({
									code: r = 31e4 + Rt(o, "response.code", 0),
									msg: zf.getError(r).msg
								});
								break;
							case "levelLoadTimeOut":
								c(zf.error_cdn_hls_level_m3u8_timeout);
								break;
							case "levelSwitchError":
								c(zf.error_cdn_hls_level_switch_error);
								break;
							case "manifestParsingError":
								c(zf.error_cdn_hls_m3u8_parsing_error);
								break;
							case "manifestIncompatibleCodecsError":
								c(zf.error_cdn_hls_m3u8_codec_not_support);
								break;
							case "fragLoadError":
								c({
									code: r = 304e3 + Rt(o, "response.code", 0),
									msg: zf.getError(r).msg
								});
								break;
							case "fragLoadTimeOut":
								c(zf.error_cdn_hls_ts_timeout);
								break;
							case "fragDecryptError":
								c(zf.error_cdn_hls_fragdecrypt);
								break;
							case "fragParsingError":
								c(zf.error_cdn_hls_fragparsingeerror);
								break;
							case "remuxAllocError":
								c(zf.error_cdn_hls_remuxalloc);
								break;
							case "bufferAddCodecError":
								c(zf.error_cdn_hls_bufferaddcodec);
								break;
							case "bufferAppendingError":
								c(zf.error_cdn_hls_bufferappending);
								break;
							case "bufferAppendError":
								c(zf.error_cdn_hls_bufferappend);
								break;
							case "bufferNudgeOnStall":
								break;
							case "internalException":
								c(zf.error_cdn_hls_unknown)
						}
					}
				}), e.on("dashBufferEmpty", function(t) {
					i.playBufferEmpty()
				}), e.on("dashStreamError", function(e) {
					var n, r, o, s, a = (e.data || {}).error,
						h = Rt(a, "data.request.url") || t.videoUrl || "";
					if (a) {
						switch (a.code >= 100 && a.code <= 114 && (n = 319e3 + a.code, r = zf.getError(
							n).msg), s = ~~Rt(a, "data.response.status"), a.code) {
							case 10:
								n = (o = zf.error_cdn_dash_mpd_resolve_failure).code, r = o.msg;
								break;
							case 11:
								n = 311e3 + s, r = zf.getError(n).msg;
								break;
							case 12:
								n = 313e3 + s, r = zf.getError(n).msg;
								break;
							case 13:
								n = (o = zf.error_cdn_dash_representation_update_abnormal).code, r = o
									.msg;
								break;
							case 14:
								n = (o = zf.error_cdn_dash_representation_abnormal).code, r = o.msg;
								break;
							case 17:
								n = 315e3 + s, r = zf.getError(n).msg;
								break;
							case 19:
								n = (o = zf.error_cdn_dash_mpd_resolve_url_failure).code, r = o.msg;
								break;
							case 20:
								n = (o = zf.error_cdn_dash_buffer_append).code, r = o.msg;
								break;
							case 21:
								n = (o = zf.error_cdn_dash_buffer_remove).code, r = o.msg;
								break;
							case 22:
								n = (o = zf.error_cdn_dash_buffer_update).code, r = o.msg;
								break;
							case 23:
								n = (o = zf.error_cdn_dash_mse_not_support).code, r = o.msg;
								break;
							case 24:
								n = (o = zf.error_cdn_dash_eme_not_support).code, r = o.msg;
								break;
							case 25:
								n = (o = zf.error_cdn_dash_mpd_download).code, r = o.msg;
								break;
							case 27:
								n = (o = zf.error_cdn_dash_segment_download).code, r = o.msg;
								break;
							case 28:
								n = (o = zf.error_cdn_dash_initsegment_download).code, r = o.msg;
								break;
							case 29:
								n = (o = zf.error_cdn_dash_xlink_download).code, r = o.msg;
								break;
							case 30:
								n = (o = zf.error_cdn_dash_mpd_resolve_codec_not_support).code, r = o
									.msg;
								break;
							case 31:
								n = (o = zf.error_cdn_dash_mpd_resolve_no_duration).code, r = o.msg;
								break;
							case 32:
								n = (o = zf.error_cdn_dash_mpd_resolve_no_duration).code, r = o.mgg;
								break;
							case 33:
								n = (o = zf.error_cdn_dash_mpd_resolve_text_file_failure).code, r = o
									.msg;
								break;
							case 34:
								n = (o = zf.error_cdn_dash_mpd_resolve_muxed_detected).code, r = o.msg;
								break;
							case 35:
								n = (o = zf.error_cdn_dash_codec_not_support).code, r = o.msg;
								break;
							default:
								n = (o = zf.error_cdn_dash_other_error).code, r = o.msg
						}
						h && (i.requestError({
							type: Vf.CDN,
							h: h || "",
							code: n,
							z: "1",
							error: r
						}), i.errorCode({
							c: n,
							api: h || "",
							pcode: "",
							z: 0,
							msg: "DashErrorCode:" + a.code
						})), i.actDrm(a.code, a.message, "1")
					}
				}), e.on("nativeStreamError", function(t) {
					if (t && t.data && t.data.fatal) {
						var n, r, o, s = t.data,
							a = t.data ? t.data.url : e.$video.src,
							h = {
								300: zf.error_cdn_fairplay_keysystem_browser_version,
								301: zf.error_cdn_fairplay_keysystem_mediakeys,
								302: zf.error_cdn_fairplay_keysystem_keysession,
								303: zf.error_cdn_fairplay_cert_timeout,
								304: zf.error_cdn_fairplay_keysession_webkitkeyerror,
								305: zf.error_cdn_fairplay_license_timeout
							};
						s && (r = (n = h[s.code] || zf.error_cdn_vanilla_unknown).code, o = n.msg, i
							.requestError({
								type: Vf.CDN,
								h: a || "",
								code: r,
								z: "1",
								error: o
							}), i.errorCode({
								c: r,
								api: a || "",
								pcode: "",
								z: 0,
								msg: "nativeStreamError:" + r + o
							}), 305 != s.code && i.actDrm(s.code, "nativeStreamError:" + s.details,
								"1"))
					}
				});
				var r = function(e) {
					t.dashLicenseRequested = !0;
					var n = (e.data || {}).error;
					if (n) {
						var r = n.message || n.details;
						i.actDrm(n.code, r, "1")
					} else i.actDrm("0", "", "1")
				};
				e.on("fairplayLicenseRequest", r), e.on("dashLicenseRequest", r), e.on("frontAdError", function(
					t) {
					void 0 === t && (t = {});
					var n = (t.data ? t.data.code : e.$video.error.code) || 2,
						r = t.data ? t.data.url : e.$video.src,
						o = $i.AD_MEDIA_UNKOWN;
					n && (o = {
						1: $i.AD_DOWNLOAD_CANCEL,
						2: $i.AD_DOWNLOAD_TIMEOUT,
						3: $i.AD_MEDIA_ERROR,
						4: $i.AD_MEDIA_UNSUPPORT
					} [n], i.errorCode({
						c: o.code,
						api: r,
						pcode: "",
						z: 0
					}))
				}), e.on("videoError", function(t) {
					if (void 0 === t && (t = {}), "hls" !== e.box && "dash" !== e.box) {
						var n = (t.data ? t.data.code : e.$video.error.code) || 2,
							r = t.data ? t.data.url : e.$video.src,
							o = 2 == t.retry ? "1" : "0",
							s = {
								1: zf.error_cdn_vanilla_close_downlowd,
								2: zf.error_cdn_vanilla_network,
								3: zf.error_cdn_vanilla_decode,
								4: zf.error_cdn_vanilla_format_not_support,
								5: zf.error_cdn_vanilla_encrypted_media,
								6: zf.error_cdn_vanilla_unknown
							} [n];
						r && n && s && (i.requestError({
							type: Vf.CDN,
							h: r || "",
							code: s.code,
							z: o,
							error: s.msg
						}), i.errorCode({
							c: s.code,
							api: r || "",
							pcode: "",
							z: t.retry || 0
						}))
					}
				}), e.on("adRequestError", function(t) {
					var e = $i.ADINFO_TIMEOUT,
						n = t.url;
					i.errorCode({
						c: e.code,
						api: n || "",
						pcode: "",
						z: 0
					})
				}), e.on("timeupdate", function(t) {
					i.updatePlayTime(e.currentTime)
				}), e.on("showErrorDialog", function(t) {
					i.setEndType(9), i.playStop()
				}), e.on("showVipDialog", function(e) {
					i.showVipDialog(e), 0 != (e.info && e.info.trialtime) || t.isTrialViewEnd || (i
						.playExit("10001"), t.isTrialViewEnd = !0)
				}), e.on("showHdDialog", function(t) {
					i.showHdDialog(t)
				}), e.on("switchToFlash", function(t) {
					i.updateVersion("h5flash")
				}), e.on("switchToHtml5", function(t) {
					var e = jf ? "padh5" : "pch5";
					i.updateVersion(e)
				}), e.on("autoplayFail", function(t) {
					var e = $i.AUTOPLAY_FAIL_ERROR;
					i.errorCode({
						c: e.code,
						api: "",
						pcode: "",
						z: 0
					}), i.autoPlayFail()
				}), e.on("manualClickPlay", function(t) {
					i.manualClickPlay()
				}), e.on("errorRefreshClick", function(i) {
					var n = i.vinfo,
						r = Rt(e, "_injector.stk.$.browser.brName", ""),
						o = Rt(e, "_injector.stk.$.browser.version", ""),
						s = Rt(e, "_injector.stk.$.os.sys", ""),
						a = Rt(e, "_config.lobparam.suuid", ""),
						h = {
							act: "cp1",
							bid: "isIpad" == s ? "14.1.90" : "1.1.90",
							mp: 1,
							idx: 0,
							pver: e.version.split("-")[0],
							suuid: a || "",
							modl: n.mod || "",
							vid: n.vid || "",
							cid: n.rid || "",
							os: s || "",
							browser: r + " " + o
						};
					t.stkLog && t.stkLog.pageStart(h)
				}), e.on("installAppClick", function(i) {
					var n = i.pos,
						r = i.vinfo,
						o = {
							bid: "4.1.2",
							time: Rt(e, "_injector.stk.$.getTimer", Hf)("yyyyMMddhhmmss") || "",
							act: "click",
							vid: r.video_id,
							cid: r.root_id,
							plid: r.collection_id,
							bdid: r.playlist_id,
							pos: n
						};
					t.stkLog && t.stkLog.pageStart(o)
				}), e.on("recommendVideoShow", function(i) {
					var n = i.vinfo,
						r = i.recommendVideos,
						o = {
							bid: "1.1.4",
							time: Rt(e, "_injector.stk.$.getTimer", Hf)("yyyyMMddhhmmss") || "",
							act: "hotpv",
							ver: r.ver || "",
							reqid: r.reqid || "",
							region: 8,
							cid: n.rid,
							rcdata: Wf(r.data, "videoId") || "",
							videoid: n.vid,
							vidauto: 0,
							rctype: Wf(r.data, "rcType")
						};
					t.stkLog && t.stkLog.pageEvent(o, "//rc.log.mgtv.com/rpt")
				}), e.on("recommandVideoClick", function(i) {
					var n = i.vinfo,
						r = i.hitid,
						o = i.pos,
						s = i.recommendVideos,
						a = {
							bid: "1.1.4",
							time: Rt(e, "_injector.stk.$.getTimer", Hf)("yyyyMMddhhmmss"),
							act: "recommended_hot",
							ver: s.ver || "",
							reqid: s.reqid || "",
							region: 8,
							cid: n.rid,
							rcdata: Wf(s.data, "videoId") || "",
							hitid: r,
							pos: o,
							videoid: n.vid,
							vidauto: 0,
							rctype: Wf(s.data, "rcType")
						};
					t.stkLog && t.stkLog.pageEvent(a, "//rc.log.mgtv.com/rpt")
				}), e.on("clickAction", function(t) {
					if (void 0 === t && (t = {}), t && t.report && window.MgStat && window.MgStat
						.send) {
						var i = Rt(e, "_config.lobparam.fpa", ""),
							n = e.getVideoInfo(),
							r = e.config.isLive ? "1" : "0",
							o = m({}, t.lob, {
								fpa: i,
								pt: r
							}),
							s = m({
								vid: n.vid || "",
								liveId: n.liveId || "",
								direct: "cntp",
								label: "a",
								act: "pfc"
							}, t.param || {});
						MgStat.send("click", o, s)
					}
				}), e.on("componentView", function(t) {
					if (void 0 === t && (t = {}), t && t.report && window.MgStat && window.MgStat
						.send) {
						var i = Rt(e, "_config.lobparam.fpa", ""),
							n = e.getVideoInfo(),
							r = e.config.isLive ? "1" : "0";
						m({}, t.lob, {
							fpa: i,
							pt: r
						}), m({
							vid: n.vid || ""
						});
						MgStat.send("cv", t.lob || {}, t.param || {})
					}
				}), e.on("danmuConfig", function(e) {
					t.playerLog.danmuStatusChange({
						switcher: Boolean(e.switcher),
						render: Boolean(e.render)
					})
				}), e.on("danmuStatusChange", function(e) {
					var i = {
						render: Boolean(1 == e.state)
					};
					t.playerLog.danmuStatusChange(i)
				})
			}, e.destroy = function() {
				this.playerLog = null, this.vm = null
			}, t
		}(),
		Xf = function() {
			function t(t) {
				this.parent = t, this.locale = this.parent.locale
			}
			var e = t.prototype;
			return e.create = function() {
				this.createEl(), this.addAllEvent()
			}, e.destroy = function() {
				this.removeAllEvent()
			}, e.createEl = function() {
				this.$dom = document.createElement(this.option.tag), this.$domWrap = Ie(this.$dom), this.option
					.cls && (this.$dom.className = this.option.cls), this.$dom.innerHTML = w(this.option.html) ?
					this.option.html({
						locale: this.locale
					}) : this.option.html, this.option.alignTop ? this.parent.$dom.appendChild(this.$dom) : this
					.option.alignRight ? this.parent.$wrapRight.appendChild(this.$dom) : this.parent.$wrapLeft
					.appendChild(this.$dom)
			}, e.enable = function(t) {
				void 0 === t && (t = !0), Ae(this.$dom, {
					display: t ? "" : "none"
				})
			}, e.addAllEvent = function() {
				var t = this;
				this.option.defaultEvent && g(this.option.defaultEvent).forEach(function(e) {
					var i = t.option.defaultEvent[e];
					t[i] = z(t[i], t), Te(t.$dom, e, t[i], !1, !1)
				}), this.option.event && g(this.option.event).forEach(function(e) {
					var i = "__" + e;
					t[i] = z(t.option.event[e], t), Te(t.$dom, e, t[i], !1, !1)
				})
			}, e.removeAllEvent = function() {
				var t = this;
				this.option.defaultEvent && g(this.option.defaultEvent).forEach(function(e) {
					var i = t.option.defaultEvent[e];
					t[i] = z(t[i], t), Se(t.$dom, e, t[i], !1, !1)
				}), this.option.event && g(this.option.event).forEach(function(e) {
					var i = "__" + e;
					t[i] = z(t.option.event[e], t), Se(t.$dom, e, t[i], !1, !1)
				})
			}, t
		}(),
		Zf = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = i, n.init(), n
			}
			return r(e, t), e.prototype.init = function() {
				t.prototype.create.call(this), _e(this.$dom, "control-item")
			}, e
		}(Xf),
		Qf = {
			tag: "mango-control-state",
			html: function(t) {
				return '\n  <a href="javascript:void(0);" class="btn" title="' + t.locale["common.pause"] +
					'">\n      <svg class="svgPlayPuase1" viewBox="0 0 18 18" version="1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">\n        <g>\n          <path d="M15.503,6.42L5.127,0.376C3.293-0.692,1,0.643,1,2.78v12.44c0,2.137,2.293,3.473,4.127,2.404l10.376-6.044C17.499,10.417,17.499,7.583,15.503,6.42z"></path>\n        </g>\n      </svg>\n      <svg class="svgPlayPuase2" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">\n        <g>\n          <path d="M3.5,0C2.675,0,2,0.675,2,1.5v15C2,17.325,2.675,18,3.5,18S5,17.325,5,16.5v-15C5,0.675,4.325,0,3.5,0z"></path>\n          <path d="M14.5,0C13.675,0,13,0.675,13,1.5v15c0,0.825,0.675,1.5,1.5,1.5s1.5-0.675,1.5-1.5v-15C16,0.675,15.325,0,14.5,0z"></path>\n        </g>\n      </svg>\n      </a>\n  '
			},
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		Jf = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(Qf, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap.addClass("control-item btn-play"), this
					.changeState("pause")
			}, i.changeState = function(t) {
				var e = "play" === t ? "pause" : "play";
				this.state = t, _e(this.parent.$dom, e), be(this.parent.$dom, t)
			}, i.click = function(t) {
				var e = "play" === this.state ? "pause" : "play";
				return this.changeState(e), this.parent[e](), "pause" === e && this.parent.emit(
						"videoUserPause"), Yi.info("PluginControlbar", "user trigger action [" + e + "]."),
					"play" === e && this.parent.ended && !this.parent.vm._config.useFlash && (Yi.info(
						"PluginControlbar", "send player event [videoRefresh]."), this.parent.vm.emit(
						"videoRefresh")), t.stopPropagation(), t.preventDefault(), !1
			}, e
		}(Xf),
		tp = {
			tag: "mango-control-loop",
			cls: "control-item",
			html: function(t) {
				return '\n  <mango-control-loop-btn>\n      <a class="btn" href="javascript:void(0);" title="">\n\n\n        <svg class="icon n-loop" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n\t<path d="M8.923,3.382c0.101-0.245,0.101-0.52,0-0.764C8.872,2.495,8.799,2.385,8.707,2.293l-2-2c-0.391-0.391-1.023-0.391-1.414,0\n\t\ts-0.391,1.023,0,1.414L5.71,2.124C2.465,2.732,0,5.581,0,9c0,3.428,2.455,6.331,5.837,6.902c0.056,0.01,0.112,0.014,0.167,0.014\n\t\tc0.479,0,0.903-0.345,0.985-0.833c0.092-0.544-0.275-1.061-0.819-1.152C3.792,13.529,2,11.409,2,9c0-2.757,2.243-5,5-5h1\n\t\tc0.13,0,0.26-0.027,0.382-0.077C8.627,3.821,8.821,3.627,8.923,3.382z"/>\n\t<path d="M18,9c0-3.421-2.449-6.323-5.823-6.9c-0.546-0.094-1.061,0.273-1.154,0.817c-0.093,0.544,0.273,1.061,0.817,1.154\n\t\tC14.211,4.477,16,6.596,16,9c0,2.757-2.243,5-5,5h-1c-0.13,0-0.26,0.027-0.382,0.077c-0.244,0.101-0.439,0.296-0.541,0.541\n\t\tc-0.101,0.245-0.101,0.52,0,0.764c0.051,0.122,0.124,0.233,0.216,0.325l2,2C11.488,17.902,11.744,18,12,18s0.512-0.098,0.707-0.293\n\t\tc0.391-0.391,0.391-1.023,0-1.414l-0.417-0.417C15.535,15.268,18,12.419,18,9z"/>\n</svg>\n\n<svg class="icon n-loop-open" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n\t<path d="M7,4h1c0.13,0,0.26-0.027,0.382-0.077c0.244-0.101,0.439-0.296,0.541-0.541c0.101-0.245,0.101-0.52,0-0.764\n\t\tC8.872,2.495,8.799,2.385,8.707,2.293l-2-2c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414L5.71,2.124\n\t\tC2.465,2.732,0,5.581,0,9c0,3.428,2.455,6.331,5.837,6.902c0.056,0.01,0.112,0.014,0.167,0.014c0.479,0,0.903-0.345,0.985-0.833\n\t\tc0.092-0.544-0.275-1.061-0.819-1.152C3.792,13.529,2,11.409,2,9C2,6.243,4.243,4,7,4z"/>\n\t<path d="M18,9c0-3.421-2.449-6.323-5.823-6.9c-0.546-0.094-1.061,0.273-1.154,0.817c-0.093,0.544,0.273,1.061,0.817,1.154\n\t\tC14.211,4.477,16,6.596,16,9c0,2.757-2.243,5-5,5h-1c-0.13,0-0.26,0.027-0.382,0.077c-0.244,0.101-0.439,0.296-0.541,0.541\n\t\tc-0.101,0.245-0.101,0.52,0,0.764c0.051,0.122,0.124,0.233,0.216,0.325l2,2C11.488,17.902,11.744,18,12,18s0.512-0.098,0.707-0.293\n\t\tc0.391-0.391,0.391-1.023,0-1.414l-0.417-0.417C15.535,15.268,18,12.419,18,9z"/>\n\t<path d="M10,11V7c0-0.552-0.448-1-1-1C8.448,6,8,6.448,8,7v4c0,0.552,0.448,1,1,1C9.552,12,10,11.552,10,11z"/>\n</svg>\n\n      </a>\n    <div class="u-control-tips"><p class="video_loop_tips">' +
					t.locale["controls.loop.open"] + "</p></div>\n  </mango-control-loop-btn>\n  "
			},
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		ep = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(tp, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				this.locale = this.parent.locale, t.prototype.create.call(this)
			}, i.inited = function() {
				var t = this.$domWrap.find(".video_loop_tips");
				this.parent.userSetting.isLoop ? (t.html(this.locale["controls.loop.close"]), this.$domWrap
					.addClass("on")) : (t.html(this.locale["controls.loop.open"]), this.$domWrap
					.removeClass("on"))
			}, i.click = function(t) {
				var e = "",
					i = "";
				this.parent.userSetting.isLoop ? (this.parent.userSetting.isLoop = 0, zi.set("mango-loop-open",
							0), this.$domWrap.removeClass("on"), e = this.locale["controls.loop.open"], i = this
						.locale["controls.loop.closed"]) : (this.parent.userSetting.isLoop = 1, zi.set(
						"mango-loop-open", 1), this.$domWrap.addClass("on"), e = this.locale[
						"controls.loop.close"], i = this.locale["controls.loop.opend"]), this.$domWrap.find(
						".video_loop_tips").html(e), this.parent.config.isIpad && this.parent.children.tip
					.showBottomTip({
						_type: "commonTPL",
						_time: 2e3,
						info: i,
						text: ""
					}), Yi.info("PluginControlbar", "user trigger action [togglePlayLoop], status [" + e +
					"]."), t.stopPropagation(), t.preventDefault()
			}, e
		}(Xf),
		ip = {
			tag: ",
			",
			html: function(t) {
				return '\n    <mango-control-playnext-btn>\n      <svg id="n-next" viewBox="0 0 18 18" width="100%" height="100%">\n        <path d="M11.626 6.457L3.452 1.334C1.937.384.042 1.571.042 3.471v11.057c0 1.9 1.894 3.087 3.41 2.137l8.174-5.123c1.875-1.174 1.875-3.91 0-5.085zM16.5 1c-.825 0-1.5.675-1.5 1.5v13c0 .825.675 1.5 1.5 1.5s1.5-.675 1.5-1.5v-13c0-.825-.675-1.5-1.5-1.5z"></path>\n      </svg>\n    </mango-control-playnext-btn>\n    <mango-control-nextvideoinfo>\n    <div class="u-next-box">\n      <div class="u-next-box-cent">\n        <p class="pic"><img src="" width="130" height="74"><em class="pn-time"></em></p>\n        <h2 class="tit">' +
					t.locale["controls.next.text"] +
					'</h2>\n        <p class="n"></p>\n      </div>\n    </div>\n    </mango-control-nextvideoinfo>\n  '
			},
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		np = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(ip, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap.addClass("control-item").hide(), this.$nextvideo =
					this.$domWrap.find(".u-next-box")
			}, i.setNextVideoInfo = function(t) {
				void 0 === t && (t = {});
				var e = t,
					i = e.img,
					n = e.title,
					r = e.duration;
				i && n && r ? (this.nextvideoinfo = t, this.$nextvideo.find("img").attr("src", i), this
					.$nextvideo.find(".n").html(n), this.$nextvideo.find(".pn-time").html(_t(r)), this
					.$domWrap.css("display", "inline-block")) : this.nextvideoinfo = null
			}, i.playNext = function() {
				if (this.parent.vm._config.webJump) this.parent.vm.requesetRefreshPage();
				else {
					var t = this.parent.vm.getNextPlayUrl();
					if (t) return void(window.location.href = t);
					this.parent.nextvideoinfo && this.parent.nextvideoinfo.url && (window.location.href = this
						.parent.nextvideoinfo.url)
				}
			}, i.hide = function() {
				this.$domWrap.hide()
			}, i.click = function(t) {
				this.playNext(), this.parent.$emit("playNextVideo"), Yi.info("PluginControlbar",
					"user trigger action [playNext]."), t.stopPropagation(), t.preventDefault()
			}, e
		}(Xf),
		rp = {
			tag: "mango-volume",
			html: "\n    <mango-volume-state>\n      <mango-volume-state-mute></mango-volume-state-mute>\n      <mango-volume-state-low></mango-volume-state-low>\n      <mango-volume-state-high></mango-volume-state-high>\n    </mango-volume-state>\n    <mango-volume-bar>\n      <mango-volume-bar-wrap>\n        <mango-volume-bar-bg></mango-volume-bar-bg>\n        <mango-volume-bar-all>\n          <mango-volume-bar-ball></mango-volume-bar-ball>\n        </mango-volume-bar-all>\n        <mango-volume-bar-track></mango-volume-bar-track>\n      </mango-volume-bar-wrap>\n    </mango-volume-bar>\n  ",
			alignRight: !0,
			animate: {
				icon: '\n    <svg class="icon n-voice" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n\t<path style="fill:none;" d="M10.383,2.904c-0.145-0.06-0.651-0.222-1.09,0.217l-2,2C6.727,5.688,5.973,6,5.171,6H4\n\t\tC2.897,6,2,6.897,2,8v2c0,1.103,0.897,2,2,2h1.171c0.801,0,1.555,0.312,2.122,0.879l2,2c0.438,0.438,0.944,0.277,1.09,0.217\n\t\tC10.527,15.036,11,14.792,11,14.171V3.829C11,3.208,10.527,2.964,10.383,2.904z"/>\n\t<path d="M11.148,1.057c-1.141-0.472-2.395-0.224-3.269,0.65l-2,2C5.69,3.896,5.438,4,5.171,4H4C1.794,4,0,5.794,0,8v2\n\t\tc0,2.206,1.794,4,4,4h1.171c0.267,0,0.519,0.104,0.708,0.293l2,2c0.581,0.582,1.33,0.886,2.102,0.886\n\t\tc0.389,0,0.784-0.077,1.167-0.236C12.291,16.47,13,15.408,13,14.171V3.829C13,2.592,12.291,1.53,11.148,1.057z M11,14.171\n\t\tc0,0.62-0.473,0.864-0.617,0.924c-0.146,0.06-0.651,0.221-1.09-0.217l-2-2C6.727,12.312,5.973,12,5.171,12H4c-1.103,0-2-0.897-2-2\n\t\tV8c0-1.103,0.897-2,2-2h1.171c0.801,0,1.555-0.312,2.122-0.879l2-2c0.439-0.439,0.945-0.277,1.09-0.217\n\t\tC10.527,2.964,11,3.208,11,3.829V14.171z"/>\n\t<path d="M16.895,4.553c-0.247-0.494-0.847-0.694-1.342-0.447c-0.494,0.247-0.694,0.848-0.447,1.342\n\t\tc1.112,2.225,1.112,4.881,0,7.105c-0.247,0.494-0.046,1.095,0.447,1.342C15.696,13.966,15.849,14,15.999,14\n\t\tc0.367,0,0.72-0.203,0.896-0.553C18.287,10.663,18.287,7.337,16.895,4.553z"/>\n</svg>\n\n    <svg class="icon n-voice-no" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">\n\t<path d="M2.707,1.293c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414l14,14C15.488,16.902,15.744,17,16,17\n\t\ts0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L2.707,1.293z"/>\n\t<path d="M10.383,15.096c-0.146,0.06-0.651,0.221-1.09-0.217l-2-2C6.727,12.312,5.973,12,5.171,12H4c-1.103,0-2-0.897-2-2V8\n\t\tc0-0.701,0.364-1.317,0.912-1.674L1.494,4.908C0.59,5.642,0,6.748,0,8v2c0,2.206,1.794,4,4,4h1.171\n\t\tc0.267,0,0.519,0.104,0.708,0.293l2,2c0.581,0.582,1.33,0.886,2.102,0.886c0.389,0,0.784-0.077,1.167-0.236\n\t\tc0.554-0.229,1.004-0.599,1.323-1.059l-1.51-1.51C10.867,14.835,10.509,15.043,10.383,15.096z"/>\n\t<path d="M9.293,3.121c0.439-0.439,0.945-0.276,1.09-0.217C10.527,2.964,11,3.208,11,3.829v3.757l2,2V3.829\n\t\tc0-1.237-0.709-2.299-1.852-2.772c-1.142-0.473-2.395-0.224-3.269,0.65L6.5,3.086L7.914,4.5L9.293,3.121z"/>\n\t<path d="M15.364,11.95l1.517,1.517c0.004-0.007,0.01-0.012,0.014-0.02c1.392-2.785,1.392-6.11,0-8.895\n\t\tc-0.247-0.494-0.847-0.694-1.342-0.447c-0.494,0.247-0.694,0.848-0.447,1.342C16.119,7.475,16.198,9.858,15.364,11.95z"/>\n</svg>\n\n    '
			},
			layout: "vertical",
			defaultEvent: {
				mousedown: "mousedown",
				mouseleave: "mouseleave"
			}
		},
		op = (d((qf = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).parent.preVolume = 0, n.option = N(rp, k(i) ? i :
					{}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$state = this.$domWrap.find(
						"mango-volume-state"), this.$bar = this.$domWrap.find("mango-volume-bar"),
					this.$all = this.$domWrap.find("mango-volume-bar-all"), this.$bg = this.$domWrap
					.find("mango-volume-bar-bg"), this.layout = "vertical" === this.option.layout ?
					"vertical" : "horizonal", this.option.icon && this.option.icon.mute && this
					.option.icon.low ? (this.option.icon.high = this.option.icon.high || this.option
						.icon.low, this.$mute = this.$domWrap.find("mango-volume-state-mute"), this
						.$low = this.$domWrap.find("mango-volume-state-low"), this.$high = this
						.$domWrap.find("mango-volume-state-high"), this.$mute.html(this.option.icon
							.mute), this.$low.html(this.option.icon.low), this.$high.html(this
							.option.icon.high)) : this.option.bitmap || (this.animate = !0, this
						.$state.html(this.option.animate.icon)), this.$domWrap.addClass(
						"control-item " + this.layout), this.changeState()
			}, i.inited = function() {
				this.parent.volume = this.parent.userSetting.volume, this.update()
			}, i.destroy = function() {
				t.prototype.destroy.call(this)
			}, i.changeState = function() {
				this.parent.muted || 0 === this.parent.volume ? this.state = "mute" : this.parent
					.volume > 0 && this.parent.volume <= .5 ? this.state = "low" : this.parent
					.volume > .5 && this.parent.volume <= 1 && (this.state = "high"), this.$domWrap
					.removeClass("mute low high"), this.$domWrap.addClass(this.state)
			}, i.adjust = function(t) {
				var e = Math.floor(100 * this.parent.volume);
				e = t > 0 ? Math.min(e + 10, 100) : Math.max(e - 10, 0), this.parent.volume = e /
					100, this.parent.children.tip && this.parent.children.tip.showBottomTip({
						_type: "commonTPL",
						_time: 2e3,
						info: this.locale["controls.tip.volume"] + " ",
						text: e + "%"
					})
			}, i.click = function(t) {
				var e = t.path || function(t) {
					var e = [];
					if (null === t) return e;
					for (e.push(t); null !== t.parentNode;) t = t.parentNode, e.push(t);
					return e
				}(t.target);
				return -1 !== e.indexOf(this.$state[0]) ? (this.stateClick(t), "state") : -1 !== e
					.indexOf(this.$bar[0]) ? (this.barClick(t), "bar") : "padding"
			}, i.stateClick = function() {
				var t = this.parent.children.tip,
					e = this.parent.volume;
				0 === e || this.parent.muted ? (this.parent.volume = this.parent.preVolume || .5,
					this.parent.muted = !1) : (this.parent.preVolume = e, this.parent.volume =
					0, this.parent.muted = !0), this.changeState(), t && t.showBottomTip({
					_type: "commonTPL",
					_time: 2e3,
					info: this.locale["controls.tip.volume"] + " ",
					text: Math.floor(100 * this.parent.volume) + "%"
				}), Yi.info("PluginControlbar", "user trigger action [adjustVolume], volume [" +
					this.parent.volume + "]")
			}, i.barClick = function(t) {
				var e = "vertical" === this.layout ? 1 - t.offsetY / this.$bg[0].offsetHeight : t
					.offsetX / this.$bg[0].offsetWidth;
				this.parent.volume = e < 0 ? 0 : e > 1 ? 1 : e, this.update(), this.parent.children
					.tip && this.parent.children.tip.showBottomTip({
						_type: "commonTPL",
						_time: 2e3,
						info: this.locale["controls.tip.volume"] + " ",
						text: Math.floor(100 * this.parent.volume) + "%"
					}), Yi.info("PluginControlbar", "user trigger action [adjustVolume], volume [" +
						this.parent.volume + "]")
			}, i.mouseleave = function(t) {
				this.dragEnd()
			}, i.mousedown = function(t) {
				"bar" === this.click(t) && (this.startX = "vertical" === this.layout ? t.clientY : t
					.clientX, this.startVolume = this.parent.volume, Te(window, "mousemove",
						this.draging), Te(window, "mouseup", this.dragEnd), Te(window,
						"contextmenu", this.dragEnd))
			}, i.update = function() {
				this.changeState();
				var t = this.parent.muted ? 0 : this.parent.volume;
				"vertical" === this.layout ? this.$all.css("height", 100 * t + "%") : this.$all.css(
					"width", 100 * t + "%")
			}, i.draging = function(t) {
				this.endX = "vertical" === this.layout ? t.clientY : t.clientX;
				var e = "vertical" === this.layout ? (this.startX - this.endX) / this.$bg[0]
					.offsetHeight : (this.endX - this.startX) / this.$bg[0].offsetWidth,
					i = +(this.startVolume + e).toFixed(2);
				this.parent.volume = i < 0 ? 0 : i > 1 ? 1 : i, this.parent.muted = !1, this.parent
					.children.tip && this.parent.children.tip.showBottomTip({
						_type: "commonTPL",
						_time: 2e3,
						info: this.locale["controls.tip.volume"] + " ",
						text: Math.floor(100 * this.parent.volume) + "%"
					})
			}, i.dragEnd = function() {
				this.startX = 0, this.startVolume = 0, Se(window, "mousemove", this.draging), Se(
					window, "mouseup", this.dragEnd), Se(window, "contextmenu", this.dragEnd)
			}, e
		}(Xf)).prototype, "draging", [Kc], p(qf.prototype, "draging"), qf.prototype), d(qf.prototype, "dragEnd",
			[Kc], p(qf.prototype, "dragEnd"), qf.prototype), qf),
		sp = {
			tag: "mango-progressbar",
			cls: "u-control-loading",
			html: '\n    <mango-progressbar-wrap class="u-control-loading-box">\n      <mango-progressbar-bg class="loadingbg"></mango-progressbar-bg>\n      <mango-progressbar-buffer class="buffered"></mango-progressbar-buffer>\n      <mango-progressbar-all class="loading">\n        <mango-progressbar-ball class="button progress-button"></mango-progressbar-ball>\n      </mango-progressbar-all>\n      <mango-progressbar-stars class="stars"></mango-progressbar-stars>\n      <mango-progressbar-star-preview class="starspreview">\n\n      </mango-progressbar-star-preview>\n\n      \x3c!-- 时间轴预览功能 --\x3e\n      <mango-progressbar-preview class="message">\n        <dl>\n            <dd>\n                <div class="preview"></div>\n                <em class="time"></em>\n            </dd>\n            <dt class="title"></dt>\n        </dl>\n      </mango-progressbar-preview>\n\n      <mango-progressbar-previewimg class="player-previewlist"></mango-progressbar-previewimg>\n\n      <mango-progressbar-previewtime class="previewtime-message">\n        <div class="message-time" node-type="time-preview">00:00</div>\n      </mango-progressbar-previewtime>\n\n      <mango-progressbar-preview-btn class="button progress-indicator">\n        <mango-progressbar-preview-line></mango-progressbar-preview-line>\n      </mango-progressbar-preview-btn>\n\n      \x3c!-- 打点数据功能 --\x3e\n      <mango-progressbar-keypoints></mango-progressbar-keypoints>\n    </mango-progressbar-wrap>\n  '
		},
		ap = /iPad/i.test(navigator.userAgent),
		hp = (d((Gf = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(sp, k(i) ? i : {}), n.visiable = !1 !==
					i, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.keyPoints = null, this.keyframes = null, this
					.isShowTips = !0, this.$wrap = this.$domWrap.find("mango-progressbar-wrap"),
					this.$buffer = this.$domWrap.find("mango-progressbar-buffer"), this.$all = this
					.$domWrap.find("mango-progressbar-all"), this.$tip = this.$domWrap.find(
						"mango-progressbar-preview"), this.$preview = this.$domWrap.find(
						".message .preview"), this.$track = this.$domWrap.find(
						"mango-progressbar-track"), this.$line = this.$domWrap.find(
						".mango-progressbar-line"), this.$ball = this.$domWrap.find(
						"mango-progressbar-ball"), this.$previewBtn = this.$domWrap.find(
						"mango-progressbar-preview-btn"), this.$points = this.$domWrap.find(
						"mango-progressbar-keypoints"), this.$previewimg = this.$domWrap.find(
						"mango-progressbar-previewimg"), this.$starSegmentList = this.$domWrap.find(
						"mango-progressbar-stars"), this.$starPreview = this.$domWrap.find(
						"mango-progressbar-star-preview"), !this.visiable && this.$domWrap.css(
						"visibility", "hidden"), ap && this.$domWrap.addClass(
						"u-control-loading-ipad"), this.addWrapEvent()
			}, i.destroy = function() {
				this.removeWrapEvent(), this.watch_screen && this.watch_screen(), t.prototype
					.destroy.call(this)
			}, i.initKeyPoints = function(t, e) {
				this.videoinfo = this.parent.videoinfo, this.keyPoints = t, this.duration = e, this
					.createPoints()
			}, i.reset = function() {
				this.$starSegmentList.html(""), this.$points.html("")
			}, i.initSegments = function(t) {
				this.starSegments = t
			}, i.setSegment = function(t) {
				var e = this;
				this.currentStartSegment = this.starSegments.find(function(e) {
						return e.tag == t
					}), this.currentSegments = this.currentStartSegment ? this.currentStartSegment
					.segments : [];
				var i = "",
					n = this.parent.currentTime;
				this.currentSegments.forEach(function(t) {
					var n = t.startTime / e.duration * 100,
						r = (t.endTime - t.startTime) / e.duration * 100;
					i += '<div class="role" style="width: ' + r + "%;left:" + n +
						'%;background-color: rgba(240, 102, 255, .5);"></div>'
				}), this.$starSegmentList[0].innerHTML = i, i = "";
				var r = this.currentStartSegment || {
						avatar: "",
						cp_list: []
					},
					o = r.avatar,
					s = r.cp_list;
				if (s && s.length > 0 ? (i +=
						'<div class="avatar cplist" style="left:-100%;visibility:hidden;">', s
						.slice(0, 2).forEach(function(t) {
							i += '<div class="avatar-mask"><img src="' + t.avatar + '" /></div>'
						}), i += "</div>") : i =
					'<div class="avatar" style="left:-100%;visibility:hidden;"><div class="avatar-mask"><img src="' +
					o + '" /></div></div>', this.$starPreview[0].innerHTML = i, this.currentSegments
					.length > 0)
					if (-1 === this.findSegmentIndexByTime(n)) {
						var a = this.findNearSegment(n),
							h = a.nearSegment;
						a.index;
						this.jumpToSegment(h)
					} else this.showStarSegmentTag(this.parent.currentTime);
				this.parent.play()
			}, i.endOfSegment = function() {
				if (this.currentSegments && 0 !== this.currentSegments.length) {
					var t = this.parent.currentTime,
						e = this.findSegmentIndexByTime(t, 1);
					if (-1 !== e) {
						var i = this.currentSegments[e],
							n = this.currentSegments[e + 1],
							r = this.currentSegments[this.currentSegments.length - 1];
						this.parent.currentTime > r.endTime && this.parent.endOfVideo(), i && n &&
							this.parent.currentTime > i.endTime && this.parent.currentTime - i
							.endTime < 1 && this.jumpToSegment(n)
					}
				}
			}, i.jumpToSegment = function(t) {
				this.parent.seek(t.startTime), Yi.info("controlbar", "jump to star segment: [" + t
					.startTime + ", " + t.endTime + "]"), this.showStarSegmentTag(t.startTime)
			}, i.showStarSegmentTag = function(t) {
				var e = this,
					i = Math.max(t / this.duration * 100, 2);
				this.$starPreview.find(".avatar").css("visibility", "visible").css("left", i + "%"),
					this.parent._mousemove(), this.starPreviewTimer && clearTimeout(this
						.starPreviewTimer), this.starPreviewTimer = setTimeout(function() {
						e.$starPreview.find(".avatar").css("visibility", "hidden")
					}, 2e3)
			}, i.findNearSegment = function(t) {
				var e = 0;
				if (0 == this.currentSegments.length) return null;
				for (var i = 0; i < this.currentSegments.length - 1; i++) {
					var n = this.currentSegments[i],
						r = this.currentSegments[i + 1];
					if (r && n.endTime < t && t < r.startTime) {
						e = i + 1;
						break
					}
				}
				return {
					nearSegment: this.currentSegments[e],
					index: e
				}
			}, i.findSegmentIndexByTime = function(t, e) {
				void 0 === e && (e = 0);
				for (var i = -1, n = 0; n < this.currentSegments.length; n++) {
					var r = this.currentSegments[n];
					if (r.startTime < t && t < r.endTime + e) {
						i = n;
						break
					}
				}
				return i
			}, i.initFrames = function(t) {
				this.keyframes = t
			}, i.preFetch = function() {
				var t = this;
				this.prefetchTimer && clearTimeout(this.prefetchTimer), this.prefetchTimer =
					setTimeout(function() {
						t.keyframes && t.keyframes.images && t.keyframes.images.forEach(
							function(t) {
								(new Image).src = t
							})
					}, 1e3)
			}, i.createPoints = function() {
				var t = this;
				this.$points.html(""), this.skipStartTime = Number(this.keyPoints.start.split("|")[
						0]) || 0, this.skipEndTime = Number(this.keyPoints.end.split("|")[0]) || 0,
					this.skipStartTime > 0 && this.skipStartTime < this.duration && this
					.createPoint(this.skipStartTime), this.skipEndTime > 0 && this.skipStartTime <
					this.duration && this.createPoint(this.skipEndTime), this.points = this
					.keyPoints.content.map(function(e) {
						var i = e.split("|");
						return t.createPoint(i[0], i[1]), {
							time: i[0],
							title: i[1]
						}
					})
			}, i.getPointByTime = function(t) {
				return this.points.find(function(e) {
					return Math.abs(e.time - t) < 10
				})
			}, i.createPoint = function(t, e) {
				var i;
				i = Ie('<mango-progressbar-keypoint class="button point"\n          data-title=' +
					e + " data-time=" + t + ' style="left:' + t / this.duration * 100 +
					'%">\n      </mango-progressbar-keypoint>'), this.$points.append(i)
			}, i.addWrapEvent = function() {
				this.parent.config.isIpad ? (this.$domWrap.on("touchstart", this.mousedown), this
					.$domWrap.on("touchmove", this.tipShow), this.$domWrap.on("touchend", this
						.tipEnd), this.$domWrap.on("touchcancel", this.tipEnd)) : (this.$domWrap
					.on("mousedown", this.mousedown), this.$domWrap.on("mousemove", this
						.tipShow), this.$domWrap.on("mouseleave", this.tipEnd))
			}, i.removeWrapEvent = function() {
				this.parent.config.isIpad ? (this.$domWrap.off("touchstart", this.mousedown), this
					.$domWrap.off("touchmove", this.tipShow), this.$domWrap.off("touchend", this
						.tipEnd), this.$domWrap.off("touchcancel", this.tipEnd)) : (this
					.$domWrap.off("mousedown", this.mousedown), this.$domWrap.off("mousemove",
						this.tipShow), this.$domWrap.off("mouseleave", this.tipEnd))
			}, i.progress = function() {
				var t = 0;
				try {
					t = Di.bufferInfo(this.parent, this.parent.currentTime, .5).end
				} catch (t) {}
				var e = t / this.duration * 100 + "%";
				this.$buffer.css("width", e)
			}, i.update = function() {
				var t = this.resize();
				this.$all.css("width", 100 * t.percent + "%"), this.endOfSegment()
			}, i.resize = function() {
				var t = void 0 !== this._currentTime ? this._currentTime : this.parent.currentTime,
					e = {
						percent: t ? t / this.duration : 0,
						xoffset: this.$ball[0].offsetLeft,
						yoffset: parseInt(this.parent.vm.container.height) - 50
					};
				return this.parent.emit("progressbarUpdate", e), e
			}, i.getFrameImageList = function(t, e, i, n) {
				if (i) {
					var r, o = this.$previewimg,
						s = 130,
						a = 125,
						h = (this.$previewimg.find(".player-previewlist-bg").length, t.frame);
					if (h.imgSize) {
						var c = h.imgSize || "";
						s = c.split("*")[0] || s, c.split("*")[1] || 100
					}
					if ("115*65" == h.imgSize || 0 == h.images.length) return !1;
					var u = this.$domWrap[0].offsetWidth;
					r = 5 * Math.ceil(Math.ceil(u / a) / 2), o.css({
						width: 2 * Math.ceil(u / a) * a + 178 + "px",
						marginLeft: "-" + (2 * Math.ceil(u / a) * a + 178) / 2 + "px"
					});
					var l = [],
						d = e = Math.ceil(e),
						f = r,
						p = [],
						m = [],
						v = d,
						g = d,
						y = [],
						_ = _t(e);
					for (l.push(cp(h, e, s)); v <= d + f;)
						if ((v += 5) <= n) m.push(cp(h, v, s));
						else {
							m.push({
								image: "none",
								x: 0,
								y: 0,
								scale: 0
							})
						} for (; g >= d - f;)
						if ((g -= 5) <= 0) {
							p.unshift({
								image: "none",
								x: 0,
								y: 0
							})
						} else p.unshift(cp(h, g, s));
					var b = p.concat(l, m),
						w = "",
						k = "";
					switch (s) {
						case "130":
							k = "previwlist-size"
					}
					for (var E = 0; E < b.length; E++) E == Math.ceil(b.length / 2) - 1 ? (w =
						"previewlist-current " + k, b[E].scale = 178 / s) : (w = "", b[E]
						.scale = a / s), y.push('<div class="player-previewlist-bg ' + w +
						'">\n          <div class="preview" style="\n          -o-transform:scale(' +
						b[E].scale + ");\n          -moz-transform:scale(" + b[E].scale +
						");\n          -webkit-transform:scale(" + b[E].scale +
						");\n          transform:scale(" + b[E].scale +
						");\n          background-image:url('" + b[E].image +
						"');\n          background-position:-" + b[E].x + "px -" + b[E].y +
						"px;\n          width:" + b[E].w + "px;\n          height:" + b[E].h +
						'px;"></div>\n          <p class="previwlist-mask"> ' + _ +
						"</p>\n          </div>");
					this.$previewimg.html(y.join("")).show()
				}
			}, i.mousedown = function(t) {
				if (t.target !== this.$tip[0]) {
					var e, i;
					if ("mousedown" == t.type) e = t.clientX, i = t.offsetX;
					else {
						var n = t.target.getBoundingClientRect();
						i = t.targetTouches[0].pageX - n.left, e = t.changedTouches[0].clientX
					}
					this.startX = e, this._currentTime = i / this.$domWrap[0].offsetWidth * this
						.duration, this.startTime = this._currentTime, ap ? (Te(window, "touchmove",
							this.draging), Te(window, "touchend", this.dragEnd), Te(window,
							"touchcancel", this.dragEnd)) : (Te(window, "mousemove", this.draging),
							Te(window, "mouseup", this.dragEnd), Te(window, "contextmenu", this
								.dragEnd)), t.stopPropagation(), t.preventDefault()
				}
			}, i.draging = function(t) {
				var e;
				e = "mousemove" == t.type ? t.pageX : t.changedTouches[0].clientX, this.endX = e;
				var i = e - this.$domWrap[0].getBoundingClientRect().left,
					n = (this.endX - this.startX) / this.$domWrap[0].offsetWidth * this.duration,
					r = +(this.startTime + n).toFixed(2);
				this._currentTime = r < 0 ? 0 : r > this.duration ? this.duration : r, this.parent
					.userIsDragging = !0, this.update();
				var o = (i = Math.min(Math.max(0, i), this.$wrap[0].offsetWidth)) / this.$wrap[0]
					.offsetWidth * this.duration;
				e - this.$domWrap[0].getBoundingClientRect().left <= 0 ? o = 0 : e - this.$domWrap[
					0].getBoundingClientRect().right >= 0 && (o = this.duration), this.$domWrap[
					0].offsetWidth > 600 && this.duration > 38 && (this.isShowTips = !1, this
					.getFrameImageList(this.videoinfo, o, !0, this.duration)), t
				.preventDefault()
			}, i.dragEnd = function() {
				this.parent.adlock || (this.update(), this.startX = 0, this.startTime = 0, this
						.parent.seekVideo(this._currentTime)), Yi.info("PluginControlbar",
						"user trigger action [seek], time [" + this.parent.currentTime + "]"), this
					._currentTime = void 0, ap ? (Se(window, "touchmove", this.draging), Se(window,
						"touchend", this.dragEnd), Se(window, "touchcancel", this.dragEnd)) : (Se(
							window, "mousemove", this.draging), Se(window, "mouseup", this.dragEnd),
						Se(window, "contextmenu", this.dragEnd)), this.isShowTips = !0, this
					.$previewimg.css("display", "none"), this.parent.userIsDragging && ap && this
					.parent.emit("progressbarHover", {
						hover: !1
					}), this.parent.userIsDragging = !1
			}, i.tipShow = function(t) {
				if (this.parent.emit("progressbarHover", {
						hover: !0
					}), this.keyframes) {
					if (t.target === this.$tip[0] || t.target === this.$preview[0] || t.target ===
						this.$ball[0]) return this.$tip.css("display", "none"), void this
						.$previewBtn.css("display", "none");
					var e = t.offsetX / this.$domWrap[0].offsetWidth * this.duration,
						i = _t(e = e < 0 ? 0 : e > this.duration ? this.duration : e),
						n = cp(this.keyframes, e),
						r = this.getPointByTime(e);
					if (n && !this.isShowTips) return this.$tip.css("display", "none"), this
						.$previewBtn.css("display", "none"), !1;
					this.$tip.css("display", "inline-block");
					var o = t.offsetX - this.$tip[0].offsetWidth / 2,
						s = this.$domWrap[0].offsetWidth - this.$tip[0].offsetWidth - 10;
					if (o = o < 10 ? 10 : o > s ? s : o, this.$tip.find(".time").text(i), this.$tip
						.css("left", o + "px"), n) {
						var a = this.$tip.find(".preview");
						a.css("width", n.w + "px"), a.css("height", n.h + "px"), a.css(
								"backgroundImage", "url(" + n.image + ")"), a.css("transform",
								"scale(" + n.scale + ")"), a.css("-webkit-transform", "scale(" + n
								.scale + ")"), a.css("-o-transform", "scale(" + n.scale + ")"), a
							.css("-moz-transform", "scale(" + n.scale + ")"), a.css(
								"backgroundPosition", "-" + n.x + "px -" + n.y + "px"), this.$tip
							.removeClass("message2")
					} else this.$tip.addClass("message2");
					r && r.title ? (this.$tip.find(".title").text(r.title), this.$tip.addClass(
						"message1")) : this.$tip.removeClass("message1"), this.$previewBtn.css(
						"display", "inline-block"), this.$previewBtn.css("left", t.offsetX +
						"px")
				}
			}, i.tipEnd = function() {
				this.parent.userIsDragging || (this.$tip.css("display", "none"), this.$previewBtn
					.css("display", "none"), this.parent.emit("progressbarHover", {
						hover: !1
					}))
			}, e
		}(Xf)).prototype, "mousedown", [Kc], p(Gf.prototype, "mousedown"), Gf.prototype), d(Gf.prototype,
			"draging", [Kc], p(Gf.prototype, "draging"), Gf.prototype), d(Gf.prototype, "dragEnd", [Kc], p(Gf
			.prototype, "dragEnd"), Gf.prototype), d(Gf.prototype, "tipShow", [Kc], p(Gf.prototype, "tipShow"),
			Gf.prototype), d(Gf.prototype, "tipEnd", [Kc], p(Gf.prototype, "tipEnd"), Gf.prototype), Gf),
		cp = function(t, e, i) {
			var n, r, o, s, a, h, c, u = i || 178;
			if ("115*65" == t.imgSize) return null;
			if (t.imgSize) {
				var l = t.imgSize || "";
				h = l.split("*")[0] || u, c = l.split("*")[1] || 100
			}
			if (t.second && t.second[0] && t.images) {
				n = (s = (r = t.second.join("|").split("|")).length) - 1;
				for (var d = 0; d < s - 1; d++)
					if (e >= r[d] && e < r[d + 1]) {
						n = d;
						break
					} return a = n % 100, {
					idx: o = Math.floor(n / 100),
					scale: u / h,
					index: n,
					image: t.images[o],
					x: a % 10 * h,
					y: Math.floor(a / 10) * c,
					w: h,
					h: c
				}
			}
			return null
		},
		up = {
			tag: "mango-progresstime",
			html: "\n    <mango-progresstime-pass>00:00</mango-progresstime-pass\n    ><mango-progresstime-total\n      ><span>/</span\n      ><mango-progresstime-total-value>00:00</mango-progresstime-total-value>\n    </mango-progresstime-total>\n  "
		},
		lp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(up, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$total = this.$domWrap.find(
					"mango-progresstime-total-value"), this.$pass = this.$domWrap.find(
					"mango-progresstime-pass"), this.$domWrap.addClass("control-item")
			}, i.updatePass = function() {
				this.$pass.text(_t(this.parent.currentTime))
			}, i.updateTotal = function(t) {
				this.$total.text(_t(t))
			}, e
		}(Xf),
		dp =
		'\n<svg id="n-unselected" class="icon n-unselected" viewBox="0 0 12 12" width="100%" height="100%">\n  <path d="M6 0a6 6 0 1 0 0 12A6 6 0 0 0 6 0zm0 11c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"></path>\n</svg>\n<svg id="n-selected" class="icon n-selected" viewBox="0 0 12 12" width="100%" height="100%">\n  <path d="M6 0a6 6 0 1 0 0 12A6 6 0 0 0 6 0zm0 11c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"></path><path d="M8.646 3.646L5 7.293 3.354 5.646a.5.5 0 0 0-.707.707l2 2a.502.502 0 0 0 .707.001l4-4a.5.5 0 0 0-.708-.708z"></path>\n</svg>\n',
		fp = {
			tag: "mango-setting",
			cls: "u-control-set m-show-btn control-item",
			html: function(t) {
				var e = t.locale;
				return '\n      <a class="btn" href="javascript:;" title="' + e["controls.setting.text"] +
					'" action="togglePanel">\n        <svg class="icon n-set" id="n-set" viewBox="0 0 18 18" width="100%" height="100%" action="togglePanel">\n        <path d="M11.485 18h-4.97a2.978 2.978 0 0 1-2.121-.879L.879 13.606A2.976 2.976 0 0 1 0 11.485v-4.97c0-.802.312-1.555.879-2.121L4.394.879A2.976 2.976 0 0 1 6.515 0h4.971c.801 0 1.555.312 2.121.879l3.515 3.515A2.98 2.98 0 0 1 18 6.515v4.971c0 .801-.312 1.555-.879 2.121l-3.515 3.515a2.98 2.98 0 0 1-2.121.878zM6.515 2c-.264 0-.521.107-.707.293L2.293 5.808A1.006 1.006 0 0 0 2 6.515v4.971c0 .263.107.521.293.707l3.515 3.515c.186.185.443.292.707.292h4.971c.263 0 .521-.107.707-.293l3.515-3.515a1.01 1.01 0 0 0 .292-.707v-4.97c0-.263-.107-.521-.293-.707l-3.515-3.515A1.006 1.006 0 0 0 11.485 2h-4.97z"></path><path d="M10.243 13H7.757a.997.997 0 0 1-.707-.293L5.293 10.95A1 1 0 0 1 5 10.243V7.757c0-.265.105-.52.293-.707L7.05 5.293A1 1 0 0 1 7.757 5h2.485c.265 0 .52.105.707.293l1.757 1.757a.996.996 0 0 1 .294.707v2.485c0 .265-.105.52-.293.707l-1.757 1.757a.996.996 0 0 1-.707.294zm-2.072-2h1.657L11 9.829V8.171L9.829 7H8.171L7 8.171v1.657L8.171 11z"></path>\n      </svg>\n      </a>\n      <div class="u-set-box">\n          <dl class="ucbox">\n              <dt class="name">' +
					e["controls.setting.player"] +
					'</dt>\n              <dd class="selbox">\n                  <a class="on" style="display:none" href="javascript:;" action="useHTML5">' +
					dp + 'HTML5</a>\n                  <a href="javascript:;" action="useFlash">' + dp +
					'FLASH</a>\n              </dd>\n              <dd class="jump"> <a class="" href="javascript:;" action="switchSkipStart">' +
					dp + e["controls.setting.skipstart"] + "</a></dd>\n          </dl>\n      </div>\n    </li>"
			},
			alignRight: !0,
			defaultEvent: {
				click: "click",
				touchstart: "click",
				mouseout: "mouseout",
				mouseover: "mouseover"
			}
		},
		pp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(fp, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap.attr("action", "togglePanel"), this.$btn = this
					.$domWrap.find(".btn"), this.$panel = this.$domWrap.find(".u-set-box"), this.isShow = !1
			}, i.inited = function() {
				this.resetUI()
			}, i.resetUI = function() {
				this.parent.userSetting.isSkip ? this.$panel.find('[action="switchSkipStart"]').addClass("on") :
					this.$panel.find('[action="switchSkipStart"]').removeClass("on")
			}, i.switchSkipStart = function() {
				this.parent.userSetting.isSkip = !this.parent.userSetting.isSkip, zi.set("mango-skip-start",
					this.parent.userSetting.isSkip ? "1" : "0"), this.resetUI(), Yi.info("PluginControlbar",
					"user trigger action [toggleSkipStart], status [" + this.parent.userSetting.isSkip + "]"
					)
			}, i.hide = function() {
				this.$domWrap.removeClass("on")
			}, i.togglePanel = function() {
				this.$domWrap.hasClass("on") ? this.$domWrap.removeClass("on") : this.$domWrap.addClass("on")
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && (this[e](t), t.stopPropagation(), t.preventDefault())
			}, i.mouseover = function(t) {
				this.hideTimer && clearTimeout(this.hideTimer)
			}, i.mouseout = function(t) {
				var e = this;
				this.hideTimer && clearTimeout(this.hideTimer), this.hideTimer = setTimeout(function() {
					e.hide()
				}, 200)
			}, e
		}(Xf),
		mp = {
			tag: "mango-webscreen",
			html: function(t) {
				return '\n    <a class="btn" href="javascript:void(0);">\n      <svg class="icon n-web-zoom"  viewBox="0 0 18 18">\n\t<path d="M14,18H4c-2.206,0-4-1.794-4-4V4c0-2.206,1.794-4,4-4h10c2.206,0,4,1.794,4,4v10C18,16.206,16.206,18,14,18z M4,2\n\t\tC2.897,2,2,2.897,2,4v10c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V4c0-1.103-0.897-2-2-2H4z"/>\n\t<path d="M5,9C4.448,9,4,8.552,4,8V6c0-1.103,0.897-2,2-2h2c0.552,0,1,0.448,1,1S8.552,6,8,6H6v2C6,8.552,5.552,9,5,9z"/>\n\t<path d="M12,14h-2c-0.552,0-1-0.448-1-1s0.448-1,1-1h2v-2c0-0.552,0.448-1,1-1s1,0.448,1,1v2C14,13.103,13.103,14,12,14z"/>\n</svg>\n\n      <svg class="icon n-web-zoom-s" viewBox="0 0 18 18">\n\t<path style="fill:none;" d="M14,2H4C2.897,2,2,2.897,2,4v10c0,1.103,0.897,2,2,2h10c1.103,0,2-0.897,2-2V4C16,2.897,15.103,2,14,2z\n\t\t M7,9H5C4.448,9,4,8.553,4,8s0.448-1,1-1h2V5c0-0.553,0.448-1,1-1s1,0.447,1,1v2C9,8.103,8.103,9,7,9z M13,11h-2v2\n\t\tc0,0.553-0.448,1-1,1s-1-0.447-1-1v-2c0-1.103,0.897-2,2-2h2c0.553,0,1,0.447,1,1S13.553,11,13,11z"/>\n\t<path d="M14,0H4C1.794,0,0,1.794,0,4v10c0,2.206,1.794,4,4,4h10c2.206,0,4-1.794,4-4V4C18,1.794,16.206,0,14,0z M16,14\n\t\tc0,1.103-0.897,2-2,2H4c-1.103,0-2-0.897-2-2V4c0-1.103,0.897-2,2-2h10c1.103,0,2,0.897,2,2V14z"/>\n\t<path d="M9,5c0-0.553-0.448-1-1-1S7,4.447,7,5v2H5C4.448,7,4,7.447,4,8s0.448,1,1,1h2c1.103,0,2-0.897,2-2V5z"/>\n\t<path d="M13,9h-2c-1.103,0-2,0.897-2,2v2c0,0.553,0.448,1,1,1s1-0.447,1-1v-2h2c0.553,0,1-0.447,1-1S13.553,9,13,9z"/>\n</svg>\n\n    </a>\n    <div class="u-control-tips"><p>' +
					t.locale["controls.webscreen.text"] + "</p></div>\n  "
			},
			alignRight: !0,
			defaultEvent: {
				click: "click"
			}
		},
		vp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).state = "websmall", n.option = N(mp, k(i) ? i : {}), n.init(),
					n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.changeState(this.state), this.$domWrap.addClass(
						"control-item"), this.$full = this.$domWrap.find("mango-webscreen-full"), this.$small =
					this.$domWrap.find("mango-webscreen-small")
			}, i.changeState = function(t) {
				var e = "websmall" === t ? "webfull" : "websmall";
				_e(this.parent.$dom, t), be(this.parent.$dom, e)
			}, i.onFullScreenChange = function() {
				this.parent.isFullscreen && "webfull" === this.state && this.exit()
			}, i.enter = function() {
				this.state = "webfull", this.changeState(this.state), _e(this.parent.$wrapper, "webfullscreen"),
					Ae(document.documentElement, {
						overflow: "hidden"
					})
			}, i.exit = function() {
				this.state = "websmall", this.changeState(this.state), be(this.parent.$wrapper,
					"webfullscreen"), Ae(document.documentElement, {
						overflow: "auto"
					})
			}, i.onEscKeyPressed = function(t) {
				"webfull" === this.state && (this.exit(), this.parent.emit("webFullScreenChange", {
					state: this.state
				}), Yi.info("PluginControlbar", "user trigger action [toggleWebScreen], status [" + this
					.state + "]."))
			}, i.toggleWebFullScreen = function() {
				"websmall" === this.state ? this.enter() : this.exit(), this.parent.emit(
				"webFullScreenChange", {
					state: this.state
				})
			}, i.click = function(t) {
				this.toggleWebFullScreen(), Yi.info("PluginControlbar",
						"user trigger action [toggleWebScreen], status [" + this.state + "]."), t
					.stopPropagation(), t.preventDefault()
			}, e
		}(Xf),
		gp = {
			tag: "mango-control-pip",
			html: function(t) {
				return '\n  <a class="btn" href="javascript:void(0);">\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 18 18" xml:space="preserve">\n      <g><path d="M14,18H4c-2.2,0-4-1.8-4-4V4c0-2.2,1.8-4,4-4h10c2.2,0,4,1.8,4,4v10C18,16.2,16.2,18,14,18z M4,2C2.9,2,2,2.9,2,4v10 c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V4c0-1.1-0.9-2-2-2H4z"/></g>\n      <g><path d="M10.5,13h2c0.8,0,1.5-0.7,1.5-1.5v0c0-0.8-0.7-1.5-1.5-1.5h-2C9.7,10,9,10.7,9,11.5v0C9,12.3,9.7,13,10.5,13z"/></g>\n    </svg>\n  </a>\n  <div class="u-control-tips"><p>' +
					t.locale["controls.pip.text"] + "</p></div>\n  "
			},
			alignRight: !0,
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		yp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).state = "nopiping", n.option = N(gp, k(i) ? i : {}), n.init(),
					n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.changeState(this.state), this.$domWrap.addClass(
					"control-item")
			}, i.changeState = function(t) {
				var e = "nopiping" === t ? "piping" : "nopiping";
				_e(this.parent.$dom, t), be(this.parent.$dom, e)
			}, i.exit = function() {
				this.state = "nopiping", this.changeState(this.state), this.parent.$fullscreen(!1, "container")
			}, i.onTimeUpdate = function() {}, i.pictureInPictureChange = function() {}, i.click = function() {
				if (this.parent.isPipMode) this.parent.exitPictureInPicture();
				else {
					this.parent.requestPictureInPicture(), this.parent.vm.enableFloatWindow(!1);
					var t = this.parent.children,
						e = t.webscreen,
						i = t.screen;
					e && e.exit(), i && i.exit(), this.parent.play(), this.parent.ended && !this.parent.vm
						._config.useFlash && (Yi.info("PluginControlbar", "send player event [videoRefresh]."),
							this.parent.vm.emit("videoRefresh"))
				}
				Yi.info("PluginControlbar", "user trigger action [togglePiP].")
			}, e
		}(Xf),
		_p = {
			tag: "mango-screen",
			html: '\n    <mango-screen-full>\n      <svg id="n-zoom-s" viewBox="0 0 18 18" width="100%" height="100%">\n        <path d="M6 0a1 1 0 0 0-1 1v2c0 .178-.031.347-.075.511L1.707.293A.999.999 0 1 0 .293 1.707l3.218 3.218A1.96 1.96 0 0 1 3 5H1a1 1 0 0 0 0 2h2c2.206 0 4-1.794 4-4V1a1 1 0 0 0-1-1zM17 13a1 1 0 0 0 0-2h-2c-2.206 0-4 1.794-4 4v2a1 1 0 0 0 2 0v-2c0-.178.031-.347.075-.511l3.218 3.218a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-3.218-3.218A1.96 1.96 0 0 1 15 13h2zM6 16H4c-1.103 0-2-.897-2-2v-2a1 1 0 0 0-2 0v2c0 2.206 1.794 4 4 4h2a1 1 0 0 0 0-2zM14 0h-2a1 1 0 0 0 0 2h2c1.103 0 2 .897 2 2v2a1 1 0 0 0 2 0V4c0-2.206-1.794-4-4-4z"></path>\n      </svg>\n    </mango-screen-full>\n    <mango-screen-small>\n      <svg id="n-zoom" viewBox="0 0 18 18" width="100%" height="100%">\n        <path d="M6 0H4C1.794 0 0 1.794 0 4v2a1 1 0 0 0 2 0V4c0-1.103.897-2 2-2h2a1 1 0 0 0 0-2zM17 11a1 1 0 0 0-1 1v2c0 1.103-.897 2-2 2h-2a1 1 0 0 0 0 2h2c2.206 0 4-1.794 4-4v-2a1 1 0 0 0-1-1zM6 16H4c-1.103 0-2-.897-2-2v-2a1 1 0 0 0-2 0v2c0 2.206 1.794 4 4 4h2a1 1 0 0 0 0-2zM14 0h-2a1 1 0 0 0 0 2h2c1.103 0 2 .897 2 2v2a1 1 0 0 0 2 0V4c0-2.206-1.794-4-4-4z"></path>\n      </svg>\n    </mango-screen-small>\n  ',
			alignRight: !0,
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		bp = (d((Kf = function(t) {
				function e(e, i) {
					var n;
					return (n = t.call(this, e) || this).state = "small", n.option = N(_p, k(i) ? i : {}), n
						.init(), n
				}
				r(e, t);
				var i = e.prototype;
				return i.init = function() {
					t.prototype.create.call(this), this.changeState(this.state), this.$domWrap.addClass(
							"control-item"), this.$full = this.$domWrap.find("mango-screen-full"), this
						.$small = this.$domWrap.find("mango-screen-small")
				}, i.changeState = function(t) {
					var e = "small" === t ? "full" : "small";
					_e(this.parent.$dom, t), be(this.parent.$dom, e)
				}, i.onWebFullScreenChange = function(t) {
					"webfull" == t.state && "full" === this.state && this.exit()
				}, i.exit = function() {
					this.state = "small", this.changeState(this.state), this.parent.$fullscreen(!1,
						"container")
				}, i.onIpadEndFullscreen = function() {
					this.state = "small", this.changeState(this.state), this.parent.play(), Se(this
						.parent.__dispatcher.dom.videoElement, "webkitendfullscreen", this
						.onIpadEndFullscreen)
				}, i.fullscreenchange = function() {
					var t = this.parent.fullscreenElement;
					this.state = t ? "full" : "small", this.changeState(this.state), t ? _e(this.parent
						.$wrapper, "fullscreen") : be(this.parent.$wrapper, "fullscreen")
				}, i.click = function() {
					if (this.parent.config.isIpad) {
						var t = this.parent.__dispatcher.dom.videoElement;
						t.webkitEnterFullscreen(), Te(t, "webkitendfullscreen", this
							.onIpadEndFullscreen)
					} else {
						var e = !this.parent.fullscreenElement;
						this.parent.$fullscreen(e, "container")
					}
					Yi.info("PluginControlbar", "user trigger action [toggleFullScreen].")
				}, e
			}(Xf)).prototype, "onIpadEndFullscreen", [Kc], p(Kf.prototype, "onIpadEndFullscreen"), Kf.prototype),
			Kf),
		wp = {
			tag: "mango-playrate",
			cls: "u-control-speed control-item",
			width: "2em",
			html: function(t) {
				return '\n  <span class="btn" action="togglePanel">' + t.locale["controls.playrate.text"] +
					'</span>\n  <div class="u-box">\n      <p class="ucbox">\n          <a href="javascript:;" action="switch"  data-rate="6">2.0x</a>\n          <a href="javascript:;" action="switch"  data-rate="5">1.5x</a>\n          <a href="javascript:;" action="switch"  data-rate="4">1.25x</a>\n          <a href="javascript:;" action="switch"  data-rate="3" class="focus">1.0x</a>\n          <a href="javascript:;" action="switch"  data-rate="2">0.75x</a>\n          <a href="javascript:;" action="switch"  data-rate="1">0.5x</a>\n      </p>\n  </div>\n  '
			},
			alignRight: !0,
			defaultEvent: {
				click: "click",
				mouseout: "mouseout",
				mouseover: "mouseover"
			},
			list: [{
				index: 1,
				name: "0.5"
			}, {
				index: 2,
				name: "0.75"
			}, {
				index: 3,
				name: "1.0"
			}, {
				index: 4,
				name: "1.25"
			}, {
				index: 5,
				name: "1.5"
			}, {
				index: 6,
				name: "2.0"
			}],
			selected: 0,
			duration: 10,
			increment: 1
		},
		kp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(wp, k(i) ? i : {}), n.list = n.option.list || [], n
					.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$text = this.$domWrap.find(".btn"), this.$list = this
					.$domWrap.find(".ucbox")
			}, i.inited = function() {
				var t = this.parent.userSetting.playbackRate;
				this.selected = this.list.findIndex(function(e) {
					return e.index == t
				});
				var e = this.$list.find('[data-rate="' + t + '"]'),
					i = this.list[this.selected],
					n = 3 == i.index ? this.locale["controls.playrate.text"] : i.name + "x";
				this.parent.playbackRate = parseFloat(i.name), this.$text.text(n), this.$list.find("a")
					.removeClass("focus"), e.addClass("focus"), this.parent.vm._config.useFlash && this.enable(!
						1)
			}, i.restoreRate = function() {
				var t = this.parent.userSetting.playbackRate;
				this.selected = this.list.findIndex(function(e) {
					return e.index == t
				});
				var e = this.list[this.selected];
				this.parent.playbackRate = parseFloat(e.name)
			}, i.hide = function() {
				be(this.$dom, "on")
			}, i.togglePanel = function() {
				we(this.$dom, "on") ? be(this.$dom, "on") : _e(this.$dom, "on")
			}, i.adjust = function(t) {
				if (!this.parent.vm._config.useFlash) {
					var e = this.selected + t;
					(e = Math.max(0, Math.min(e, this.list.length - 1))) != this.selected && (this.selected = e,
						this.setRate(this.list[e]))
				}
			}, i.switch = function(t) {
				var e = t.target.dataset.rate || 3;
				this.selected = this.list.findIndex(function(t) {
					return t.index == e
				}), this.setRate(this.list[this.selected])
			}, i.setRate = function(t) {
				var e = this.$list.find('[data-rate="' + t.index + '"]'),
					i = 3 == t.index ? this.locale["controls.playrate.text"] : t.name + "x",
					n = parseFloat(t.name);
				this.$list.find("a").removeClass("focus"), e.addClass("focus"), this.$text.text(i), zi.set(
						"mango-playback-rate", t.index), this.parent.userSetting.playbackRate = t.index, this
					.parent.playbackRate = n, this.parent.emit("switchPlayRate", {
						rate: n,
						name: i
					});
				var r = t.name + "x",
					o = bt(this.locale["controls.playrate.shotcut"], {
						playrate: r
					});
				this.parent.children.tip.showBottomTip({
					_type: "commonTPL",
					_time: 2e3,
					info: o.slice(0, o.indexOf(r)),
					text: r,
					other: o.slice(o.indexOf(r) + r.length)
				}), Yi.info("PluginControlbar", "user trigger action [setRate], rate [" + t.name + "x].")
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) ? this[e](t) : t.stopPropagation()
			}, i.mouseover = function(t) {
				this.hideTimer && clearTimeout(this.hideTimer)
			}, i.mouseout = function(t) {
				var e = this;
				this.hideTimer && clearTimeout(this.hideTimer), this.hideTimer = setTimeout(function() {
					e.hide()
				}, 200)
			}, e
		}(Xf),
		Ep = {
			tag: "mango-watchit",
			cls: "u-control-watchit control-item",
			width: "2em",
			html: '\n  <span class="btn" action="togglePanel">只看TA</span>\n  <div class="u-box">\n      <div class="ucbox">\n\n      </div>\n  </div>\n  ',
			alignRight: !0,
			defaultEvent: {
				click: "click",
				mouseout: "mouseout",
				mouseover: "mouseover"
			},
			selected: 0,
			duration: 10,
			increment: 1
		},
		Sp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).selectedTag = "", n.option = N(Ep, k(i) ? i : {}), n.list = n
					.option.list || [], n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$text = this.$domWrap.find(".btn"), this.$list = this
					.$domWrap.find(".ucbox"), this.enable(!1)
			}, i.inited = function() {}, i.initSegments = function(t) {
				if (this.starSegments = t, 0 == this.starSegments.length) return this.enable(!1);
				var e = '<div class="btn" action="switch" data-actor="">观看完整视频</div>';
				this.starSegments.forEach(function(t) {
					var i = t.segments.reduce(function(t, e) {
						return t + (e.endTime - e.startTime)
					}, 0);
					if (i = Math.ceil(i / 60), t.cp_list.length > 0) {
						var n = t.cp_list.slice(0, 2);
						t.vrs_id = n.map(function(t) {
								return t.vrs_id
							}).join(","), e += '<div class="actor" action="switch" data-startid="' + t
							.vrs_id + '" data-actor="' + t.tag + '">', e +=
							'<div class="avatar cplist">', n.forEach(function(t) {
								e += '<div class="avatar-mask"><img src="' + t.avatar + '"/></div>'
							}), e += "</div>"
					} else e += '<div class="actor" action="switch" data-startid="' + t.vrs_id +
						'" data-actor="' + t.tag + '">', e +=
						'<div class="avatar"><div class="avatar-mask"><img src="' + t.avatar +
						'"/></div></div>';
					e += '\n          <div class="desc" >\n              <span class="name">' + t.tag +
						'</span>\n              <span class="duration">' + i +
						'分钟</span>\n          </div>\n          <span class="selected">\n                  <svg viewBox="0 0 1024 1024" width="200" height="200"><path d="M450.8 693.8c-8.2 0-16.4-3.1-22.6-9.4L250.9 507.1c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l154.7 154.7 277-277c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L473.5 684.5c-6.3 6.2-14.5 9.3-22.7 9.3z" p-id="1104"></path><path d="M512 956.2c-59.9 0-118.1-11.7-172.9-34.9-52.9-22.4-100.4-54.4-141.2-95.2s-72.8-88.3-95.2-141.2c-23.2-54.8-34.9-113-34.9-172.9s11.7-118.1 34.9-172.9c22.4-52.9 54.4-100.4 95.2-141.2s88.3-72.8 141.2-95.2c54.8-23.2 113-34.9 172.9-34.9s118.1 11.7 172.9 34.9c52.9 22.4 100.4 54.4 141.2 95.2s72.8 88.3 95.2 141.2c23.2 54.8 34.9 113 34.9 172.9s-11.7 118.1-34.9 172.9c-22.4 52.9-54.4 100.4-95.2 141.2s-88.3 72.8-141.2 95.2c-54.8 23.1-113 34.9-172.9 34.9z m0-824.4c-101.5 0-197 39.5-268.8 111.3S131.8 410.5 131.8 512s39.5 197 111.3 268.8S410.5 892.2 512 892.2s197-39.5 268.8-111.3S892.2 613.5 892.2 512s-39.5-197-111.3-268.8S613.5 131.8 512 131.8z" p-id="1105"></path>\n          </span>\n      </div>'
				}), this.$list[0].innerHTML = e, this.enable(!0), this.initWatchitFromCache()
			}, i.hide = function() {
				be(this.$dom, "on")
			}, i.togglePanel = function() {
				we(this.$dom, "on") ? be(this.$dom, "on") : _e(this.$dom, "on"), this.parent.emit(
				"clickAction", {
					report: !0,
					lob: {
						flag: 1
					},
					param: {
						mod: "pfc",
						cont: "只看TA"
					}
				})
			}, i.switchButtonStyle = function(t) {
				if ("object" == typeof(t = t || "只看TA")) {
					var e = t.querySelector(".avatar"),
						i = e.innerHTML;
					this.$text[0].innerHTML = i, e.classList.contains("cplist") ? this.$text[0].classList.add(
						"cplist") : this.$text[0].classList.remove("cplist")
				} else this.$text[0].innerHTML = t
			}, i.initWatchitFromCache = function() {
				var t = this.selectedTag;
				if (t)
					if (-1 === !this.starSegments.map(function(t) {
							return t.tag
						}).indexOf(t)) {
						var e = this.$list.find('div[data-actor="' + t + '"]');
						0 !== e.length ? this.simulateClick(e[0]) : this.selectedTag = ""
					} else this.switchButtonStyle("只看TA")
			}, i.simulateClick = function(t) {
				var e = new MouseEvent("click", {
					bubbles: !0,
					cancelable: !0,
					view: window
				});
				t.dispatchEvent(e)
			}, i.switch = function(t) {
				var e = t.target.classList.contains("on"),
					i = e ? "" : t.target.dataset.actor;
				this.selectedTag = i, this.parent.emit("setStarSegments", {
						tag: i
					}), this.$list.find(".actor").removeClass("on"), !e && Ie(t.target).addClass("on"), i ? this
					.switchButtonStyle(t.target) : this.switchButtonStyle(), i && this.parent.emit(
						"clickAction", {
							report: !0,
							lob: {
								flag: 2,
								starid: t.target.dataset.startid
							},
							param: {
								addr: "onlywatch",
								mod: "pfc",
								cont: "明星"
							}
						})
			}, i.click = function(t) {
				for (var e = t.target; !e.getAttribute("action");) {
					var i = e.parentElement;
					if (null === i || "mango-watchit" === i.tagName.toLowerCase()) return;
					e = i
				}
				var n = e.getAttribute("action");
				this[n] && this[n]({
					target: e
				})
			}, i.mouseover = function(t) {
				this.hideTimer && clearTimeout(this.hideTimer)
			}, i.mouseout = function(t) {
				var e = this;
				this.hideTimer && clearTimeout(this.hideTimer), this.hideTimer = setTimeout(function() {
					e.hide()
				}, 200)
			}, e
		}(Xf),
		Tp = {
			tag: "mango-episode",
			cls: "u-control-episode control-item",
			width: "2em",
			html: '<span class="btn" action="togglePanel">选集</span>',
			alignRight: !0,
			defaultEvent: {
				click: "click"
			},
			selected: 0,
			duration: 10,
			increment: 1
		},
		xp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(Tp, k(i) ? i : {}), n.list = n.option.list || [], n
					.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$text = this.$domWrap.find(".btn")
			}, i.inited = function() {}, i.hide = function() {
				be(this.$dom, "on")
			}, i.togglePanel = function() {
				this.parent.emit("toggleEpisodePanel", {
					show: !0
				})
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) ? this[e](t) : t.stopPropagation()
			}, e
		}(Xf),
		Ap = "PluginControlbar",
		Cp = /iPad/i.test(navigator.userAgent),
		Rp = {
			tag: "mango-clarity",
			cls: "u-control-clarity",
			width: "2em",
			html: '\n      <span class="btn" action="togglePanel">标清</span>\n      <div class="u-box">\n          <div class="ucbox"></div>\n      </div>\n  ',
			alignRight: !0,
			defaultEvent: {
				click: "click",
				mouseout: "mouseout",
				mouseover: "mouseover"
			},
			lastShowDowngradeTipTime: 0,
			waitingRecords: [],
			autoDef: !1,
			list: [],
			autoSelected: 0,
			selected: 0,
			duration: 10,
			increment: 1,
			targetDef: -1
		},
		Ip = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(Rp, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), _e(this.$dom, "control-item"), this.$text = this.$domWrap.find(
						".btn"), this.$list = this.$domWrap.find(".ucbox"), this.locale = this.parent.locale,
					this.reset()
			}, i.reset = function() {
				this.waitingTooLongTimer && clearTimeout(this.waitingTooLongTimer), this
					._autoDefDetectLoopTimer && clearInterval(this._autoDefDetectLoopTimer), this
					.lastShowDowngradeTipTime = 0, this._autoDefDetectLoopCounter = 0, this.targetDef = -1, this
					.waitingRecords = []
			}, i.calculateClarityBySpeed = function(t) {
				for (var e, i = this.clarityList, n = i.length, r = 0; r < n - 1; r++) {
					var o = i[r];
					if (t > o.speed && o.purview) {
						e = o;
						break
					}
				}
				return !e && i[n - 2] && i[n - 2].purview && (e = i[n - 2]), e
			}, i.showDowngradeTip = function() {
				var t = this;
				if (!Cp) {
					var e = this.parent.vm.downloadSpeed.toFixed(2),
						i = this.calculateClarityBySpeed(e);
					if (i && !(i && this.selected && i.def >= this.selected.def)) {
						var n = i.def,
							r = i.name;
						this.lastShowDowngradeTipTime = +new Date;
						var o = "[" + r + "]",
							s = bt(this.locale["controls.tip.clarity.stall"], {
								def: o
							});
						this.parent.children.tip && this.parent.children.tip.showBottomTip({
							_type: "commonTPL",
							_time: 3e3,
							info: s.slice(0, s.indexOf(o)),
							text: o,
							other: s.slice(s.indexOf(o) + o.length),
							action: "changeClarity",
							actionCallback: function(e) {
								t.parent.emitSync("switchClarity", {
									def: n,
									name: r,
									purview: !0
								}), t.changeState({
									def: n,
									name: r
								})
							}
						})
					}
				}
			}, i.onTimeUpdate = function() {
				this.waitingTooLongTimer && clearTimeout(this.waitingTooLongTimer)
			}, i.onVideoWaiting = function() {
				var t = this,
					e = +new Date;
				this.autoDef || (this.waitingTooLongTimer && clearTimeout(this.waitingTooLongTimer), this
					.waitingTooLongTimer = setTimeout(function() {
						e - t.lastShowDowngradeTipTime > 3e5 && (Yi.info(Ap,
							"waiting too long, show downgrade tip."), t.showDowngradeTip())
					}, 5e3), this.waitingRecords.push({
						currentTime: this.parent.currentTime,
						timestamp: e
					}), this.waitingRecords.length >= 3 && (4 == this.waitingRecords.length && this
						.waitingRecords.shift(), this.waitingRecords[2].timestamp - this.waitingRecords[0]
						.timestamp < 1e4 && e - this.lastShowDowngradeTipTime > 3e5 && (Yi.info(Ap,
							"waiting too frequently, show downgrade tip."), this.showDowngradeTip())))
			}, i.setPromotionInfo = function(t) {
				this.promotion = t
			}, i.supportAutoDef = function() {
				return !this.parent.vm._config.useFlash && !Cp && !this.parent.vm._config.isLive
			}, i.initTextList = function(t, e, i, n) {
				var r = this;
				this.reset();
				var o = (t || this.option.list || []).slice(0),
					s = !1;
				if (this.supportAutoDef() && !n ? o.push({
						def: "0",
						name: this.locale["controls.clarity.auto"],
						vip: 0,
						purview: !0
					}) : (i = !1, this.autoDef = !1), this.clarityList = t, t.forEach(function(t, e) {
						4 == t.def && (s = !0), t.speed = 1.5 * t.filebitrate / 8, "" != t.url ? t
							.purview = !0 : t.purview = !1
					}), this.option.list = o, this.autoDef = i, this.autoDef ? this.autoSelected = e : this
					.selected = e, this.$list.html(""), this.$list.parents().removeClass("ucbox-larger"), !this
					.parent.isIntelMgtv && s && this.promotion && !Cp) {
					var a = dt.mac ? this.promotion.macLink : this.promotion.winLink;
					a = a.replace(/^http:/i, "");
					var h = Rt(this.parent, "vm.config.lobparam.did", "");
					a += (-1 !== a.indexOf("?") ? "&" : "?") + "did=" + h;
					var c = dt.mac ? this.promotion.macTitle : this.promotion.winTitle,
						u = Ie(document.createElement("a"));
					c = c || this.locale["controls.clarity.blue"], u.target = "_blank", u.className = "vip", u
						.attr("href", a), u.attr("target", "_blank"), u.attr("action", "downloadClient"), u
						.attr("action-type", "protocol-href"), u.attr("rsou", "v_play"), u.attr("rtar",
						"video"), u.attr("rpos", "v_play_5"), u.html(c + " <em>" + this.locale[
							"controls.clarity.free"] + "</em>"), this.$list.append(u), this.$list.parents()
						.addClass("ucbox-larger")
				}
				o.forEach(function(t, e) {
					var i = Ie(document.createElement("a")),
						n = "";
					i.attr("data-def", t.def), i.attr("data-index", o.length - (e + 1)), i.attr(
							"data-name", t.name), i.attr("data-purview", t.purview), i.attr(
							"data-speed", t.speed), i.attr("action", "switch"), 0 != t.vip && (n =
							"<em>" + r.locale["controls.clarity.vip"] + "</em>", i.addClass("vip")), i
						.html(t.name + n), r.$list.append(i)
				}), this.changeState(e)
			}, i.hide = function() {
				be(this.$dom, "on")
			}, i.togglePanel = function() {
				we(this.$dom, "on") ? be(this.$dom, "on") : _e(this.$dom, "on")
			}, i.switch = function(t) {
				var e = t.target.dataset.def || "",
					i = t.target.dataset.index || "",
					n = t.target.dataset.name || "",
					r = "true" == t.target.dataset.purview,
					o = this.selected && this.selected.def || 0;
				if (this.parent.vm.emit("clickAction", {
						report: !0,
						lob: {
							curdef: e,
							refdef: o
						},
						param: {
							label: "control_clarity_item",
							pos: 75
						}
					}), Yi.info(Ap, "user trigger action [switchClarity], definition [" + n + "}]."), !r)
				return Yi.info(Ap, "user is not vip, cannot watch current definition [" + n + "}]."), this
					.parent.emitSync("switchClarity", {
						def: e,
						index: i,
						name: n,
						purview: r
					}), !1;
				0 == e ? (this.autoDef = !0, this.autoSelected = this.selected, zi.set("mango-def-auto", 1)) : (
					this.autoDef = !1, this.targetDef = e, this.parent.emitSync("switchClarity", {
						def: e,
						index: i,
						name: n,
						purview: r
					})), this.hide(), this.changeState({
					def: e,
					name: n
				})
			}, i.changeState = function(t) {
				var e = this.locale["controls.clarity.auto"];
				0 != t.def && (this.selected = t), this.autoDef ? (this.$list.find("a").removeClass("focus"),
					this.$list.find('[data-def="0"]').addClass("focus"), this.$list.find('[data-def="0"]')
					.html(e + "(" + this.autoSelected.name + ")"), this.$text.text(e)) : (this.$list.find(
					"a").removeClass("focus"), this.$list.find('[data-def="' + t.def + '"]').addClass(
					"focus"), this.$text.text(t.name), this.$list.find('[data-def="0"]').html(e))
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t)
			}, i.mouseover = function(t) {
				this.hideTimer && clearTimeout(this.hideTimer)
			}, i.mouseout = function(t) {
				var e = this;
				this.hideTimer && clearTimeout(this.hideTimer), this.hideTimer = setTimeout(function() {
					e.hide()
				}, 200)
			}, i.clarityChanged = function(t) {
				if (t.error) this.autoDef || this.changeState(this.selected), Yi.info(Ap,
					"switch definition to [" + t.stream.name + "}] fail, restore to last definition [" +
					this.selected.name + "].");
				else if (this.autoDef) this.autoSelected = t.stream, this.changeState(this.autoSelected), Yi
					.info(Ap, "auto switch definition to [" + t.stream.name + "}] ok.");
				else {
					if (t.stream.def !== this.targetDef) return;
					this.selected = t.stream, this.changeState(this.selected), Yi.info(Ap,
						"user switch definition to [" + t.stream.name + "}] ok.")
				}
			}, e
		}(Xf),
		Lp = function(t, e) {
			return A(t) && k(e) ? t.replace(/{{(\w+)}}/g, function(t, i) {
				return 0 === e[i] ? 0 : e[i] || ""
			}) : ""
		},
		Pp =
		'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14 14" style="enable-background:new 0 0 14 14;" xml:space="preserve">\n<path d="M8.41,7l4.29-4.29c0.39-0.39,0.39-1.02,0-1.41s-1.02-0.39-1.41,0L7,5.59L2.71,1.29c-0.39-0.39-1.02-0.39-1.41,0\n s-0.39,1.02,0,1.41L5.59,7l-4.29,4.29c-0.39,0.39-0.39,1.02,0,1.41C1.49,12.9,1.74,13,2,13s0.51-0.1,0.71-0.29L7,8.41l4.29,4.29\n C11.49,12.9,11.74,13,12,13s0.51-0.1,0.71-0.29c0.39-0.39,0.39-1.02,0-1.41L8.41,7z"/>\n</svg>',
		Dp = {
			tag: "mango-control-tip",
			html: '<div class="u-control-tips">\n    <div class="control-tips-pop"></div>\n    <div class="control-tips-line"></div>\n  </div>',
			defaultEvent: {
				click: "click"
			}
		},
		Mp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).PLAY_TIPS = {
					vipEntryTPL: '<p>{{title}}<a href="javascript:void(0);" action="showVipDialog">&nbsp;{{button}}</a></p>',
					skipStartTPL: "<p>" + n.locale["controls.tip.skipstart"] + "</p>",
					skipEndTPL: "<p>" + n.locale["controls.tip.skipend"] + "</p>",
					continuePlayTPL: "<p>" + n.locale["controls.tip.continue.play"] + "</p>",
					commonTPL: '<p>{{info}}<b class="hot" action="custom{{action}}" >{{text}}</b> {{other}}<em class="icon icon-close closable" action="close">' +
						Pp + "</em></p>",
					promotionTPL: '<p> <a action="downloadClient" action-type="protocol-href" rsou="v_play" rtar="video" rpos="v_play_4"  target="_blank" href="{{url}}" mg-stat-custom="label=control_tips_client">{{text}}</a> <em class="icon icon-close" action="closePromotionTip">' +
						Pp + "<em> </p>"
				}, n.option = N(Dp, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$tipsBox = this.$domWrap.find(".u-control-tips"), this
					.$tip = this.$domWrap.find(".control-tips-pop"), this.$tipLine = this.$domWrap.find(
						".control-tips-line"), this.permanent = !1
			}, i.initTip = function(t, e) {
				var i, n;
				void 0 === e && (e = !1), e ? (i = Rt(t, "auth_info.pay_info.preview_starting.components", []),
					n = 0 !== t.preview && t.preview_range > 0) : (i = Rt(t,
						"info.authInfo.pay_info.preview_starting.components", []), n = 200 != t.user
					.purview);
				var r = {};
				if (b(i) && 0 != i.length) {
					var o = i.filter(function(t) {
						return "title" == t.code
					});
					o.length > 0 && (r.title = o[0].text);
					var s = i.filter(function(t) {
						return "button" == t.code
					});
					s.length > 0 && (r.button = s[0].text), this.permanent = !1, n && (this.permanent = !0, this
						.showBottomTip(m({
							_type: "vipEntryTPL",
							_time: 0,
							permanent: !0
						}, r)))
				}
			}, i.showBottomTip = function(t) {
				var e = this,
					i = this.PLAY_TIPS[t._type] || t._tpl;
				this.currentTipType = t._type || "", null != i && (t.action && t.actionCallback && (this[
						"custom" + t.action] = t.actionCallback), this.timerId && clearTimeout(this
					.timerId), i = Lp(i, t), t && t.permanent ? (this.$tip.hide(), this.$tipLine.html(i)
						.show(), t.closable && this.$tipLine.find(".closable").show(), this.permanent = !0
						) : (this.$tipLine.hide(), this.$tip.html(i).show()), ~~t._time > 0 && (this
						.timerId = setTimeout(function() {
							e.$tip.html("").hide(), e.permanent && e.$tipLine.show()
						}, t._time)))
			}, i.setPromotionInfo = function(t) {
				this.promotion = t
			}, i.togglePromotionTip = function(t) {
				if (t) {
					if (!this.promotion || this.permanent || dt.ipad) return;
					var e = this.PLAY_TIPS.promotionTPL,
						i = {
							text: dt.mac ? this.promotion.macTitle : this.promotion.winTitle,
							url: dt.mac ? this.promotion.macLink : this.promotion.winLink
						},
						n = Rt(this.parent, "vm.config.lobparam.did", "");
					i.url += (-1 !== i.url.indexOf("?") ? "&" : "?") + "did=" + n, e = Lp(e, i), this.$tip.html(
						e).show(), this.currentTipType = "promotionTPL"
				} else "promotionTPL" == this.currentTipType && this.$tip.html("").hide()
			}, i.closePromotionTip = function(t) {
				this.promotion = null, this.togglePromotionTip(!1), t.stopPropagation()
			}, i.showVipDialog = function() {
				this.parent.emit("showVipDialog", this.parent.videoinfo)
			}, i.customReloadVideo = function() {
				var t = Rt(this, "parent.vm.config.video_id", ""),
					e = this.parent.currentTime;
				this.parent.vm.reload({
					video_id: t,
					startTime: e
				})
			}, i.close = function() {
				this.timerId && clearTimeout(this.timerId), this.$tip.html("").hide(), this.$tipLine.html("")
					.hide(), this.permanent = !1
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t)
			}, e
		}(Xf),
		Bp = {
			tag: "mango-control-status",
			cls: "u-control-status",
			html: '\n  <div class="mph-header-box">\n      <div class="mph-header-left">\n          <a class="scale50" action="onSetDisplayRatio" data-ratio="50">\n            <svg class="icon n-scale50" id="n-scale50" viewBox="0 0 16 16" width="100%" height="100%">\n              <path d="M13.5 1h-11A2.503 2.503 0 0 0 0 3.5v9C0 13.878 1.122 15 2.5 15h11c1.378 0 2.5-1.122 2.5-2.5v-9C16 2.122 14.878 1 13.5 1zM15 12.5c0 .827-.673 1.5-1.5 1.5h-11c-.827 0-1.5-.673-1.5-1.5v-9C1 2.673 1.673 2 2.5 2h11c.827 0 1.5.673 1.5 1.5v9z"></path><path d="M10 6H6a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"></path>\n            </svg>50%\n          </a>\n          <a class="scale75" action="onSetDisplayRatio" data-ratio="75">\n            <svg class="icon n-scale75" id="n-scale75" viewBox="0 0 16 16" width="100%" height="100%">\n              <path d="M13.5 1h-11A2.503 2.503 0 0 0 0 3.5v9C0 13.878 1.122 15 2.5 15h11c1.378 0 2.5-1.122 2.5-2.5v-9C16 2.122 14.878 1 13.5 1zM15 12.5c0 .827-.673 1.5-1.5 1.5h-11c-.827 0-1.5-.673-1.5-1.5v-9C1 2.673 1.673 2 2.5 2h11c.827 0 1.5.673 1.5 1.5v9z"></path><path d="M12 5H4a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"></path>\n            </svg>75%\n          </a>\n          <a class="scale100 sel" action="onSetDisplayRatio" data-ratio="100">\n            <svg class="icon n-scale100" id="n-scale100" viewBox="0 0 16 16" width="100%" height="100%">\n              <path d="M13.5 1h-11A2.503 2.503 0 0 0 0 3.5v9C0 13.878 1.122 15 2.5 15h11c1.378 0 2.5-1.122 2.5-2.5v-9C16 2.122 14.878 1 13.5 1zM15 12.5c0 .827-.673 1.5-1.5 1.5h-11c-.827 0-1.5-.673-1.5-1.5v-9C1 2.673 1.673 2 2.5 2h11c.827 0 1.5.673 1.5 1.5v9z"></path><path d="M13 3H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1z"></path>\n            </svg>100%\n          </a>\n      </div>\n      <div class="mph-header-mid"></div>\n      <div class="mph-header-right">00:00</div>\n  </div>\n  ',
			alignTop: !0,
			defaultEvent: {
				click: "click"
			}
		},
		Op = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(Bp, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.updateTime()
			}, i.inited = function() {
				var t = this.parent.userSetting.fullscreenRatio;
				this.$domWrap.find(".mph-header-left a").removeClass("on"), this.$domWrap.find('[data-ratio="' +
					t + '"]').addClass("on")
			}, i.initInfo = function() {
				var t = this.parent.vm.getVideoInfo() || this.parent.videoinfo.info;
				this.$domWrap.find(".mph-header-mid").html(t.title || "")
			}, i.setDisplayRatio = function(t) {
				this.parent.width = t + "%", this.parent.userSetting.fullscreenRatio = t, this.$domWrap.find(
						".mph-header-left a").removeClass("on"), this.$domWrap.find('[data-ratio="' + t + '"]')
					.addClass("on"), this.parent.emit("ratioChange", {
						ratio: t
					})
			}, i.onSetDisplayRatio = function(t) {
				var e = t.target.dataset.ratio;
				this.setDisplayRatio(e), Yi.info("PluginControlbar",
					"user trigger action [setDisplayRatio], ratio [" + e + "].")
			}, i.onFullScreenChange = function(t) {
				var e = this,
					i = this.parent.children.screen,
					n = this.parent.children.webscreen;
				this.detectTimer && clearTimeout(this.detectTimer), this.detectTimer = setTimeout(function() {
					if ("webfull" == n.state || "full" === i.state) {
						var t = e.parent.userSetting.fullscreenRatio;
						e.setDisplayRatio(t)
					} else e.parent.width = "100%", e.setDisplayRatio(100)
				}, 0)
			}, i.updateTime = function() {
				var t = this;
				clearTimeout(this.updateTimerId);
				var e = wt(new Date, "hh:mm");
				this.$domWrap.find(".mph-header-right").html(e), this.updateTimerId = setTimeout(function() {
					t.updateTime()
				}, 3e4)
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t)
			}, e
		}(Xf),
		Up = {
			tag: "mango-danmu-switch",
			cls: "u-control-danmu",
			html: '<div class="btn">\n    <span>\n      <svg class="icon n-dan" id="n-dan" viewBox="0 0 11 10" width="100%" height="100%">\n        <path d="M0 1h2v2H0v4h2v2H0v1h3V6H1V4h2V0H0zM5 0h1v1H5zM9 0h1v1H9zM9 2V1H8v1H7V1H6v1H4v5h3v1H4v1h3v1h1V9h3V8H8V7h3V2H9zM7 6H5V5h2v1zm0-2H5V3h2v1zm3 2H8V5h2v1zm0-2H8V3h2v1z"></path>\n      </svg>\n    </span>\n  </div>',
			alignRight: !0,
			defaultEvent: {
				click: "click"
			}
		},
		Fp = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(Up, k(i) ? i : {}), n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap.addClass("control-item"), this.vm = this.parent
					.__dispatcher.vm, this.locale = this.parent.locale
			}, i.hide = function() {
				this.$domWrap.css("display", "none")
			}, i.onDanmuConfig = function(t) {
				t.switcher ? this.$domWrap.css("display", "") : this.$domWrap.css("display", "none"), t
					.userConfig ? this.$domWrap.addClass("on") : this.$domWrap.removeClass("on")
			}, i.changeState = function(t) {
				void 0 !== t.state && null !== t.state && (t.state ? this.$domWrap.addClass("on") : this
					.$domWrap.removeClass("on"))
			}, i.inited = function() {
				var t = zi.get("mango-danmu-switch");
				this.changeState({
					state: t
				})
			}, i.click = function(t) {
				this.parent.userSetting.danmuSwitch ? (this.parent.userSetting.danmuSwitch = 0, this.$domWrap
					.removeClass("on"), this.vm.toggleDanmuButton(this.parent.userSetting.danmuSwitch)) : (
					this.parent.userSetting.danmuSwitch = 1, this.$domWrap.addClass("on"), this.vm
					.toggleDanmuButton(this.parent.userSetting.danmuSwitch)), this.parent.emitSync(
					"danmuStatusChange", {
						state: this.parent.userSetting.danmuSwitch
					});
				var e = this.danmuSwitch ? this.locale["controls.danmu.open"] : this.locale[
						"controls.danmu.close"],
					i = this.danmuSwitch ? 3 : 4,
					n = window.MgStat;
				n && n.send("click", {
					flag: i
				}, {
					cont: e,
					mod: "pfc"
				}), Yi.info("PluginControlbar", "user trigger action [toggleDanmu], status [" + this.parent
					.userSetting.danmuSwitch + "]")
			}, e
		}(Xf),
		Np = {
			tag: "mango-control-nexttip",
			html: function(t) {
				return '\n    <mango-control-nextvideo-tip class="u-control-sporting">\n      <div class="u-next-box">\n        <div class="u-next-box-cent">\n          <p class="pic"><img src="" width="130" height="74"><em class="pn-time"></em></p>\n          <h2 class="tit"><i>10s</i>' +
					t.locale["controls.next.text"] +
					'</h2>\n          <p class="n"></p>\n        </div>\n      </div>\n    </mango-control-nextvideo-tip>\n  '
			},
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		Vp = {
			tag: "mango-subtitle-bar",
			cls: "u-control-subtitle-bar",
			width: "2em",
			html: function(t) {
				return '\n        <span class="btn" action="togglePanel">' + t.locale[
						"controls.subtitle.subtitle"] +
					'</span>\n        <div class="u-box">\n          <div class="ucbox"></div>\n        </div>\n        '
			},
			alignRight: !0,
			defaultEvent: {
				click: "click",
				mouseout: "mouseout",
				mouseover: "mouseover"
			}
		},
		zp = {
			play: Jf,
			playLoop: ep,
			playNext: np,
			nextTip: function(t) {
				function e(e, i) {
					var n;
					return (n = t.call(this, e) || this).option = N(Np, k(i) ? i : {}), n.init(), n
				}
				r(e, t);
				var i = e.prototype;
				return i.init = function() {
					t.prototype.create.call(this), this.$domWrap.addClass("control-item").hide(), this
						.$nextvideo = this.$domWrap.find(".u-next-box"), this.$nextvideotip = this.$domWrap
						.find("mango-control-nextvideo-tip")
				}, i.setNextVideoInfo = function(t) {
					void 0 === t && (t = {});
					var e = t,
						i = e.img,
						n = e.title,
						r = e.duration;
					i && n && r ? (this.nextvideoinfo = t, this.$nextvideo.find("img").attr("src", i), this
						.$nextvideo.find(".n").html(n), this.$nextvideo.find(".pn-time").html(_t(r)),
						this.$domWrap.css("display", "inline-block")) : this.nextvideoinfo = null
				}, i.onVideoWillEnd = function(t) {
					var e = this;
					void 0 === t && (t = {});
					var i = t.time;
					!this.parent.userSetting.isLoop && i > 0 && this.nextvideoinfo ? (this.$nextvideotip
						.find(".tit i").html(i + "s"), this.$nextvideotip.find(".u-next-box").css(
							"display", "block"), this.dcTimer && clearInterval(this.dcTimer), this
						.dcTimer = setInterval(function() {
							i > 0 ? (i--, e.$nextvideotip.find(".tit i").html(i + "s")) : e
								.cancelVideoEnd()
						}, 1e3)) : this.cancelVideoEnd()
				}, i.cancelVideoEnd = function() {
					this.dcTimer && clearInterval(this.dcTimer), this.$nextvideotip.find(".u-next-box").css(
						"display", "none")
				}, i.playNext = function() {
					if (this.parent.vm._config.webJump) this.parent.vm.requesetRefreshPage();
					else {
						var t = this.parent.vm.getNextPlayUrl();
						if (t) return void(window.location.href = t);
						this.parent.nextvideoinfo && this.parent.nextvideoinfo.url && (window.location
							.href = this.parent.nextvideoinfo.url)
					}
				}, i.hide = function() {
					this.$domWrap.hide()
				}, i.click = function(t) {
					this.playNext(), this.parent.$emit("playNextVideo"), Yi.info("PluginControlbar",
						"user trigger action [playNext]."), t.stopPropagation(), t.preventDefault()
				}, e
			}(Xf),
			volume: op,
			progressBar: hp,
			progressTime: lp,
			setting: pp,
			webscreen: vp,
			screen: bp,
			playrate: kp,
			watchit: Sp,
			episode: xp,
			subtitlebar: function(t) {
				function e(e, i) {
					var n;
					return (n = t.call(this, e) || this).option = N(Vp, k(i) ? i : {}), n.init(), n
				}
				r(e, t);
				var i = e.prototype;
				return i.init = function() {
					t.prototype.create.call(this), _e(this.$dom, "control-item"), this.$text = this.$domWrap
						.find(".btn"), this.$list = this.$domWrap.find(".ucbox"), this.locale = this.parent
						.locale, this.initUnsubtitle(), this.lang = this.getDefaultLanguage(), this.enable(!
							1)
				}, i.hide = function() {
					be(this.$dom, "on")
				}, i.setData = function(t) {
					var e = this,
						i = (t || []).slice(0);
					this.subtitleList = i.sort(function(t, e) {
						return t.language - e.language
					}), this.$list.html(""), this.initUnsubtitle(), i.forEach(function(t, i) {
						var n = $(document.createElement("a"));
						n.attr("data-lan", t.language), n.attr("data-name", t.name), n.attr(
							"action", "switch"), n.html(t.name), e.$list.append(n[0])
					});
					var n = this.getDefaultLanguage();
					this.updateHighlight(n)
				}, i.initUnsubtitle = function() {
					var t = $(document.createElement("a"));
					t.attr("data-lan", "-1"), t.attr("data-name", this.locale[
						"controls.subtitle.unsubtitle"]), t.attr("action", "switch"), t.html(this
						.locale["controls.subtitle.unsubtitle"]), this.$list.append(t[0])
				}, i.togglePanel = function(t) {
					we(this.$dom, "on") ? be(this.$dom, "on") : (_e(this.$dom, "on"), this
						.reportComponentView()), this.reportToggle(), t.stopPropagation()
				}, i.reportComponentView = function() {
					this.parent.vm.emit("componentView", {
						report: !0,
						param: {
							mod: "c_subtitlepop",
							cntp: document.body.getAttribute("mg-stat-page") || "v_play"
						},
						lob: {
							vid: Rt(this, "parent.vm.config.video_id", "")
						}
					})
				}, i.reportToggle = function() {
					this.parent.vm.emit("clickAction", {
						report: !0,
						lob: {
							flag: 26
						},
						param: {
							cont: "字幕",
							cntp: document.body.getAttribute("mg-stat-page") || "v_play",
							lastp: xt("lastp") || "",
							mod: "pfc"
						}
					})
				}, i.reportSwitch = function() {
					this.parent.vm.emit("clickAction", {
						report: !0,
						lob: {
							flag: 27,
							lang: this.lang,
							reflang: this.reflang
						},
						param: {
							cont: "切换字幕语言类型",
							cntp: document.body.getAttribute("mg-stat-page") || "v_play",
							lastp: xt("lastp") || "",
							mod: "pfc"
						}
					})
				}, i.click = function(t) {
					var e = t.target.getAttribute("action");
					w(this[e]) && this[e](t)
				}, i.switch = function(t) {
					var e = t.target.dataset.lan || "";
					this.parent.vm.emit("switchSubtitle", {
							language: e
						}), this.updateHighlight(e), this.reflang = this.lang || "", this.lang = e, this
						.reportSwitch(), t.stopPropagation()
				}, i.getDefaultLanguage = function() {
					var t = Rt(this, ".parent.vm.config.abroad", ""),
						e = Rt(this, "parent.userSetting.subtitleLanguage");
					return e = null !== e ? e : {
						0: "0",
						1: "5",
						2: "5",
						3: "5",
						6: "9",
						10: "1",
						18: "17",
						19: "2",
						23: "3"
					} [t] || ""
				}, i.updateHighlight = function(t) {
					this.$list.find("a").removeClass("focus"), this.$list.find('[data-lan="' + t + '"]')
						.addClass("focus")
				}, i.mouseover = function(t) {
					this.hideTimer && clearTimeout(this.hideTimer), this.hideTimer = null
				}, i.mouseout = function(t) {
					var e = this;
					this.hideTimer && clearTimeout(this.hideTimer), this.hideTimer = setTimeout(function() {
						e.hide()
					}, 200)
				}, e
			}(Xf),
			clarity: Ip,
			tip: Mp,
			danmu: Fp,
			playStatus: Op,
			pip: yp,
			default: Zf
		},
		Hp = function(t) {
			var e = t.config.isIpad,
				i = t.config.disableDanmuPlugin || !Rt(t, "vm._config.plugins.danmu", !0),
				n = "1" == Rt(t, "vm.config.i18n", ""),
				r = navigator.userAgent.indexOf("Trident") > -1 && navigator.userAgent.indexOf("rv:11.0") > -1,
				o = {};
			return ["tip", "pip", "episode", "webscreen", "screen", "watchit", "setting", "playrate", "clarity",
				"next", "loop", "subtitle"
			].forEach(function(e) {
				o[e] = !1 === Rt(t, "vm._config.plugins." + e)
			}), t.$config.children ? t.$config.children : t.isLive ? {
				play: !0,
				danmu: !(i || n || r || e),
				volume: !0,
				clarity: !0,
				screen: !0,
				tip: !0
			} : {
				play: !0,
				playNext: !o.next,
				nextTip: !o.next,
				playLoop: !o.loop,
				progressTime: !0,
				progressBar: !0,
				danmu: !e && !i && !n,
				watchit: !o.watchit && !e && !n,
				subtitlebar: !o.subtitlebar && !e && n,
				clarity: !o.clarity && !e,
				playrate: !o.playrate && !e,
				episode: !o.episode && !e && !n,
				volume: !e,
				setting: !o.setting,
				pip: !o.pip && document.pictureInPictureEnabled,
				webscreen: !o.webscreen && !e,
				screen: !o.screen,
				tip: !o.tip,
				playStatus: !e
			}
		};
	var jp = {},
		$p = !1,
		Wp = W.document;

	function qp(t) {
		if ($p) setTimeout(qp, 0, t);
		else {
			var e = jp[t];
			if (e) {
				$p = !0;
				try {
					! function(t) {
						var e = t.callback,
							i = t.args;
						switch (i.length) {
							case 0:
								e();
								break;
							case 1:
								e(i[0]);
								break;
							case 2:
								e(i[0], i[1]);
								break;
							case 3:
								e(i[0], i[1], i[2]);
								break;
							default:
								e.apply(void 0, i)
						}
					}(e)
				} finally {
					! function(t) {
						delete jp[t]
					}(t), $p = !1
				}
			}
		}
	}
	var Gp, Kp, Yp = Object.getPrototypeOf && Object.getPrototypeOf(W);
	Yp = Yp && Yp.setTimeout ? Yp : W, "[object process]" === {}.toString.call(W.process) || (! function() {
		if (W.postMessage && !W.importScripts) {
			var t = !0,
				e = W.onmessage;
			return W.onmessage = function() {
				t = !1
			}, W.postMessage("", "*"), W.onmessage = e, t
		}
	}() ? W.MessageChannel ? (new MessageChannel).port1.onmessage = function(t) {
		qp(t.data)
	} : Wp && "onreadystatechange" in Wp.createElement("script") && Wp.documentElement : (Gp =
		"setImmediate$" + Math.random() + "$", Kp = function(t) {
			t.source === W && "string" == typeof t.data && 0 === t.data.indexOf(Gp) && qp(+t.data.slice(Gp
				.length))
		}, W.addEventListener ? W.addEventListener("message", Kp, !1) : W.attachEvent("onmessage", Kp)));
	Function.prototype.apply;

	function Xp(t) {
		"number" == typeof t && "function" == typeof W.clearInterval ? W.clearInterval(t) : function(t) {
			t && "function" == typeof t.close && t.close()
		}(t)
	}
	var Zp = /iPad/i.test(navigator.userAgent),
		Qp = "PluginControlbar",
		Jp = {
			hideBarTime: 3e3,
			barShowByMouse: "move"
		},
		tm = {
			name: "mangoControl",
			el: "mango-control",
			data: {
				children: {},
				show: !0,
				adlock: !1,
				disabled: !0,
				guideShow: !1
			},
			level: 101,
			operable: !1,
			penetrate: !1,
			create: function() {},
			init: function(t) {
				var e = this;
				t.controls && (this.show = !0, t.controls = !1);
				var i, n, r = this;
				nu(t, {
						controls: Uc({
							get: function() {
								return r.show
							},
							set: function(t) {
								return r.show = Boolean(t), r._display(), !1
							}
						}, {
							preSet: !0
						})
					}, {
						self: !0
					}), this.config = k(this.$config) ? N(Jp, this.$config) : Jp, this.vm = this.__dispatcher
					.vm, this.locale = this.vm.locale, this.isIntelMgtv = "1" == this.vm.config.i18n, this.vm
					.screenState = "normal", this.__wrapper = this.__dispatcher.dom.wrapper, this.config
					.isIpad = Zp, this.config.disableDanmuPlugin = this.vm._config.disableDanmuPlugin, this
					.config.hideBarTime = Zp ? 0 : this.config.hideBarTime, this.$dom.innerHTML =
					'\n    <mango-control-bg></mango-control-bg>\n    <mango-control-wrap mg-stat-mod="jEBKaV">\n        <mango-control-wrap-left></mango-control-wrap-left>\n        <mango-control-wrap-slot></mango-control-wrap-slot>\n        <mango-control-wrap-right></mango-control-wrap-right>\n    </mango-control-wrap>',
					this.$domWrap = Ie(this.$dom), this.$wrap = this.$dom.querySelector("mango-control-wrap"),
					this.$wrapLeft = this.$dom.querySelector("mango-control-wrap-left"), this.$wrapRight = this
					.$dom.querySelector("mango-control-wrap-right"), this.children = (n = (i = this).config
						.children = Hp(i), g(n).filter(function(t) {
							return n[t]
						}).reduce(function(t, e) {
							var r = zp[e] || zp.default;
							return t[e] = new r(i, n[e]), t
						}, {})), Zp && (this.show = !1), this.$controlWrap = Ie(this.$wrap), this
					.autoHideControlsLock = !1, this.midAdWillBeginTimer && Xp(this.midAdWillBeginTimer), this
					.addEvent(), this.getUserSetting(), this.onTimeUpdate = gt(function() {
						e._progressUpdate(), e.detectVideoWillEnd(), e.detectVideoSkipEnd();
						var t = e.children,
							i = t.clarity,
							n = t.progressBar;
						i && i.onTimeUpdate(), n && n.progress()
					}, 200), this.onSeeked = gt(function(t) {
						e._onSeeked(t)
					}, 500), Yi.info(Qp, "plugin init ok.")
			},
			destroy: function() {
				window.clearTimeout(this.timeId), Yi.info(Qp, "plugin destroy ok.")
			},
			inited: function() {
				for (var t in this.children) this.children[t].inited && this.children[t].inited();
				this.$status = this.$dom.querySelector("mango-control-status"), Yi.info(Qp, "plugin inited ok.")
			},
			events: {
				showStarSegmentsGuide: function() {
					var t = this;
					this.guideShow = !0, this._showItself(), this._hideItself(5e3), setTimeout(function() {
						t.guideShow = !1
					}, 5e3)
				},
				play: function() {
					var t = this.children,
						e = t.tip,
						i = t.play,
						n = t.pip;
					i && i.changeState("play"), e && e.togglePromotionTip(!1), n && n.enable(!this.vm._config
						.useFlash)
				},
				videoInfoData: function(t) {
					t.isPreload || this.onVideoInfoData(t)
				},
				preloadVideoStart: function() {
					var t = {
						data: this.vm.cms.videoInfoData,
						status: "loadComplete"
					};
					this.onVideoInfoData(t)
				},
				confData: function(t) {
					void 0 === t && (t = {});
					var e = this.children,
						i = e.tip,
						n = e.clarity,
						r = Rt(t, "conf.recommend.list", []),
						o = r.find(function(t) {
							return 3 == t.recommendType
						}),
						s = r.find(function(t) {
							return 4 == t.recommendType
						});
					i && i.setPromotionInfo(o), n && n.setPromotionInfo(s)
				},
				subtitleData: function(t) {
					void 0 === t && (t = {});
					var e = this.children.subtitlebar,
						i = Rt(t, "data.title", []) || [];
					if (e && i.length > 0) {
						e.setData(i), e.enable(!0);
						var n = e.getDefaultLanguage();
						this.vm.emit("switchSubtitle", {
							language: n
						})
					}
				},
				switchSubtitle: function(t) {
					var e = t.language;
					this.disabled || this.adlock || (this.userSetting.subtitleLanguage = e, zi.set(
						"mango-subtitleLanguage", e))
				},
				starSegments: function(t) {
					void 0 === t && (t = {});
					var e = this.children,
						i = e.watchit,
						n = e.progressBar;
					i && i.initSegments(t.starSegments), n && n.initSegments(t.starSegments)
				},
				nextVideoInfo: function(t) {
					var e = this.children,
						i = e.playNext,
						n = e.nextTip;
					this.nextvideoinfo = t, i && i.setNextVideoInfo(t), n && n.setNextVideoInfo(t)
				},
				clarityData: function(t) {
					var e = this.children.clarity;
					e && e.initTextList(t.stream, t.def, t.isAutoDef, t.isDrm)
				},
				switchClarity: function(t) {
					if (t.purview) {
						if (this.paused && this.play(), t.auto || t.silent) return;
						if (!this.vm._config.isLive) {
							var e = "[" + t.name + "]",
								i = bt(this.locale["controls.tip.clarity.switching"], {
									def: e
								});
							this.children.tip.showBottomTip({
								_type: "commonTPL",
								_time: 3e3,
								info: i.slice(0, i.indexOf(e)),
								text: e,
								other: i.slice(i.indexOf(e) + e.length)
							})
						}
					}
				},
				clarityChanged: function(t) {
					if (this.vm._config.isLive)
						if (4 == t.stream.def) {
							var e = "[" + t.stream.name + "]",
								i = bt(this.locale["controls.tip.clarity.switch"], {
									def: e
								});
							this.children.tip.showBottomTip({
								_type: "commonTPL",
								_time: 5e3,
								info: i.slice(0, i.indexOf(e)),
								text: e,
								other: i.slice(i.indexOf(e) + e.length)
							})
						} else {
							var n = "[" + t.stream.name + "]",
								r = bt(this.locale["controls.tip.clarity.switched"], {
									def: n
								});
							this.children.tip.showBottomTip({
								_type: "commonTPL",
								_time: 5e3,
								info: r.slice(0, r.indexOf(n)),
								text: n,
								other: r.slice(r.indexOf(n) + n.length)
							})
						}
					else {
						var o = this.children.clarity;
						if (o && o.clarityChanged(t), this.children.playrate && this.children.playrate
							.restoreRate(), !t.auto && !t.silent)
							if (t.error) this.children.tip.showBottomTip({
								_type: "commonTPL",
								_time: 3e3,
								info: this.locale["controls.tip.clarity.switch.error"],
								text: ""
							});
							else {
								var s = o && o.targetDef;
								if (t.stream.def !== s) return;
								o.targetDef = -1;
								var a = "[" + t.stream.name + "]",
									h = bt(this.locale["controls.tip.clarity.switched"], {
										def: a
									});
								this.children.tip.showBottomTip({
									_type: "commonTPL",
									_time: 5e3,
									info: h.slice(0, h.indexOf(a)),
									text: a,
									other: h.slice(h.indexOf(a) + a.length)
								})
							}
					}
				},
				switchToFlash: function() {
					this.vm._config.useFlash = !0, Yi.info(Qp, "user trigger action [switchToFlash]."), this.vm
						.reload({
							video_id: this.vm._config.video_id
						}), this.children.playrate && this.children.playrate.enable(!1), this.children.pip &&
						this.children.pip.enable(!1)
				},
				switchToHtml5: function() {
					this.vm._config.useFlash = !1, Yi.info(Qp, "user trigger action [switchToHtml5]."), this.vm
						.reload({
							video_id: this.vm._config.video_id
						}), this.children.playrate && this.children.playrate.enable(!0), this.children.pip &&
						this.children.pip.enable(!0)
				},
				danmuConfig: function(t) {
					this.children.danmu && this.children.danmu.onDanmuConfig(t), (this.isWebFullScreen || this
						.isFullScreen) && this.danmuFullscreen()
				},
				danmuStatusChange: function(t) {
					this.children.danmu && this.children.danmu.changeState(t)
				},
				toggleWebFullScreen: function() {
					this.children.webscreen && this.children.webscreen.toggleWebFullScreen()
				},
				webFullScreenChange: function(t) {
					this.isWebFullScreen = "webfull" == t.state, this.isWebFullScreen ? this.vm.screenState =
						"webfull" : this.vm.screenState = "normal", this.children.screen && this.children.screen
						.onWebFullScreenChange(t), this.children.playStatus && this.children.playStatus
						.onFullScreenChange(t), this.isWebFullScreen && this.isPipMode && this
						.exitPictureInPicture(), this.isWebFullScreen && window["danmu-control-bar"] && this
						.danmuFullscreen()
				},
				fullscreenchange: function(t) {
					var e = this.fullscreenElement ? "full" : "small";
					this.vm.screenState = e ? "full" : "normal", this.isFullScreen = !!this.fullscreenElement,
						this.children.webscreen && this.children.webscreen.onFullScreenChange({
							state: e
						}), this.children.playStatus && this.children.playStatus.onFullScreenChange({
							state: e
						}), this.children.screen && this.children.screen.fullscreenchange({
							state: e
						}), this.isFullScreen && this.isPipMode && this.exitPictureInPicture(), "full" === e &&
						window["danmu-control-bar"] && this.danmuFullscreen()
				},
				frontAdBegin: function() {
					this.playbackRate = 1, this.adLockUI(!0)
				},
				midAdWillBegin: function(t) {
					var e = this;
					this.adlock = !0, this._disable(!0), this._hideItself();
					var i = Math.floor(t.time / this.playbackRate),
						n = function() {
							var t = i + "s",
								n = bt(e.locale["controls.tip.ad.enter"], {
									time: t
								});
							e.children.tip.showBottomTip({
								_type: "commonTPL",
								_time: 1e3,
								info: n.slice(0, n.indexOf(t)),
								text: t,
								other: n.slice(n.indexOf(t) + t.length)
							})
						};
					n(), this.midAdWillBeginTimer = setInterval(function() {
						--i > 0 ? n() : Xp(e.midAdWillBeginTimer)
					}, 1e3)
				},
				midAdBegin: function() {
					this.playbackRate = 1, this.adLockUI(!0), this.children.clarity && this.children.clarity
						.reset()
				},
				midAdEnd: function() {
					this.children.playrate && this.children.playrate.restoreRate(), this.adLockUI(!1), this
						.volume = this.userSetting.volume, this.children.volume && this.children.volume.update()
				},
				videoResumeMid: function() {
					this.resumePip()
				},
				videoPlay: function() {
					this.resumePip(), this.adLockUI(!1);
					var t = this.children,
						e = t.play,
						i = t.playrate,
						n = t.progressBar,
						r = t.progressTime,
						o = t.volume;
					e && e.changeState("play"), i && i.inited(), n && n.preFetch(), this.volume = this
						.userSetting.volume, o && o.update(), this.videoEndEmitted = !1, "0px" == xe(this.$wrap,
							"bottom") && this.emit("controlbarChange", {
							visible: !0
						}), Zp || this._hideItself(), this.videoinfo && 200 == this.videoinfo.user.purview &&
						this.duration > 0 && (r && r.updateTotal(Math.round(this.duration)), n && n
							.initKeyPoints(this.videoinfo.points, Math.round(this.duration)))
				},
				videoPause: function() {
					if (!this.adlock) {
						var t = this.children,
							e = t.nextTip,
							i = t.tip,
							n = t.play;
						n && n.changeState("pause"), this._showItself(), e && e.cancelVideoEnd(), !this
							.isIntelMgtv && i && i.togglePromotionTip(!0), this.vm.emit("cancelVideoWillEnd")
					}
				},
				videoResume: function() {
					this.children.playrate && this.children.playrate.restoreRate()
				},
				videoEnd: function() {
					if (200 == this.videoinfo.user.purview) {
						var t = this.children,
							e = t.nextTip,
							i = t.playNext,
							n = t.play;
						this.userSetting.isLoop ? (this.vm.emit("videoReplay"), Yi.info("PluginControl",
							"LoopPlay setting is on, start loop play. "), e && e.cancelVideoEnd()) : (i && i
							.playNext(), e && e.cancelVideoEnd()), n && n.changeState("pause")
					} else this.emit("showVipDialog", this.videoinfo)
				},
				videoRefresh: function() {
					this.onVideoReplay()
				},
				videoReplay: function() {
					this.onVideoReplay()
				},
				videoReload: function() {
					this.vipDialogIsShow = !1, this.adlock = !0, this._disable(!0), this.midAdWillBeginTimer &&
						Xp(this.midAdWillBeginTimer), Ae(this.$dom, {
							visibility: "hidden"
						}), Ae(this.$dom, {
							display: "none"
						});
					var t = this.children,
						e = t.tip,
						i = t.playNext,
						n = t.nextTip,
						r = t.progressBar,
						o = t.clarity,
						s = t.danmu;
					e && e.close(), i && i.hide(), n && n.cancelVideoEnd(), s && s.hide(), o && o.reset(), r &&
						r.reset()
				},
				lockUI: function() {
					this.adLockUI(!0)
				},
				unlockUI: function() {
					this.adLockUI(!1)
				},
				contextmenu: function() {
					this.contextMenuIsShow = !0
				},
				contextmenuClose: function() {
					this.contextMenuIsShow = !1
				},
				showHdDialog: function() {
					var t = this.children,
						e = t.webscreen,
						i = t.screen;
					e && e.exit(), i && i.exit()
				},
				showVipDialog: function() {
					var t = this.children,
						e = t.webscreen,
						i = t.screen;
					this.vipDialogIsShow = !0, this.exitPictureInPicture(), e && e.exit(), i && i.exit(), this
						.adLockUI(!0, "vipdalog")
				},
				showBottomTip: function(t) {
					var e = this.children.tip;
					e && e.showBottomTip(t)
				},
				hideBottomTip: function(t) {
					var e = t._type,
						i = this.children.tip;
					i && i.currentTipType == e && i.close()
				},
				episodePanelShow: function(t) {
					t.show ? this.adLockUI(!0, "episode") : "episode" == this.lockReason && this.adLockUI(!1)
				},
				setStarSegments: function(t) {
					var e = this.children.progressBar;
					e && e.setSegment(t.tag)
				},
				videoWaiting: function() {
					var t = this.children.clarity;
					t && t.onVideoWaiting()
				},
				liveSourceError: function() {
					this.adLockUI(!0)
				},
				liveVideoInfo: function(t) {
					var e = this.children.tip;
					this.videoinfo = t, e && e.initTip(t, !0)
				},
				c_resize: function(t) {
					this.children.progressBar && this.children.progressBar.resize()
				},
				c_mouseenter: function() {
					Zp || this.adlock || this._mousemove()
				},
				c_mousemove: function() {
					if (!Zp) return this.adlock ? (Ae(this.__wrapper, {
						cursor: "default"
					}), void this._hideItself()) : void this._mousemove();
					Ae(this.__wrapper, {
						cursor: "default"
					})
				},
				c_mouseleave: function() {
					Zp || this.adlock || this.guideShow || this._hideItself(300)
				},
				timeupdate: function() {
					this.onTimeUpdate()
				},
				progress: function() {},
				volumechange: function() {
					this.disabled || this.adlock || (this.userSetting.volume = this.volume, zi.set(
							"mango-volume", this.volume), this.children.volume && this.children.volume
						.update())
				},
				w_swipe: function(t) {
					if (!this.disabled && !this.adlock) {
						var e = t.detail.data[0].currentDirection;
						if (e >= 330 || e <= 30) {
							var i = this.currentTime + 10;
							return this.currentTime = i > this.duration ? this.duration : i, void this
								._mousemove()
						}
						if (e > 150 && e <= 210) {
							var n = this.currentTime - 10;
							return this.currentTime = n < 0 ? 0 : n, void this._mousemove()
						}
						if (e >= 60 && e <= 120) {
							var r = this.volume + .1;
							this.volume = r > 1 ? 1 : r
						} else if (e >= 240 || e <= 300) {
							var o = this.volume - .1;
							this.volume = o < 0 ? 0 : o
						} else;
					}
				},
				g_keydown: function(t) {
					var e = document.activeElement.tagName.toUpperCase(),
						i = document.activeElement.getAttribute("contenteditable");
					if ("INPUT" == e || "TEXTAREA" == e || "" == i || "true" == i) return !1;
					if (!this.disabled) switch (t.stopPropagation(), t.keyCode) {
						case 27:
							this.children.webscreen && this.children.webscreen.onEscKeyPressed(t);
							break;
						case 32:
							t.preventDefault(), this.children.play && this.children.play.click(t);
							break;
						case 37:
							t.preventDefault(), this.onSeeked(-1);
							break;
						case 39:
							t.preventDefault(), this.onSeeked(1);
							break;
						case 38:
							t.preventDefault(), this.children.volume && this.children.volume.adjust(1);
							break;
						case 40:
							t.preventDefault(), this.children.volume && this.children.volume.adjust(-1);
							break;
						case 219:
							t.preventDefault(), this.children.playrate && this.children.playrate.adjust(-1);
							break;
						case 221:
							t.preventDefault(), this.children.playrate && this.children.playrate.adjust(1)
					}
				},
				c_touchstart: function(t) {
					this.adlock || Zp && !this.adlock && -1 != t.target.tagName.indexOf("VIDEO") && (this
						.isExpand ? this._hideItself() : this._showItself(), this.isExpand = !this.isExpand)
				},
				click: function(t) {
					var e = this;
					if (Zp);
					else {
						if (this.contextMenuIsShow) return;
						var i = new Date,
							n = this.clickTime;
						if (this.clickTime = i, i - n < 300) return void clearTimeout(this.clickTimeId);
						this.clickTimeId = setTimeout(function() {
							!e.disabled && e.children.play && e.children.play.click(t)
						}, 300)
					}
				},
				dblclick: function(t) {
					!this.disabled && this.children.screen && this.children.screen.click()
				},
				enterpictureinpicture: function(t) {
					this.children.pip && this.children.pip.pictureInPictureChange(t)
				},
				leavepictureinpicture: function(t) {
					this.children.pip && this.children.pip.pictureInPictureChange(t), this.vm.enableFloatWindow(
						!0)
				}
			},
			methods: {
				onVideoInfoData: function(t) {
					var e = this.children,
						i = e.tip,
						n = e.progressBar,
						r = e.playStatus,
						o = e.progressTime;
					if ("loadComplete" == t.status) {
						this.videoinfo = t.data;
						var s = this.videoinfo,
							a = s.points,
							h = s.user,
							c = s.info,
							u = s.frame;
						s.duration;
						if (this.skipStartTime = Number(a.start.split("|")[0]) || 0, this.skipEndTime = Number(a
								.end.split("|")[0]) || 0, 200 != h.purview && 0 == c.trialtime) return void this
							.emit("showVipDialog", this.videoinfo);
						n && n.initKeyPoints(a, c.duration), n && n.initFrames(u), o && o.updateTotal(c
							.duration), r && r.initInfo(), i && i.initTip(t.data)
					}
				},
				danmuFullscreen: function() {
					var t = window["danmu-control-bar"];
					t && (t.classList.add("control-item"), t.classList.add("state-fullscreen"), t.classList
						.remove("state-bottom"), this.$dom.appendChild(t), this.$wrapRight.insertBefore(
							window["danmu-control-bar"], this.$wrapRight.children[0]))
				},
				onVideoReplay: function() {
					this.vm.updateLobParam(), this.videoEndEmitted = !1;
					var t = 0;
					this.userSetting.isSkip && this.skipStartTime > 0 && t < this.skipStartTime && (Yi.info(Qp,
							"skip start is on, seek to " + t), t = this.skipStartTime, this.children.tip
						.showBottomTip({
							_type: "skipStartTPL",
							_time: 2e3
						})), this.stopLoad(), this.startLoad(), this.seek(t), this.play()
				},
				adLockUI: function(t, e) {
					void 0 === t && (t = !0), void 0 === e && (e = "adsdk"), t ? (this.adlock = !0, this
						.lockReason = e, this._disable(!0), Ae(this.$dom, {
							visibility: "hidden"
						})) : (this.adlock = !1, this.lockReason = "", this._disable(!1), Ae(this.$dom, {
						visibility: "visible"
					}))
				},
				addEvent: function() {
					this.$controlWrap.on("mouseover", this._isShowControl), this.$controlWrap.on("mouseenter",
						this._isShowControl), this.$controlWrap.on("mouseout", this._isHideControl)
				},
				_progressUpdate: function() {
					this.children.progressBar && this.children.progressBar.update(), this.children
						.progressTime && this.children.progressTime.updatePass()
				},
				_onSeeked: function(t) {
					if (t > 0) {
						var e = this.currentTime + 10;
						this.currentTime = e > this.duration ? this.duration : e, this._mousemove()
					} else {
						var i = this.currentTime - 10;
						this.currentTime = i < 0 ? 0 : i, this._mousemove()
					}
				},
				getUserSetting: function() {
					this.userSetting = {
						isSkip: 0 !== zi.get("mango-skip-start"),
						isLoop: zi.get("mango-loop-open"),
						volume: zi.get("mango-volume") || .5,
						playbackRate: zi.get("mango-playback-rate") || 3,
						fullscreenRatio: 100,
						danmuSwitch: zi.get("mango-danmu-switch"),
						subtitleLanguage: zi.get("mango-subtitleLanguage")
					}
				},
				resumePip: function() {
					document.pictureInPictureElement && (document.exitPictureInPicture(), this
						.requestPictureInPicture())
				},
				trialViewEnd: function() {
					return 200 != this.videoinfo.user.purview && (this.currentTime >= this.videoinfo.info
						.trialtime || 0 == this.videoinfo.info.trialtime) && (this.emit("showVipDialog",
						this.videoinfo), !0)
				},
				detectVideoSkipEnd: function() {
					if (!this.vm._config.isLive && !this.adlock && !this.trialViewEnd() && this.userSetting
						.isSkip && this.skipEndTime > 0) {
						var t = this.currentTime - this.skipEndTime;
						t > .5 && t < 3 && this.endOfVideo()
					}
				},
				endOfVideo: function() {
					this.videoEndEmitted || (this.vm.stopLoad(), this.vm.pause(), this.vm.emit("videoEnd"), Yi
						.info(Qp, "send player event [videoEnd] by detectVideoSkipEnd"), this
						.videoEndEmitted = !0)
				},
				detectVideoWillEnd: function() {
					var t = this.children,
						e = (t.playNext, t.nextTip),
						i = t.tip;
					if (!this.vm._config.isLive && !this.adlock && !this.trialViewEnd()) {
						var n = this.duration || this.videoinfo.info.duration;
						this.userSetting.isSkip && this.skipEndTime > 0 && (n = this.skipEndTime);
						var r = parseInt(n - this.currentTime);
						if (n > 60 && r <= 10 && r > 0 && !this.videoWillEndFlag) {
							this.videoWillEndFlag = !0;
							var o = Math.floor(r / this.playbackRate);
							this.vm.emit("videoWillEnd", {
								time: o
							}), "200" == this.videoinfo.user.purview && e && e.onVideoWillEnd({
								time: o
							}), this.userSetting.isSkip && this.skipEndTime > 0 && i && i.showBottomTip({
								_type: "skipEndTPL",
								_time: 2e3
							})
						} else this.videoWillEndFlag && (r > 10 || r < 0) && (this.videoWillEndFlag = !1, e && e
							.cancelVideoEnd(), this.vm.emit("cancelVideoWillEnd"))
					}
				},
				seekVideo: function(t) {
					this.currentTime = t, t > this.duration && this.detectVideoWillEnd()
				},
				_isShowControl: function() {
					this.autoHideControlsLock = !0
				},
				_isHideControl: function() {
					this.autoHideControlsLock = !1, this._hideItself()
				},
				_hideItself: function(t) {
					var e = this;
					return !this.autoHideControlsLock && (!this.userIsDragging && (t = t || this.config
						.hideBarTime, window.clearTimeout(this.timeId), void(this.timeId = setTimeout(
							function() {
								var t = e.$wrap.offsetHeight;
								t = Zp ? -8 - t : -2 - t, _e(e.$dom, "hide"), Ae(e.$wrap, {
									bottom: t + "px"
								}), e.$status && Ae(e.$status, {
									top: "-80px"
								}), e.emit("controlbarChange", {
									visible: !1
								}), (e.isWebFullScreen || e.isFullScreen) && Ae(e.__wrapper, {
									cursor: "none"
								})
							}, t))))
				},
				_showItself: function() {
					window.clearTimeout(this.timeId), this.emit("controlbarChange", {
						visible: !0
					}), be(this.$dom, "hide"), Ae(this.$dom, {
						display: "block"
					}), Ae(this.$wrap, {
						bottom: "0"
					}), Ae(this.__wrapper, {
						cursor: "default"
					}), this.$status && Ae(this.$status, {
						top: "0px"
					})
				},
				_display: function() {
					var t = this.show ? "block" : "none";
					Ae(this.$dom, {
						display: t
					})
				},
				_mousemove: function(t) {
					this.adlock || this.guideShow || (this._showItself(), this._hideItself())
				},
				_disable: function(t) {
					this.show && (this.disabled = t, Ae(this.$wrap, "pointerEvents", t ? "none" : "auto"))
				}
			}
		};

	function em(t) {
		var e = void 0 === t ? {} : t,
			i = e.tagName,
			n = void 0 === i ? "mango-popup" : i,
			r = e.className,
			o = e.name,
			s = void 0 === o ? "popup" : o,
			a = e.html,
			h = e.title,
			c = void 0 === h ? "这是一个信息框" : h,
			u = e.body,
			l = void 0 === u ? "这里是信息内容" : u,
			d = e.offsetAttr,
			f = void 0 === d ? "left top" : d,
			p = e.offset,
			m = void 0 === p ? "50% 50%" : p,
			v = e.translate,
			g = void 0 === v ? "" : v,
			y = e.width,
			_ = e.height,
			b = e.level,
			E = e.init,
			S = e.inited,
			T = e.data,
			x = e.create,
			A = e.beforeCreate,
			C = e.destroy,
			R = e.events,
			I = e.computed,
			L = e.methods,
			P = void 0 === L ? {} : L,
			D = e.penetrate,
			M = void 0 !== D && D,
			B = e.operable,
			O = void 0 === B || B,
			U = e.hide,
			F = void 0 !== U && U,
			V = e.opened,
			z = e.closed,
			H = e.autoFocus,
			j = {
				html: a || "\n      <mg-popup-close>×</mg-popup-close>\n      " + (!1 !== c ? "<mg-popup-head>" +
					c + "</mg-popup-head>" : "") + "\n      " + (!1 !== l ? "<mg-popup-body>" + l +
					"</mg-popup-body>" : "") + "\n    ",
				closeSelector: "._close"
			};
		return {
			name: s,
			el: n,
			className: r,
			beforeCreate: function(t, e) {
				var i = void 0 === t ? {} : t,
					n = i.events,
					r = i.methods;
				k(e) && (k(e.events) && N(n, e.events), k(e.methods) && N(r, e.methods)), A && A.apply(this,
					arguments)
			},
			create: function() {
				var t = k(this.$config) ? N(j, this.$config) : j;
				(this.$domWrap = Ie(this.$dom).css("display", "none")).html(t.html).delegate(
						"mg-popup-close, " + t.closeSelector, "click", this.close), this.width(y).height(_)
					.offset(m).translate(g), this._hide = F;
				for (var e = arguments.length, i = new Array(e), n = 0; n < e; n++) i[n] = arguments[n];
				x && x.apply(this, i), !this._hide && this.open()
			},
			destroy: function() {
				for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
				C && C.apply(this, e), this.$domWrap.undelegate(this.$config.closeSelector, "click", this.close)
					.remove()
			},
			level: b,
			init: E,
			inited: S,
			data: T,
			events: R,
			computed: I,
			penetrate: M,
			operable: O,
			autoFocus: H,
			methods: N({
				open: function() {
					if (this.destroyed) return this;
					this.$domWrap.css("display", "block"), this._hide = !1;
					for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] =
						arguments[i];
					return this.$emit("popupOpen", e, this), w(V) && V.apply(this, e), this
				},
				close: function() {
					if (this.destroyed) return this;
					this.$domWrap.css("display", "none"), this._hide = !0;
					for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] =
						arguments[i];
					return this.$emit("popupClose", e, this), w(z) && z.apply(this, e), this
				},
				width: function(t) {
					return t && this.$domWrap.css("width", t), this
				},
				height: function(t) {
					return t && this.$domWrap.css("height", t), this
				},
				offset: function(t) {
					var e = ("" + (t || "")).split(" "),
						i = {};
					if (e.length > 2) return ["top", "right", "bottom", "left"].forEach(function(t, n) {
						e[n] && (i[t] = e[n])
					}), this.$domWrap.css(i), this;
					var n = e[0],
						r = e[1];
					if ("" === n) return this;
					var o = r || n,
						s = f.split(" ");
					i[s[0]] = n, i[s[1]] = o, this.$domWrap.css(i);
					var a = [];
					return "50%" === n && a.push("-50%"), "50%" === o && a.push("-50%"), a.length > 0 &&
						this.translate(a.join(" ")), this
				},
				translate: function(t) {
					var e = ("" + (t || "")).split(" "),
						i = e[0],
						n = e[1];
					return "" !== i && (this.$domWrap.css("transform", "translate(" + i + ", " + (n ||
							i) + ")"), !("transform" in document.createElement("a").style) && window
						.console && window.console.warn), this
				}
			}, P)
		}
	}
	var im = ["currentTime", "buffered", "currentSrc", "duration", "error", "ended", "networkState", "paused",
			"readyState", "seekable", "sinkId", "controlsList", "tabIndex", "dataset", "offsetHeight", "offsetLeft",
			"offsetParent", "offsetTop", "offsetWidth"
		],
		nm = /iPad/i.test(navigator.userAgent),
		rm = function(t) {
			function e(e) {
				var i;
				return (i = t.call(this) || this).Log = Yi, i.reset(), i.init(), i.__vm = e.vm, i.videoId = e
					.videoId, i.adContainer = e.vm.$dom, i
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {}, i.restoreVolume = function() {
				this._volume && (this.__vm.volume = this._volume, this.__vm.muted = !1, this._volume = null)
			}, i.mute = function() {
				this.__vm.muted = !0, this.isAdMute = !0, this._volume = this.__vm.volume, this.__vm.volume = 0
			}, i.unmute = function() {
				this.__vm.muted = !1, this.restoreVolume()
			}, i.fullScreen = function() {
				nm ? this.__vm.vm.__dispatcher.dom.videoElement.webkitEnterFullscreen() : this.__vm.$fullscreen(
					!0, "container")
			}, i.captureScreen = function(t) {
				var e = this.__vm.vm,
					i = e.__dispatcher.dom.videoElement;
				return e._config.useFlash || dt.safari ? null : Bt(i, t)
			}, i.exitFullScreen = function() {
				nm || this.__vm.$fullscreen(!1, "container")
			}, i.reset = function() {
				this._isPlayingMidAd = !1, this._isPlayingFrontAd = !0, this._videoTime = 0
			}, i.getVideoInfo = function() {
				return this.__vm.getVideoInfo()
			}, i.getVideoType = function() {
				return this.__vm.isLive ? "live" : "vod"
			}, i.restoreLevel = function() {
				this.__vm.restoreLevel()
			}, i.bumpToTop = function() {
				this.__vm.bumpToTop()
			}, i.adFrontLoad = function() {
				this.__vm.onFrontAdLoad()
			}, i.midAdStart = function() {
				this._videoTime = this.__vm.currentTime, this._isPlayingMidAd = !0, this.__vm.midAdStart()
			}, i.preloadInitUrls = function(t) {
				this.__vm.initPreloadUrls(t)
			}, i.initUrls = function(t) {
				this.__vm.initUrls(t)
			}, i.playNext = function() {
				return this.__vm.playNextAdFragment()
			}, i.pause = function() {
				this.__vm.pause()
			}, i.getVideoSize = function() {
				return {
					isFloating: this.__vm.vm.getFloatWindowMode(),
					height: parseInt(this.__vm.container.height),
					width: parseInt(this.__vm.container.width)
				}
			}, i.resume = function() {
				this.__vm.play()
			}, i.midAdWillBegin = function(t) {
				void 0 === t && (t = 5), this.__vm.emit("midAdWillBegin", {
					time: t
				})
			}, i.lockUI = function() {
				this.__vm.emit("lockUI")
			}, i.unlockUI = function() {
				Yi.info("adsdk", "unlock ui .... "), this.__vm.emit("unlockUI")
			}, i.adVideoEnd = function(t) {
				1 == t ? this._isPlayingFrontAd = !1 : 2 == t && (this._isPlayingMidAd = !1), this.__vm.onAdEnd(
					t)
			}, i.loadSource = function(t) {
				this.__vm.onLoadSource(t)
			}, i.getVideo = function() {
				return this
			}, i.getVideoStartTime = function() {
				return this.__vm.vm.cms.getStartTime()
			}, i.getVideoProperty = function(t) {
				return -1 !== im.indexOf(t) ? this.__vm[t] : void 0
			}, i.pushAdDanmu = function(t) {
				var e = this.__vm.vm.mangoDanmu;
				t.type = 99, e && e.danmuWrapper.push(t)
			}, i.getDanmuStatus = function() {
				var t = this.__vm.vm.mangoDanmu;
				return t ? t.status : "unload"
			}, i.getVideoCurrentTime = function() {
				return this._isPlayingFrontAd || this._isPlayingMidAd || !this.isVideoPlaying ? this
					._videoTime : this.__vm.currentTime
			}, i.getVideoPlayInfo = function(t) {
				t && t instanceof Array || (t = ["currentTime"]);
				for (var e, i = {}, n = u(t); !(e = n()).done;) {
					var r = e.value;
					if ("currentTime" == r) i.currentTime = this._isPlayingFrontAd || this._isPlayingMidAd ?
						this._videoTime : this.__vm.currentTime;
					else if ("speed" == r) i.speed = this.__vm.speed;
					else if ("size" == r) {
						var o = this.__vm.container.width * this.__vm.ratio / 100,
							s = this.__vm.container.height;
						o / s > 16 / 9 ? o = s * (16 / 9) : s = o / (16 / 9), i.size = {
							width: o,
							height: s
						}
					} else "quality" == r && (i.quality = this.__vm.quality)
				}
				return i
			}, i.addListener = function(t, e, i) {
				this.on(t, e.bind(i))
			}, i.addEventListener = function(t, e, i) {
				this.on(t, e.bind(i))
			}, i.removeEventListener = function(t) {
				this.off(t)
			}, i.removeListener = function(t) {
				this.off(t)
			}, i.dispose = function() {
				delete this.idx, delete this.adData
			}, n(e, [{
				key: "isMute",
				get: function() {
					return this.__vm.muted
				}
			}, {
				key: "isFullScreen",
				get: function() {
					return !!this.__vm.fullscreenElement
				}
			}]), e
		}(fe),
		om = "PluginAd",
		sm = /iPad/i.test(navigator.userAgent),
		am = function(t, e, i) {
			t && t.emit && t.emit(e, i)
		},
		hm = 1,
		cm = 2,
		um = em({
			tagName: "mango-plugin-ad",
			name: "mangoAdPlugin",
			html: "  ",
			offset: "0",
			hide: !1,
			operable: !1,
			level: 99,
			data: {
				downcountTimer: 0,
				blackTimer: 0,
				videoinfo: {},
				isAdPlaying: !1,
				isAdMute: !1,
				isAdFullScreen: !1,
				playerStatus: 0,
				isAdBlocked: !1,
				status: hm,
				adFetcher: {},
				index: -1,
				atc: null,
				adsdk: {},
				videoObject: {},
				adData: {
					info: {},
					urls: []
				},
				speed: 1,
				quality: {},
				ratio: 100,
				isPreload: !1,
				preloadAdData: null
			},
			init: function() {
				this.vm = this.__dispatcher.vm, this.isIntelMgtv = "1" == this.vm.config.i18n;
				var t = Rt(this.vm, "_config.lobparam.cpn");
				this.isPreview = 33 == t || 34 == t, this.videoObject = new rm({
					vm: this,
					videoId: this.vm._config.video_id
				}), this.vm.config.isLive ? window.getPCLiveADObject && !this.isPreview && (this.adsdk =
					window.getPCLiveADObject(this.vm.config.lobparam), this.adsdk.init(this.videoObject)
					) : window.getADObject && !this.isPreview && (this.adsdk = window.getADObject(this
					.vm.config.lobparam), this.adsdk.init(this.videoObject))
			},
			destroy: function() {
				this.adsdk && this.adsdk.dispose && this.adsdk.dispose(), this.videoObject && this
					.videoObject.dispose(), delete this.videoObject, delete this.adsdk
			},
			events: {
				fullscreenchange: function() {
					am(this.videoObject, "fullscreenchange")
				},
				nextVideoPlay: function(t) {
					am(this.videoObject, "nextVideoPlay", t)
				},
				pushMessage: function(t) {
					am(this.videoObject, "pushMessage", t)
				},
				switchPlayRate: function(t) {
					this.speed = t.rate, am(this.videoObject, "switchPlayRate", this.speed)
				},
				switchClarity: function(t) {
					this.quality = t, am(this.videoObject, "switchClarity", this.quality)
				},
				clarityChanged: function(t) {
					this.quality = t.stream, am(this.videoObject, "clarityChanged", this.quality)
				},
				clarityData: function(t) {
					this.quality = t.def
				},
				ratioChange: function(t) {
					this.ratio = t.ratio, am(this.videoObject, "ratioChange", t)
				},
				error: function() {
					am(this.videoObject, "error")
				},
				playing: function() {
					var t = this;
					setTimeout(function() {
						dt.chrome && dt.version.major >= 86 && t.volume > 0 && !t.muted && (t
							.volume += 1e-7)
					}, 100), am(this.videoObject, "playing")
				},
				pause: function() {
					am(this.videoObject, "pause")
				},
				resume: function() {
					am(this.videoObject, "resume")
				},
				loadedmetadata: function() {
					am(this.videoObject, "loadedmetadata")
				},
				ended: function() {
					am(this.videoObject, "ended")
				},
				timeupdate: function() {
					am(this.videoObject, "timeupdate")
				},
				c_resize: function() {
					am(this.videoObject, "c_resize")
				},
				videoInfoData: function(t) {
					if (this.isPreload = t.isPreload, "loadComplete" == t.status) {
						if (this.videoinfo = t.data, 200 != this.videoinfo.user.purview && 0 == this
							.videoinfo.info.trialtime) return;
						(!window.getADObject || this.isPreview || this.isIntelMgtv) && this.onLoadSource();
						var e = t.isPreload ? "preloadCmsData" : "cmsData";
						am(this.videoObject, e, t)
					}
				},
				liveSource: function(t) {
					am(this.videoObject, "liveSource", t)
				},
				frontAdPlay: function() {
					this.videoObject.isVideoPlaying = !1, Yi.info(om,
						"Front advertisement is playing, duration " + this.adData.duration), am(this
						.videoObject, "frontAdPlay")
				},
				splashShow: function(t) {
					am(this.videoObject, "splashShow", t)
				},
				controlbarChange: function(t) {
					am(this.videoObject, "controlbarChange", t)
				},
				progressbarHover: function(t) {
					am(this.videoObject, "progressbarHover", t)
				},
				progressbarUpdate: function(t) {
					am(this.videoObject, "progressbarUpdate", t)
				},
				midAdPlay: function() {
					this.videoObject.isVideoPlaying = !1, Yi.info(om,
						"Middle advertisement is playing, duration " + this.adData.duration), am(this
						.videoObject, "midAdPlay")
				},
				videoPlay: function() {
					this.isAdPlaying = !1, this.videoObject.isVideoPlaying = !0, am(this.videoObject,
						"videoPlay")
				},
				videoDrag: function() {
					this.videoObject.isVideoPlaying = !0, am(this.videoObject, "videoDrag")
				},
				videoPause: function() {
					this.videoObject.isVideoPlaying = !1, am(this.videoObject, "videoPause")
				},
				videoUserPause: function() {
					this.videoObject.isVideoPlaying = !1, am(this.videoObject, "videoUserPause")
				},
				videoResume: function() {
					this.videoObject.isVideoPlaying = !0, am(this.videoObject, "videoResume")
				},
				videoResumeMid: function() {
					this.videoObject.isVideoPlaying = !0, am(this.videoObject, "videoResumeMid")
				},
				videoEnd: function() {
					am(this.videoObject, "videoEnd")
				},
				videoReload: function(t) {
					var e, i;
					(this.status = hm, null != t && t.preloadSuccess && this.isPreload) ? (this.adData =
						this.preloadAdData, this.preloadAdData = null, this.isPreload = !1, (null === (e =
								this.adData) || void 0 === e ? void 0 : null === (i = e.urls) || void 0 ===
							i ? void 0 : i.length) > 0 || this.emit("frontAdEnd")) : (this.isPreload = !1,
						this.reset(), this.videoObject && this.videoObject.reset && this.videoObject.reset()
						);
					clearTimeout(this.blackTimer), clearInterval(this.downcountTimer), clearTimeout(this
						.jumpAdTipTimer), am(this.videoObject, "videoReload")
				},
				apiRequestError: function(t) {
					am(this.videoObject, "apiRequestError"), this.pause()
				},
				switchCamera: function() {
					this.status = hm, this.reset(), this.videoObject.reset(), clearTimeout(this.blackTimer),
						clearInterval(this.downcountTimer), clearTimeout(this.jumpAdTipTimer), am(this
							.videoObject, "videoReload")
				},
				danmuStatusChange: function(t) {
					void 0 !== t.state && am(this.videoObject, "danmuStatusChange", Boolean(t.state))
				}
			},
			methods: {
				restoreLevel: function() {
					this.$level = 0
				},
				bumpToTop: function() {
					this.$bumpToTop()
				},
				getVideoInfo: function() {
					return this.vm.getVideoInfo()
				},
				playNextAdFragment: function() {
					var t = this;
					if (this.index++, this.adData.urls.length <= this.index) return !1;
					var e = this.adData.urls[this.index],
						i = this.adData.urls[this.index + 1];
					if (sm) this.load({
						src: e.url,
						box: "native"
					}), this.play(), Yi.warn(om, "playing the [" + this.index +
						"th] ad fragment, url " + e.url);
					else {
						var n = this.vm._config.useFlash ? "flash" : "native",
							r = function(e) {
								i && i.url && (t.preloadTimer && clearTimeout(t.preloadTimer), t
									.preloadTimer = setTimeout(function() {
										t.vm.$preLoadAd(i.url, {
											box: n
										}).then(function(t) {
											Yi.warn("cms", "preload next ad, source [" + i
												.url + "].")
										}).catch(function(e) {
											am(t.videoObject, "error", e)
										})
									}, 1e3 * e))
							};
						0 == this.index && e && e.url ? (this.load({
							src: e.url,
							box: n
						}), Yi.warn(om, "playing the [" + this.index + "th] ad fragment, url " + e
							.url), r(e.duration - 5)) : this.vm.$playNextAd().then(function() {
							r(e.duration - 5)
						}).catch(function(i) {
							"no perload" === i ? (t.load({
								src: e.url,
								box: n
							}), r(e.duration - 5)) : r(0)
						})
					}
					return this.status == hm && 0 == this.index && this.adData.urls.length > 0 && (this
						.isAdPlaying = !0, this.emit("frontAdReady")), !0
				},
				onFrontAdLoad: function() {
					Yi.info(om, "Fetching front advertisement ..."), this.vm = this.__dispatcher.vm, this
						.lobparam = this.vm._config.lobparam || {}, this.emitSync("frontAdBegin"), this
						.status = hm
				},
				initPreloadUrls: function(t) {
					var e = t.urls.reduce(function(t, e) {
						return t.push({
							url: e,
							duration: 0,
							showdetail: !1,
							jump: ""
						}), t
					}, []);
					this.preloadAdData = {
						urls: e
					}, this.emit("fontAdUrls")
				},
				initUrls: function(t) {
					if (t && t.urls) {
						var e = 0;
						t.urls.forEach(function(t) {
								t.duration && !isNaN(t.duration) || (t.duration = 0), e = t.duration + e
							}), t.duration = e, this.status == hm ? (this.index = -1, this.adData = t, Yi
								.info(om, "Fetch front advertisement ok, total " + (t && t.urls.length) +
									" ads."), this.emitSync("startPoint", "adRequest")) : this.status ==
							cm && (this.index = -1, this.adData = t, Yi.info(om,
								"Fetch middile advertisement ok, total " + (t && t.urls.length) +
								" ads."))
					} else Yi.warn(om, "initUrls params validate error.")
				},
				reset: function() {
					this.atc = null, this.adData = {
						info: {},
						urls: []
					}, this.isAdBlocked = !1, this.index = -1, this.preloadTimer && clearTimeout(this
						.preloadTimer)
				},
				midAdStart: function() {
					Yi.info(om, "Middle advertisement begin."), this.status = cm, this.emit("midAdBegin", {
						time: this.currentTime
					})
				},
				onAdEnd: function(t) {
					this.isAdPlaying = !1, 1 == t ? this.isAdBlocked || (Yi.info(om,
						"Front Advertisement ended, status [normal]."), this.emitSync(
					"frontAdEnd", {
						duration: this.adData && this.adData.duration || 0,
						total: this.adData && this.adData.urls.length || 0,
						atc: this.atc,
						adStatus: "normal"
					}), this.videoObject.restoreVolume(), this.status = cm, this.emitSync(
						"startPoint", "adComplete")) : 2 == t && (Yi.info(om,
							"Middle Advertisement ended."), this.emit("midAdEnd"), this.videoObject
						.restoreVolume())
				},
				onLoadSource: function(t) {
					var e, i = this;
					if (t) Yi.info(om, "Advertisement is about to end, prefetch video source is allowed."),
						this.atc = t, this.isPreload ? this.emit("preloadVideoPrefetch", {
							atc: this.atc,
							adStatus: "normal"
						}) : this.emit("videoPrefetch", {
							atc: this.atc,
							adStatus: "normal"
						});
					else {
						this.isAdBlocked = !0;
						var n = ~~Tt("blt", (e = this.videoinfo.atc.tk2, atob(e.split("").reverse().join("")
							.replace(/-/g, "=").replace(/~/g, "/").replace(/_/g, "+"))).replace(
							/\|/g, "&"));
						Yi.info(om, "Advertisement was blocked, punish black screen for [" + n +
							"] seconds."), n >= 0 && (this.emit("adBlockException", {
							type: "front",
							url: "",
							blacktime: n
						}), this.blackTimer = setTimeout(function() {
							i.emit("frontAdEnd", {
								adStatus: "abnormal",
								atc: i.videoinfo.atc
							}), Yi.info(om,
								"Black screen punishment ended. trying to fetch video source..."
								), i.status = cm
						}, 1e3 * n))
					}
				}
			}
		}),
		lm = {
			debug: !1,
			credits_url: "//credits.bz.mgtv.com/user/creditsBalance?",
			apiEndpoint: "//galaxy.bz.mgtv.com",
			maxTimeout: 1e4,
			minimalStageHeight: 360,
			renderInterval: 1050,
			cacheSize: 1e4,
			preRenderTime: 5e3,
			timeTolerance: 1e3,
			backTimeTorrence: 2,
			maxArtistCacheSize: 20,
			stageWidths: [360, 860, 1340],
			fontSize: 24,
			gap: 80,
			padding: 36,
			paddingBottom: 60,
			paddingTop: 20,
			lineHeight: 40,
			mode: "css",
			updateByVideo: !0,
			datamode: "batch",
			minScrollSpeed: 1.8,
			maxScrollSpeed: 2,
			speedFactor: 1,
			floatDanmuSize: .3,
			autoHideTimeout: 1e3,
			defaultConfig: {
				range: .4,
				fontSize: 1,
				alpha: 1,
				speed: 1,
				aiswitcher: !1
			},
			settingRange: {
				range: [.1, 1],
				fontSize: [.5, 2],
				alpha: [.1, 1],
				speed: [.5, 1.5]
			}
		},
		dm = function() {
			function t() {
				this.eventMaps = {}
			}
			var e = t;
			e.createBus = function(e) {
				return this.dict[e] = new t
			}, e.getBus = function(e) {
				return void 0 === e && (e = "root"), "root" == e ? (this.dict.root || (this.dict.root = new t),
					this.dict.root) : this.dict[e] || this.createBus(e)
			};
			var i = t.prototype;
			return i.handleEvent = function(t, e) {
				var i = this.eventMaps[t];
				i && i.forEach(function(t) {
					t(e)
				})
			}, i.addEventListener = function(t, e) {
				this.eventMaps[t] || (this.eventMaps[t] = []), this.eventMaps[t].push(e)
			}, i.dispatch = function(t, e) {
				this.eventMaps[t] && this.eventMaps[t].forEach(function(t) {
					t(e)
				})
			}, i.hasEventListener = function(t) {
				return this.eventMaps[t] && this.eventMaps[t].length > 0
			}, i.removeEventListener = function(t, e) {
				var i = this;
				this.eventMaps[t] && this.eventMaps[t].forEach(function(n) {
					n == e && i.eventMaps[t].splice(i.eventMaps[t].indexOf(n), 1)
				})
			}, t.dict = {}, t
		}();

	function fm(t) {
		return void 0 === t && (t = "root"),
			function(e, i) {
				e[i] = dm.getBus(t)
			}
	}
	var pm = function() {
		function t(t) {
			this.lastIndex = 0, this.origin = "", this.initUrl(t)
		}
		var e = t.prototype;
		return e.initUrl = function(t) {
			this.loadList(t), this.origin = new RegExp("^https?://[\\w-.]+(:\\d+)?", "i").exec(t)[0]
		}, e.loadList = function(t) {
			return Pu(this, void 0, void 0, function() {
				var e;
				return Du(this, function(i) {
					switch (i.label) {
						case 0:
							return i.trys.push([0, 3, , 4]), [4, fetch(t)];
						case 1:
							return [4, i.sent().json()];
						case 2:
							return e = i.sent(), this.list = e, [2, e];
						case 3:
							return i.sent(), [3, 4];
						case 4:
							return [2, null]
					}
				})
			})
		}, e.getFrameRate = function() {
			return this.list ? this.list.frameRate : 25
		}, e.getMask = function(t) {
			t = Math.floor(1e3 * t) / 1e3;
			var e = 1 / this.getFrameRate(),
				i = this.findFragment(t, e);
			if (i && i.data) {
				var n = i.data.picList[this.lastIndex];
				if (n && t > n.ptsTime && t < n.ptsTime + e) return n;
				if (i.data.picList.length > this.lastIndex + 1) {
					var r = i.data.picList[this.lastIndex + 1];
					if (t > r.ptsTime && t < r.ptsTime + e) return this.lastIndex += 1, r
				}
				for (var o = 0; o < Math.min(10, i.data.picList.length); o++) {
					if (t > (c = i.data.picList[o]).ptsTime && t < c.ptsTime + e) return this.lastIndex = o,
						c
				}
				for (var s = 0, a = i.data.picList.length - 1, h = 0; s < a;) {
					var c, u = a + s >> 1;
					if (t >= (c = i.data.picList[u]).ptsTime && t < c.ptsTime + e) return this.lastIndex =
						u, c;
					if (t < c.ptsTime ? a = u : s = u, ++h >= i.data.picList.length) break
				}
			}
			return {
				ptsTime: 0,
				image: ""
			}
		}, e.update = function(t) {
			var e = 1 / this.getFrameRate(),
				i = this.findFragment(t + 5, e);
			!i || i.data || i.loading || (i.loading = !0, this.loadSegment(i))
		}, e.loadSegment = function(t) {
			return Pu(this, void 0, void 0, function() {
				var e, i;
				return Du(this, function(n) {
					switch (n.label) {
						case 0:
							e = t.maskURL, n.label = 1;
						case 1:
							return n.trys.push([1, 4, , 5]), [4, fetch(this.origin + e)];
						case 2:
							return [4, n.sent().json()];
						case 3:
							return i = n.sent(), t.data = i, t.loading = !1, [3, 5];
						case 4:
							return n.sent(), [3, 5];
						case 5:
							return [2]
					}
				})
			})
		}, e.findFragment = function(t, e) {
			if (this.list)
				for (var i = 0, n = this.list.segmentList; i < n.length; i++) {
					var r = n[i];
					if (r.ptsStartTime < t && r.ptsEndTime + e > t) return r
				}
			return null
		}, t
	}();
	Array.prototype.includes || f(Array.prototype, "includes", {
		value: function(t, e) {
			if (null == this) throw new TypeError('"this" is null or not defined');
			var i = Object(this),
				n = i.length >>> 0;
			if (0 === n) return !1;
			for (var r = 0 | e, o = Math.max(r >= 0 ? r : n - Math.abs(r), 0); o < n;) {
				if (function(t, e) {
						return t === e || "number" == typeof t && "number" == typeof e && isNaN(t) &&
							isNaN(e)
					}(i[o], t)) return !0;
				o++
			}
			return !1
		}
	});
	var mm = {},
		vm = [];

	function gm(t, e) {
		if (Array.isArray(t))
			for (var i, n = u(t); !(i = n()).done;) {
				gm(i.value, e)
			} else if ("object" != typeof t) _m(Object.getOwnPropertyNames(e)), mm[t] = m(mm[t] || {}, e);
			else
				for (var r in t) gm(r, t[r])
	}

	function ym(t) {
		return mm[t] || {}
	}

	function _m(t) {
		vm.push.apply(vm, t)
	}

	function bm(t, e) {
		var i, n = t.length,
			r = [];
		for (i = 0; i < n; i++) r.push(e(t[i]));
		return r
	}

	function wm(t) {
		return t % 360 * Math.PI / 180
	}

	function km(t) {
		return t.toLowerCase().replace(/-(.)/g, function(t, e) {
			return e.toUpperCase()
		})
	}

	function Em(t) {
		return t.charAt(0).toUpperCase() + t.slice(1)
	}

	function Sm(t, e, i, n) {
		return null != e && null != i || (n = n || t.bbox(), null == e ? e = n.width / n.height * i : null == i && (
			i = n.height / n.width * e)), {
			width: e,
			height: i
		}
	}

	function Tm(t, e) {
		var i = t.origin,
			n = null != t.ox ? t.ox : null != t.originX ? t.originX : "center",
			r = null != t.oy ? t.oy : null != t.originY ? t.originY : "center";
		if (null != i) {
			var o = Array.isArray(i) ? i : "object" == typeof i ? [i.x, i.y] : [i, i];
			n = o[0], r = o[1]
		}
		var s = "string" == typeof n,
			a = "string" == typeof r;
		if (s || a) {
			var h = e.bbox(),
				c = h.height,
				u = h.width,
				l = h.x,
				d = h.y;
			s && (n = n.includes("left") ? l : n.includes("right") ? l + u : l + u / 2), a && (r = r.includes(
				"top") ? d : r.includes("bottom") ? d + c : d + c / 2)
		}
		return [n, r]
	}
	var xm = "http://www.w3.org/2000/svg",
		Am = "http://www.w3.org/2000/xmlns/",
		Cm = "http://www.w3.org/1999/xlink",
		Rm = {
			window: "undefined" == typeof window ? null : window,
			document: "undefined" == typeof document ? null : document
		},
		Im = function() {},
		Lm = {},
		Pm = "___SYMBOL___ROOT___";

	function Dm(t, e) {
		return void 0 === e && (e = xm), Rm.document.createElementNS(e, t)
	}

	function Mm(t, e) {
		if (void 0 === e && (e = !1), t instanceof Im) return t;
		if ("object" == typeof t) return Um(t);
		if (null == t) return new Lm[Pm];
		if ("string" == typeof t && "<" !== t.charAt(0)) return Um(Rm.document.querySelector(t));
		var i = e ? Rm.document.createElement("div") : Dm("svg");
		return i.innerHTML = t, t = Um(i.firstChild), i.removeChild(i.firstChild), t
	}

	function Bm(t, e) {
		return e instanceof Rm.window.Node ? e : Dm(t)
	}

	function Om(t) {
		if (!t) return null;
		if (t.instance instanceof Im) return t.instance;
		if ("#document-fragment" === t.nodeName) return new Lm.Fragment(t);
		var e = Em(t.nodeName || "Dom");
		return "LinearGradient" === e || "RadialGradient" === e ? e = "Gradient" : Lm[e] || (e = "Dom"), new Lm[e](
			t)
	}
	var Um = Om;

	function Fm(t, e, i) {
		return void 0 === e && (e = t.name), void 0 === i && (i = !1), Lm[e] = t, i && (Lm[Pm] = t), _m(Object
			.getOwnPropertyNames(t.prototype)), t
	}
	var Nm = 1e3;

	function Vm(t) {
		return "Svgjs" + Em(t) + Nm++
	}

	function zm(t, e) {
		var i, n;
		for (n = (t = Array.isArray(t) ? t : [t]).length - 1; n >= 0; n--)
			for (i in e) t[n].prototype[i] = e[i]
	}

	function Hm(t) {
		return function() {
			for (var e = arguments.length, i = new Array(e), n = 0; n < e; n++) i[n] = arguments[n];
			var r = i[i.length - 1];
			return !r || r.constructor !== Object || r instanceof Array ? t.apply(this, i) : t.apply(this, i
				.slice(0, -1)).attr(r)
		}
	}
	gm("Dom", {
		siblings: function() {
			return this.parent().children()
		},
		position: function() {
			return this.parent().index(this)
		},
		next: function() {
			return this.siblings()[this.position() + 1]
		},
		prev: function() {
			return this.siblings()[this.position() - 1]
		},
		forward: function() {
			var t = this.position();
			return this.parent().add(this.remove(), t + 1), this
		},
		backward: function() {
			var t = this.position();
			return this.parent().add(this.remove(), t ? t - 1 : 0), this
		},
		front: function() {
			return this.parent().add(this.remove()), this
		},
		back: function() {
			return this.parent().add(this.remove(), 0), this
		},
		before: function(t) {
			(t = Mm(t)).remove();
			var e = this.position();
			return this.parent().add(t, e), this
		},
		after: function(t) {
			(t = Mm(t)).remove();
			var e = this.position();
			return this.parent().add(t, e + 1), this
		},
		insertBefore: function(t) {
			return (t = Mm(t)).before(this), this
		},
		insertAfter: function(t) {
			return (t = Mm(t)).after(this), this
		}
	});
	var jm = /^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,
		$m = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,
		Wm = /rgb\((\d+),(\d+),(\d+)\)/,
		qm = /(#[a-z_][a-z0-9\-_]*)/i,
		Gm = /\)\s*,?\s*/,
		Km = /\s/g,
		Ym = /^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,
		Xm = /^rgb\(/,
		Zm = /^(\s+)?$/,
		Qm = /^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,
		Jm = /\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,
		tv = /[\s,]+/,
		ev = /[MLHVCSQTAZ]/i;

	function iv(t) {
		var e = Math.round(t),
			i = Math.max(0, Math.min(255, e)).toString(16);
		return 1 === i.length ? "0" + i : i
	}

	function nv(t, e) {
		for (var i = e.length; i--;)
			if (null == t[e[i]]) return !1;
		return !0
	}

	function rv(t, e, i) {
		return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t +
			(e - t) * (2 / 3 - i) * 6 : t
	}
	gm("Dom", {
		classes: function() {
			var t = this.attr("class");
			return null == t ? [] : t.trim().split(tv)
		},
		hasClass: function(t) {
			return -1 !== this.classes().indexOf(t)
		},
		addClass: function(t) {
			if (!this.hasClass(t)) {
				var e = this.classes();
				e.push(t), this.attr("class", e.join(" "))
			}
			return this
		},
		removeClass: function(t) {
			return this.hasClass(t) && this.attr("class", this.classes().filter(function(e) {
				return e !== t
			}).join(" ")), this
		},
		toggleClass: function(t) {
			return this.hasClass(t) ? this.removeClass(t) : this.addClass(t)
		}
	}), gm("Dom", {
		css: function(t, e) {
			var i = {};
			if (0 === arguments.length) return this.node.style.cssText.split(/\s*;\s*/).filter(function(
				t) {
				return !!t.length
			}).forEach(function(t) {
				var e = t.split(/\s*:\s*/);
				i[e[0]] = e[1]
			}), i;
			if (arguments.length < 2) {
				if (Array.isArray(t)) {
					for (var n, r = u(t); !(n = r()).done;) {
						var o = km(n.value);
						i[o] = this.node.style[o]
					}
					return i
				}
				if ("string" == typeof t) return this.node.style[km(t)];
				if ("object" == typeof t)
					for (var s in t) this.node.style[km(s)] = null == t[s] || Zm.test(t[s]) ? "" : t[s]
			}
			return 2 === arguments.length && (this.node.style[km(t)] = null == e || Zm.test(e) ? "" :
				e), this
		},
		show: function() {
			return this.css("display", "")
		},
		hide: function() {
			return this.css("display", "none")
		},
		visible: function() {
			return "none" !== this.css("display")
		}
	}), gm("Dom", {
		data: function(t, e, i) {
			if (null == t) return this.data(bm(function(t, e) {
				var i, n = t.length,
					r = [];
				for (i = 0; i < n; i++) e(t[i]) && r.push(t[i]);
				return r
			}(this.node.attributes, function(t) {
				return 0 === t.nodeName.indexOf("data-")
			}), function(t) {
				return t.nodeName.slice(5)
			}));
			if (t instanceof Array) {
				for (var n, r = {}, o = u(t); !(n = o()).done;) {
					var s = n.value;
					r[s] = this.data(s)
				}
				return r
			}
			if ("object" == typeof t)
				for (e in t) this.data(e, t[e]);
			else if (arguments.length < 2) try {
				return JSON.parse(this.attr("data-" + t))
			} catch (e) {
				return this.attr("data-" + t)
			} else this.attr("data-" + t, null === e ? null : !0 === i || "string" == typeof e ||
				"number" == typeof e ? e : JSON.stringify(e));
			return this
		}
	}), gm("Dom", {
		remember: function(t, e) {
			if ("object" == typeof arguments[0])
				for (var i in t) this.remember(i, t[i]);
			else {
				if (1 === arguments.length) return this.memory()[t];
				this.memory()[t] = e
			}
			return this
		},
		forget: function() {
			if (0 === arguments.length) this._memory = {};
			else
				for (var t = arguments.length - 1; t >= 0; t--) delete this.memory()[arguments[t]];
			return this
		},
		memory: function() {
			return this._memory = this._memory || {}
		}
	});
	var ov = function() {
			function t() {
				this.init.apply(this, arguments)
			}
			t.isColor = function(e) {
				return e && (e instanceof t || this.isRgb(e) || this.test(e))
			}, t.isRgb = function(t) {
				return t && "number" == typeof t.r && "number" == typeof t.g && "number" == typeof t.b
			}, t.random = function(e, i, n) {
				void 0 === e && (e = "vibrant");
				var r = Math.random,
					o = Math.round,
					s = Math.sin,
					a = Math.PI;
				if ("vibrant" === e) return new t(24 * r() + 57, 38 * r() + 45, 360 * r(), "lch");
				if ("sine" === e) return new t(o(80 * s(2 * a * (i = null == i ? r() : i) / .5 + .01) + 150), o(
					50 * s(2 * a * i / .5 + 4.6) + 200), o(100 * s(2 * a * i / .5 + 2.3) + 150));
				if ("pastel" === e) return new t(8 * r() + 86, 17 * r() + 9, 360 * r(), "lch");
				if ("dark" === e) return new t(10 + 10 * r(), 50 * r() + 86, 360 * r(), "lch");
				if ("rgb" === e) return new t(255 * r(), 255 * r(), 255 * r());
				if ("lab" === e) return new t(100 * r(), 256 * r() - 128, 256 * r() - 128, "lab");
				if ("grey" === e) {
					var h = 255 * r();
					return new t(h, h, h)
				}
				throw new Error("Unsupported random color mode")
			}, t.test = function(t) {
				return "string" == typeof t && (Ym.test(t) || Xm.test(t))
			};
			var e = t.prototype;
			return e.cmyk = function() {
				var e = this.rgb(),
					i = [e._a, e._b, e._c].map(function(t) {
						return t / 255
					}),
					n = i[0],
					r = i[1],
					o = i[2],
					s = Math.min(1 - n, 1 - r, 1 - o);
				return 1 === s ? new t(0, 0, 0, 1, "cmyk") : new t((1 - n - s) / (1 - s), (1 - r - s) / (1 - s),
					(1 - o - s) / (1 - s), s, "cmyk")
			}, e.hsl = function() {
				var e = this.rgb(),
					i = [e._a, e._b, e._c].map(function(t) {
						return t / 255
					}),
					n = i[0],
					r = i[1],
					o = i[2],
					s = Math.max(n, r, o),
					a = Math.min(n, r, o),
					h = (s + a) / 2,
					c = s === a,
					u = s - a;
				return new t(360 * (c ? 0 : s === n ? ((r - o) / u + (r < o ? 6 : 0)) / 6 : s === r ? ((o - n) /
					u + 2) / 6 : s === o ? ((n - r) / u + 4) / 6 : 0), 100 * (c ? 0 : h > .5 ? u / (2 -
					s - a) : u / (s + a)), 100 * h, "hsl")
			}, e.init = function(t, e, i, n, r) {
				if (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === n && (
						n = 0), void 0 === r && (r = "rgb"), t = t || 0, this.space)
					for (var o in this.space) delete this[this.space[o]];
				if ("number" == typeof t) r = "string" == typeof n ? n : r, m(this, {
					_a: t,
					_b: e,
					_c: i,
					_d: n = "string" == typeof n ? 0 : n,
					space: r
				});
				else if (t instanceof Array) this.space = e || ("string" == typeof t[3] ? t[3] : t[4]) || "rgb",
					m(this, {
						_a: t[0],
						_b: t[1],
						_c: t[2],
						_d: t[3] || 0
					});
				else if (t instanceof Object) {
					var s = function(t, e) {
						var i = nv(t, "rgb") ? {
							_a: t.r,
							_b: t.g,
							_c: t.b,
							_d: 0,
							space: "rgb"
						} : nv(t, "xyz") ? {
							_a: t.x,
							_b: t.y,
							_c: t.z,
							_d: 0,
							space: "xyz"
						} : nv(t, "hsl") ? {
							_a: t.h,
							_b: t.s,
							_c: t.l,
							_d: 0,
							space: "hsl"
						} : nv(t, "lab") ? {
							_a: t.l,
							_b: t.a,
							_c: t.b,
							_d: 0,
							space: "lab"
						} : nv(t, "lch") ? {
							_a: t.l,
							_b: t.c,
							_c: t.h,
							_d: 0,
							space: "lch"
						} : nv(t, "cmyk") ? {
							_a: t.c,
							_b: t.m,
							_c: t.y,
							_d: t.k,
							space: "cmyk"
						} : {
							_a: 0,
							_b: 0,
							_c: 0,
							space: "rgb"
						};
						return i.space = e || i.space, i
					}(t, e);
					m(this, s)
				} else if ("string" == typeof t)
					if (Xm.test(t)) {
						var a = t.replace(Km, ""),
							h = Wm.exec(a).slice(1, 4).map(function(t) {
								return parseInt(t)
							}),
							c = h[0],
							u = h[1],
							l = h[2];
						m(this, {
							_a: c,
							_b: u,
							_c: l,
							_d: 0,
							space: "rgb"
						})
					} else {
						if (!Ym.test(t)) throw Error("Unsupported string format, can't construct Color");
						var d = $m.exec((g = t, 4 === g.length ? ["#", g.substring(1, 2), g.substring(1, 2), g
								.substring(2, 3), g.substring(2, 3), g.substring(3, 4), g.substring(3,
									4)
							].join("") : g)).map(function(t) {
								return parseInt(t, 16)
							}),
							f = d[1],
							p = d[2],
							v = d[3];
						m(this, {
							_a: f,
							_b: p,
							_c: v,
							_d: 0,
							space: "rgb"
						})
					} var g, y = this._a,
					_ = this._b,
					b = this._c,
					w = this._d,
					k = "rgb" === this.space ? {
						r: y,
						g: _,
						b: b
					} : "xyz" === this.space ? {
						x: y,
						y: _,
						z: b
					} : "hsl" === this.space ? {
						h: y,
						s: _,
						l: b
					} : "lab" === this.space ? {
						l: y,
						a: _,
						b: b
					} : "lch" === this.space ? {
						l: y,
						c: _,
						h: b
					} : "cmyk" === this.space ? {
						c: y,
						m: _,
						y: b,
						k: w
					} : {};
				m(this, k)
			}, e.lab = function() {
				var e = this.xyz(),
					i = e.x,
					n = e.y;
				return new t(116 * n - 16, 500 * (i - n), 200 * (n - e.z), "lab")
			}, e.lch = function() {
				var e = this.lab(),
					i = e.l,
					n = e.a,
					r = e.b,
					o = Math.sqrt(Math.pow(n, 2) + Math.pow(r, 2)),
					s = 180 * Math.atan2(r, n) / Math.PI;
				return s < 0 && (s = 360 - (s *= -1)), new t(i, o, s, "lch")
			}, e.rgb = function() {
				if ("rgb" === this.space) return this;
				if ("lab" === (R = this.space) || "xyz" === R || "lch" === R) {
					var e = this.x,
						i = this.y,
						n = this.z;
					if ("lab" === this.space || "lch" === this.space) {
						var r = this.l,
							o = this.a,
							s = this.b;
						if ("lch" === this.space) {
							var a = this.c,
								h = this.h,
								c = Math.PI / 180;
							o = a * Math.cos(c * h), s = a * Math.sin(c * h)
						}
						var u = (r + 16) / 116,
							l = o / 500 + u,
							d = u - s / 200,
							f = 16 / 116,
							p = .008856;
						e = .95047 * (Math.pow(l, 3) > p ? Math.pow(l, 3) : (l - f) / 7.787), i = 1 * (Math.pow(
							u, 3) > p ? Math.pow(u, 3) : (u - f) / 7.787), n = 1.08883 * (Math.pow(d, 3) >
							p ? Math.pow(d, 3) : (d - f) / 7.787)
					}
					var m = 3.2406 * e + -1.5372 * i + -.4986 * n,
						v = -.9689 * e + 1.8758 * i + .0415 * n,
						g = .0557 * e + -.204 * i + 1.057 * n,
						y = Math.pow,
						_ = .0031308;
					return new t(255 * (m > _ ? 1.055 * y(m, 1 / 2.4) - .055 : 12.92 * m), 255 * (v > _ ?
						1.055 * y(v, 1 / 2.4) - .055 : 12.92 * v), 255 * (g > _ ? 1.055 * y(g, 1 /
						2.4) - .055 : 12.92 * g))
				}
				if ("hsl" === this.space) {
					var b = this.h,
						w = this.s,
						k = this.l;
					if (b /= 360, k /= 100, 0 === (w /= 100)) return new t(k *= 255, k, k);
					var E = k < .5 ? k * (1 + w) : k + w - k * w,
						S = 2 * k - E;
					return new t(255 * rv(S, E, b + 1 / 3), 255 * rv(S, E, b), 255 * rv(S, E, b - 1 / 3))
				}
				if ("cmyk" === this.space) {
					var T = this.c,
						x = this.m,
						A = this.y,
						C = this.k;
					return new t(255 * (1 - Math.min(1, T * (1 - C) + C)), 255 * (1 - Math.min(1, x * (1 - C) +
						C)), 255 * (1 - Math.min(1, A * (1 - C) + C)))
				}
				return this;
				var R
			}, e.toArray = function() {
				return [this._a, this._b, this._c, this._d, this.space]
			}, e.toHex = function() {
				var t = this._clamped().map(iv);
				return "#" + t[0] + t[1] + t[2]
			}, e.toRgb = function() {
				var t = this._clamped();
				return "rgb(" + t[0] + "," + t[1] + "," + t[2] + ")"
			}, e.toString = function() {
				return this.toHex()
			}, e.xyz = function() {
				var e = this.rgb(),
					i = [e._a, e._b, e._c].map(function(t) {
						return t / 255
					}),
					n = i[0],
					r = i[1],
					o = i[2],
					s = n > .04045 ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92,
					a = r > .04045 ? Math.pow((r + .055) / 1.055, 2.4) : r / 12.92,
					h = o > .04045 ? Math.pow((o + .055) / 1.055, 2.4) : o / 12.92,
					c = (.4124 * s + .3576 * a + .1805 * h) / .95047,
					u = (.2126 * s + .7152 * a + .0722 * h) / 1,
					l = (.0193 * s + .1192 * a + .9505 * h) / 1.08883;
				return new t(c > .008856 ? Math.pow(c, 1 / 3) : 7.787 * c + 16 / 116, u > .008856 ? Math.pow(u,
						1 / 3) : 7.787 * u + 16 / 116, l > .008856 ? Math.pow(l, 1 / 3) : 7.787 * l + 16 /
					116, "xyz")
			}, e._clamped = function() {
				var t = this.rgb(),
					e = t._a,
					i = t._b,
					n = t._c,
					r = Math.max,
					o = Math.min,
					s = Math.round;
				return [e, i, n].map(function(t) {
					return r(0, o(s(t), 255))
				})
			}, t
		}(),
		sv = function() {
			function t() {
				this.init.apply(this, arguments)
			}
			var e = t.prototype;
			return e.clone = function() {
				return new t(this)
			}, e.init = function(t, e) {
				var i = 0,
					n = 0,
					r = Array.isArray(t) ? {
						x: t[0],
						y: t[1]
					} : "object" == typeof t ? {
						x: t.x,
						y: t.y
					} : {
						x: t,
						y: e
					};
				return this.x = null == r.x ? i : r.x, this.y = null == r.y ? n : r.y, this
			}, e.toArray = function() {
				return [this.x, this.y]
			}, e.transform = function(t) {
				return this.clone().transformO(t)
			}, e.transformO = function(t) {
				hv.isMatrixLike(t) || (t = new hv(t));
				var e = this.x,
					i = this.y;
				return this.x = t.a * e + t.c * i + t.e, this.y = t.b * e + t.d * i + t.f, this
			}, t
		}();

	function av(t, e, i) {
		return Math.abs(e - t) < (i || 1e-6)
	}
	var hv = function() {
		function t() {
			this.init.apply(this, arguments)
		}
		t.formatTransforms = function(t) {
			var e = "both" === t.flip || !0 === t.flip,
				i = t.flip && (e || "x" === t.flip) ? -1 : 1,
				n = t.flip && (e || "y" === t.flip) ? -1 : 1,
				r = t.skew && t.skew.length ? t.skew[0] : isFinite(t.skew) ? t.skew : isFinite(t.skewX) ? t
				.skewX : 0,
				o = t.skew && t.skew.length ? t.skew[1] : isFinite(t.skew) ? t.skew : isFinite(t.skewY) ? t
				.skewY : 0,
				s = t.scale && t.scale.length ? t.scale[0] * i : isFinite(t.scale) ? t.scale * i : isFinite(
					t.scaleX) ? t.scaleX * i : i,
				a = t.scale && t.scale.length ? t.scale[1] * n : isFinite(t.scale) ? t.scale * n : isFinite(
					t.scaleY) ? t.scaleY * n : n,
				h = t.shear || 0,
				c = t.rotate || t.theta || 0,
				u = new sv(t.origin || t.around || t.ox || t.originX, t.oy || t.originY),
				l = u.x,
				d = u.y,
				f = new sv(t.position || t.px || t.positionX || NaN, t.py || t.positionY || NaN),
				p = f.x,
				m = f.y,
				v = new sv(t.translate || t.tx || t.translateX, t.ty || t.translateY),
				g = v.x,
				y = v.y,
				_ = new sv(t.relative || t.rx || t.relativeX, t.ry || t.relativeY);
			return {
				scaleX: s,
				scaleY: a,
				skewX: r,
				skewY: o,
				shear: h,
				theta: c,
				rx: _.x,
				ry: _.y,
				tx: g,
				ty: y,
				ox: l,
				oy: d,
				px: p,
				py: m
			}
		}, t.fromArray = function(t) {
			return {
				a: t[0],
				b: t[1],
				c: t[2],
				d: t[3],
				e: t[4],
				f: t[5]
			}
		}, t.isMatrixLike = function(t) {
			return null != t.a || null != t.b || null != t.c || null != t.d || null != t.e || null != t.f
		}, t.matrixMultiply = function(t, e, i) {
			var n = t.a * e.a + t.c * e.b,
				r = t.b * e.a + t.d * e.b,
				o = t.a * e.c + t.c * e.d,
				s = t.b * e.c + t.d * e.d,
				a = t.e + t.a * e.e + t.c * e.f,
				h = t.f + t.b * e.e + t.d * e.f;
			return i.a = n, i.b = r, i.c = o, i.d = s, i.e = a, i.f = h, i
		};
		var e = t.prototype;
		return e.around = function(t, e, i) {
			return this.clone().aroundO(t, e, i)
		}, e.aroundO = function(t, e, i) {
			var n = t || 0,
				r = e || 0;
			return this.translateO(-n, -r).lmultiplyO(i).translateO(n, r)
		}, e.clone = function() {
			return new t(this)
		}, e.decompose = function(t, e) {
			void 0 === t && (t = 0), void 0 === e && (e = 0);
			var i = this.a,
				n = this.b,
				r = this.c,
				o = this.d,
				s = this.e,
				a = this.f,
				h = i * o - n * r,
				c = h > 0 ? 1 : -1,
				u = c * Math.sqrt(i * i + n * n),
				l = Math.atan2(c * n, c * i),
				d = 180 / Math.PI * l,
				f = Math.cos(l),
				p = Math.sin(l),
				m = (i * r + n * o) / h,
				v = r * u / (m * i - n) || o * u / (m * n + i);
			return {
				scaleX: u,
				scaleY: v,
				shear: m,
				rotate: d,
				translateX: s - t + t * f * u + e * (m * f * u - p * v),
				translateY: a - e + t * p * u + e * (m * p * u + f * v),
				originX: t,
				originY: e,
				a: this.a,
				b: this.b,
				c: this.c,
				d: this.d,
				e: this.e,
				f: this.f
			}
		}, e.equals = function(e) {
			if (e === this) return !0;
			var i = new t(e);
			return av(this.a, i.a) && av(this.b, i.b) && av(this.c, i.c) && av(this.d, i.d) && av(this.e, i
				.e) && av(this.f, i.f)
		}, e.flip = function(t, e) {
			return this.clone().flipO(t, e)
		}, e.flipO = function(t, e) {
			return "x" === t ? this.scaleO(-1, 1, e, 0) : "y" === t ? this.scaleO(1, -1, 0, e) : this
				.scaleO(-1, -1, t, e || t)
		}, e.init = function(e) {
			var i = t.fromArray([1, 0, 0, 1, 0, 0]);
			return e = e instanceof Iv ? e.matrixify() : "string" == typeof e ? t.fromArray(e.split(tv).map(
					parseFloat)) : Array.isArray(e) ? t.fromArray(e) : "object" == typeof e && t
				.isMatrixLike(e) ? e : "object" == typeof e ? (new t).transform(e) : 6 === arguments
				.length ? t.fromArray([].slice.call(arguments)) : i, this.a = null != e.a ? e.a : i.a, this
				.b = null != e.b ? e.b : i.b, this.c = null != e.c ? e.c : i.c, this.d = null != e.d ? e.d :
				i.d, this.e = null != e.e ? e.e : i.e, this.f = null != e.f ? e.f : i.f, this
		}, e.inverse = function() {
			return this.clone().inverseO()
		}, e.inverseO = function() {
			var t = this.a,
				e = this.b,
				i = this.c,
				n = this.d,
				r = this.e,
				o = this.f,
				s = t * n - e * i;
			if (!s) throw new Error("Cannot invert " + this);
			var a = n / s,
				h = -e / s,
				c = -i / s,
				u = t / s,
				l = -(a * r + c * o),
				d = -(h * r + u * o);
			return this.a = a, this.b = h, this.c = c, this.d = u, this.e = l, this.f = d, this
		}, e.lmultiply = function(t) {
			return this.clone().lmultiplyO(t)
		}, e.lmultiplyO = function(e) {
			var i = e instanceof t ? e : new t(e);
			return t.matrixMultiply(i, this, this)
		}, e.multiply = function(t) {
			return this.clone().multiplyO(t)
		}, e.multiplyO = function(e) {
			var i = e instanceof t ? e : new t(e);
			return t.matrixMultiply(this, i, this)
		}, e.rotate = function(t, e, i) {
			return this.clone().rotateO(t, e, i)
		}, e.rotateO = function(t, e, i) {
			void 0 === e && (e = 0), void 0 === i && (i = 0), t = wm(t);
			var n = Math.cos(t),
				r = Math.sin(t),
				o = this.a,
				s = this.b,
				a = this.c,
				h = this.d,
				c = this.e,
				u = this.f;
			return this.a = o * n - s * r, this.b = s * n + o * r, this.c = a * n - h * r, this.d = h * n +
				a * r, this.e = c * n - u * r + i * r - e * n + e, this.f = u * n + c * r - e * r - i * n +
				i, this
		}, e.scale = function(t, e, i, n) {
			var r;
			return (r = this.clone()).scaleO.apply(r, arguments)
		}, e.scaleO = function(t, e, i, n) {
			void 0 === e && (e = t), void 0 === i && (i = 0), void 0 === n && (n = 0), 3 === arguments
				.length && (n = i, i = e, e = t);
			var r = this.a,
				o = this.b,
				s = this.c,
				a = this.d,
				h = this.e,
				c = this.f;
			return this.a = r * t, this.b = o * e, this.c = s * t, this.d = a * e, this.e = h * t - i * t +
				i, this.f = c * e - n * e + n, this
		}, e.shear = function(t, e, i) {
			return this.clone().shearO(t, e, i)
		}, e.shearO = function(t, e, i) {
			void 0 === e && (e = 0), void 0 === i && (i = 0);
			var n = this.a,
				r = this.b,
				o = this.c,
				s = this.d,
				a = this.e,
				h = this.f;
			return this.a = n + r * t, this.c = o + s * t, this.e = a + h * t - i * t, this
		}, e.skew = function(t, e, i, n) {
			var r;
			return (r = this.clone()).skewO.apply(r, arguments)
		}, e.skewO = function(t, e, i, n) {
			void 0 === e && (e = t), void 0 === i && (i = 0), void 0 === n && (n = 0), 3 === arguments
				.length && (n = i, i = e, e = t), t = wm(t), e = wm(e);
			var r = Math.tan(t),
				o = Math.tan(e),
				s = this.a,
				a = this.b,
				h = this.c,
				c = this.d,
				u = this.e,
				l = this.f;
			return this.a = s + a * r, this.b = a + s * o, this.c = h + c * r, this.d = c + h * o, this.e =
				u + l * r - n * r, this.f = l + u * o - i * o, this
		}, e.skewX = function(t, e, i) {
			return this.skew(t, 0, e, i)
		}, e.skewY = function(t, e, i) {
			return this.skew(0, t, e, i)
		}, e.toArray = function() {
			return [this.a, this.b, this.c, this.d, this.e, this.f]
		}, e.toString = function() {
			return "matrix(" + this.a + "," + this.b + "," + this.c + "," + this.d + "," + this.e + "," +
				this.f + ")"
		}, e.transform = function(e) {
			if (t.isMatrixLike(e)) return new t(e).multiplyO(this);
			var i = t.formatTransforms(e),
				n = new sv(i.ox, i.oy).transform(this),
				r = n.x,
				o = n.y,
				s = (new t).translateO(i.rx, i.ry).lmultiplyO(this).translateO(-r, -o).scaleO(i.scaleX, i
					.scaleY).skewO(i.skewX, i.skewY).shearO(i.shear).rotateO(i.theta).translateO(r, o);
			if (isFinite(i.px) || isFinite(i.py)) {
				var a = new sv(r, o).transform(s),
					h = isFinite(i.px) ? i.px - a.x : 0,
					c = isFinite(i.py) ? i.py - a.y : 0;
				s.translateO(h, c)
			}
			return s.translateO(i.tx, i.ty), s
		}, e.translate = function(t, e) {
			return this.clone().translateO(t, e)
		}, e.translateO = function(t, e) {
			return this.e += t || 0, this.f += e || 0, this
		}, e.valueOf = function() {
			return {
				a: this.a,
				b: this.b,
				c: this.c,
				d: this.d,
				e: this.e,
				f: this.f
			}
		}, t
	}();

	function cv() {
		if (!cv.nodes) {
			var t = Mm().size(2, 0);
			t.node.style.cssText = ["opacity: 0", "position: absolute", "left: -100%", "top: -100%",
				"overflow: hidden"
			].join(";"), t.attr("focusable", "false"), t.attr("aria-hidden", "true");
			var e = t.path().node;
			cv.nodes = {
				svg: t,
				path: e
			}
		}
		if (!cv.nodes.svg.node.parentNode) {
			var i = Rm.document.body || Rm.document.documentElement;
			cv.nodes.svg.addTo(i)
		}
		return cv.nodes
	}

	function uv(t) {
		return !(t.width || t.height || t.x || t.y)
	}
	Fm(hv, "Matrix");
	var lv = function() {
		function t() {
			this.init.apply(this, arguments)
		}
		var e = t.prototype;
		return e.addOffset = function() {
			return this.x += Rm.window.pageXOffset, this.y += Rm.window.pageYOffset, new t(this)
		}, e.init = function(t) {
			return t = "string" == typeof t ? t.split(tv).map(parseFloat) : Array.isArray(t) ? t :
				"object" == typeof t ? [null != t.left ? t.left : t.x, null != t.top ? t.top : t.y, t.width,
					t.height
				] : 4 === arguments.length ? [].slice.call(arguments) : [0, 0, 0, 0], this.x = t[0] || 0,
				this.y = t[1] || 0, this.width = this.w = t[2] || 0, this.height = this.h = t[3] || 0, this
				.x2 = this.x + this.w, this.y2 = this.y + this.h, this.cx = this.x + this.w / 2, this.cy =
				this.y + this.h / 2, this
		}, e.isNulled = function() {
			return uv(this)
		}, e.merge = function(e) {
			var i = Math.min(this.x, e.x),
				n = Math.min(this.y, e.y);
			return new t(i, n, Math.max(this.x + this.width, e.x + e.width) - i, Math.max(this.y + this
				.height, e.y + e.height) - n)
		}, e.toArray = function() {
			return [this.x, this.y, this.width, this.height]
		}, e.toString = function() {
			return this.x + " " + this.y + " " + this.width + " " + this.height
		}, e.transform = function(e) {
			e instanceof hv || (e = new hv(e));
			var i = 1 / 0,
				n = -1 / 0,
				r = 1 / 0,
				o = -1 / 0;
			return [new sv(this.x, this.y), new sv(this.x2, this.y), new sv(this.x, this.y2), new sv(this
				.x2, this.y2)].forEach(function(t) {
				t = t.transform(e), i = Math.min(i, t.x), n = Math.max(n, t.x), r = Math.min(r, t
					.y), o = Math.max(o, t.y)
			}), new t(i, r, n - i, o - r)
		}, t
	}();

	function dv(t, e, i) {
		var n, r;
		try {
			if (uv(n = e(t.node)) && ((r = t.node) !== Rm.document && !(Rm.document.documentElement.contains ||
					function(t) {
						for (; t.parentNode;) t = t.parentNode;
						return t === Rm.document
					}).call(Rm.document.documentElement, r))) throw new Error("Element not in the dom")
		} catch (e) {
			n = i(t)
		}
		return n
	}
	gm({
		viewbox: {
			viewbox: function(t, e, i, n) {
				return null == t ? new lv(this.attr("viewBox")) : this.attr("viewBox", new lv(t, e, i,
					n))
			},
			zoom: function(t, e) {
				var i = this.attr(["width", "height"]),
					n = i.width,
					r = i.height;
				if ((n || r) && "string" != typeof n && "string" != typeof r || (n = this.node
						.clientWidth, r = this.node.clientHeight), !n || !r) throw new Error(
					"Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element"
					);
				var o = this.viewbox(),
					s = n / o.width,
					a = r / o.height,
					h = Math.min(s, a);
				if (null == t) return h;
				var c = h / t;
				c === 1 / 0 && (c = Number.MAX_SAFE_INTEGER / 100), e = e || new sv(n / 2 / s + o.x, r /
					2 / a + o.y);
				var u = new lv(o).transform(new hv({
					scale: c,
					origin: e
				}));
				return this.viewbox(u)
			}
		}
	}), Fm(lv, "Box");
	var fv = function(t) {
		function e(e) {
			var i, n;
			void 0 === e && (e = []);
			for (var r = arguments.length, o = new Array(r > 1 ? r - 1 : 0), s = 1; s < r; s++) o[s - 1] =
				arguments[s];
			return n = t.call.apply(t, [this, e].concat(o)) || this, "number" == typeof e ? n || function(t) {
				if (void 0 === t) throw new ReferenceError(
					"this hasn't been initialised - super() hasn't been called");
				return t
			}(n) : (n.length = 0, (i = n).push.apply(i, e), n)
		}
		return r(e, t), e
	}(h(Array));
	zm([fv], {
		each: function(t) {
			for (var e = arguments.length, i = new Array(e > 1 ? e - 1 : 0), n = 1; n < e; n++) i[n -
				1] = arguments[n];
			return "function" == typeof t ? this.map(function(e, i, n) {
				return t.call(e, e, i, n)
			}) : this.map(function(e) {
				return e[t].apply(e, i)
			})
		},
		toArray: function() {
			return Array.prototype.concat.apply([], this)
		}
	});
	var pv = ["toArray", "constructor", "each"];

	function mv(t, e) {
		return new fv(bm((e || Rm.document).querySelectorAll(t), function(t) {
			return Om(t)
		}))
	}
	fv.extend = function(t) {
		t = t.reduce(function(t, e) {
			return pv.includes(e) ? t : "_" === e[0] ? t : (t[e] = function() {
				for (var t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] =
					arguments[n];
				return this.each.apply(this, [e].concat(i))
			}, t)
		}, {}), zm([fv], t)
	};
	var vv = 0,
		gv = {};

	function yv(t) {
		var e = t.getEventHolder();
		return e === Rm.window && (e = gv), e.events || (e.events = {}), e.events
	}

	function _v(t) {
		return t.getEventTarget()
	}

	function bv(t, e, i, n, r) {
		var o = i.bind(n || t),
			s = Mm(t),
			a = yv(s),
			h = _v(s);
		e = Array.isArray(e) ? e : e.split(tv), i._svgjsListenerId || (i._svgjsListenerId = ++vv), e.forEach(
			function(t) {
				var e = t.split(".")[0],
					n = t.split(".")[1] || "*";
				a[e] = a[e] || {}, a[e][n] = a[e][n] || {}, a[e][n][i._svgjsListenerId] = o, h.addEventListener(
					e, o, r || !1)
			})
	}

	function wv(t, e, i, n) {
		var r = Mm(t),
			o = yv(r),
			s = _v(r);
		("function" != typeof i || (i = i._svgjsListenerId)) && (e = Array.isArray(e) ? e : (e || "").split(tv))
		.forEach(function(t) {
			var e, a, h = t && t.split(".")[0],
				c = t && t.split(".")[1];
			if (i) o[h] && o[h][c || "*"] && (s.removeEventListener(h, o[h][c || "*"][i], n || !1),
				delete o[h][c || "*"][i]);
			else if (h && c) {
				if (o[h] && o[h][c]) {
					for (a in o[h][c]) wv(s, [h, c].join("."), a);
					delete o[h][c]
				}
			} else if (c)
				for (t in o)
					for (e in o[t]) c === e && wv(s, [t, c].join("."));
			else if (h) {
				if (o[h]) {
					for (e in o[h]) wv(s, [h, e].join("."));
					delete o[h]
				}
			} else {
				for (t in o) wv(s, t);
				! function(t) {
					var e = t.getEventHolder();
					e === Rm.window && (e = gv), e.events && (e.events = {})
				}(r)
			}
		})
	}
	var kv = function(t) {
		function e() {
			return t.apply(this, arguments) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.addEventListener = function() {}, i.dispatch = function(t, e, i) {
			return function(t, e, i, n) {
				var r = _v(t);
				return e instanceof Rm.window.Event ? r.dispatchEvent(e) : (e = new Rm.window
					.CustomEvent(e, m({
						detail: i,
						cancelable: !0
					}, n)), r.dispatchEvent(e)), e
			}(this, t, e, i)
		}, i.dispatchEvent = function(t) {
			var e = this.getEventHolder().events;
			if (!e) return !0;
			var i = e[t.type];
			for (var n in i)
				for (var r in i[n]) i[n][r](t);
			return !t.defaultPrevented
		}, i.fire = function(t, e, i) {
			return this.dispatch(t, e, i), this
		}, i.getEventHolder = function() {
			return this
		}, i.getEventTarget = function() {
			return this
		}, i.off = function(t, e) {
			return wv(this, t, e), this
		}, i.on = function(t, e, i, n) {
			return bv(this, t, e, i, n), this
		}, i.removeEventListener = function() {}, e
	}(Im);

	function Ev() {}
	Fm(kv, "EventTarget");
	var Sv = {
			duration: 400,
			ease: ">",
			delay: 0
		},
		Tv = {
			"fill-opacity": 1,
			"stroke-opacity": 1,
			"stroke-width": 0,
			"stroke-linejoin": "miter",
			"stroke-linecap": "butt",
			fill: "#000000",
			stroke: "#000000",
			opacity: 1,
			x: 0,
			y: 0,
			cx: 0,
			cy: 0,
			width: 0,
			height: 0,
			r: 0,
			rx: 0,
			ry: 0,
			offset: 0,
			"stop-opacity": 1,
			"stop-color": "#000000",
			"text-anchor": "start"
		},
		xv = function(t) {
			function e() {
				for (var e, i, n = arguments.length, r = new Array(n), o = 0; o < n; o++) r[o] = arguments[o];
				return (e = i = t.call.apply(t, [this].concat(r)) || this).init.apply(e, r), i
			}
			r(e, t);
			var i = e.prototype;
			return i.clone = function() {
				return new this.constructor(this)
			}, i.init = function(t) {
				return "number" == typeof t ? this : (this.length = 0, this.push.apply(this, this.parse(t)),
					this)
			}, i.parse = function(t) {
				return void 0 === t && (t = []), t instanceof Array ? t : t.trim().split(tv).map(parseFloat)
			}, i.toArray = function() {
				return Array.prototype.concat.apply([], this)
			}, i.toSet = function() {
				return new Set(this)
			}, i.toString = function() {
				return this.join(" ")
			}, i.valueOf = function() {
				var t = [];
				return t.push.apply(t, this), t
			}, e
		}(h(Array)),
		Av = function() {
			function t() {
				this.init.apply(this, arguments)
			}
			var e = t.prototype;
			return e.convert = function(e) {
				return new t(this.value, e)
			}, e.divide = function(e) {
				return e = new t(e), new t(this / e, this.unit || e.unit)
			}, e.init = function(e, i) {
				return i = Array.isArray(e) ? e[1] : i, e = Array.isArray(e) ? e[0] : e, this.value = 0, this
					.unit = i || "", "number" == typeof e ? this.value = isNaN(e) ? 0 : isFinite(e) ? e : e <
					0 ? -3.4e38 : 3.4e38 : "string" == typeof e ? (i = e.match(jm)) && (this.value = parseFloat(
							i[1]), "%" === i[5] ? this.value /= 100 : "s" === i[5] && (this.value *= 1e3), this
						.unit = i[5]) : e instanceof t && (this.value = e.valueOf(), this.unit = e.unit), this
			}, e.minus = function(e) {
				return e = new t(e), new t(this - e, this.unit || e.unit)
			}, e.plus = function(e) {
				return e = new t(e), new t(this + e, this.unit || e.unit)
			}, e.times = function(e) {
				return e = new t(e), new t(this * e, this.unit || e.unit)
			}, e.toArray = function() {
				return [this.value, this.unit]
			}, e.toJSON = function() {
				return this.toString()
			}, e.toString = function() {
				return ("%" === this.unit ? ~~(1e8 * this.value) / 1e6 : "s" === this.unit ? this.value / 1e3 :
					this.value) + this.unit
			}, e.valueOf = function() {
				return this.value
			}, t
		}(),
		Cv = [];
	var Rv = function(t) {
		function e(e, i) {
			var n;
			return (n = t.call(this) || this).node = e, n.type = e.nodeName, i && e !== i && n.attr(i), n
		}
		r(e, t);
		var i = e.prototype;
		return i.add = function(t, e) {
			return (t = Mm(t)).removeNamespace && this.node instanceof Rm.window.SVGElement && t
				.removeNamespace(), null == e ? this.node.appendChild(t.node) : t.node !== this.node
				.childNodes[e] && this.node.insertBefore(t.node, this.node.childNodes[e]), this
		}, i.addTo = function(t, e) {
			return Mm(t).put(this, e)
		}, i.children = function() {
			return new fv(bm(this.node.children, function(t) {
				return Om(t)
			}))
		}, i.clear = function() {
			for (; this.node.hasChildNodes();) this.node.removeChild(this.node.lastChild);
			return this
		}, i.clone = function(t) {
			return void 0 === t && (t = !0), this.writeDataToDom(), new this.constructor(function t(e) {
				for (var i = e.children.length - 1; i >= 0; i--) t(e.children[i]);
				return e.id ? (e.id = Vm(e.nodeName), e) : e
			}(this.node.cloneNode(t)))
		}, i.each = function(t, e) {
			var i, n, r = this.children();
			for (i = 0, n = r.length; i < n; i++) t.apply(r[i], [i, r]), e && r[i].each(t, e);
			return this
		}, i.element = function(t, i) {
			return this.put(new e(Dm(t), i))
		}, i.first = function() {
			return Om(this.node.firstChild)
		}, i.get = function(t) {
			return Om(this.node.childNodes[t])
		}, i.getEventHolder = function() {
			return this.node
		}, i.getEventTarget = function() {
			return this.node
		}, i.has = function(t) {
			return this.index(t) >= 0
		}, i.html = function(t, e) {
			return this.xml(t, e, "http://www.w3.org/1999/xhtml")
		}, i.id = function(t) {
			return void 0 !== t || this.node.id || (this.node.id = Vm(this.type)), this.attr("id", t)
		}, i.index = function(t) {
			return [].slice.call(this.node.childNodes).indexOf(t.node)
		}, i.last = function() {
			return Om(this.node.lastChild)
		}, i.matches = function(t) {
			var e = this.node,
				i = e.matches || e.matchesSelector || e.msMatchesSelector || e.mozMatchesSelector || e
				.webkitMatchesSelector || e.oMatchesSelector || null;
			return i && i.call(e, t)
		}, i.parent = function(t) {
			var e = this;
			if (!e.node.parentNode) return null;
			if (e = Om(e.node.parentNode), !t) return e;
			do {
				if ("string" == typeof t ? e.matches(t) : e instanceof t) return e
			} while (e = Om(e.node.parentNode));
			return e
		}, i.put = function(t, e) {
			return t = Mm(t), this.add(t, e), t
		}, i.putIn = function(t, e) {
			return Mm(t).add(this, e)
		}, i.remove = function() {
			return this.parent() && this.parent().removeElement(this), this
		}, i.removeElement = function(t) {
			return this.node.removeChild(t.node), this
		}, i.replace = function(t) {
			return t = Mm(t), this.node.parentNode && this.node.parentNode.replaceChild(t.node, this.node),
				t
		}, i.round = function(t, e) {
			void 0 === t && (t = 2), void 0 === e && (e = null);
			var i = Math.pow(10, t),
				n = this.attr(e);
			for (var r in n) "number" == typeof n[r] && (n[r] = Math.round(n[r] * i) / i);
			return this.attr(n), this
		}, i.svg = function(t, e) {
			return this.xml(t, e, xm)
		}, i.toString = function() {
			return this.id()
		}, i.words = function(t) {
			return this.node.textContent = t, this
		}, i.wrap = function(t) {
			var e = this.parent();
			if (!e) return this.addTo(t);
			var i = e.index(this);
			return e.put(t, i).put(this)
		}, i.writeDataToDom = function() {
			return this.each(function() {
				this.writeDataToDom()
			}), this
		}, i.xml = function(t, e, i) {
			if ("boolean" == typeof t && (i = e, e = t, t = null), null == t || "function" == typeof t) {
				e = null == e || e, this.writeDataToDom();
				var n = this;
				if (null != t) {
					if (n = Om(n.node.cloneNode(!0)), e) {
						var r = t(n);
						if (n = r || n, !1 === r) return ""
					}
					n.each(function() {
						var e = t(this),
							i = e || this;
						!1 === e ? this.remove() : e && this !== i && this.replace(i)
					}, !0)
				}
				return e ? n.node.outerHTML : n.node.innerHTML
			}
			e = null != e && e;
			var o = Dm("wrapper", i),
				s = Rm.document.createDocumentFragment();
			o.innerHTML = t;
			for (var a = o.children.length; a--;) s.appendChild(o.firstElementChild);
			var h = this.parent();
			return e ? this.replace(s) && h : this.add(s)
		}, e
	}(kv);
	zm(Rv, {
		attr: function(t, e, i) {
			var n = this;
			if (null == t) {
				t = {};
				for (var r, o = u(e = this.node.attributes); !(r = o()).done;) {
					var s = r.value;
					t[s.nodeName] = Qm.test(s.nodeValue) ? parseFloat(s.nodeValue) : s.nodeValue
				}
				return t
			}
			if (t instanceof Array) return t.reduce(function(t, e) {
				return t[e] = n.attr(e), t
			}, {});
			if ("object" == typeof t && t.constructor === Object)
				for (e in t) this.attr(e, t[e]);
			else if (null === e) this.node.removeAttribute(t);
			else {
				if (null == e) return null == (e = this.node.getAttribute(t)) ? Tv[t] : Qm.test(e) ?
					parseFloat(e) : e;
				"number" == typeof(e = Cv.reduce(function(e, i) {
					return i(t, e, n)
				}, e)) ? e = new Av(e): ov.isColor(e) ? e = new ov(e) : e.constructor === Array && (e =
						new xv(e)), "leading" === t ? this.leading && this.leading(e) : "string" ==
					typeof i ? this.node.setAttributeNS(i, t, e.toString()) : this.node.setAttribute(t,
						e.toString()), !this.rebuild || "font-size" !== t && "x" !== t || this.rebuild()
			}
			return this
		},
		find: function(t) {
			return mv(t, this.node)
		},
		findOne: function(t) {
			return Om(this.node.querySelector(t))
		}
	}), Fm(Rv, "Dom");
	var Iv = function(t) {
		function e(e, i) {
			var n;
			return (n = t.call(this, e, i) || this).dom = {}, n.node.instance = n, e.hasAttribute(
				"svgjs:data") && n.setData(JSON.parse(e.getAttribute("svgjs:data")) || {}), n
		}
		r(e, t);
		var i = e.prototype;
		return i.center = function(t, e) {
			return this.cx(t).cy(e)
		}, i.cx = function(t) {
			return null == t ? this.x() + this.width() / 2 : this.x(t - this.width() / 2)
		}, i.cy = function(t) {
			return null == t ? this.y() + this.height() / 2 : this.y(t - this.height() / 2)
		}, i.defs = function() {
			var t = this.root();
			return t && t.defs()
		}, i.dmove = function(t, e) {
			return this.dx(t).dy(e)
		}, i.dx = function(t) {
			return void 0 === t && (t = 0), this.x(new Av(t).plus(this.x()))
		}, i.dy = function(t) {
			return void 0 === t && (t = 0), this.y(new Av(t).plus(this.y()))
		}, i.getEventHolder = function() {
			return this
		}, i.height = function(t) {
			return this.attr("height", t)
		}, i.move = function(t, e) {
			return this.x(t).y(e)
		}, i.parents = function(t) {
			void 0 === t && (t = this.root()), t = Mm(t);
			for (var e = new fv, i = this;
				(i = i.parent()) && i.node !== Rm.document && "#document-fragment" !== i.nodeName && (e
					.push(i), i.node !== t.node););
			return e
		}, i.reference = function(t) {
			if (!(t = this.attr(t))) return null;
			var e = (t + "").match(qm);
			return e ? Mm(e[1]) : null
		}, i.root = function() {
			var t = this.parent(Lm[Pm]);
			return t && t.root()
		}, i.setData = function(t) {
			return this.dom = t, this
		}, i.size = function(t, e) {
			var i = Sm(this, t, e);
			return this.width(new Av(i.width)).height(new Av(i.height))
		}, i.width = function(t) {
			return this.attr("width", t)
		}, i.writeDataToDom = function() {
			return this.node.removeAttribute("svgjs:data"), g(this.dom).length && this.node.setAttribute(
				"svgjs:data", JSON.stringify(this.dom)), t.prototype.writeDataToDom.call(this)
		}, i.x = function(t) {
			return this.attr("x", t)
		}, i.y = function(t) {
			return this.attr("y", t)
		}, e
	}(Rv);
	zm(Iv, {
		bbox: function() {
			var t = dv(this, function(t) {
				return t.getBBox()
			}, function(t) {
				try {
					var e = t.clone().addTo(cv().svg).show(),
						i = e.node.getBBox();
					return e.remove(), i
				} catch (e) {
					throw new Error('Getting bbox of element "' + t.node.nodeName +
						'" is not possible: ' + e.toString())
				}
			});
			return new lv(t)
		},
		rbox: function(t) {
			var e = dv(this, function(t) {
					return t.getBoundingClientRect()
				}, function(t) {
					throw new Error('Getting rbox of element "' + t.node.nodeName +
						'" is not possible')
				}),
				i = new lv(e);
			return t ? i.transform(t.screenCTM().inverseO()) : i.addOffset()
		},
		inside: function(t, e) {
			var i = this.bbox();
			return t > i.x && e > i.y && t < i.x + i.width && e < i.y + i.height
		},
		point: function(t, e) {
			return new sv(t, e).transform(this.screenCTM().inverse())
		},
		ctm: function() {
			return new hv(this.node.getCTM())
		},
		screenCTM: function() {
			if ("function" == typeof this.isRoot && !this.isRoot()) {
				var t = this.rect(1, 1),
					e = t.node.getScreenCTM();
				return t.remove(), new hv(e)
			}
			return new hv(this.node.getScreenCTM())
		}
	}), Fm(Iv, "Element");
	var Lv = {
		stroke: ["color", "width", "opacity", "linecap", "linejoin", "miterlimit", "dasharray", "dashoffset"],
		fill: ["color", "opacity", "rule"],
		prefix: function(t, e) {
			return "color" === e ? t : t + "-" + e
		}
	};
	["fill", "stroke"].forEach(function(t) {
		var e, i = {};
		i[t] = function(i) {
			if (void 0 === i) return this.attr(t);
			if ("string" == typeof i || i instanceof ov || ov.isRgb(i) || i instanceof Iv) this.attr(t,
				i);
			else
				for (e = Lv[t].length - 1; e >= 0; e--) null != i[Lv[t][e]] && this.attr(Lv.prefix(t,
					Lv[t][e]), i[Lv[t][e]]);
			return this
		}, gm(["Element", "Runner"], i)
	}), gm(["Element", "Runner"], {
		matrix: function(t, e, i, n, r, o) {
			return null == t ? new hv(this) : this.attr("transform", new hv(t, e, i, n, r, o))
		},
		rotate: function(t, e, i) {
			return this.transform({
				rotate: t,
				ox: e,
				oy: i
			}, !0)
		},
		skew: function(t, e, i, n) {
			return 1 === arguments.length || 3 === arguments.length ? this.transform({
				skew: t,
				ox: e,
				oy: i
			}, !0) : this.transform({
				skew: [t, e],
				ox: i,
				oy: n
			}, !0)
		},
		shear: function(t, e, i) {
			return this.transform({
				shear: t,
				ox: e,
				oy: i
			}, !0)
		},
		scale: function(t, e, i, n) {
			return 1 === arguments.length || 3 === arguments.length ? this.transform({
				scale: t,
				ox: e,
				oy: i
			}, !0) : this.transform({
				scale: [t, e],
				ox: i,
				oy: n
			}, !0)
		},
		translate: function(t, e) {
			return this.transform({
				translate: [t, e]
			}, !0)
		},
		relative: function(t, e) {
			return this.transform({
				relative: [t, e]
			}, !0)
		},
		flip: function(t, e) {
			return void 0 === t && (t = "both"), void 0 === e && (e = "center"), -1 === "xybothtrue"
				.indexOf(t) && (e = t, t = "both"), this.transform({
					flip: t,
					origin: e
				}, !0)
		},
		opacity: function(t) {
			return this.attr("opacity", t)
		}
	}), gm("radius", {
		radius: function(t, e) {
			return void 0 === e && (e = t), "radialGradient" === (this._element || this).type ? this
				.attr("r", new Av(t)) : this.rx(t).ry(e)
		}
	}), gm("Path", {
		length: function() {
			return this.node.getTotalLength()
		},
		pointAt: function(t) {
			return new sv(this.node.getPointAtLength(t))
		}
	}), gm(["Element", "Runner"], {
		font: function(t, e) {
			if ("object" == typeof t) {
				for (e in t) this.font(e, t[e]);
				return this
			}
			return "leading" === t ? this.leading(e) : "anchor" === t ? this.attr("text-anchor", e) :
				"size" === t || "family" === t || "weight" === t || "stretch" === t || "variant" ===
				t || "style" === t ? this.attr("font-" + t, e) : this.attr(t, e)
		}
	}), gm("Element", ["click", "dblclick", "mousedown", "mouseup", "mouseover", "mouseout", "mousemove",
		"mouseenter", "mouseleave", "touchstart", "touchmove", "touchleave", "touchend", "touchcancel"
	].reduce(function(t, e) {
		return t[e] = function(t) {
			return null === t ? this.off(e) : this.on(e, t), this
		}, t
	}, {})), gm("Element", {
		untransform: function() {
			return this.attr("transform", null)
		},
		matrixify: function() {
			return (this.attr("transform") || "").split(Gm).slice(0, -1).map(function(t) {
				var e = t.trim().split("(");
				return [e[0], e[1].split(tv).map(function(t) {
					return parseFloat(t)
				})]
			}).reverse().reduce(function(t, e) {
				return "matrix" === e[0] ? t.lmultiply(hv.fromArray(e[1])) : t[e[0]].apply(t, e[
					1])
			}, new hv)
		},
		toParent: function(t, e) {
			if (this === t) return this;
			var i = this.screenCTM(),
				n = t.screenCTM().inverse();
			return this.addTo(t, e).untransform().transform(n.multiply(i)), this
		},
		toRoot: function(t) {
			return this.toParent(this.root(), t)
		},
		transform: function(t, e) {
			if (null == t || "string" == typeof t) {
				var i = new hv(this).decompose();
				return null == t ? i : i[t]
			}
			hv.isMatrixLike(t) || (t = m({}, t, {
				origin: Tm(t, this)
			}));
			var n = new hv(!0 === e ? this : e || !1).transform(t);
			return this.attr("transform", n)
		}
	});
	var Pv = function(t) {
		function e() {
			return t.apply(this, arguments) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.flatten = function(t, i) {
			return void 0 === t && (t = this), this.each(function() {
				if (this instanceof e) return this.flatten().ungroup()
			}), this
		}, i.ungroup = function(t, e) {
			return void 0 === t && (t = this.parent()), void 0 === e && (e = t.index(this)), e = -1 === e ?
				t.children().length : e, this.each(function(i, n) {
					return n[n.length - i - 1].toParent(t, e)
				}), this.remove()
		}, e
	}(Iv);
	Fm(Pv, "Container");
	var Dv = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("defs", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.flatten = function() {
			return this
		}, i.ungroup = function() {
			return this
		}, e
	}(Pv);
	Fm(Dv, "Defs");
	var Mv = function(t) {
		function e() {
			return t.apply(this, arguments) || this
		}
		return r(e, t), e
	}(Iv);

	function Bv(t) {
		return this.attr("rx", t)
	}

	function Ov(t) {
		return this.attr("ry", t)
	}

	function Uv(t) {
		return null == t ? this.cx() - this.rx() : this.cx(t + this.rx())
	}

	function Fv(t) {
		return null == t ? this.cy() - this.ry() : this.cy(t + this.ry())
	}

	function Nv(t) {
		return this.attr("cx", t)
	}

	function Vv(t) {
		return this.attr("cy", t)
	}

	function zv(t) {
		return null == t ? 2 * this.rx() : this.rx(new Av(t).divide(2))
	}

	function Hv(t) {
		return null == t ? 2 * this.ry() : this.ry(new Av(t).divide(2))
	}
	Fm(Mv, "Shape");
	var jv = Object.freeze({
			rx: Bv,
			ry: Ov,
			x: Uv,
			y: Fv,
			cx: Nv,
			cy: Vv,
			width: zv,
			height: Hv
		}),
		$v = function(t) {
			function e(e, i) {
				return void 0 === i && (i = e), t.call(this, Bm("ellipse", e), i) || this
			}
			return r(e, t), e.prototype.size = function(t, e) {
				var i = Sm(this, t, e);
				return this.rx(new Av(i.width).divide(2)).ry(new Av(i.height).divide(2))
			}, e
		}(Mv);
	zm($v, jv), gm("Container", {
		ellipse: Hm(function(t, e) {
			return void 0 === t && (t = 0), void 0 === e && (e = t), this.put(new $v).size(t, e)
				.move(0, 0)
		})
	}), Fm($v, "Ellipse");
	var Wv = function(t) {
		function e(e) {
			return void 0 === e && (e = Rm.document.createDocumentFragment()), t.call(this, e) || this
		}
		return r(e, t), e.prototype.xml = function(e, i, n) {
			if ("boolean" == typeof e && (n = i, i = e, e = null), null == e || "function" == typeof e) {
				var r = new Rv(Dm("wrapper", n));
				return r.add(this.node.cloneNode(!0)), r.xml(!1, n)
			}
			return t.prototype.xml.call(this, e, !1, n)
		}, e
	}(Rv);

	function qv(t, e) {
		return "radialGradient" === (this._element || this).type ? this.attr({
			fx: new Av(t),
			fy: new Av(e)
		}) : this.attr({
			x1: new Av(t),
			y1: new Av(e)
		})
	}

	function Gv(t, e) {
		return "radialGradient" === (this._element || this).type ? this.attr({
			cx: new Av(t),
			cy: new Av(e)
		}) : this.attr({
			x2: new Av(t),
			y2: new Av(e)
		})
	}
	Fm(Wv, "Fragment");
	var Kv = Object.freeze({
			from: qv,
			to: Gv
		}),
		Yv = function(t) {
			function e(e, i) {
				return t.call(this, Bm(e + "Gradient", "string" == typeof e ? null : e), i) || this
			}
			r(e, t);
			var i = e.prototype;
			return i.attr = function(e, i, n) {
				return "transform" === e && (e = "gradientTransform"), t.prototype.attr.call(this, e, i, n)
			}, i.bbox = function() {
				return new lv
			}, i.targets = function() {
				return mv('svg [fill*="' + this.id() + '"]')
			}, i.toString = function() {
				return this.url()
			}, i.update = function(t) {
				return this.clear(), "function" == typeof t && t.call(this, this), this
			}, i.url = function() {
				return 'url("#' + this.id() + '")'
			}, e
		}(Pv);
	zm(Yv, Kv), gm({
		Container: {
			gradient: function() {
				var t;
				return (t = this.defs()).gradient.apply(t, arguments)
			}
		},
		Defs: {
			gradient: Hm(function(t, e) {
				return this.put(new Yv(t)).update(e)
			})
		}
	}), Fm(Yv, "Gradient");
	var Xv = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("pattern", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.attr = function(e, i, n) {
			return "transform" === e && (e = "patternTransform"), t.prototype.attr.call(this, e, i, n)
		}, i.bbox = function() {
			return new lv
		}, i.targets = function() {
			return mv('svg [fill*="' + this.id() + '"]')
		}, i.toString = function() {
			return this.url()
		}, i.update = function(t) {
			return this.clear(), "function" == typeof t && t.call(this, this), this
		}, i.url = function() {
			return 'url("#' + this.id() + '")'
		}, e
	}(Pv);
	gm({
		Container: {
			pattern: function() {
				var t;
				return (t = this.defs()).pattern.apply(t, arguments)
			}
		},
		Defs: {
			pattern: Hm(function(t, e, i) {
				return this.put(new Xv).update(i).attr({
					x: 0,
					y: 0,
					width: t,
					height: e,
					patternUnits: "userSpaceOnUse"
				})
			})
		}
	}), Fm(Xv, "Pattern");
	var Zv = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("image", e), i) || this
		}
		return r(e, t), e.prototype.load = function(t, e) {
			if (!t) return this;
			var i = new Rm.window.Image;
			return bv(i, "load", function(t) {
				var n = this.parent(Xv);
				0 === this.width() && 0 === this.height() && this.size(i.width, i.height),
					n instanceof Xv && 0 === n.width() && 0 === n.height() && n.size(this.width(),
						this.height()), "function" == typeof e && e.call(this, t)
			}, this), bv(i, "load error", function() {
				wv(i)
			}), this.attr("href", i.src = t, Cm)
		}, e
	}(Mv);
	! function(t) {
		Cv.push(t)
	}(function(t, e, i) {
		return "fill" !== t && "stroke" !== t || Jm.test(e) && (e = i.root().defs().image(e)),
			e instanceof Zv && (e = i.root().defs().pattern(0, 0, function(t) {
				t.add(e)
			})), e
	}), gm({
		Container: {
			image: Hm(function(t, e) {
				return this.put(new Zv).size(0, 0).load(t, e)
			})
		}
	}), Fm(Zv, "Image");
	var Qv = function(t) {
			function e() {
				return t.apply(this, arguments) || this
			}
			r(e, t);
			var i = e.prototype;
			return i.bbox = function() {
				var t = -1 / 0,
					e = -1 / 0,
					i = 1 / 0,
					n = 1 / 0;
				return this.forEach(function(r) {
					t = Math.max(r[0], t), e = Math.max(r[1], e), i = Math.min(r[0], i), n = Math.min(r[
						1], n)
				}), new lv(i, n, t - i, e - n)
			}, i.move = function(t, e) {
				var i = this.bbox();
				if (t -= i.x, e -= i.y, !isNaN(t) && !isNaN(e))
					for (var n = this.length - 1; n >= 0; n--) this[n] = [this[n][0] + t, this[n][1] + e];
				return this
			}, i.parse = function(t) {
				void 0 === t && (t = [0, 0]);
				var e = [];
				(t = t instanceof Array ? Array.prototype.concat.apply([], t) : t.trim().split(tv).map(
					parseFloat)).length % 2 != 0 && t.pop();
				for (var i = 0, n = t.length; i < n; i += 2) e.push([t[i], t[i + 1]]);
				return e
			}, i.size = function(t, e) {
				var i, n = this.bbox();
				for (i = this.length - 1; i >= 0; i--) n.width && (this[i][0] = (this[i][0] - n.x) * t / n
					.width + n.x), n.height && (this[i][1] = (this[i][1] - n.y) * e / n.height + n.y);
				return this
			}, i.toLine = function() {
				return {
					x1: this[0][0],
					y1: this[0][1],
					x2: this[1][0],
					y2: this[1][1]
				}
			}, i.toString = function() {
				for (var t = [], e = 0, i = this.length; e < i; e++) t.push(this[e].join(","));
				return t.join(" ")
			}, i.transform = function(t) {
				return this.clone().transformO(t)
			}, i.transformO = function(t) {
				hv.isMatrixLike(t) || (t = new hv(t));
				for (var e = this.length; e--;) {
					var i = this[e],
						n = i[0],
						r = i[1];
					this[e][0] = t.a * n + t.c * r + t.e, this[e][1] = t.b * n + t.d * r + t.f
				}
				return this
			}, e
		}(xv),
		Jv = Qv;
	var tg = Object.freeze({
			MorphArray: Jv,
			x: function(t) {
				return null == t ? this.bbox().x : this.move(t, this.bbox().y)
			},
			y: function(t) {
				return null == t ? this.bbox().y : this.move(this.bbox().x, t)
			},
			width: function(t) {
				var e = this.bbox();
				return null == t ? e.width : this.size(t, e.height)
			},
			height: function(t) {
				var e = this.bbox();
				return null == t ? e.height : this.size(e.width, t)
			}
		}),
		eg = function(t) {
			function e(e, i) {
				return void 0 === i && (i = e), t.call(this, Bm("line", e), i) || this
			}
			r(e, t);
			var i = e.prototype;
			return i.array = function() {
				return new Qv([
					[this.attr("x1"), this.attr("y1")],
					[this.attr("x2"), this.attr("y2")]
				])
			}, i.move = function(t, e) {
				return this.attr(this.array().move(t, e).toLine())
			}, i.plot = function(t, e, i, n) {
				return null == t ? this.array() : (t = void 0 !== e ? {
					x1: t,
					y1: e,
					x2: i,
					y2: n
				} : new Qv(t).toLine(), this.attr(t))
			}, i.size = function(t, e) {
				var i = Sm(this, t, e);
				return this.attr(this.array().size(i.width, i.height).toLine())
			}, e
		}(Mv);
	zm(eg, tg), gm({
		Container: {
			line: Hm(function() {
				for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] =
					arguments[i];
				return eg.prototype.plot.apply(this.put(new eg), null != e[0] ? e : [0, 0, 0, 0])
			})
		}
	}), Fm(eg, "Line");
	var ig = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("marker", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.height = function(t) {
			return this.attr("markerHeight", t)
		}, i.orient = function(t) {
			return this.attr("orient", t)
		}, i.ref = function(t, e) {
			return this.attr("refX", t).attr("refY", e)
		}, i.toString = function() {
			return "url(#" + this.id() + ")"
		}, i.update = function(t) {
			return this.clear(), "function" == typeof t && t.call(this, this), this
		}, i.width = function(t) {
			return this.attr("markerWidth", t)
		}, e
	}(Pv);

	function ng(t, e) {
		return function(i) {
			return null == i ? this[t] : (this[t] = i, e && e.call(this), this)
		}
	}
	gm({
		Container: {
			marker: function() {
				var t;
				return (t = this.defs()).marker.apply(t, arguments)
			}
		},
		Defs: {
			marker: Hm(function(t, e, i) {
				return this.put(new ig).size(t, e).ref(t / 2, e / 2).viewbox(0, 0, t, e).attr(
					"orient", "auto").update(i)
			})
		},
		marker: {
			marker: function(t, e, i, n) {
				var r = ["marker"];
				return "all" !== t && r.push(t), r = r.join("-"), t = arguments[1] instanceof ig ?
					arguments[1] : this.defs().marker(e, i, n), this.attr(r, t)
			}
		}
	}), Fm(ig, "Marker");
	var rg = {
			"-": function(t) {
				return t
			},
			"<>": function(t) {
				return -Math.cos(t * Math.PI) / 2 + .5
			},
			">": function(t) {
				return Math.sin(t * Math.PI / 2)
			},
			"<": function(t) {
				return 1 - Math.cos(t * Math.PI / 2)
			},
			bezier: function(t, e, i, n) {
				return function(r) {
					return r < 0 ? t > 0 ? e / t * r : i > 0 ? n / i * r : 0 : r > 1 ? i < 1 ? (1 - n) / (
							1 - i) * r + (n - i) / (1 - i) : t < 1 ? (1 - e) / (1 - t) * r + (e - t) / (1 -
							t) : 1 : 3 * r * Math.pow(1 - r, 2) * e + 3 * Math.pow(r, 2) * (1 - r) * n +
						Math.pow(r, 3)
				}
			},
			steps: function(t, e) {
				void 0 === e && (e = "end"), e = e.split("-").reverse()[0];
				var i = t;
				return "none" === e ? --i : "both" === e && ++i,
					function(n, r) {
						void 0 === r && (r = !1);
						var o = Math.floor(n * t),
							s = n * o % 1 == 0;
						return "start" !== e && "both" !== e || ++o, r && s && --o, n >= 0 && o < 0 && (o = 0),
							n <= 1 && o > i && (o = i), o / i
					}
			}
		},
		og = function() {
			function t() {}
			return t.prototype.done = function() {
				return !1
			}, t
		}(),
		sg = function(t) {
			function e(e) {
				var i;
				return void 0 === e && (e = Sv.ease), (i = t.call(this) || this).ease = rg[e] || e, i
			}
			return r(e, t), e.prototype.step = function(t, e, i) {
				return "number" != typeof t ? i < 1 ? t : e : t + (e - t) * this.ease(i)
			}, e
		}(og),
		ag = function(t) {
			function e(e) {
				var i;
				return (i = t.call(this) || this).stepper = e, i
			}
			r(e, t);
			var i = e.prototype;
			return i.done = function(t) {
				return t.done
			}, i.step = function(t, e, i, n) {
				return this.stepper(t, e, i, n)
			}, e
		}(og);

	function hg() {
		var t = (this._duration || 500) / 1e3,
			e = this._overshoot || 0,
			i = Math.PI,
			n = Math.log(e / 100 + 1e-10),
			r = -n / Math.sqrt(i * i + n * n),
			o = 3.9 / (r * t);
		this.d = 2 * r * o, this.k = o * o
	}
	zm(function(t) {
		function e(e, i) {
			var n;
			return void 0 === e && (e = 500), void 0 === i && (i = 0), (n = t.call(this) || this).duration(
				e).overshoot(i), n
		}
		return r(e, t), e.prototype.step = function(t, e, i, n) {
			if ("string" == typeof t) return t;
			if (n.done = i === 1 / 0, i === 1 / 0) return e;
			if (0 === i) return t;
			i > 100 && (i = 16), i /= 1e3;
			var r = n.velocity || 0,
				o = -this.d * r - this.k * (t - e),
				s = t + r * i + o * i * i / 2;
			return n.velocity = r + o * i, n.done = Math.abs(e - s) + Math.abs(r) < .002, n.done ? e : s
		}, e
	}(ag), {
		duration: ng("_duration", hg),
		overshoot: ng("_overshoot", hg)
	}), zm(function(t) {
		function e(e, i, n, r) {
			var o;
			return void 0 === e && (e = .1), void 0 === i && (i = .01), void 0 === n && (n = 0), void 0 ===
				r && (r = 1e3), (o = t.call(this) || this).p(e).i(i).d(n).windup(r), o
		}
		return r(e, t), e.prototype.step = function(t, e, i, n) {
			if ("string" == typeof t) return t;
			if (n.done = i === 1 / 0, i === 1 / 0) return e;
			if (0 === i) return t;
			var r = e - t,
				o = (n.integral || 0) + r * i,
				s = (r - (n.error || 0)) / i,
				a = this._windup;
			return !1 !== a && (o = Math.max(-a, Math.min(o, a))), n.error = r, n.integral = o, n.done =
				Math.abs(r) < .001, n.done ? e : t + (this.P * r + this.I * o + this.D * s)
		}, e
	}(ag), {
		windup: ng("_windup"),
		p: ng("P"),
		i: ng("I"),
		d: ng("D")
	});
	for (var cg = {
			M: 2,
			L: 2,
			H: 1,
			V: 1,
			C: 6,
			S: 4,
			Q: 4,
			T: 2,
			A: 7,
			Z: 0
		}, ug = {
			M: function(t, e, i) {
				return e.x = i.x = t[0], e.y = i.y = t[1], ["M", e.x, e.y]
			},
			L: function(t, e) {
				return e.x = t[0], e.y = t[1], ["L", t[0], t[1]]
			},
			H: function(t, e) {
				return e.x = t[0], ["H", t[0]]
			},
			V: function(t, e) {
				return e.y = t[0], ["V", t[0]]
			},
			C: function(t, e) {
				return e.x = t[4], e.y = t[5], ["C", t[0], t[1], t[2], t[3], t[4], t[5]]
			},
			S: function(t, e) {
				return e.x = t[2], e.y = t[3], ["S", t[0], t[1], t[2], t[3]]
			},
			Q: function(t, e) {
				return e.x = t[2], e.y = t[3], ["Q", t[0], t[1], t[2], t[3]]
			},
			T: function(t, e) {
				return e.x = t[0], e.y = t[1], ["T", t[0], t[1]]
			},
			Z: function(t, e, i) {
				return e.x = i.x, e.y = i.y, ["Z"]
			},
			A: function(t, e) {
				return e.x = t[5], e.y = t[6], ["A", t[0], t[1], t[2], t[3], t[4], t[5], t[6]]
			}
		}, lg = "mlhvqtcsaz".split(""), dg = 0, fg = lg.length; dg < fg; ++dg) ug[lg[dg]] = function(t) {
		return function(e, i, n) {
			if ("H" === t) e[0] = e[0] + i.x;
			else if ("V" === t) e[0] = e[0] + i.y;
			else if ("A" === t) e[5] = e[5] + i.x, e[6] = e[6] + i.y;
			else
				for (var r = 0, o = e.length; r < o; ++r) e[r] = e[r] + (r % 2 ? i.y : i.x);
			return ug[t](e, i, n)
		}
	}(lg[dg].toUpperCase());

	function pg(t) {
		return t.segment.length && t.segment.length - 1 === cg[t.segment[0].toUpperCase()]
	}

	function mg(t, e) {
		t.inNumber && vg(t, !1);
		var i = ev.test(e);
		if (i) t.segment = [e];
		else {
			var n = t.lastCommand,
				r = n.toLowerCase(),
				o = n === r;
			t.segment = ["m" === r ? o ? "l" : "L" : n]
		}
		return t.inSegment = !0, t.lastCommand = t.segment[0], i
	}

	function vg(t, e) {
		if (!t.inNumber) throw new Error("Parser Error");
		t.number && t.segment.push(parseFloat(t.number)), t.inNumber = e, t.number = "", t.pointSeen = !1, t
			.hasExponent = !1, pg(t) && gg(t)
	}

	function gg(t) {
		t.inSegment = !1, t.absolute && (t.segment = function(t) {
			var e = t.segment[0];
			return ug[e](t.segment.slice(1), t.p, t.p0)
		}(t)), t.segments.push(t.segment)
	}

	function yg(t) {
		if (!t.segment.length) return !1;
		var e = "A" === t.segment[0].toUpperCase(),
			i = t.segment.length;
		return e && (4 === i || 5 === i)
	}

	function _g(t) {
		return "E" === t.lastToken.toUpperCase()
	}
	var bg = function(t) {
			function e() {
				return t.apply(this, arguments) || this
			}
			r(e, t);
			var i = e.prototype;
			return i.bbox = function() {
				return cv().path.setAttribute("d", this.toString()), new lv(cv.nodes.path.getBBox())
			}, i.move = function(t, e) {
				var i = this.bbox();
				if (t -= i.x, e -= i.y, !isNaN(t) && !isNaN(e))
					for (var n, r = this.length - 1; r >= 0; r--) "M" === (n = this[r][0]) || "L" === n ||
						"T" === n ? (this[r][1] += t, this[r][2] += e) : "H" === n ? this[r][1] += t : "V" ===
						n ? this[r][1] += e : "C" === n || "S" === n || "Q" === n ? (this[r][1] += t, this[r][
							2] += e, this[r][3] += t, this[r][4] += e, "C" === n && (this[r][5] += t, this[r][
								6] += e)) : "A" === n && (this[r][6] += t, this[r][7] += e);
				return this
			}, i.parse = function(t) {
				return void 0 === t && (t = "M0 0"), Array.isArray(t) && (t = Array.prototype.concat.apply([],
						t).toString()),
					function(t, e) {
						void 0 === e && (e = !0);
						for (var i = 0, n = "", r = {
								segment: [],
								inNumber: !1,
								number: "",
								lastToken: "",
								inSegment: !1,
								segments: [],
								pointSeen: !1,
								hasExponent: !1,
								absolute: e,
								p0: new sv,
								p: new sv
							}; r.lastToken = n, n = t.charAt(i++);)
							if (r.inSegment || !mg(r, n))
								if ("." !== n)
									if (isNaN(parseInt(n)))
										if (" " !== n && "," !== n)
											if ("-" !== n)
												if ("E" !== n.toUpperCase()) {
													if (ev.test(n)) {
														if (r.inNumber) vg(r, !1);
														else {
															if (!pg(r)) throw new Error("parser Error");
															gg(r)
														}--i
													}
												} else r.number += n, r.hasExponent = !0;
						else {
							if (r.inNumber && !_g(r)) {
								vg(r, !1), --i;
								continue
							}
							r.number += n, r.inNumber = !0
						} else r.inNumber && vg(r, !1);
						else {
							if ("0" === r.number || yg(r)) {
								r.inNumber = !0, r.number = n, vg(r, !0);
								continue
							}
							r.inNumber = !0, r.number += n
						} else {
							if (r.pointSeen || r.hasExponent) {
								vg(r, !1), --i;
								continue
							}
							r.inNumber = !0, r.pointSeen = !0, r.number += n
						}
						return r.inNumber && vg(r, !1), r.inSegment && pg(r) && gg(r), r.segments
					}(t)
			}, i.size = function(t, e) {
				var i, n, r = this.bbox();
				for (r.width = 0 === r.width ? 1 : r.width, r.height = 0 === r.height ? 1 : r.height, i = this
					.length - 1; i >= 0; i--) "M" === (n = this[i][0]) || "L" === n || "T" === n ? (this[i][1] =
						(this[i][1] - r.x) * t / r.width + r.x, this[i][2] = (this[i][2] - r.y) * e / r.height +
						r.y) : "H" === n ? this[i][1] = (this[i][1] - r.x) * t / r.width + r.x : "V" === n ?
					this[i][1] = (this[i][1] - r.y) * e / r.height + r.y : "C" === n || "S" === n || "Q" === n ?
					(this[i][1] = (this[i][1] - r.x) * t / r.width + r.x, this[i][2] = (this[i][2] - r.y) * e /
						r.height + r.y, this[i][3] = (this[i][3] - r.x) * t / r.width + r.x, this[i][4] = (this[
							i][4] - r.y) * e / r.height + r.y, "C" === n && (this[i][5] = (this[i][5] - r.x) *
							t / r.width + r.x, this[i][6] = (this[i][6] - r.y) * e / r.height + r.y)) : "A" ===
					n && (this[i][1] = this[i][1] * t / r.width, this[i][2] = this[i][2] * e / r.height, this[i]
						[6] = (this[i][6] - r.x) * t / r.width + r.x, this[i][7] = (this[i][7] - r.y) * e / r
						.height + r.y);
				return this
			}, i.toString = function() {
				return function(t) {
					for (var e = "", i = 0, n = t.length; i < n; i++) e += t[i][0], null != t[i][1] && (e +=
						t[i][1], null != t[i][2] && (e += " ", e += t[i][2], null != t[i][3] && (e +=
							" ", e += t[i][3], e += " ", e += t[i][4], null != t[i][5] && (e += " ",
								e += t[i][5], e += " ", e += t[i][6], null != t[i][7] && (e += " ",
									e += t[i][7])))));
					return e + " "
				}(this)
			}, e
		}(xv),
		wg = function(t) {
			var e = typeof t;
			return "number" === e ? Av : "string" === e ? ov.isColor(t) ? ov : tv.test(t) ? ev.test(t) ? bg : xv :
				jm.test(t) ? Av : Eg : Ag.indexOf(t.constructor) > -1 ? t.constructor : Array.isArray(t) ? xv :
				"object" === e ? xg : Eg
		},
		kg = function() {
			function t(t) {
				this._stepper = t || new sg("-"), this._from = null, this._to = null, this._type = null, this
					._context = null, this._morphObj = null
			}
			var e = t.prototype;
			return e.at = function(t) {
				var e = this;
				return this._morphObj.fromArray(this._from.map(function(i, n) {
					return e._stepper.step(i, e._to[n], t, e._context[n], e._context)
				}))
			}, e.done = function() {
				return this._context.map(this._stepper.done).reduce(function(t, e) {
					return t && e
				}, !0)
			}, e.from = function(t) {
				return null == t ? this._from : (this._from = this._set(t), this)
			}, e.stepper = function(t) {
				return null == t ? this._stepper : (this._stepper = t, this)
			}, e.to = function(t) {
				return null == t ? this._to : (this._to = this._set(t), this)
			}, e.type = function(t) {
				return null == t ? this._type : (this._type = t, this)
			}, e._set = function(t) {
				this._type || this.type(wg(t));
				var e = new this._type(t);
				return this._type === ov && (e = this._to ? e[this._to[4]]() : this._from ? e[this._from[4]]() :
						e), this._type === xg && (e = this._to ? e.align(this._to) : this._from ? e.align(this
						._from) : e), e = e.toArray(), this._morphObj = this._morphObj || new this._type, this
					._context = this._context || Array.apply(null, Array(e.length)).map(Object).map(function(
					t) {
						return t.done = !0, t
					}), e
			}, t
		}(),
		Eg = function() {
			function t() {
				this.init.apply(this, arguments)
			}
			var e = t.prototype;
			return e.init = function(t) {
				return t = Array.isArray(t) ? t[0] : t, this.value = t, this
			}, e.toArray = function() {
				return [this.value]
			}, e.valueOf = function() {
				return this.value
			}, t
		}(),
		Sg = function() {
			function t() {
				this.init.apply(this, arguments)
			}
			var e = t.prototype;
			return e.init = function(e) {
				return Array.isArray(e) && (e = {
					scaleX: e[0],
					scaleY: e[1],
					shear: e[2],
					rotate: e[3],
					translateX: e[4],
					translateY: e[5],
					originX: e[6],
					originY: e[7]
				}), m(this, t.defaults, e), this
			}, e.toArray = function() {
				var t = this;
				return [t.scaleX, t.scaleY, t.shear, t.rotate, t.translateX, t.translateY, t.originX, t.originY]
			}, t
		}();
	Sg.defaults = {
		scaleX: 1,
		scaleY: 1,
		shear: 0,
		rotate: 0,
		translateX: 0,
		translateY: 0,
		originX: 0,
		originY: 0
	};
	var Tg = function(t, e) {
			return t[0] < e[0] ? -1 : t[0] > e[0] ? 1 : 0
		},
		xg = function() {
			function t() {
				this.init.apply(this, arguments)
			}
			var e = t.prototype;
			return e.align = function(t) {
				for (var e = 0, i = this.values.length; e < i; ++e)
					if (this.values[e] === ov) {
						var n, r = t[e + 6],
							o = new ov(this.values.splice(e + 2, 5))[r]().toArray();
						(n = this.values).splice.apply(n, [e + 2, 0].concat(o))
					} return this
			}, e.init = function(t) {
				if (this.values = [], !Array.isArray(t)) {
					t = t || {};
					var e = [];
					for (var i in t) {
						var n = wg(t[i]),
							r = new n(t[i]).toArray();
						e.push([i, n, r.length].concat(r))
					}
					return e.sort(Tg), this.values = e.reduce(function(t, e) {
						return t.concat(e)
					}, []), this
				}
				this.values = t.slice()
			}, e.toArray = function() {
				return this.values
			}, e.valueOf = function() {
				for (var t = {}, e = this.values; e.length;) {
					var i = e.shift(),
						n = e.shift(),
						r = e.shift(),
						o = e.splice(0, r);
					t[i] = new n(o).valueOf()
				}
				return t
			}, t
		}(),
		Ag = [Eg, Sg, xg];
	var Cg = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("path", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.array = function() {
			return this._array || (this._array = new bg(this.attr("d")))
		}, i.clear = function() {
			return delete this._array, this
		}, i.height = function(t) {
			return null == t ? this.bbox().height : this.size(this.bbox().width, t)
		}, i.move = function(t, e) {
			return this.attr("d", this.array().move(t, e))
		}, i.plot = function(t) {
			return null == t ? this.array() : this.clear().attr("d", "string" == typeof t ? t : this
				._array = new bg(t))
		}, i.size = function(t, e) {
			var i = Sm(this, t, e);
			return this.attr("d", this.array().size(i.width, i.height))
		}, i.width = function(t) {
			return null == t ? this.bbox().width : this.size(t, this.bbox().height)
		}, i.x = function(t) {
			return null == t ? this.bbox().x : this.move(t, this.bbox().y)
		}, i.y = function(t) {
			return null == t ? this.bbox().y : this.move(this.bbox().x, t)
		}, e
	}(Mv);
	Cg.prototype.MorphArray = bg, gm({
		Container: {
			path: Hm(function(t) {
				return this.put(new Cg).plot(t || new bg)
			})
		}
	}), Fm(Cg, "Path");
	var Rg = Object.freeze({
			array: function() {
				return this._array || (this._array = new Qv(this.attr("points")))
			},
			clear: function() {
				return delete this._array, this
			},
			move: function(t, e) {
				return this.attr("points", this.array().move(t, e))
			},
			plot: function(t) {
				return null == t ? this.array() : this.clear().attr("points", "string" == typeof t ? t :
					this._array = new Qv(t))
			},
			size: function(t, e) {
				var i = Sm(this, t, e);
				return this.attr("points", this.array().size(i.width, i.height))
			}
		}),
		Ig = function(t) {
			function e(e, i) {
				return void 0 === i && (i = e), t.call(this, Bm("polygon", e), i) || this
			}
			return r(e, t), e
		}(Mv);
	gm({
		Container: {
			polygon: Hm(function(t) {
				return this.put(new Ig).plot(t || new Qv)
			})
		}
	}), zm(Ig, tg), zm(Ig, Rg), Fm(Ig, "Polygon");
	var Lg = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("polyline", e), i) || this
		}
		return r(e, t), e
	}(Mv);
	gm({
		Container: {
			polyline: Hm(function(t) {
				return this.put(new Lg).plot(t || new Qv)
			})
		}
	}), zm(Lg, tg), zm(Lg, Rg), Fm(Lg, "Polyline");
	var Pg = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("rect", e), i) || this
		}
		return r(e, t), e
	}(Mv);
	zm(Pg, {
		rx: Bv,
		ry: Ov
	}), gm({
		Container: {
			rect: Hm(function(t, e) {
				return this.put(new Pg).size(t, e)
			})
		}
	}), Fm(Pg, "Rect");
	var Dg = function() {
			function t() {
				this._first = null, this._last = null
			}
			var e = t.prototype;
			return e.first = function() {
				return this._first && this._first.value
			}, e.last = function() {
				return this._last && this._last.value
			}, e.push = function(t) {
				var e = void 0 !== t.next ? t : {
					value: t,
					next: null,
					prev: null
				};
				return this._last ? (e.prev = this._last, this._last.next = e, this._last = e) : (this._last =
					e, this._first = e), e
			}, e.remove = function(t) {
				t.prev && (t.prev.next = t.next), t.next && (t.next.prev = t.prev), t === this._last && (this
						._last = t.prev), t === this._first && (this._first = t.next), t.prev = null, t.next =
					null
			}, e.shift = function() {
				var t = this._first;
				return t ? (this._first = t.next, this._first && (this._first.prev = null), this._last = this
					._first ? this._last : null, t.value) : null
			}, t
		}(),
		Mg = {
			nextDraw: null,
			frames: new Dg,
			timeouts: new Dg,
			immediates: new Dg,
			timer: function() {
				return Rm.window.performance || Rm.window.Date
			},
			transforms: [],
			frame: function(t) {
				var e = Mg.frames.push({
					run: t
				});
				return null === Mg.nextDraw && (Mg.nextDraw = Rm.window.requestAnimationFrame(Mg._draw)), e
			},
			timeout: function(t, e) {
				e = e || 0;
				var i = Mg.timer().now() + e,
					n = Mg.timeouts.push({
						run: t,
						time: i
					});
				return null === Mg.nextDraw && (Mg.nextDraw = Rm.window.requestAnimationFrame(Mg._draw)), n
			},
			immediate: function(t) {
				var e = Mg.immediates.push(t);
				return null === Mg.nextDraw && (Mg.nextDraw = Rm.window.requestAnimationFrame(Mg._draw)), e
			},
			cancelFrame: function(t) {
				null != t && Mg.frames.remove(t)
			},
			clearTimeout: function(t) {
				null != t && Mg.timeouts.remove(t)
			},
			cancelImmediate: function(t) {
				null != t && Mg.immediates.remove(t)
			},
			_draw: function(t) {
				for (var e = null, i = Mg.timeouts.last();
					(e = Mg.timeouts.shift()) && (t >= e.time ? e.run() : Mg.timeouts.push(e), e !== i););
				for (var n = null, r = Mg.frames.last(); n !== r && (n = Mg.frames.shift());) n.run(t);
				for (var o = null; o = Mg.immediates.shift();) o();
				Mg.nextDraw = Mg.timeouts.first() || Mg.frames.first() ? Rm.window.requestAnimationFrame(Mg
					._draw) : null
			}
		},
		Bg = function(t) {
			var e = t.start,
				i = t.runner.duration();
			return {
				start: e,
				duration: i,
				end: e + i,
				runner: t.runner
			}
		},
		Og = function() {
			var t = Rm.window;
			return (t.performance || t.Date).now()
		},
		Ug = function(t) {
			function e(e) {
				var i;
				return void 0 === e && (e = Og), (i = t.call(this) || this)._timeSource = e, i._startTime = 0, i
					._speed = 1, i._persist = 0, i._nextFrame = null, i._paused = !0, i._runners = [], i
					._runnerIds = [], i._lastRunnerId = -1, i._time = 0, i._lastSourceTime = 0, i._lastStepTime = 0,
					i._step = i._stepFn.bind(i, !1), i._stepImmediate = i._stepFn.bind(i, !0), i
			}
			r(e, t);
			var i = e.prototype;
			return i.active = function() {
				return !!this._nextFrame
			}, i.finish = function() {
				return this.time(this.getEndTimeOfTimeline() + 1), this.pause()
			}, i.getEndTime = function() {
				var t = this.getLastRunnerInfo(),
					e = t ? t.runner.duration() : 0;
				return (t ? t.start : this._time) + e
			}, i.getEndTimeOfTimeline = function() {
				var t = this._runners.map(function(t) {
					return t.start + t.runner.duration()
				});
				return Math.max.apply(Math, [0].concat(t))
			}, i.getLastRunnerInfo = function() {
				return this.getRunnerInfoById(this._lastRunnerId)
			}, i.getRunnerInfoById = function(t) {
				return this._runners[this._runnerIds.indexOf(t)] || null
			}, i.pause = function() {
				return this._paused = !0, this._continue()
			}, i.persist = function(t) {
				return null == t ? this._persist : (this._persist = t, this)
			}, i.play = function() {
				return this._paused = !1, this.updateTime()._continue()
			}, i.reverse = function(t) {
				var e = this.speed();
				if (null == t) return this.speed(-e);
				var i = Math.abs(e);
				return this.speed(t ? -i : i)
			}, i.schedule = function(t, e, i) {
				if (null == t) return this._runners.map(Bg);
				var n = 0,
					r = this.getEndTime();
				if (e = e || 0, null == i || "last" === i || "after" === i) n = r;
				else if ("absolute" === i || "start" === i) n = e, e = 0;
				else if ("now" === i) n = this._time;
				else if ("relative" === i) {
					var o = this.getRunnerInfoById(t.id);
					o && (n = o.start + e, e = 0)
				} else {
					if ("with-last" !== i) throw new Error('Invalid value for the "when" parameter');
					var s = this.getLastRunnerInfo();
					n = s ? s.start : this._time
				}
				t.unschedule(), t.timeline(this);
				var a = t.persist(),
					h = {
						persist: null === a ? this._persist : a,
						start: n + e,
						runner: t
					};
				return this._lastRunnerId = t.id, this._runners.push(h), this._runners.sort(function(t, e) {
					return t.start - e.start
				}), this._runnerIds = this._runners.map(function(t) {
					return t.runner.id
				}), this.updateTime()._continue(), this
			}, i.seek = function(t) {
				return this.time(this._time + t)
			}, i.source = function(t) {
				return null == t ? this._timeSource : (this._timeSource = t, this)
			}, i.speed = function(t) {
				return null == t ? this._speed : (this._speed = t, this)
			}, i.stop = function() {
				return this.time(0), this.pause()
			}, i.time = function(t) {
				return null == t ? this._time : (this._time = t, this._continue(!0))
			}, i.unschedule = function(t) {
				var e = this._runnerIds.indexOf(t.id);
				return e < 0 ? this : (this._runners.splice(e, 1), this._runnerIds.splice(e, 1), t.timeline(
					null), this)
			}, i.updateTime = function() {
				return this.active() || (this._lastSourceTime = this._timeSource()), this
			}, i._continue = function(t) {
				return void 0 === t && (t = !1), Mg.cancelFrame(this._nextFrame), this._nextFrame = null, t ?
					this._stepImmediate() : this._paused ? this : (this._nextFrame = Mg.frame(this._step), this)
			}, i._stepFn = function(t) {
				void 0 === t && (t = !1);
				var e = this._timeSource(),
					i = e - this._lastSourceTime;
				t && (i = 0);
				var n = this._speed * i + (this._time - this._lastStepTime);
				this._lastSourceTime = e, t || (this._time += n, this._time = this._time < 0 ? 0 : this._time),
					this._lastStepTime = this._time, this.fire("time", this._time);
				for (var r = this._runners.length; r--;) {
					var o = this._runners[r],
						s = o.runner;
					this._time - o.start <= 0 && s.reset()
				}
				for (var a = !1, h = 0, c = this._runners.length; h < c; h++) {
					var u = this._runners[h],
						l = u.runner,
						d = n,
						f = this._time - u.start;
					if (f <= 0) a = !0;
					else if (f < d && (d = f), l.active())
						if (l.step(d).done) {
							if (!0 !== u.persist) {
								l.duration() - l.time() + this._time + u.persist < this._time && (l
								.unschedule(), --h, --c)
							}
						} else a = !0
				}
				return a && !(this._speed < 0 && 0 === this._time) || this._runnerIds.length && this._speed <
					0 && this._time > 0 ? this._continue() : (this.pause(), this.fire("finished")), this
			}, e
		}(kv);
	gm({
		Element: {
			timeline: function(t) {
				return null == t ? (this._timeline = this._timeline || new Ug, this._timeline) : (this
					._timeline = t, this)
			}
		}
	});
	var Fg = function(t) {
		function e(i) {
			var n;
			return (n = t.call(this) || this).id = e.id++, i = "function" == typeof(i = null == i ? Sv
					.duration : i) ? new ag(i) : i, n._element = null, n._timeline = null, n.done = !1, n
				._queue = [], n._duration = "number" == typeof i && i, n._isDeclarative = i instanceof ag, n
				._stepper = n._isDeclarative ? i : new sg, n._history = {}, n.enabled = !0, n._time = 0, n
				._lastTime = 0, n._reseted = !0, n.transforms = new hv, n.transformId = 1, n._haveReversed = !1,
				n._reverse = !1, n._loopsDone = 0, n._swing = !1, n._wait = 0, n._times = 1, n._frameId = null,
				n._persist = !!n._isDeclarative || null, n
		}
		r(e, t), e.sanitise = function(t, e, i) {
			var n = 1,
				r = !1,
				o = 0;
			return t = t || Sv.duration, e = e || Sv.delay, i = i || "last", "object" != typeof t ||
				t instanceof og || (e = t.delay || e, i = t.when || i, r = t.swing || r, n = t.times || n,
					o = t.wait || o, t = t.duration || Sv.duration), {
					duration: t,
					delay: e,
					swing: r,
					times: n,
					wait: o,
					when: i
				}
		};
		var i = e.prototype;
		return i.active = function(t) {
			return null == t ? this.enabled : (this.enabled = t, this)
		}, i.addTransform = function(t, e) {
			return this.transforms.lmultiplyO(t), this
		}, i.after = function(t) {
			return this.on("finished", t)
		}, i.animate = function(t, i, n) {
			var r = e.sanitise(t, i, n),
				o = new e(r.duration);
			return this._timeline && o.timeline(this._timeline), this._element && o.element(this._element),
				o.loop(r).schedule(r.delay, r.when)
		}, i.clearTransform = function() {
			return this.transforms = new hv, this
		}, i.clearTransformsFromQueue = function() {
			this.done && this._timeline && this._timeline._runnerIds.includes(this.id) || (this._queue =
				this._queue.filter(function(t) {
					return !t.isTransform
				}))
		}, i.delay = function(t) {
			return this.animate(0, t)
		}, i.duration = function() {
			return this._times * (this._wait + this._duration) - this._wait
		}, i.during = function(t) {
			return this.queue(null, t)
		}, i.ease = function(t) {
			return this._stepper = new sg(t), this
		}, i.element = function(t) {
			return null == t ? this._element : (this._element = t, t._prepareRunner(), this)
		}, i.finish = function() {
			return this.step(1 / 0)
		}, i.loop = function(t, e, i) {
			return "object" == typeof t && (e = t.swing, i = t.wait, t = t.times), this._times = t || 1 / 0,
				this._swing = e || !1, this._wait = i || 0, !0 === this._times && (this._times = 1 / 0),
				this
		}, i.loops = function(t) {
			var e = this._duration + this._wait;
			if (null == t) {
				var i = Math.floor(this._time / e),
					n = (this._time - i * e) / this._duration;
				return Math.min(i + n, this._times)
			}
			var r = t % 1,
				o = e * Math.floor(t) + this._duration * r;
			return this.time(o)
		}, i.persist = function(t) {
			return null == t ? this._persist : (this._persist = t, this)
		}, i.position = function(t) {
			var e, i = this._time,
				n = this._duration,
				r = this._wait,
				o = this._times,
				s = this._swing,
				a = this._reverse;
			if (null == t) {
				var h = function(t) {
						var e = s * Math.floor(t % (2 * (r + n)) / (r + n)),
							i = e && !a || !e && a,
							o = Math.pow(-1, i) * (t % (r + n)) / n + i;
						return Math.max(Math.min(o, 1), 0)
					},
					c = o * (r + n) - r;
				return e = i <= 0 ? Math.round(h(1e-5)) : i < c ? h(i) : Math.round(h(c - 1e-5)), e
			}
			var u = Math.floor(this.loops()),
				l = s && u % 2 == 0;
			return e = u + (l && !a || a && l ? t : 1 - t), this.loops(e)
		}, i.progress = function(t) {
			return null == t ? Math.min(1, this._time / this.duration()) : this.time(t * this.duration())
		}, i.queue = function(t, e, i, n) {
			return this._queue.push({
				initialiser: t || Ev,
				runner: e || Ev,
				retarget: i,
				isTransform: n,
				initialised: !1,
				finished: !1
			}), this.timeline() && this.timeline()._continue(), this
		}, i.reset = function() {
			return this._reseted ? this : (this.time(0), this._reseted = !0, this)
		}, i.reverse = function(t) {
			return this._reverse = null == t ? !this._reverse : t, this
		}, i.schedule = function(t, e, i) {
			if (t instanceof Ug || (i = e, e = t, t = this.timeline()), !t) throw Error(
				"Runner cannot be scheduled without timeline");
			return t.schedule(this, e, i), this
		}, i.step = function(t) {
			if (!this.enabled) return this;
			t = null == t ? 16 : t, this._time += t;
			var e = this.position(),
				i = this._lastPosition !== e && this._time >= 0;
			this._lastPosition = e;
			var n = this.duration(),
				r = this._lastTime <= 0 && this._time > 0,
				o = this._lastTime < n && this._time >= n;
			this._lastTime = this._time, r && this.fire("start", this);
			var s = this._isDeclarative;
			this.done = !s && !o && this._time >= n, this._reseted = !1;
			var a = !1;
			return (i || s) && (this._initialise(i), this.transforms = new hv, a = this._run(s ? t : e),
				this.fire("step", this)), this.done = this.done || a && s, o && this.fire("finished",
				this), this
		}, i.time = function(t) {
			if (null == t) return this._time;
			var e = t - this._time;
			return this.step(e), this
		}, i.timeline = function(t) {
			return void 0 === t ? this._timeline : (this._timeline = t, this)
		}, i.unschedule = function() {
			var t = this.timeline();
			return t && t.unschedule(this), this
		}, i._initialise = function(t) {
			if (t || this._isDeclarative)
				for (var e = 0, i = this._queue.length; e < i; ++e) {
					var n = this._queue[e],
						r = this._isDeclarative || !n.initialised && t;
					t = !n.finished, r && t && (n.initialiser.call(this), n.initialised = !0)
				}
		}, i._rememberMorpher = function(t, e) {
			if (this._history[t] = {
					morpher: e,
					caller: this._queue[this._queue.length - 1]
				}, this._isDeclarative) {
				var i = this.timeline();
				i && i.play()
			}
		}, i._run = function(t) {
			for (var e = !0, i = 0, n = this._queue.length; i < n; ++i) {
				var r = this._queue[i],
					o = r.runner.call(this, t);
				r.finished = r.finished || !0 === o, e = e && r.finished
			}
			return e
		}, i._tryRetarget = function(t, e, i) {
			if (this._history[t]) {
				if (!this._history[t].caller.initialised) {
					var n = this._queue.indexOf(this._history[t].caller);
					return this._queue.splice(n, 1), !1
				}
				this._history[t].caller.retarget ? this._history[t].caller.retarget.call(this, e, i) : this
					._history[t].morpher.to(e), this._history[t].caller.finished = !1;
				var r = this.timeline();
				return r && r.play(), !0
			}
			return !1
		}, e
	}(kv);
	Fg.id = 0;
	var Ng = function() {
		function t(t, e, i) {
			void 0 === t && (t = new hv), void 0 === e && (e = -1), void 0 === i && (i = !0), this.transforms =
				t, this.id = e, this.done = i
		}
		return t.prototype.clearTransformsFromQueue = function() {}, t
	}();
	zm([Fg, Ng], {
		mergeWith: function(t) {
			return new Ng(t.transforms.lmultiply(this.transforms), t.id)
		}
	});
	var Vg = function(t, e) {
			return t.lmultiplyO(e)
		},
		zg = function(t) {
			return t.transforms
		};
	var Hg = function() {
		function t() {
			this.runners = [], this.ids = []
		}
		var e = t.prototype;
		return e.add = function(t) {
			if (!this.runners.includes(t)) {
				var e = t.id + 1;
				return this.runners.push(t), this.ids.push(e), this
			}
		}, e.clearBefore = function(t) {
			var e = this.ids.indexOf(t + 1) || 1;
			return this.ids.splice(0, e, 0), this.runners.splice(0, e, new Ng).forEach(function(t) {
				return t.clearTransformsFromQueue()
			}), this
		}, e.edit = function(t, e) {
			var i = this.ids.indexOf(t + 1);
			return this.ids.splice(i, 1, t + 1), this.runners.splice(i, 1, e), this
		}, e.getByID = function(t) {
			return this.runners[this.ids.indexOf(t + 1)]
		}, e.length = function() {
			return this.ids.length
		}, e.merge = function() {
			for (var t = null, e = 0; e < this.runners.length; ++e) {
				var i = this.runners[e];
				if (t && i.done && t.done && (!i._timeline || !i._timeline._runnerIds.includes(i.id)) && (!t
						._timeline || !t._timeline._runnerIds.includes(t.id))) {
					this.remove(i.id);
					var n = i.mergeWith(t);
					this.edit(t.id, n), t = n, --e
				} else t = i
			}
			return this
		}, e.remove = function(t) {
			var e = this.ids.indexOf(t + 1);
			return this.ids.splice(e, 1), this.runners.splice(e, 1), this
		}, t
	}();
	gm({
		Element: {
			animate: function(t, e, i) {
				var n = Fg.sanitise(t, e, i),
					r = this.timeline();
				return new Fg(n.duration).loop(n).element(this).timeline(r.play()).schedule(n.delay, n
					.when)
			},
			delay: function(t, e) {
				return this.animate(0, t, e)
			},
			_clearTransformRunnersBefore: function(t) {
				this._transformationRunners.clearBefore(t.id)
			},
			_currentTransform: function(t) {
				return this._transformationRunners.runners.filter(function(e) {
					return e.id <= t.id
				}).map(zg).reduce(Vg, new hv)
			},
			_addRunner: function(t) {
				this._transformationRunners.add(t), Mg.cancelImmediate(this._frameId), this._frameId =
					Mg.immediate(function() {
						var t = this._transformationRunners.runners.map(zg).reduce(Vg, new hv);
						this.transform(t), this._transformationRunners.merge(), 1 === this
							._transformationRunners.length() && (this._frameId = null)
					}.bind(this))
			},
			_prepareRunner: function() {
				null == this._frameId && (this._transformationRunners = (new Hg).add(new Ng(new hv(
					this))))
			}
		}
	});
	zm(Fg, {
		attr: function(t, e) {
			return this.styleAttr("attr", t, e)
		},
		css: function(t, e) {
			return this.styleAttr("css", t, e)
		},
		styleAttr: function(t, e, i) {
			var n;
			if ("string" == typeof e) return this.styleAttr(t, ((n = {})[e] = i, n));
			var r = e;
			if (this._tryRetarget(t, r)) return this;
			var o = new kg(this._stepper).to(r),
				s = g(r);
			return this.queue(function() {
				o = o.from(this.element()[t](s))
			}, function(e) {
				return this.element()[t](o.at(e).valueOf()), o.done()
			}, function(e) {
				var i, n = g(e),
					a = (i = s, n.filter(function(t) {
						return !i.includes(t)
					}));
				if (a.length) {
					var h = this.element()[t](a),
						c = new xg(o.from()).valueOf();
					m(c, h), o.from(c)
				}
				var u = new xg(o.to()).valueOf();
				m(u, e), o.to(u), s = n, r = e
			}), this._rememberMorpher(t, o), this
		},
		zoom: function(t, e) {
			if (this._tryRetarget("zoom", t, e)) return this;
			var i = new kg(this._stepper).to(new Av(t));
			return this.queue(function() {
				i = i.from(this.element().zoom())
			}, function(t) {
				return this.element().zoom(i.at(t), e), i.done()
			}, function(t, n) {
				e = n, i.to(t)
			}), this._rememberMorpher("zoom", i), this
		},
		transform: function(t, e, i) {
			if (e = t.relative || e, this._isDeclarative && !e && this._tryRetarget("transform", t))
				return this;
			var n = hv.isMatrixLike(t);
			i = null != t.affine ? t.affine : null != i ? i : !n;
			var r, o, s, a, h, c = new kg(this._stepper).type(i ? Sg : hv);
			return this.queue(function() {
				o = o || this.element(), r = r || Tm(t, o), h = new hv(e ? void 0 : o), o
					._addRunner(this), e || o._clearTransformRunnersBefore(this)
			}, function(u) {
				e || this.clearTransform();
				var l = new sv(r).transform(o._currentTransform(this)),
					d = l.x,
					f = l.y,
					p = new hv(m({}, t, {
						origin: [d, f]
					})),
					v = this._isDeclarative && s ? s : h;
				if (i) {
					p = p.decompose(d, f), v = v.decompose(d, f);
					var g = p.rotate,
						y = v.rotate,
						_ = [g - 360, g, g + 360],
						b = _.map(function(t) {
							return Math.abs(t - y)
						}),
						w = Math.min.apply(Math, b),
						k = b.indexOf(w);
					p.rotate = _[k]
				}
				e && (n || (p.rotate = t.rotate || 0), this._isDeclarative && a && (v.rotate =
					a)), c.from(v), c.to(p);
				var E = c.at(u);
				return a = E.rotate, s = new hv(E), this.addTransform(s), o._addRunner(this), c
					.done()
			}, function(e) {
				(e.origin || "center").toString() !== (t.origin || "center").toString() && (r =
					Tm(e, o)), t = m({}, e, {
					origin: r
				})
			}, !0), this._isDeclarative && this._rememberMorpher("transform", c), this
		},
		x: function(t, e) {
			return this._queueNumber("x", t)
		},
		y: function(t) {
			return this._queueNumber("y", t)
		},
		dx: function(t) {
			return void 0 === t && (t = 0), this._queueNumberDelta("x", t)
		},
		dy: function(t) {
			return void 0 === t && (t = 0), this._queueNumberDelta("y", t)
		},
		dmove: function(t, e) {
			return this.dx(t).dy(e)
		},
		_queueNumberDelta: function(t, e) {
			if (e = new Av(e), this._tryRetarget(t, e)) return this;
			var i = new kg(this._stepper).to(e),
				n = null;
			return this.queue(function() {
				n = this.element()[t](), i.from(n), i.to(n + e)
			}, function(e) {
				return this.element()[t](i.at(e)), i.done()
			}, function(t) {
				i.to(n + new Av(t))
			}), this._rememberMorpher(t, i), this
		},
		_queueObject: function(t, e) {
			if (this._tryRetarget(t, e)) return this;
			var i = new kg(this._stepper).to(e);
			return this.queue(function() {
				i.from(this.element()[t]())
			}, function(e) {
				return this.element()[t](i.at(e)), i.done()
			}), this._rememberMorpher(t, i), this
		},
		_queueNumber: function(t, e) {
			return this._queueObject(t, new Av(e))
		},
		cx: function(t) {
			return this._queueNumber("cx", t)
		},
		cy: function(t) {
			return this._queueNumber("cy", t)
		},
		move: function(t, e) {
			return this.x(t).y(e)
		},
		center: function(t, e) {
			return this.cx(t).cy(e)
		},
		size: function(t, e) {
			var i;
			return t && e || (i = this._element.bbox()), t || (t = i.width / i.height * e), e || (e = i
				.height / i.width * t), this.width(t).height(e)
		},
		width: function(t) {
			return this._queueNumber("width", t)
		},
		height: function(t) {
			return this._queueNumber("height", t)
		},
		plot: function(t, e, i, n) {
			if (4 === arguments.length) return this.plot([t, e, i, n]);
			if (this._tryRetarget("plot", t)) return this;
			var r = new kg(this._stepper).type(this._element.MorphArray).to(t);
			return this.queue(function() {
				r.from(this._element.array())
			}, function(t) {
				return this._element.plot(r.at(t)), r.done()
			}), this._rememberMorpher("plot", r), this
		},
		leading: function(t) {
			return this._queueNumber("leading", t)
		},
		viewbox: function(t, e, i, n) {
			return this._queueObject("viewbox", new lv(t, e, i, n))
		},
		update: function(t) {
			return "object" != typeof t ? this.update({
				offset: arguments[0],
				color: arguments[1],
				opacity: arguments[2]
			}) : (null != t.opacity && this.attr("stop-opacity", t.opacity), null != t.color && this
				.attr("stop-color", t.color), null != t.offset && this.attr("offset", t.offset),
				this)
		}
	}), zm(Fg, {
		rx: Bv,
		ry: Ov,
		from: qv,
		to: Gv
	}), Fm(Fg, "Runner");
	var jg = function(t) {
		function e(e, i) {
			var n;
			return void 0 === i && (i = e), (n = t.call(this, Bm("svg", e), i) || this).namespace(), n
		}
		r(e, t);
		var i = e.prototype;
		return i.defs = function() {
			return this.isRoot() ? Om(this.node.querySelector("defs")) || this.put(new Dv) : this.root()
				.defs()
		}, i.isRoot = function() {
			return !this.node.parentNode || !(this.node.parentNode instanceof Rm.window.SVGElement) &&
				"#document-fragment" !== this.node.parentNode.nodeName
		}, i.namespace = function() {
			return this.isRoot() ? this.attr({
					xmlns: xm,
					version: "1.1"
				}).attr("xmlns:xlink", Cm, Am).attr("xmlns:svgjs", "http://svgjs.dev/svgjs", Am) : this
				.root().namespace()
		}, i.removeNamespace = function() {
			return this.attr({
				xmlns: null,
				version: null
			}).attr("xmlns:xlink", null, Am).attr("xmlns:svgjs", null, Am)
		}, i.root = function() {
			return this.isRoot() ? this : t.prototype.root.call(this)
		}, e
	}(Pv);
	gm({
		Container: {
			nested: Hm(function() {
				return this.put(new jg)
			})
		}
	}), Fm(jg, "Svg", !0);
	var $g = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("symbol", e), i) || this
		}
		return r(e, t), e
	}(Pv);
	gm({
		Container: {
			symbol: Hm(function() {
				return this.put(new $g)
			})
		}
	}), Fm($g, "Symbol");
	var Wg = Object.freeze({
			plain: function(t) {
				return !1 === this._build && this.clear(), this.node.appendChild(Rm.document.createTextNode(
					t)), this
			},
			length: function() {
				return this.node.getComputedTextLength()
			},
			x: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.x : this.attr("x", this.attr("x") +
					t - e.x)
			},
			y: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.y : this.attr("y", this.attr("y") +
					t - e.y)
			},
			move: function(t, e, i) {
				return void 0 === i && (i = this.bbox()), this.x(t, i).y(e, i)
			},
			cx: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.cx : this.attr("x", this.attr("x") +
					t - e.cx)
			},
			cy: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.cy : this.attr("y", this.attr("y") +
					t - e.cy)
			},
			center: function(t, e, i) {
				return void 0 === i && (i = this.bbox()), this.cx(t, i).cy(e, i)
			},
			ax: function(t) {
				return this.attr("x", t)
			},
			ay: function(t) {
				return this.attr("y", t)
			},
			amove: function(t, e) {
				return this.ax(t).ay(e)
			},
			build: function(t) {
				return this._build = !!t, this
			}
		}),
		qg = function(t) {
			function e(e, i) {
				var n;
				return void 0 === i && (i = e), (n = t.call(this, Bm("text", e), i) || this).dom.leading = new Av(
					1.3), n._rebuild = !0, n._build = !1, n
			}
			r(e, t);
			var i = e.prototype;
			return i.leading = function(t) {
				return null == t ? this.dom.leading : (this.dom.leading = new Av(t), this.rebuild())
			}, i.rebuild = function(t) {
				if ("boolean" == typeof t && (this._rebuild = t), this._rebuild) {
					var e = this,
						i = 0,
						n = this.dom.leading;
					this.each(function(t) {
						var r = Rm.window.getComputedStyle(this.node).getPropertyValue("font-size"),
							o = n * new Av(r);
						this.dom.newLined && (this.attr("x", e.attr("x")), "\n" === this.text() ? i +=
							o : (this.attr("dy", t ? o + i : 0), i = 0))
					}), this.fire("rebuild")
				}
				return this
			}, i.setData = function(t) {
				return this.dom = t, this.dom.leading = new Av(t.leading || 1.3), this
			}, i.text = function(t) {
				if (void 0 === t) {
					var e = this.node.childNodes,
						i = 0;
					t = "";
					for (var n = 0, r = e.length; n < r; ++n) "textPath" !== e[n].nodeName ? (n !== i && 3 !==
							e[n].nodeType && !0 === Om(e[n]).dom.newLined && (t += "\n"), t += e[n].textContent
							) : 0 === n && (i = 1);
					return t
				}
				if (this.clear().build(!0), "function" == typeof t) t.call(this, this);
				else
					for (var o = 0, s = (t = (t + "").split("\n")).length; o < s; o++) this.newLine(t[o]);
				return this.build(!1).rebuild()
			}, e
		}(Mv);
	zm(qg, Wg), gm({
		Container: {
			text: Hm(function(t) {
				return void 0 === t && (t = ""), this.put(new qg).text(t)
			}),
			plain: Hm(function(t) {
				return void 0 === t && (t = ""), this.put(new qg).plain(t)
			})
		}
	}), Fm(qg, "Text");
	var Gg = function(t) {
		function e(e, i) {
			var n;
			return void 0 === i && (i = e), (n = t.call(this, Bm("tspan", e), i) || this)._build = !1, n
		}
		r(e, t);
		var i = e.prototype;
		return i.dx = function(t) {
			return this.attr("dx", t)
		}, i.dy = function(t) {
			return this.attr("dy", t)
		}, i.newLine = function() {
			this.dom.newLined = !0;
			var t = this.parent();
			if (!(t instanceof qg)) return this;
			var e = t.index(this),
				i = Rm.window.getComputedStyle(this.node).getPropertyValue("font-size"),
				n = t.dom.leading * new Av(i);
			return this.dy(e ? n : 0).attr("x", t.x())
		}, i.text = function(t) {
			return null == t ? this.node.textContent + (this.dom.newLined ? "\n" : "") : ("function" ==
				typeof t ? (this.clear().build(!0), t.call(this, this), this.build(!1)) : this.plain(t),
				this)
		}, e
	}(Mv);
	zm(Gg, Wg), gm({
		Tspan: {
			tspan: Hm(function(t) {
				void 0 === t && (t = "");
				var e = new Gg;
				return this._build || this.clear(), this.put(e).text(t)
			})
		},
		Text: {
			newLine: function(t) {
				return void 0 === t && (t = ""), this.tspan(t).newLine()
			}
		}
	}), Fm(Gg, "Tspan");
	var Kg = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("circle", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.radius = function(t) {
			return this.attr("r", t)
		}, i.rx = function(t) {
			return this.attr("r", t)
		}, i.ry = function(t) {
			return this.rx(t)
		}, i.size = function(t) {
			return this.radius(new Av(t).divide(2))
		}, e
	}(Mv);
	zm(Kg, {
		x: Uv,
		y: Fv,
		cx: Nv,
		cy: Vv,
		width: zv,
		height: Hv
	}), gm({
		Container: {
			circle: Hm(function(t) {
				return void 0 === t && (t = 0), this.put(new Kg).size(t).move(0, 0)
			})
		}
	}), Fm(Kg, "Circle");
	var Yg = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("clipPath", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.remove = function() {
			return this.targets().forEach(function(t) {
				t.unclip()
			}), t.prototype.remove.call(this)
		}, i.targets = function() {
			return mv('svg [clip-path*="' + this.id() + '"]')
		}, e
	}(Pv);
	gm({
		Container: {
			clip: Hm(function() {
				return this.defs().put(new Yg)
			})
		},
		Element: {
			clipper: function() {
				return this.reference("clip-path")
			},
			clipWith: function(t) {
				var e = t instanceof Yg ? t : this.parent().clip().add(t);
				return this.attr("clip-path", 'url("#' + e.id() + '")')
			},
			unclip: function() {
				return this.attr("clip-path", null)
			}
		}
	}), Fm(Yg, "ClipPath");
	var Xg = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("foreignObject", e), i) || this
		}
		return r(e, t), e
	}(Iv);
	gm({
		Container: {
			foreignObject: Hm(function(t, e) {
				return this.put(new Xg).size(t, e)
			})
		}
	}), Fm(Xg, "ForeignObject");
	var Zg = Object.freeze({
			dmove: function(t, e) {
				return this.children().forEach(function(i, n) {
					var r;
					try {
						r = i.bbox()
					} catch (t) {
						return
					}
					var o = new hv(i),
						s = o.translate(t, e).transform(o.inverse()),
						a = new sv(r.x, r.y).transform(s);
					i.move(a.x, a.y)
				}), this
			},
			dx: function(t) {
				return this.dmove(t, 0)
			},
			dy: function(t) {
				return this.dmove(0, t)
			},
			height: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.height : this.size(e.width, t, e)
			},
			move: function(t, e, i) {
				void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = this.bbox());
				var n = t - i.x,
					r = e - i.y;
				return this.dmove(n, r)
			},
			size: function(t, e, i) {
				void 0 === i && (i = this.bbox());
				var n = Sm(this, t, e, i),
					r = n.width / i.width,
					o = n.height / i.height;
				return this.children().forEach(function(t, e) {
					var n = new sv(i).transform(new hv(t).inverse());
					t.scale(r, o, n.x, n.y)
				}), this
			},
			width: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.width : this.size(t, e.height, e)
			},
			x: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.x : this.move(t, e.y, e)
			},
			y: function(t, e) {
				return void 0 === e && (e = this.bbox()), null == t ? e.y : this.move(e.x, t, e)
			}
		}),
		Qg = function(t) {
			function e(e, i) {
				return void 0 === i && (i = e), t.call(this, Bm("g", e), i) || this
			}
			return r(e, t), e
		}(Pv);
	zm(Qg, Zg), gm({
		Container: {
			group: Hm(function() {
				return this.put(new Qg)
			})
		}
	}), Fm(Qg, "G");
	var Jg = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("a", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.target = function(t) {
			return this.attr("target", t)
		}, i.to = function(t) {
			return this.attr("href", t, Cm)
		}, e
	}(Pv);
	zm(Jg, Zg), gm({
		Container: {
			link: Hm(function(t) {
				return this.put(new Jg).to(t)
			})
		},
		Element: {
			unlink: function() {
				var t = this.linker();
				if (!t) return this;
				var e = t.parent();
				if (!e) return this.remove();
				var i = e.index(t);
				return e.add(this, i), t.remove(), this
			},
			linkTo: function(t) {
				var e = this.linker();
				return e || (e = new Jg, this.wrap(e)), "function" == typeof t ? t.call(e, e) : e.to(t),
					this
			},
			linker: function() {
				var t = this.parent();
				return t && "a" === t.node.nodeName.toLowerCase() ? t : null
			}
		}
	}), Fm(Jg, "A");
	var ty = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("mask", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.remove = function() {
			return this.targets().forEach(function(t) {
				t.unmask()
			}), t.prototype.remove.call(this)
		}, i.targets = function() {
			return mv('svg [mask*="' + this.id() + '"]')
		}, e
	}(Pv);
	gm({
		Container: {
			mask: Hm(function() {
				return this.defs().put(new ty)
			})
		},
		Element: {
			masker: function() {
				return this.reference("mask")
			},
			maskWith: function(t) {
				var e = t instanceof ty ? t : this.parent().mask().add(t);
				return this.attr("mask", 'url("#' + e.id() + '")')
			},
			unmask: function() {
				return this.attr("mask", null)
			}
		}
	}), Fm(ty, "Mask");
	var ey = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("stop", e), i) || this
		}
		return r(e, t), e.prototype.update = function(t) {
			return ("number" == typeof t || t instanceof Av) && (t = {
				offset: arguments[0],
				color: arguments[1],
				opacity: arguments[2]
			}), null != t.opacity && this.attr("stop-opacity", t.opacity), null != t.color && this.attr(
				"stop-color", t.color), null != t.offset && this.attr("offset", new Av(t.offset)), this
		}, e
	}(Iv);
	gm({
		Gradient: {
			stop: function(t, e, i) {
				return this.put(new ey).update(t, e, i)
			}
		}
	}), Fm(ey, "Stop");
	var iy = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("style", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.addText = function(t) {
			return void 0 === t && (t = ""), this.node.textContent += t, this
		}, i.font = function(t, e, i) {
			return void 0 === i && (i = {}), this.rule("@font-face", m({
				fontFamily: t,
				src: e
			}, i))
		}, i.rule = function(t, e) {
			return this.addText(function(t, e) {
				if (!t) return "";
				if (!e) return t;
				var i = t + "{";
				for (var n in e) i += n.replace(/([A-Z])/g, function(t, e) {
					return "-" + e.toLowerCase()
				}) + ":" + e[n] + ";";
				return i += "}"
			}(t, e))
		}, e
	}(Iv);
	gm("Dom", {
		style: function(t, e) {
			return this.put(new iy).rule(t, e)
		},
		fontface: function(t, e, i) {
			return this.put(new iy).font(t, e, i)
		}
	}), Fm(iy, "Style");
	var ny = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("textPath", e), i) || this
		}
		r(e, t);
		var i = e.prototype;
		return i.array = function() {
			var t = this.track();
			return t ? t.array() : null
		}, i.plot = function(t) {
			var e = this.track(),
				i = null;
			return e && (i = e.plot(t)), null == t ? i : this
		}, i.track = function() {
			return this.reference("href")
		}, e
	}(qg);
	gm({
		Container: {
			textPath: Hm(function(t, e) {
				return t instanceof qg || (t = this.text(t)), t.path(e)
			})
		},
		Text: {
			path: Hm(function(t, e) {
				void 0 === e && (e = !0);
				var i, n = new ny;
				if (t instanceof Cg || (t = this.defs().path(t)), n.attr("href", "#" + t, Cm), e)
					for (; i = this.node.firstChild;) n.node.appendChild(i);
				return this.put(n)
			}),
			textPath: function() {
				return this.findOne("textPath")
			}
		},
		Path: {
			text: Hm(function(t) {
				return t instanceof qg || (t = (new qg).addTo(this.parent()).text(t)), t.path(this)
			}),
			targets: function() {
				var t = this;
				return mv("svg textPath").filter(function(e) {
					return (e.attr("href") || "").includes(t.id())
				})
			}
		}
	}), ny.prototype.MorphArray = bg, Fm(ny, "TextPath");
	var ry = function(t) {
		function e(e, i) {
			return void 0 === i && (i = e), t.call(this, Bm("use", e), i) || this
		}
		return r(e, t), e.prototype.use = function(t, e) {
			return this.attr("href", (e || "") + "#" + t, Cm)
		}, e
	}(Mv);
	gm({
		Container: {
			use: Hm(function(t, e) {
				return this.put(new ry).use(t, e)
			})
		}
	}), Fm(ry, "Use");
	var oy, sy = Mm;
	zm([jg, $g, Zv, Xv, ig], ym("viewbox")), zm([eg, Lg, Ig, Cg], ym("marker")), zm(qg, ym("Text")), zm(Cg, ym(
			"Path")), zm(Dv, ym("Defs")), zm([qg, Gg], ym("Tspan")), zm([Pg, $v, Yv, Fg], ym("radius")), zm(kv, ym(
			"EventTarget")), zm(Rv, ym("Dom")), zm(Iv, ym("Element")), zm(Mv, ym("Shape")), zm([Pv, Wv], ym(
			"Container")), zm(Yv, ym("Gradient")), zm(Fg, ym("Runner")), fv.extend([].concat(new Set(vm))),
		void 0 === (oy = [Av, ov, lv, hv, xv, Qv, bg]) && (oy = []), Ag.push.apply(Ag, [].concat(oy)), zm(Ag, {
			to: function(t) {
				return (new kg).type(this.constructor).from(this.valueOf()).to(t)
			},
			fromArray: function(t) {
				return this.init(t), this
			}
		});
	var ay = !1,
		hy = .04;
	if (document.location.href && -1 !== document.location.href.indexOf("mask=test")) {
		var cy = document.location.href.split("?")[1];
		if (cy) {
			for (var uy = {}, ly = 0, dy = cy.split("&"); ly < dy.length; ly++) {
				var fy = dy[ly].split("="),
					py = fy[0],
					my = fy[1];
				uy[py] = my
			}
			"test" == uy.mask && (ay = !0), void 0 !== uy.offset && (hy = Number(uy.offset))
		}
	}
	var vy, gy = function() {
			function t(t, e, i) {
				this.targetView = t, this.vm = e, this._playSpeed = 1;
				var n = t.offsetWidth,
					r = t.offsetHeight;
				this.videoSize = {
					width: n,
					height: r
				};
				this.dataLoader = new pm(i);
				if (ay) {
					var o = document.createElement("div");
					o.style.position = "absolute", o.style.width = "100%", o.style.height = "100%", o.style
						.opacity = "0.5", o.style.backgroundSize = "contain", t.parentElement.appendChild(o), this
						.testImage = o
				}
			}
			var e = t.prototype;
			return e.setPlaySpeed = function(t) {
				this._playSpeed = t
			}, e.setUrl = function(t) {
				this.dataLoader = new pm(t)
			}, e.start = function() {
				var t = this;
				clearInterval(this.updateMaskInterval), this.updateMaskInterval = setInterval(function() {
					var e = t.getCurrentTime(),
						i = hy,
						n = t.dataLoader.getMask(e + i);
					if (n) {
						var r = n.ptsTime,
							o = n.image;
						if (t.currentPtsTime == r) return;
						if (ay && (t.testImage.innerHTML = "currentTime:" + e.toFixed(2) +
								" | ptsTime:" + r + " image:" + ("" == o ? "0" : "1")), "" == o) t
							.targetView.style.webkitMaskImage = "", t.targetView.style.maskImage = "", t
							.testImage && (t.testImage.style.backgroundImage = "");
						else {
							t.currentPtsTime = r;
							var s = "url(" + t.resizeImage(o) + ")";
							t.targetView.style.webkitMaskImage = s, t.targetView.style.maskImage = s, t
								.testImage && (t.testImage.style.backgroundImage = "url(" + t
									.resizeImage(o) + ")")
						}
					}
				}, 10)
			}, e.stop = function() {
				clearInterval(this.updateMaskInterval)
			}, e.update = function(t) {
				this.dataLoader.update(t)
			}, e.getCurrentTime = function() {
				return this.vm.currentTime
			}, e.resize = function(t) {
				var e = t.width,
					i = t.height;
				this.videoSize = {
					width: e,
					height: i
				}
			}, e.resizeImage = function(t) {
				var e = sy(t),
					i = e.width(),
					n = e.height(),
					r = this.videoSize,
					o = r.width / r.height,
					s = i / n;
				if (Math.abs(s - o) < .01) return this.convertSVGToBase64(t);
				if (s < o) {
					var a = o * n,
						h = (a - i) / 2;
					e.width(a);
					for (var c = 0, u = e.children(); c < u.length; c++) {
						u[c].move(h, 0)
					}
					return e.rect(h + 1, n), e.rect(h + 1, n).move(a - h - 1, 0), this.convertSVGToBase64(e
					.svg())
				}
				var l = i / o,
					d = (l - n) / 2;
				e.height(l);
				for (var f = 0, p = e.children(); f < p.length; f++) {
					p[f].move(0, d)
				}
				return e.rect(i, l + 1), e.rect(i, l + 1).move(0, l - d - 1), this.convertSVGToBase64(e.svg())
			}, e.clear = function() {
				this.targetView.style.maskImage = "", this.targetView.style.webkitMaskImage = "", this
					.testImage && (this.testImage.style.backgroundImage = "")
			}, e.convertSVGToBase64 = function(t) {
				return "data:image/svg+xml;base64," + btoa(t)
			}, t
		}(),
		yy = st(function(t) {
			/**
			 * Copyright (c) 2014-present, Facebook, Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */
			var e = function(t) {
				var e, i = Object.prototype,
					n = i.hasOwnProperty,
					r = "function" == typeof Symbol ? Symbol : {},
					o = r.iterator || "@@iterator",
					s = r.asyncIterator || "@@asyncIterator",
					a = r.toStringTag || "@@toStringTag";

				function h(t, e, i) {
					return f(t, e, {
						value: i,
						enumerable: !0,
						configurable: !0,
						writable: !0
					}), t[e]
				}
				try {
					h({}, "")
				} catch (t) {
					h = function(t, e, i) {
						return t[e] = i
					}
				}

				function c(t, e, i, n) {
					var r = e && e.prototype instanceof g ? e : g,
						o = Object.create(r.prototype),
						s = new R(n || []);
					return o._invoke = function(t, e, i) {
						var n = l;
						return function(r, o) {
							if (n === p) throw new Error("Generator is already running");
							if (n === m) {
								if ("throw" === r) throw o;
								return L()
							}
							for (i.method = r, i.arg = o;;) {
								var s = i.delegate;
								if (s) {
									var a = x(s, i);
									if (a) {
										if (a === v) continue;
										return a
									}
								}
								if ("next" === i.method) i.sent = i._sent = i.arg;
								else if ("throw" === i.method) {
									if (n === l) throw n = m, i.arg;
									i.dispatchException(i.arg)
								} else "return" === i.method && i.abrupt("return", i.arg);
								n = p;
								var h = u(t, e, i);
								if ("normal" === h.type) {
									if (n = i.done ? m : d, h.arg === v) continue;
									return {
										value: h.arg,
										done: i.done
									}
								}
								"throw" === h.type && (n = m, i.method = "throw", i.arg = h.arg)
							}
						}
					}(t, i, s), o
				}

				function u(t, e, i) {
					try {
						return {
							type: "normal",
							arg: t.call(e, i)
						}
					} catch (t) {
						return {
							type: "throw",
							arg: t
						}
					}
				}
				t.wrap = c;
				var l = "suspendedStart",
					d = "suspendedYield",
					p = "executing",
					m = "completed",
					v = {};

				function g() {}

				function y() {}

				function _() {}
				var b = {};
				b[o] = function() {
					return this
				};
				var w = Object.getPrototypeOf,
					k = w && w(w(I([])));
				k && k !== i && n.call(k, o) && (b = k);
				var E = _.prototype = g.prototype = Object.create(b);

				function S(t) {
					["next", "throw", "return"].forEach(function(e) {
						h(t, e, function(t) {
							return this._invoke(e, t)
						})
					})
				}

				function T(t, e) {
					var i;
					this._invoke = function(r, o) {
						function s() {
							return new e(function(i, s) {
								! function i(r, o, s, a) {
									var h = u(t[r], t, o);
									if ("throw" !== h.type) {
										var c = h.arg,
											l = c.value;
										return l && "object" == typeof l && n.call(l,
											"__await") ? e.resolve(l.__await).then(function(t) {
												i("next", t, s, a)
											}, function(t) {
												i("throw", t, s, a)
											}) : e.resolve(l).then(function(t) {
												c.value = t, s(c)
											}, function(t) {
												return i("throw", t, s, a)
											})
									}
									a(h.arg)
								}(r, o, i, s)
							})
						}
						return i = i ? i.then(s, s) : s()
					}
				}

				function x(t, i) {
					var n = t.iterator[i.method];
					if (n === e) {
						if (i.delegate = null, "throw" === i.method) {
							if (t.iterator.return && (i.method = "return", i.arg = e, x(t, i), "throw" === i
									.method)) return v;
							i.method = "throw", i.arg = new TypeError(
								"The iterator does not provide a 'throw' method")
						}
						return v
					}
					var r = u(n, t.iterator, i.arg);
					if ("throw" === r.type) return i.method = "throw", i.arg = r.arg, i.delegate = null, v;
					var o = r.arg;
					return o ? o.done ? (i[t.resultName] = o.value, i.next = t.nextLoc, "return" !== i
						.method && (i.method = "next", i.arg = e), i.delegate = null, v) : o : (i
						.method = "throw", i.arg = new TypeError("iterator result is not an object"), i
						.delegate = null, v)
				}

				function A(t) {
					var e = {
						tryLoc: t[0]
					};
					1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this
						.tryEntries.push(e)
				}

				function C(t) {
					var e = t.completion || {};
					e.type = "normal", delete e.arg, t.completion = e
				}

				function R(t) {
					this.tryEntries = [{
						tryLoc: "root"
					}], t.forEach(A, this), this.reset(!0)
				}

				function I(t) {
					if (t) {
						var i = t[o];
						if (i) return i.call(t);
						if ("function" == typeof t.next) return t;
						if (!isNaN(t.length)) {
							var r = -1,
								s = function i() {
									for (; ++r < t.length;)
										if (n.call(t, r)) return i.value = t[r], i.done = !1, i;
									return i.value = e, i.done = !0, i
								};
							return s.next = s
						}
					}
					return {
						next: L
					}
				}

				function L() {
					return {
						value: e,
						done: !0
					}
				}
				return y.prototype = E.constructor = _, _.constructor = y, y.displayName = h(_, a,
					"GeneratorFunction"), t.isGeneratorFunction = function(t) {
					var e = "function" == typeof t && t.constructor;
					return !!e && (e === y || "GeneratorFunction" === (e.displayName || e.name))
				}, t.mark = function(t) {
					return Object.setPrototypeOf ? Object.setPrototypeOf(t, _) : (t.__proto__ = _, h(t,
						a, "GeneratorFunction")), t.prototype = Object.create(E), t
				}, t.awrap = function(t) {
					return {
						__await: t
					}
				}, S(T.prototype), T.prototype[s] = function() {
					return this
				}, t.AsyncIterator = T, t.async = function(e, i, n, r, o) {
					void 0 === o && (o = Promise);
					var s = new T(c(e, i, n, r), o);
					return t.isGeneratorFunction(i) ? s : s.next().then(function(t) {
						return t.done ? t.value : s.next()
					})
				}, S(E), h(E, a, "Generator"), E[o] = function() {
					return this
				}, E.toString = function() {
					return "[object Generator]"
				}, t.keys = function(t) {
					var e = [];
					for (var i in t) e.push(i);
					return e.reverse(),
						function i() {
							for (; e.length;) {
								var n = e.pop();
								if (n in t) return i.value = n, i.done = !1, i
							}
							return i.done = !0, i
						}
				}, t.values = I, R.prototype = {
					constructor: R,
					reset: function(t) {
						if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !
							1, this.delegate = null, this.method = "next", this.arg = e, this
							.tryEntries.forEach(C), !t)
							for (var i in this) "t" === i.charAt(0) && n.call(this, i) && !isNaN(+i
								.slice(1)) && (this[i] = e)
					},
					stop: function() {
						this.done = !0;
						var t = this.tryEntries[0].completion;
						if ("throw" === t.type) throw t.arg;
						return this.rval
					},
					dispatchException: function(t) {
						if (this.done) throw t;
						var i = this;

						function r(n, r) {
							return a.type = "throw", a.arg = t, i.next = n, r && (i.method = "next",
								i.arg = e), !!r
						}
						for (var o = this.tryEntries.length - 1; o >= 0; --o) {
							var s = this.tryEntries[o],
								a = s.completion;
							if ("root" === s.tryLoc) return r("end");
							if (s.tryLoc <= this.prev) {
								var h = n.call(s, "catchLoc"),
									c = n.call(s, "finallyLoc");
								if (h && c) {
									if (this.prev < s.catchLoc) return r(s.catchLoc, !0);
									if (this.prev < s.finallyLoc) return r(s.finallyLoc)
								} else if (h) {
									if (this.prev < s.catchLoc) return r(s.catchLoc, !0)
								} else {
									if (!c) throw new Error(
										"try statement without catch or finally");
									if (this.prev < s.finallyLoc) return r(s.finallyLoc)
								}
							}
						}
					},
					abrupt: function(t, e) {
						for (var i = this.tryEntries.length - 1; i >= 0; --i) {
							var r = this.tryEntries[i];
							if (r.tryLoc <= this.prev && n.call(r, "finallyLoc") && this.prev < r
								.finallyLoc) {
								var o = r;
								break
							}
						}
						o && ("break" === t || "continue" === t) && o.tryLoc <= e && e <= o
							.finallyLoc && (o = null);
						var s = o ? o.completion : {};
						return s.type = t, s.arg = e, o ? (this.method = "next", this.next = o
							.finallyLoc, v) : this.complete(s)
					},
					complete: function(t, e) {
						if ("throw" === t.type) throw t.arg;
						return "break" === t.type || "continue" === t.type ? this.next = t.arg :
							"return" === t.type ? (this.rval = this.arg = t.arg, this.method =
								"return", this.next = "end") : "normal" === t.type && e && (this
								.next = e), v
					},
					finish: function(t) {
						for (var e = this.tryEntries.length - 1; e >= 0; --e) {
							var i = this.tryEntries[e];
							if (i.finallyLoc === t) return this.complete(i.completion, i.afterLoc),
								C(i), v
						}
					},
					catch: function(t) {
						for (var e = this.tryEntries.length - 1; e >= 0; --e) {
							var i = this.tryEntries[e];
							if (i.tryLoc === t) {
								var n = i.completion;
								if ("throw" === n.type) {
									var r = n.arg;
									C(i)
								}
								return r
							}
						}
						throw new Error("illegal catch attempt")
					},
					delegateYield: function(t, i, n) {
						return this.delegate = {
							iterator: I(t),
							resultName: i,
							nextLoc: n
						}, "next" === this.method && (this.arg = e), v
					}
				}, t
			}(t.exports);
			try {
				regeneratorRuntime = e
			} catch (t) {
				Function("r", "regeneratorRuntime = r")(e)
			}
		}),
		_y =
		/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi,
		by = {
			version: "3.0.0",
			videoinfo: {},
			userinfo: null,
			cdn_list: [],
			cdn_version: "",
			interval: 0,
			updateSwitchInfo: function(t) {
				t.cdn_list ? (this.cdn_list = t.cdn_list.split(","), this.cdn_version = t.cdn_version, this
					.interval = t.interval) : (this.cdn_list = [], this.cdn_version = "")
			},
			ticket: function() {
				var t = kt("HDCN");
				return t = t && "string" == typeof t ? t.match(/\b\w+\b/g)[0] : ""
			},
			deviceid: function() {
				return kt("__STKUUID") || "00000000-0000-0000-0000-000000000000"
			},
			get commonParams() {
				var t = this.userinfo,
					e = t ? t.uid : "";
				return {
					version: this.version,
					appVersion: this.version,
					vid: this.videoinfo.video_id || 0,
					abroad: 0,
					pid: this.videoinfo.playlist_id || 0,
					os: "",
					uuid: e,
					deviceid: this.deviceid(),
					cid: this.videoinfo.collection_id || 0,
					ticket: this.ticket(),
					mac: "",
					platform: 0,
					reqtype: "form-post"
				}
			},
			getSwitch: function() {
				var t = this;
				return e(yy.mark(function e() {
					var i, n;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								return i = {
										version: t.version,
										vid: t.videoinfo.video_id,
										abroad: 0,
										pid: t.videoinfo.playlist_id,
										os: "",
										uuid: "",
										deviceid: "",
										cid: t.videoinfo.collection_id,
										ticket: "",
										mac: "",
										platform: 0
									}, m(i, t.commonParams), n = lm.apiEndpoint +
									"/getctlbarrage?" + St(i), e.abrupt("return", Fi(
									n, {
										timeout: lm.maxTimeout
									}).then(function(t) {
										return t.json()
									}).then(function(t) {
										if (t && 0 == t.status && t.data)
										return t
									}).catch(function(t) {
										Yi.warn("pluginDanmu",
											"get getctlbarrage fail: " + t)
									}));
							case 4:
							case "end":
								return e.stop()
						}
					}, e)
				}))()
			},
			loadDataFromCDN: function(t) {
				var i = this;
				return e(yy.mark(function e() {
					var n, r, o, s, a;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								n = Math.floor(t / i.interval), r = 0;
							case 2:
								if (!(r < i.cdn_list.length)) {
									e.next = 21;
									break
								}
								return o = "https://" + i.cdn_list[r] + "/" + i
									.cdn_version + "/" + n + ".json", e.prev = 4, e
									.next = 7, fetch(o, {
										mode: "cors"
									});
							case 7:
								return s = e.sent, e.next = 10, s.json();
							case 10:
								return a = e.sent, e.abrupt("return", a);
							case 14:
								return e.prev = 14, e.t0 = e.catch(4), e.abrupt(
									"continue", 18);
							case 18:
								r++, e.next = 2;
								break;
							case 21:
								return e.abrupt("return", null);
							case 22:
							case "end":
								return e.stop()
						}
					}, e, null, [
						[4, 14]
					])
				}))()
			},
			loadDanmuData: function(t, i) {
				var n = this;
				return e(yy.mark(function e() {
					var r, o, s, a;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								return void 0 === i && (i = !0), r = {
										version: n.version,
										vid: n.videoinfo.video_id,
										abroad: 0,
										pid: n.videoinfo.playlist_id,
										os: "",
										uuid: "",
										deviceid: "",
										cid: n.videoinfo.collection_id,
										ticket: "",
										mac: "",
										platform: 0,
										time: Math.floor(1e3 * t),
										device: 0
									}, m(r, n.commonParams), "/cdn/opbarrage?", o = lm
									.apiEndpoint + "/cdn/opbarrage?" + St(r), e.prev =
									5, e.next = 8, Fi(o, {
										timeout: 5e3
									});
							case 8:
								return s = e.sent, e.next = 11, s.json();
							case 11:
								if (0 != (a = e.sent).status) {
									e.next = 14;
									break
								}
								return e.abrupt("return", a);
							case 14:
								n.loading = !1, e.next = 21;
								break;
							case 17:
								e.prev = 17, e.t0 = e.catch(5), Yi.warn(
									"loading danmu data fail."), n.loading = !1;
							case 21:
							case "end":
								return e.stop()
						}
					}, e, null, [
						[5, 17]
					])
				}))()
			},
			getDanmuData: function(t) {
				var i = this;
				return e(yy.mark(function e() {
					var n, r, o, s, a, h, c, u, l, d, f;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								if (!(i.cdn_list.length > 0)) {
									e.next = 42;
									break
								}
								return n = function(t, e) {
										return t.time - e.time
									}, r = i.loadDataFromCDN(t), o = i.loadDanmuData(t),
									e.prev = 4, e.next = 7, r;
							case 7:
								return s = e.sent, e.next = 10, o;
							case 10:
								a = e.sent, e.next = 16;
								break;
							case 13:
								return e.prev = 13, e.t0 = e.catch(4), e.abrupt(
									"return", null);
							case 16:
								for (h = {
										interval: s.data.interval,
										next: s.data.next,
										total: s.data.total,
										items: []
									}, c = s.data.items || [], u = a.data.items || [],
									c = c.sort(n), u = u.sort(n); c.length > 0 && u
									.length > 0;) c[0].time < u[0].time ? h.items.push(c
									.shift()) : h.items.push(u.shift());
								h.items = h.items.concat(c.concat(u)), l = h.items
									.length - 1;
							case 24:
								if (!(l > 0)) {
									e.next = 38;
									break
								}
								d = h.items[l], f = 0;
							case 27:
								if (!(f < l)) {
									e.next = 35;
									break
								}
								if (h.items[f].ids != d.ids) {
									e.next = 32;
									break
								}
								return h.items[l] = null, e.abrupt("break", 35);
							case 32:
								f++, e.next = 27;
								break;
							case 35:
								l--, e.next = 24;
								break;
							case 38:
								return h.items = h.items.filter(function(t) {
									return null != t
								}), e.abrupt("return", {
									data: h,
									status: 0,
									msg: a.msg,
									seq: a.seq
								});
							case 42:
								return e.abrupt("return", i.loadDanmuData(t, !1));
							case 43:
							case "end":
								return e.stop()
						}
					}, e, null, [
						[4, 13]
					])
				}))()
			},
			danmuUp: function(t) {
				var e = this;
				return new Promise(function(i, n) {
					e.getUserInfo() || n("get useInfo");
					var r = e.vm.currentTime,
						o = {
							version: e.version,
							vid: e.videoinfo.video_id,
							abroad: 0,
							pid: e.videoinfo.playlist_id,
							os: "",
							uuid: "",
							deviceid: "",
							cid: e.videoinfo.collection_id,
							ticket: "",
							mac: "",
							platform: 0,
							time: Math.floor(1e3 * r),
							device: 0,
							bulletid: t,
							uper: e.userinfo.uid
						};
					m(o, e.commonParams), ln(lm.apiEndpoint + "/up", o).then(function(t) {
						0 == t.status && i(t.data)
					}).catch(function(t) {
						Yi.warn("danmu up fail."), n("paseError")
					})
				})
			},
			getUserInfo: function() {
				return this.userinfo ? this.userinfo : (this.userinfo = this.vm.getUserInfo(), this.userinfo ?
					this.userinfo : (this.vm.showLoginDialog(), this.vm.$fullscreen(!1, "container"), null))
			},
			loadAIDanmuConifg: function(t) {
				return e(yy.mark(function e() {
					var i, n, r, o, s, a, h;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								if (i = t.data, n = i.bulletCommentMask, r = i
									.stream_domain, !n) {
									e.next = 24;
									break
								}
								o = 0, s = null;
							case 4:
								if (!(o < r.length)) {
									e.next = 22;
									break
								}
								return a = r[o], o++, e.prev = 7, e.next = 10, Fi(a +
								n);
							case 10:
								return h = e.sent, e.next = 13, h.json();
							case 13:
								return s = e.sent, e.abrupt("break", 22);
							case 17:
								return e.prev = 17, e.t0 = e.catch(7), e.abrupt(
									"continue", 4);
							case 20:
								e.next = 4;
								break;
							case 22:
								if (!s || !s.info) {
									e.next = 24;
									break
								}
								return e.abrupt("return", s.info);
							case 24:
							case "end":
								return e.stop()
						}
					}, e, null, [
						[7, 17]
					])
				}))()
			},
			danmuReport: function(t) {
				var i = this;
				return e(yy.mark(function e() {
					var n, r, o;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								if (i.getUserInfo()) {
									e.next = 2;
									break
								}
								return e.abrupt("return", !1);
							case 2:
								return n = i.vm.currentTime, r = {
										version: i.version,
										vid: i.videoinfo.video_id,
										abroad: 0,
										pid: i.videoinfo.playlist_id,
										os: "",
										uuid: "",
										deviceid: "",
										cid: i.videoinfo.collection_id,
										ticket: "",
										mac: "",
										platform: 0,
										time: Math.floor(1e3 * n),
										device: 0,
										bulletid: t,
										reporter: i.userinfo.uid
									}, m(r, i.commonParams), o = lm.apiEndpoint +
									"/report", e.prev = 6, e.next = 9, ln(o, r);
							case 9:
								if (0 != e.sent.status) {
									e.next = 12;
									break
								}
								return e.abrupt("return", !0);
							case 12:
								e.next = 18;
								break;
							case 14:
								return e.prev = 14, e.t0 = e.catch(6), Yi.warn(
									"danmu report fail."), e.abrupt("return", !1);
							case 18:
							case "end":
								return e.stop()
						}
					}, e, null, [
						[6, 14]
					])
				}))()
			},
			sendDanmu: function(t, i) {
				var n = this;
				return e(yy.mark(function e() {
					var r, o, s, a;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								return r = n.getUserInfo(), o = "" != (o = kt("HDCN")) ?
									o.match(/\b\w+\b/g)[0] : "", m(s = {}, n
										.commonParams), s.ticket = o, s.content = t, s
									.time = Math.floor(1e3 * n.vm.currentTime), s.type =
									i.roleId > 0 ? 3 : 0, s.color_id = i.colorId, s
									.role_id = i.roleId, s.position = i.position, s
									.uuid = r.uid, e.prev = 13, e.next = 16, ln(lm
										.apiEndpoint + "/wrbarrage", s);
							case 16:
								return a = e.sent, e.abrupt("return", a);
							case 20:
								return e.prev = 20, e.t0 = e.catch(13), Yi.warn(
									"send danm fail"), e.abrupt("return", null);
							case 24:
							case "end":
								return e.stop()
						}
					}, e, null, [
						[13, 20]
					])
				}))()
			},
			sendClickReport: function(t, e) {
				var i = window.MgStat;
				i && (t = m({}, {
					mod: "pfc",
					vid: this.videoinfo.video_id,
					direct: "cntp",
					label: "btn",
					addr: "danmu"
				}, t), i.send("click", e, t))
			},
			loadCredits: function() {
				var t = this;
				return e(yy.mark(function e() {
					var i, n, r;
					return yy.wrap(function(e) {
						for (;;) switch (e.prev = e.next) {
							case 0:
								return i = t.getUserInfo(), n = lm.credits_url +
									"uuid=" + i.uid + "&ticket=" + t.ticket(), e.prev =
									2, e.next = 5, Fi(n);
							case 5:
								return r = e.sent, e.next = 8, r.json();
							case 8:
								if (200 != (r = e.sent).code) {
									e.next = 11;
									break
								}
								return e.abrupt("return", r.data.balance);
							case 11:
								e.next = 15;
								break;
							case 13:
								e.prev = 13, e.t0 = e.catch(2);
							case 15:
								return e.abrupt("return", 0);
							case 16:
							case "end":
								return e.stop()
						}
					}, e, null, [
						[2, 13]
					])
				}))()
			},
			containEmoji: function(t) {
				return !!t.match(new RegExp(_y, "g"))
			},
			removeEmoji: function(t) {
				return t.replace(new RegExp(_y, "g"), "").replace(/\n/g, "")
			},
			isGradient: function(t) {
				if (t.v2_color) {
					t.v2_color.color_left;
					var e = t.v2_color.color_right;
					return -1 != e.r && -1 != e.g && -1 != e.b
				}
			}
		},
		wy = function() {
			function t() {
				this.danmuInterval = 60, this.preloadOffset = 5, this.danmuBuffer = []
			}
			var e = t.prototype;
			return e.init = function(t) {
				this.config = t
			}, e.update = function(t) {
				var e = t + this.preloadOffset;
				if (!this.loading) {
					var i = this.findBuffer(e);
					if (!i) {
						i = new ky, this.loading = !0;
						var n = Math.floor(e / this.danmuInterval);
						this.danmuBuffer[n] = i, this.requestData(e, i)
					}
				}
			}, e.start = function() {}, e.seek = function() {
				this.danmuBuffer && this.danmuBuffer.forEach(function(t) {
					t.buffer && t.buffer.forEach(function(t) {
						t.read = !1
					})
				})
			}, e.getData = function(t) {
				var e = this.findBuffer(t),
					i = [];
				return e && !e.loading && e.buffer ? i = e.buffer.filter(function(e) {
					if (e.read) return !1;
					var i = e.time - 1e3 * t;
					return i >= 0 && i < lm.renderInterval && (e.read = !0, !0)
				}) : i
			}, e.findBuffer = function(t) {
				var e = Math.floor(t / this.danmuInterval);
				return this.danmuBuffer[e] && 0 == this.danmuBuffer[e].loading ? this.danmuBuffer[e] : null
			}, e.requestData = function(t, e) {
				return Pu(this, void 0, void 0, function() {
					var i;
					return Du(this, function(n) {
						switch (n.label) {
							case 0:
								if (!this.config) return this.loading = !1, [2];
								n.label = 1;
							case 1:
								return n.trys.push([1, 3, , 4]), [4, by.getDanmuData(t)];
							case 2:
								return i = n.sent(), e.next = i.data.next / 1e3, e.duration = i
									.data.interval, e.buffer = i.data.items, e.loading = !1,
									this.loading = !1, [3, 4];
							case 3:
								return n.sent(), this.loading = !1, [3, 4];
							case 4:
								return [2]
						}
					})
				})
			}, t
		}(),
		ky = function() {
			return function() {
				this.loading = !0
			}
		}(),
		Ey = function() {
			function t() {}
			var e = t;
			return e.init = function() {
					this.settingSpeed = zi.get("mango-speed") || this.settingSpeed, this.settingRange = zi.get(
							"mango-range") || this.settingRange, this.settingAlpha = zi.get("mango-alpha") || this
						.settingAlpha, this.settingFontSize = zi.get("mango-fontsize") || this.settingFontSize, this
						.maskBottom = null === zi.get("mango-mask-bottom") ? this.maskBottom : zi.get(
							"mango-mask-bottom"), this.maskTop = null === zi.get("mango-mask-top") ? this.maskTop :
						zi.get("mango-mask-top"), this.maskColor = null === zi.get("mango-mask-color") ? this
						.maskColor : zi.get("mango-mask-top"), this.userRender = zi.get("mango-danmu-switch"), this
						.maskWords = zi.get("mango-words") || "", this.danmuGuider = zi.get("mango-danmu-guide"),
						this.userAISwitcher = zi.get("mango-aiswitcher")
				}, e.getRenderState = function() {
					return null !== this.userRender ? this.userRender : Boolean(this.render)
				}, e.updateSwitchInfo = function(t) {
					var e = t.up_msg_list,
						i = t.switcher,
						n = t.render,
						r = t.interval,
						o = t.color_list,
						s = t.role_list,
						a = t.hide_tabs,
						h = t.default_content,
						c = t.pos_list,
						u = t.mask_on,
						l = t.mask_switch;
					this.toasts = e || [], this.switcher = i, this.render = n, this.interval = r, this.color_list =
						o, this.role_list = s, this.hide_tabs = a, this.default_content = h, this.pos_list = c, this
						.mask_on = u, this.mask_switch = 1 === l || !1
				}, e.getFontSize = function() {
					return this.contentScale * this.settingFontSize * this.baseFontSize
				}, e.getComputedLineHeight = function() {
					return this.settingFontSize * this.lineHeight * this.contentScale
				}, e.resize = function(t, e) {
					var i = 1;
					i = t < 1280 ? .7 : t >= 1280 && t < 1500 ? .8 : t >= 1500 && t < 1800 ? .9 : 1, this
						.contentScale = i
				}, e.getToast = function() {
					return this.toastIdx >= this.toasts.length && (this.toastIdx = 0), this.toasts[this.toastIdx++]
				}, t.gap = 80, t.paddingBottom = 80, t.paddingTop = 20, t.lineHeight = 40, t.backTimeTorrence = 2, t
				.contentScale = .8, t.baseFontSize = 24, t.minScrollSpeed = 1.8, t.maxScrollSpeed = 2, t.floatTime =
				7e3, t.default_toasts = ["☝(•̀˓◞•́)哎呦，不错哦~", "└(^o^)┘点赞的你帅裂苍穹", "ヾ(●゜ⅴ゜)ﾉ 棒棒哒", "ヾ(￣▽￣)好人一生平安",
					"─=≡Σ(((つ•̀ω•́)つ动感光波哔哔哔!!", "ヽ(你﹃你)ﾉ我的眼里都是你", "(๑•̀ω•́ ๑) 酱酱酱"
				], t.settingFontSize = 1, t.settingRange = .4, t.settingAlpha = 1, t.settingSpeed = 1, t.playSpeed =
				1, t.maskBottom = !1, t.maskTop = !1, t.maskWords = "", t.maskColor = !1, t.userRender = null, t
				.userAISwitcher = null, t.toasts = [], t.switcher = !1, t.render = !1, t.interval = 60, t
				.color_list = [], t.role_list = [], t.pos_list = [], t.hide_tabs = [], t.default_content = "", t
				.mask_on = !1, t.mask_switch = !1, t.toastIdx = 0, t
		}(),
		Sy = function(t) {
			function e(e) {
				var i = t.call(this) || this;
				i.default_config = {
					tag: "uicomponent",
					className: "",
					html: ""
				};
				var n = i.config(e);
				return n.tag = n.tag || i.default_config.tag, n.className = n.className || i.default_config
					.className, n.html = n.html || i.default_config.html, i.createElement(n), i
			}
			wu(e, t);
			var i = e.prototype;
			return i.createElement = function(t) {
				this.element = document.createElement(t.tag), this.element.className = t.className, this.element
					.innerHTML = t.html, t.zIndex && (this.element.style.zIndex = t.zIndex)
			}, i.config = function(t) {
				return {}
			}, i.getElementByClassName = function(t) {
				return this.element.getElementsByClassName(t)[0]
			}, i.appendChild = function(t) {
				this.element.appendChild(t.element), t.onAppended()
			}, i.removeChild = function(t) {
				this.element.contains(t.element) && this.element.removeChild(t.element)
			}, i.onAppended = function() {}, i.destroy = function() {}, e
		}(dm),
		Ty = {
			colorSetting: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    viewBox="0 0 18 18" style="enable-background:new 0 0 18 18;" xml:space="preserve">\n        <g transform="translate(-1312 -3904)">\n        <path d="M1320,3922c-2.7,0-4-1.3-5.4-2.6c-1.7-1.7-2.6-4-2.6-6.4c0-2.4,0.9-4.7,2.6-6.4c3.5-3.5,9.2-3.5,12.7,0\n            c1.7,1.7,2.6,4,2.6,6.4c0,2-1.9,2.4-3.4,2.6c-1.1,0.2-2.2,0.4-2.9,1.1c-0.7,0.7-0.9,1.6-1.1,2.5\n            C1322.4,3920.3,1322,3922,1320,3922z M1321,3906c-1.9,0-3.6,0.7-5,2c-1.3,1.3-2.1,3.1-2.1,5c0,1.9,0.7,3.6,2,4.9\n            c1.4,1.4,2.1,2,4,2c0.3,0,0.4,0,0.7-1.2c0.2-1,0.5-2.4,1.6-3.5c1.2-1.2,2.7-1.4,4-1.7c1.5-0.3,1.7-0.4,1.7-0.6\n            c0-1.9-0.7-3.6-2-4.9C1324.6,3906.7,1322.9,3906,1321,3906z"/>\n        <path d="M1322.5,3908c0.8,0,1.5,0.7,1.5,1.5s-0.7,1.5-1.5,1.5s-1.5-0.7-1.5-1.5S1321.7,3908,1322.5,3908z"/>\n        <path d="M1318,3909c0.6,0,1,0.4,1,1s-0.4,1-1,1s-1-0.4-1-1S1317.4,3909,1318,3909z"/>\n        <path d="M1317,3912c0.6,0,1,0.4,1,1s-0.4,1-1,1s-1-0.4-1-1S1316.4,3912,1317,3912z"/>\n        </g>\n    </svg>',
			playSetting: '<svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 18 18" style="enable-background:new 0 0 18 18;" xml:space="preserve">\n<g id="组_1250" transform="translate(-1216 -3904)">\n   <path d="M1230.3,3921h-1.7c-1,0-2-0.5-2.5-1.4l-0.6-1c-0.6-1-0.6-2.3,0-3.2l0.6-1c0.6-0.9,1.5-1.4,2.5-1.4h1.7\n       c1,0,2,0.5,2.5,1.4l0.6,1c0.6,1,0.6,2.3,0,3.2l-0.6,1C1232.3,3920.5,1231.4,3921,1230.3,3921z M1228.7,3915\n       c-0.3,0-0.7,0.2-0.8,0.5l-0.6,1c-0.2,0.3-0.2,0.8,0,1.1l0.6,1c0.2,0.3,0.5,0.5,0.8,0.5h1.7c0.3,0,0.7-0.2,0.8-0.5l0.6-1\n       c0.2-0.3,0.2-0.8,0-1.1l-0.6-1c-0.2-0.3-0.5-0.5-0.8-0.5H1228.7z"/>\n   <path d="M1224,3912h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S1224.6,3912,1224,3912z"/>\n   <path d="M1220.5,3921c-1.2,0-2.3-0.5-3.2-1.3c-0.9-0.8-1.3-2-1.4-3.2v-7c0-1.2,0.5-2.4,1.4-3.2s2.1-1.3,3.2-1.3h8.9\n       c1.2,0,2.3,0.5,3.2,1.3c0.9,0.8,1.3,2,1.4,3.2c0,0.6-0.4,1-1,1c-0.5,0-1-0.4-1-1c0-0.7-0.3-1.3-0.8-1.8c-0.5-0.5-1.1-0.7-1.8-0.7\n       c0,0,0,0,0,0h-8.9c0,0,0,0,0,0c-1.4,0-2.5,1.1-2.5,2.5v7c0,0.7,0.3,1.3,0.8,1.8c0.5,0.5,1.1,0.8,1.8,0.7h0.9c0.6,0,1,0.4,1,1\n       s-0.4,1-1,1H1220.5C1220.5,3921,1220.5,3921,1220.5,3921z"/>\n</g>\n</svg>\n',
			arrow_left: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 14 14" style="enable-background:new 0 0 14 14;" xml:space="preserve">\n<g transform="translate(12 5) rotate(90)">\n       <path d="M5,4c0.3,0,0.5,0.1,0.7,0.3c0.4,0.4,0.4,1,0,1.4l-5,5c-0.4,0.4-1,0.4-1.4,0s-0.4-1,0-1.4l5-5\n           C4.5,4.1,4.7,4,5,4z"/>\n       <path d="M0-1c0.3,0,0.5,0.1,0.7,0.3l5,5c0.4,0.4,0.4,1,0,1.4s-1,0.4-1.4,0l-5-5c-0.4-0.4-0.4-1,0-1.4\n           C-0.5-0.9-0.3-1,0-1z"/>\n</g>\n</svg>',
			rollAll: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n<g transform="translate(-4511 -4896)">\n       <path d="M4522,4905h-6c-0.6,0-1-0.4-1-1s0.4-1,1-1h6c0.6,0,1,0.4,1,1S4522.6,4905,4522,4905z"/>\n       <path d="M4526,4909h-6c-0.6,0-1-0.4-1-1s0.4-1,1-1h6c0.6,0,1,0.4,1,1S4526.6,4909,4526,4909z"/>\n       <path d="M4526,4915h-10c-2.8,0-5-2.2-5-5v-8c0-2.8,2.2-5,5-5h10c2.8,0,5,2.2,5,5v8C4531,4912.8,4528.8,4915,4526,4915\n           z M4516,4899c-1.7,0-3,1.3-3,3v8c0,1.7,1.3,3,3,3h10c1.7,0,3-1.3,3-3v-8c0-1.7-1.3-3-3-3H4516z"/>\n</g>\n</svg>\n',
			rollTop: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n<g transform="translate(-458 -4298)">\n   <path d="M471,4306h-6c-0.6,0-1-0.4-1-1s0.4-1,1-1h6c0.6,0,1,0.4,1,1S471.6,4306,471,4306z"/>\n   <path d="M473,4317h-10c-2.8,0-5-2.2-5-5v-8c0-2.8,2.2-5,5-5h10c2.8,0,5,2.2,5,5v8C478,4314.8,475.8,4317,473,4317z\n        M463,4301c-1.7,0-3,1.3-3,3v8c0,1.7,1.3,3,3,3h10c1.7,0,3-1.3,3-3v-8c0-1.7-1.3-3-3-3H463z"/>\n</g>\n</svg>',
			rollBottom: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n<g transform="translate(-4187 -5091)">\n   <path d="M4200,5105h-6c-0.6,0-1-0.4-1-1s0.4-1,1-1h6c0.6,0,1,0.4,1,1S4200.6,5105,4200,5105z"/>\n   <path d="M4202,5110h-10c-2.8,0-5-2.2-5-5v-8c0-2.8,2.2-5,5-5h10c2.8,0,5,2.2,5,5v8C4207,5107.8,4204.8,5110,4202,5110\n       z M4192,5094c-1.7,0-3,1.3-3,3v8c0,1.7,1.3,3,3,3h10c1.7,0,3-1.3,3-3v-8c0-1.7-1.3-3-3-3H4192z"/>\n</g>\n</svg>',
			up: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n<g  transform="translate(-736 -384)">\n<path d="M751.6,391.7H748c-0.2,0-0.3-0.2-0.3-0.3c0-0.1,0-0.1,0-0.2c0.6-1.4,0.6-3,0.1-4.4\n   c-0.5-1.6-1.2-2.8-2.8-2.8c-1.7,0.1-2.1,1.6-1.9,2.9c0.3,2.2-1.5,4.8-2.4,4.8h-0.2c-2,0.1-3.6,1.7-3.5,3.8c0,0.1,0,0.1,0,0.2v4.9\n   c0,1.9,1.6,3.5,3.5,3.4c0,0,0,0,0,0h9.4c2-0.1,3.6-1.5,4-3.4c0.3-1.4,1-4.9,1-4.9c0.3-1.8-0.9-3.6-2.7-3.9\n   C752,391.7,751.8,391.7,751.6,391.7z"/>\n</g>\n</svg>',
			report: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n<g transform="translate(-927.984 -320)">\n   <path d="M937.8,333c-2.9,0-5.7-0.6-8.3-1.8c-0.4-0.2-0.8-0.5-1.1-0.9c-0.8-1.1-0.5-2.6,0.6-3.4l0.2-0.1\n       c1.1-0.5,2.2-1.1,3.3-1.8c1.1-0.8,2.7-2.2,2.7-2.2l0.1-0.1c1.6-1.1,3.7-1.1,5.4,0l0.1,0.1c0.9,0.8,1.8,1.5,2.8,2.2\n       c1,0.6,2.1,1.2,3.2,1.7l0.1,0.1c0.4,0.3,0.7,0.6,0.9,1.1c0.5,1.2-0.1,2.7-1.3,3.2c-2.7,1.2-5.5,1.8-8.5,1.8\n       C937.9,333,937.9,333,937.8,333z M938,331c2.7,0,5.3-0.5,7.7-1.6c0.2-0.1,0.4-0.4,0.3-0.6c0-0.1-0.1-0.1-0.1-0.2\n       c-1.2-0.5-2.3-1.2-3.4-1.9c-1-0.7-2-1.5-2.9-2.3c-0.9-0.6-2.1-0.6-3,0c-0.3,0.3-1.8,1.5-2.9,2.3c-1.1,0.7-2.3,1.4-3.5,1.9\n       c-0.2,0.1-0.2,0.4-0.1,0.6c0.1,0.1,0.1,0.1,0.2,0.2C932.7,330.5,935.3,331,938,331z"/>\n   <path d="M938,338c-3.9,0-7-4-7.4-4.6c-0.6-0.6-0.7-1.5-0.4-2.3c0.3-0.7,0.9-1.1,1.6-1.1v2c0.2,0,0.3-0.1,0.3-0.1\n       c0,0.1,0,0.2,0,0.2l0.1,0.1c0,0,2.7,3.8,5.9,3.8c2.4,0,5.1-2.7,5.9-3.8l0.1-0.1c0,0,0-0.2,0-0.2c0,0,0.1,0.1,0.3,0.1v-2\n       c0.7,0,1.3,0.4,1.6,1.1c0.3,0.8,0.1,1.7-0.4,2.3C945,334,941.7,338,938,338z"/>\n   <path d="M938,326.1L938,326.1c0.6,0,1,0.4,1,1v1c0,0.6-0.4,1-1,1l0,0c-0.6,0-1-0.4-1-1v-1\n       C937,326.6,937.4,326.1,938,326.1z"/>\n</g>\n</svg>',
			closeButton: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 14 14" style="enable-background:new 0 0 14 14;" xml:space="preserve">\n<g transform="translate(-834.5 -899)">\n       <path d="M846.5,912c-0.3,0-0.5-0.1-0.7-0.3l-10-10c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l10,10c0.4,0.4,0.4,1,0,1.4\n           C847,911.9,846.8,912,846.5,912z"/>\n       <path d="M836.5,912c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l10-10c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-10,10\n           C837,911.9,836.8,912,836.5,912z"/>\n</g>\n</svg>',
			deleteButon: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="-2 -2 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">\n<g>\n       <path d="M8,8.5c-0.1,0-0.3,0-0.4-0.1l-8-8c-0.2-0.2-0.2-0.5,0-0.7s0.5-0.2,0.7,0l8,8c0.2,0.2,0.2,0.5,0,0.7\n           C8.3,8.5,8.1,8.5,8,8.5z"/>\n       <path d="M0,8.5c-0.1,0-0.3,0-0.4-0.1c-0.2-0.2-0.2-0.5,0-0.7l8-8c0.2-0.2,0.5-0.2,0.7,0s0.2,0.5,0,0.7l-8,8\n           C0.3,8.5,0.1,8.5,0,8.5z"/>\n</g>\n</svg>',
			danmuSwitch: '<svg viewBox="0 0 11 10" width="100%" height="100%">\n<path d="M0 1h2v2H0v4h2v2H0v1h3V6H1V4h2V0H0zM5 0h1v1H5zM9 0h1v1H9zM9 2V1H8v1H7V1H6v1H4v5h3v1H4v1h3v1h1V9h3V8H8V7h3V2H9zM7 6H5V5h2v1zm0-2H5V3h2v1zm3 2H8V5h2v1zm0-2H8V3h2v1z"></path>\n</svg>'
		},
		xy = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.element.addEventListener("mouseenter", e.onMouseEnter.bind(e)), e.element.addEventListener(
					"mouseleave", e.onMouseLeave.bind(e)), e.element.addEventListener("click", e.onClick.bind(
					e)), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "mango-danmu-report-pop",
					html: '\n                <div class="svg-hat">' + Ty.report +
						'</div>\n                <div class="texr-report">举报</div>\n            '
				}
			}, i.onMouseEnter = function() {
				this.autoHide(!1)
			}, i.onMouseLeave = function() {
				this.autoHide(!0)
			}, i.onClick = function(t) {
				return Pu(this, void 0, void 0, function() {
					return Du(this, function(e) {
						return t.stopPropagation(), t.preventDefault(), this.setVisible(!1),
							this.dispatcher.dispatch("danmuReport", this.danmuItem), Yi.info(
								"danmuReport", this.danmuItem), [2]
					})
				})
			}, i.show = function(t) {
				this.danmuItem = t.item, this.element.style.transform = "translate3d(" + t.x + "px, " + t.y +
					"px,0)", this.setVisible(!0), this.autoHide(!0)
			}, i.autoHide = function(t) {
				var e = this;
				clearTimeout(this.autoHideTimeOut), t && (this.autoHideTimeOut = setTimeout(function() {
					e.setVisible(!1)
				}, lm.autoHideTimeout))
			}, i.setVisible = function(t) {
				this.element.style.display = t ? "block" : "none"
			}, Lu([fm("danmu-item")], e.prototype, "dispatcher", void 0), e
		}(Sy),
		Ay = function() {
			function t() {
				this.cache = [], this.maskWords = []
			}
			var e = t.prototype;
			return e.push = function(t) {
				var e = this;
				t.forEach(function(t) {
					if ("string" == typeof t.content && (t.content = t.content.replace(/<.*?>/g, "")),
						99 == t.type && e.cache.unshift(t), !e.maskColor || !t.v2_color) {
						for (var i = 0, n = e.maskWords; i < n.length; i++) {
							var r = n[i];
							if (t.content && -1 != t.content.indexOf(r)) return
						} - 1 == e.cache.indexOf(t) && (1 == t.self || 2 == t.type ? e.cache.unshift(
							t) : e.cache.push(t))
					}
				})
			}, e.pop = function(t) {
				for (var e = 0; e < this.cache.length; e++) {
					var i = this.cache[e];
					if ("roll" == t && (null == i.v2_position || 0 == i.v2_position)) return this.cache.splice(
						e, 1), i;
					if ("top" == t && 1 == i.v2_position) return this.cache.splice(e, 1), i;
					if ("bottom" == t && 2 == i.v2_position) return this.cache.splice(e, 1), i
				}
				return null
			}, e.clearOldData = function(t) {
				var e = [],
					i = t - Ey.backTimeTorrence;
				this.cache.forEach(function(t) {
					2 == t.type ? e.push(t) : t.time / 1e3 > i && e.push(t)
				}), this.cache = e
			}, e.clear = function() {
				this.cache = []
			}, t
		}(),
		Cy = "transitionFinish";
	! function(t) {
		t[t.frozen = 0] = "frozen", t[t.running = 1] = "running", t[t.hovering = 2] = "hovering", t[t.finishing =
			3] = "finishing", t[t.suspend = 4] = "suspend", t[t.pause = 5] = "pause"
	}(vy || (vy = {}));
	var Ry = 90,
		Iy = 80,
		Ly = 70,
		Py = 60,
		Dy = 50,
		My = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.hoverTime = 0, e.pausePosition = 0, e._speed = 2, e._top = 0, e._zIndex = 0, e.state = vy
					.frozen, e.mode = "roll", e._suspended = !1, e
			}
			wu(e, t);
			var i = e.prototype;
			return i.initDom = function() {
				this._element.addEventListener("transitionend", this.onTransitionEnd.bind(this)), this._element
					.addEventListener("transitioncancel", this.onTransitionCancel.bind(this)), this._element
					.addEventListener("mouseenter", this.onMouseEnter.bind(this)), this._element
					.addEventListener("mouseleave", this.onMouseLeave.bind(this)), this._element
					.addEventListener("click", this.onClick.bind(this)), this._element.addEventListener(
						"dblclick", this.onDoubleClick.bind(this))
			}, i.onClick = function(t) {
				t.stopPropagation()
			}, i.onDoubleClick = function(t) {
				t.stopPropagation()
			}, i.onTransitionCancel = function() {}, i.onTransitionEnd = function() {
				var t = this;
				this.hoverTime > 0 && "roll" === this.mode ? (this.state = vy.suspend, this.onSuspend(), this
					.setZIndex(Ly), this._suspended = !0, this.suspendTimeOut = setTimeout(function() {
						t.setTransition(0), t.hoverTime = 0, t.state = vy.running
					}, 1e3 * this.hoverTime)) : this.onFinished()
			}, i.onFinished = function() {
				this._element.style.transition = "", this.dispatch(Cy, this)
			}, i.onSuspend = function() {}, i.setMode = function(t) {
				this.mode = t
			}, i.getMode = function() {
				return this.mode
			}, i.setActive = function(t) {
				t || (this.stopFloat(), this.stopTransition()), this.state = t ? vy.running : vy.frozen
			}, i.setZIndex = function(t) {
				this._element.style.zIndex = String(t), this._zIndex = t
			}, i.pause = function() {
				"roll" === this.mode ? this.stopTransition() : this.stopFloat(), this.state = vy.pause
			}, i.resume = function() {
				if ("roll" === this.mode) this.resumeTransition();
				else {
					var t = Ey.floatTime;
					this.startFloat(t)
				}
				this.state = vy.running
			}, i.setTransition = function(t, e, i) {
				return Pu(this, void 0, void 0, function() {
					var n = this;
					return Du(this, function(r) {
						return [2, new Promise(function(r) {
							n._top = e || n._top, n._speed = i || n._speed, n
								._element.style.transition = "", n._element.style
								.transform = "translateX(" + t + "px) translateY(" +
								n._top + "px) translateZ(0px)", n
								.transitionTimeOut = setTimeout(function() {
									var e = n.hoverTime > 0 ? 0 : -n.width,
										i = (t - e) / n._speed / 60;
									n._element.style.transition =
										"-webkit-transform " + i + "s linear", n
										._element.style.transform =
										"translateX(" + e + "px) translateY(" +
										n._top + "px) translateZ(0px)", r(n
											.width)
								})
						})]
					})
				})
			}, i.getPosition = function() {
				var t = window.getComputedStyle(this._element).transform,
					e = "0";
				return e = -1 !== t.indexOf("matrix3d") ? t.split(",")[12] : t.split(",")[4], Number(e)
			}, i.stopTransition = function() {
				this.pausePosition = this.getPosition(), this._element.style.transition = "", this._element
					.style.transform = "translateX(" + this.pausePosition + "px) translateY(" + this._top +
					"px) translateZ(0px)", clearTimeout(this.transitionTimeOut)
			}, i.onMouseEnter = function() {
				"roll" === this.mode ? this.stopTransition() : "float" === this.mode && this.stopFloat(),
					clearTimeout(this.suspendTimeOut), this._suspended && (this.hoverTime = 0), this._element
					.style.zIndex = String(Ry)
			}, i.onMouseLeave = function() {
				if (this.state !== vy.pause)
					if ("roll" === this.mode) this.resumeTransition();
					else if ("float" === this.mode) {
					var t = Ey.floatTime;
					this.startFloat(t)
				}
				this.setZIndex(this._zIndex)
			}, Object.defineProperty(i, "element", {
				get: function() {
					return this._element
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(i, "top", {
				get: function() {
					return this._top
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(i, "width", {
				get: function() {
					return this._element.offsetWidth
				},
				enumerable: !0,
				configurable: !0
			}), i.resumeTransition = function() {
				this.pausePosition > -this.width && this.setTransition(this.pausePosition)
			}, i.getPausePosition = function() {
				return this.pausePosition
			}, i.startFloat = function(t) {
				var e = this;
				this.floatTimeOut = setTimeout(function() {
					e.onFinished()
				}, t)
			}, i.stopFloat = function() {
				clearTimeout(this.floatTimeOut)
			}, e
		}(dm),
		By = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.initDom(), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.initDom = function() {
				this._element = document.createElement("mango-ad-danmu"), this._element.style.position =
					"absolute", this._element.style.left = "0px", t.prototype.initDom.call(this)
			}, i.setData = function(t) {
				this.data = t, this._element.appendChild(t.dom), this.hoverTime = t.stay / 1e3
			}, i.onClick = function(e) {
				t.prototype.onClick.call(this, e), this.onMouseLeave()
			}, Object.defineProperty(i, "width", {
				get: function() {
					return this.data.width
				},
				enumerable: !0,
				configurable: !0
			}), i.onFinished = function() {
				t.prototype.onFinished.call(this), this._element.parentElement && this._element.parentElement
					.removeChild(this._element)
			}, i.setActive = function() {
				this._element.parentElement && this._element.parentElement.removeChild(this._element)
			}, e
		}(My),
		Oy = function() {
			function t() {
				this.count = 0, this.element = document.createElement("div"), this.element.className = "up-button",
					this.element.innerHTML = '\n            <div class="up-button-svg">' + Ty.up +
					'</div>\n            <span class="up-button-count"></span>\n            <div class="up-animation">+1</div>\n        ',
					this.countDom = this.element.querySelector(".up-button-count"), this.animationDom = this.element
					.querySelector(".up-animation"), this.hide()
			}
			var e = t.prototype;
			return e.setCount = function(t) {
				this.count = Number(t) || 0, this.countDom.innerHTML = String(this.count || "")
			}, e.like = function() {
				var t = this;
				this.setCount(++this.count), this.animationDom.classList.add("up-animation-show"), this
					.animationDom.addEventListener("animationend", function() {
						t.animationDom.classList.remove("up-animation-show")
					})
			}, e.show = function() {
				this.element.style.visibility = "visible"
			}, e.hide = function() {
				this.element.style.visibility = "hidden"
			}, t
		}(),
		Uy = !!window.ActiveXObject || "ActiveXObject" in window,
		Fy = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.template = "", e.tagName = "mango-text-danmu", e.liked = !1, e
			}
			wu(e, t);
			var i = e.prototype;
			return i.initDom = function() {
				this._element = document.createElement(this.tagName), this._element.className = "danmu-item",
					this._element.innerHTML = this.template, this.content = document.createElement("div"), this
					.content.className = "danmu-content", this._element.appendChild(this.content), this
					.likeButton = new Oy, this._element.appendChild(this.likeButton.element), t.prototype
					.initDom.call(this), this._element.addEventListener("contextmenu", this.onContextmenu.bind(
						this))
			}, i.onContextmenu = function(t) {
				t.stopImmediatePropagation(), t.preventDefault();
				var e = t.offsetX + this.getPausePosition(),
					i = t.offsetY + this._top;
				this.dispatcher.dispatch("danmuContextmenu", {
					x: e,
					y: i,
					item: this
				}), by.sendClickReport({
					cont: "弹幕举报"
				}, {
					flag: 17
				})
			}, i.onFinished = function() {
				t.prototype.onFinished.call(this), this.setActive(!1)
			}, i.setData = function(t) {
				this.data = t, this.liked = !1, this.likeButton.setCount(t.v2_up_count), this.likeButton.hide(),
					this.setSuspend(t), this.setColor(t), this.setBackground(t), this.setSelf(t)
			}, i.setColor = function(t) {
				if (this.content.classList.remove("gradient"), this.content.style.backgroundImage = "", t
					.v2_color) {
					var e = t.v2_color.color_left,
						i = t.v2_color.color_right,
						n = void 0;
					Uy || -1 == i.r || -1 == i.g || -1 == i.b ? (n = "rgba(" + e.r + "," + e.g + "," + e.b +
						",1)", this.content.style.color = n) : (t.content = by.removeEmoji(t.content), n =
						"linear-gradient(90deg,rgba(" + e.r + "," + e.g + "," + e.b + ",1),rgba(" + i.r +
						"," + i.g + "," + i.b + ",1))", this.content && (this.content.style
							.backgroundImage = n), this.content && this.content.classList.add("gradient"),
						this.content.style.color = "")
				} else this.content.style.color = "white"
			}, i.setBackground = function(t) {
				if (t.v2_background) {
					var e = t.v2_background;
					this.element.style.backgroundColor = "rgba(" + e.r + "," + e.g + "," + e.b + ",1)"
				} else this.element.style.backgroundColor = ""
			}, i.setSelf = function(t) {
				this.element.classList[t.self ? "add" : "remove"]("self")
			}, i.setSuspend = function(t) {
				t.v2_hovering && t.v2_hovering > 0 && (this.hoverTime = t.v2_hovering), this._suspended = !1
			}, i.isActive = function() {
				return this._active
			}, i.setActive = function(e) {
				t.prototype.setActive.call(this, e), this.element.style.display = e ? "block" : "none", this
					._active = e
			}, i.onMouseEnter = function() {
				t.prototype.onMouseEnter.call(this), this.likeButton.show()
			}, i.onMouseLeave = function() {
				t.prototype.onMouseLeave.call(this), this.liked || this.likeButton.hide()
			}, i.onClick = function(e) {
				var i = this;
				t.prototype.onClick.call(this, e), this.liked || this.data.self || (this.likeButton.like(), this
					.liked = !0, this.setZIndex(Iy), by.sendClickReport({
						cont: "弹幕点赞"
					}, {
						flag: 16
					}), by.danmuUp(this.data.ids).then(function(t) {
						i.dispatcher.dispatch("danmuUp", {
							toast: Ey.getToast(),
							image: t.avatar
						})
					}).catch(function() {}))
			}, Lu([fm("danmu-item")], e.prototype, "dispatcher", void 0), e
		}(My),
		Ny = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.tagName = "mango-role-danmu", e.template =
					'\n            <div class="default-avatar">\n                <div class="danmu-avatar"></div>\n            </div>\n        ',
					e.initDom(), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.initDom = function() {
				t.prototype.initDom.call(this), this.avatar = this._element.querySelector(".danmu-avatar")
			}, i.setData = function(e) {
				t.prototype.setData.call(this, e), this.content.innerHTML = e.uname + ":" + e.content.replace(
					/\n/g, ""), e.avatar && (this.avatar.style.backgroundImage = "url(" + e.avatar + ")")
			}, e
		}(Fy),
		Vy = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.tagName = "mango-star-danmu", e.template =
					'\n            <div class="default-avatar">\n                <div class="danmu-avatar"></div>\n            </div>\n        ',
					e.initDom(), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.initDom = function() {
				t.prototype.initDom.call(this), this.avatar = this._element.querySelector(".danmu-avatar")
			}, i.setData = function(e) {
				t.prototype.setData.call(this, e), this.content.innerHTML = e.uname + ":" + e.content.replace(
						/\n/g, ""), e.avatar && (this.avatar.style.backgroundImage = "url(" + e.avatar + ")"),
					this.likeButton.show()
			}, i.onMouseLeave = function() {
				t.prototype.onMouseLeave.call(this), this.likeButton.show()
			}, e
		}(Fy),
		zy = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.initDom(), e
			}
			return wu(e, t), e.prototype.setData = function(e) {
				t.prototype.setData.call(this, e), this.content.innerText = e.content.replace(/\n/g, "")
			}, e
		}(Fy),
		Hy = function() {
			function t() {}
			var e = t;
			return e.getDanmu = function(t) {
				var e, i = this;
				switch (t.type) {
					case 2:
						e = this.getOrCreate(this.pool.star, Vy);
						break;
					case 3:
						e = this.getOrCreate(this.pool.role, Ny);
						break;
					case 99:
						(e = new By).addEventListener(Cy, function() {
							i.pool.ad.shift()
						}), this.pool.ad.push(e);
						break;
					case 0:
					default:
						e = this.getOrCreate(this.pool.text, zy)
				}
				return e.setData(t), e
			}, e.getOrCreate = function(t, e) {
				for (var i = 0, n = t; i < n.length; i++) {
					var r = n[i];
					if (!r.isActive()) return r
				}
				var o = new e;
				return t.push(o), o
			}, e.getActiveDanmus = function() {
				var t = [];
				for (var e in this.pool) this.pool[e].forEach(function(e) {
					e instanceof Fy && e.isActive() ? t.push(e) : e instanceof By && t.push(e)
				});
				return t
			}, t.pool = {
				star: [],
				role: [],
				text: [],
				ad: []
			}, t
		}(),
		jy = function() {
			function t() {
				this.danmuItems = [], this.onDanmuTransitionFinish = this.onDanmuTransitionFinish.bind(this), this
					.isActive = !0;
				var t = Ey.minScrollSpeed,
					e = Ey.maxScrollSpeed;
				this.baseSpeed = (e - t) * Math.random() + t, this.updateSpeed(Ey.settingSpeed * Ey.playSpeed)
			}
			var e = t.prototype;
			return e.updateSpeed = function(t) {
				this.speed = this.baseSpeed * t
			}, e.addDanmu = function(t) {
				this.danmuItems.push(t), t.addEventListener(Cy, this.onDanmuTransitionFinish)
			}, e.onDanmuTransitionFinish = function(t) {
				var e = this.danmuItems.indexOf(t); - 1 !== e && this.danmuItems.splice(e, 1), t
					.removeEventListener(Cy, this.onDanmuTransitionFinish)
			}, e.canInsert = function() {
				return !!this.isActive
			}, e.setActive = function(t) {
				this.isActive = t
			}, e.resize = function(t, e) {
				this.width = t
			}, e.pause = function() {}, e.resume = function() {}, e.clear = function() {
				for (var t = 0, e = this.danmuItems; t < e.length; t++) {
					e[t].removeEventListener(Cy, this.onDanmuTransitionFinish)
				}
				this.danmuItems = []
			}, t
		}(),
		$y = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.isBusy = !1, e
			}
			wu(e, t);
			var i = e.prototype;
			return i.addDanmu = function(e) {
				var i = this;
				t.prototype.addDanmu.call(this, e), this.isBusy = !0, this.timeOut = setTimeout(function() {
					e.setZIndex(Py), e.setActive(!0), e.setMode("float");
					var t = (e.width + Ey.gap + i.width) / i.speed / 60;
					e.startFloat(1e3 * t);
					var n = (i.width - e.width) / 2 + 25;
					e.element.style.transition = "", e.element.style.transform = "translateX(" + n +
						"px) translateY(" + i.top + "px) translateZ(0px)"
				})
			}, i.run = function(t) {
				var e = this;
				this.busyTimeout = setTimeout(function() {
					e.isBusy = !1
				}, 1e3 * t)
			}, i.canInsert = function() {
				return t.prototype.canInsert.call(this) && !this.isBusy
			}, i.onDanmuTransitionFinish = function(e) {
				this.isBusy = !1, t.prototype.onDanmuTransitionFinish.call(this, e)
			}, i.pause = function() {
				clearTimeout(this.busyTimeout)
			}, i.resume = function() {
				if (this.isBusy) this.danmuItems[0]
			}, i.resize = function(e, i) {
				if (t.prototype.resize.call(this, e, i), this.danmuItems.length) {
					var n = this.danmuItems[0],
						r = (this.width - n.width) / 2 + 25;
					n.element.style.transition = "", n.element.style.transform = "translateX(" + r +
						"px) translateY(" + this.top + "px) translateZ(0px)"
				}
			}, i.clear = function() {
				t.prototype.clear.call(this), clearTimeout(this.timeOut), clearTimeout(this.busyTimeout), this
					.isBusy = !1
			}, e
		}(jy),
		Wy = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.busy = !1, e
			}
			wu(e, t);
			var i = e.prototype;
			return i.setActive = function(e) {
				t.prototype.setActive.call(this, e)
			}, i.addDanmu = function(e) {
				return Pu(this, void 0, void 0, function() {
					var i, n = this;
					return Du(this, function(r) {
						switch (r.label) {
							case 0:
								return t.prototype.addDanmu.call(this, e), this.busy = !0, e
									.setActive(!0), e.setMode("roll"), e.setZIndex(Dy), [4, e
										.setTransition(this.width, this.top, this.speed)
									];
							case 1:
								return r.sent(), i = (e.width + Ey.gap) / this.speed / 60,
									clearTimeout(this.busyTimeOut), this.busyTimeOut =
									setTimeout(function() {
										n.busy = !1
									}, 1e3 * i), [2]
						}
					})
				})
			}, i.canInsert = function() {
				return t.prototype.canInsert.call(this) && !this.busy
			}, i.pause = function() {
				clearTimeout(this.busyTimeOut)
			}, i.resume = function() {
				var t = this,
					e = this.danmuItems[this.danmuItems.length - 1];
				if (e) {
					var i = (e.getPosition() + e.width + Ey.gap - this.width) / 60 / this.speed;
					i > 0 && (clearTimeout(this.busyTimeOut), this.busy = !0, this.busyTimeOut = setTimeout(
						function() {
							t.busy = !1
						}, 1e3 * i))
				}
			}, i.resize = function(e, i) {
				var n = this;
				t.prototype.resize.call(this, e, i);
				var r = this.danmuItems[this.danmuItems.length - 1];
				if (r) {
					var o = (r.getPosition() + r.width + Ey.gap - this.width) / 60 / this.speed;
					o > 0 && (clearTimeout(this.busyTimeOut), this.busy = !0, this.busyTimeOut = setTimeout(
						function() {
							n.busy = !1
						}, 1e3 * o))
				}
			}, i.clear = function() {
				t.prototype.clear.call(this), this.busy = !1, clearTimeout(this.busyTimeOut)
			}, e
		}(jy),
		qy = function() {
			function t() {
				this.floatBottomTracks = new Array, this.floatTopTracks = new Array, this.rollTracks = new Array
			}
			var e = t.prototype;
			return e.getInsertbleTrack = function(t) {
				var e;
				"roll" === t ? e = this.rollTracks : "top" === t ? e = this.floatTopTracks : "bottom" === t && (
					e = this.floatBottomTracks);
				for (var i = 0, n = e; i < n.length; i++) {
					var r = n[i];
					if (r.canInsert()) return r
				}
				return null
			}, e.updateSpeed = function(t) {
				for (var e = 0, i = this.rollTracks; e < i.length; e++) {
					i[e].updateSpeed(t)
				}
				for (var n = 0, r = this.floatTopTracks; n < r.length; n++) {
					r[n].updateSpeed(t)
				}
				for (var o = 0, s = this.floatBottomTracks; o < s.length; o++) {
					s[o].updateSpeed(t)
				}
			}, e.pause = function() {
				[this.rollTracks, this.floatTopTracks, this.floatBottomTracks].forEach(function(t) {
					for (var e = 0, i = t; e < i.length; e++) {
						i[e].pause()
					}
				})
			}, e.resume = function() {
				[this.rollTracks, this.floatTopTracks, this.floatBottomTracks].forEach(function(t) {
					for (var e = 0, i = t; e < i.length; e++) {
						i[e].resume()
					}
				})
			}, e.resize = function(t, e) {
				for (var i, n = Ey.paddingTop, r = Ey.paddingBottom, o = Ey.settingRange, s = Ey
						.getComputedLineHeight(), a = Math.floor((e - n - r) * o / s) || 1, h = Math.floor((e /
							2 - n) * o / s) || 1, c = Math.floor((e / 2 - r) * o / s) || 1, u = 0; u < Math.max(
						a, this.rollTracks.length); u++) this.rollTracks[u] ? (this.rollTracks[u].setActive(u <
						a), i = this.rollTracks[u]) : (i = new Wy, this.rollTracks.push(i)), i.top = n + u * s,
					i.resize(t, e);
				for (u = 0; u < Math.max(h, this.floatTopTracks.length); u++) this.floatTopTracks[u] ? (this
					.floatTopTracks[u].setActive(u < h), i = this.floatTopTracks[u]) : (i = new $y, this
					.floatTopTracks.push(i)), i.top = n + 15 + u * s, i.resize(t, e);
				for (u = 0; u < Math.max(c, this.floatBottomTracks.length); u++) this.floatBottomTracks[u] ? (
					this.floatBottomTracks[u].setActive(u < c), i = this.floatBottomTracks[u]) : (i =
					new $y, this.floatBottomTracks.push(i)), i.top = e - r - u * s, i.resize(t, e)
			}, e.enableTrack = function(t, e) {
				"top" === t ? this.floatTopTracks.forEach(function(t) {
					t.setActive(!e)
				}) : "bottom" === t && this.floatBottomTracks.forEach(function(t) {
					t.setActive(!e)
				})
			}, e.clear = function() {
				[this.floatTopTracks, this.floatBottomTracks, this.rollTracks].forEach(function(t) {
					t.forEach(function(t) {
						t.clear()
					})
				})
			}, t
		}(),
		Gy = function() {
			function t(t) {
				this.element = document.createElement("mango-danmu-view"), this.container = document.createElement(
						"mango-danmu-container"), this.advContainer = document.createElement(
						"mango-danmu-advcontainer"), this.element.appendChild(this.container), this.element
					.appendChild(this.advContainer), this.reportPop = new xy, this.element.appendChild(this
						.reportPop.element), this.trackManager = new qy, this.danmuDataCache = new Ay, this
					.showTracks = ["roll", "top", "bottom"], this.update = this.update.bind(this), this
					.danmuItemDispatcher.addEventListener("danmuContextmenu", this.onDanmuReport.bind(this))
			}
			var e = t.prototype;
			return e.onDanmuReport = function(t) {
				this.reportPop.show(t)
			}, e.onAppended = function() {
				this.resize()
			}, e.start = function() {
				window.cancelAnimationFrame(this.reqeustFrameAnumationId), this.reqeustFrameAnumationId = window
					.requestAnimationFrame(this.update), Hy.getActiveDanmus().forEach(function(t) {
						t.resume()
					}), this.trackManager.resume()
			}, e.stop = function() {
				window.cancelAnimationFrame(this.reqeustFrameAnumationId), Hy.getActiveDanmus().forEach(
					function(t) {
						t.pause()
					}), this.trackManager.pause()
			}, e.update = function() {
				for (var t = 0, e = this.showTracks; t < e.length; t++) {
					var i = e[t],
						n = this.trackManager.getInsertbleTrack(i);
					if (n) {
						var r = this.danmuDataCache.pop(i);
						if (r) {
							var o = Hy.getDanmu(r);
							n.addDanmu(o), o instanceof By ? this.advContainer.appendChild(o.element) : o
								.element.parentElement || this.container.appendChild(o.element)
						}
					}
				}
				this.reqeustFrameAnumationId = window.requestAnimationFrame(this.update)
			}, e.clear = function() {
				this.danmuDataCache.clear(), this.trackManager.clear(), Hy.getActiveDanmus().forEach(function(
				t) {
					t.setActive(!1)
				})
			}, e.destory = function() {
				this.clear()
			}, e.addDanmu = function(t, e) {
				this.danmuDataCache.clearOldData(e), this.danmuDataCache.push(t)
			}, e.setPlaySpeed = function(t) {
				Ey.playSpeed = t, this.trackManager.updateSpeed(Ey.settingSpeed * Ey.playSpeed)
			}, e.setAlpha = function(t) {
				t = Math.max(0, t), t = Math.min(1, t), this.element.style.opacity = String(t)
			}, e.setFontSize = function(t) {
				Ey.settingFontSize = t, this.resize()
			}, e.setViewSize = function(t) {
				t = Math.max(.1, t), t = Math.min(1, t), Ey.settingRange = t, this.resize()
			}, e.setRollSpeed = function(t) {
				Ey.settingSpeed = t, this.trackManager.updateSpeed(Ey.settingSpeed * Ey.playSpeed)
			}, e.setMask = function(t) {
				var e;
				"color" === t.position ? this.danmuDataCache.maskColor = t.mask : (this.trackManager
					.enableTrack(t.position, t.mask), t.mask ? -1 !== (e = this.showTracks.indexOf(t
						.position)) && this.showTracks.splice(e, 1) : -1 === (e = this.showTracks.indexOf(t
						.position)) && this.showTracks.push(t.position))
			}, e.setMaskWords = function(t) {
				this.danmuDataCache.maskWords = t
			}, e.resize = function() {
				var t = this.element,
					e = t.clientHeight,
					i = t.clientWidth;
				this.trackManager.resize(i, e), Ey.resize(i, e), this.element.style.fontSize = Ey
				.getFontSize() + "px"
			}, Lu([fm("danmu-item")], t.prototype, "danmuItemDispatcher", void 0), t
		}(),
		Ky = function() {
			function t(t, e) {
				var i = this;
				this.parent = t, this.vm = e, this.aiSwitcher = !1, this.running = !1, this.maskEnable = !1, this
					._isPipMode = !1, Ey.init(), this.provider = new wy, this.view = new Gy(e), this.view
					.setPlaySpeed(this.getPlayRate()), t.appendChild(this.view.element), this.view.onAppended(), e
					.on("danmuSettingChange", this.onDanmuSettingChange.bind(this)), e.on("danmuSendSuccess", this
						.onDanmuSendSuccess.bind(this)), e.on("danmuStatusChange", this.onDanmuStatusChange.bind(
						this)), e.on("switchPlayRate", this.onPlayRate.bind(this)), this.aiSwitcher = 1 == zi.get(
						"mango-aiswitcher"), this.dispatcher.addEventListener("danmuUp", function(t) {
						i.vm.emit("showToast", t)
					}), this.dispatcher.addEventListener("danmuReport", function(t) {
						i.vm.emit("danmuReport", t)
					}), this.aiSwitcher
			}
			var e = t.prototype;
			return e.switchMask = function() {
				this.danmuMask && (this.running && !this._isPipMode && this.aiSwitcher ? this.danmuMask
				.start() : (this.danmuMask.stop(), this.danmuMask.clear()))
			}, e.setPipMode = function(t) {
				this._isPipMode = t, this.switchMask()
			}, e.initMask = function(t) {
				t ? this.danmuMask ? this.danmuMask.setUrl(t) : this.danmuMask = new gy(this.view.container,
					this.vm, t) : this.danmuMask && (this.danmuMask.stop(), this.danmuMask.clear(), this
					.danmuMask = null)
			}, e.onPlayRate = function(t) {
				this.view.setPlaySpeed(t.rate), this.danmuMask.setPlaySpeed(t.rate)
			}, e.onDanmuStatusChange = function(t) {
				for (var e in t) {
					var i = t[e];
					switch (e) {
						case "range":
							this.view.setViewSize(i);
							break;
						case "alpha":
							this.view.setAlpha(i);
							break;
						case "speed":
							this.view.setRollSpeed(i);
							break;
						case "fontSize":
							this.view.setFontSize(i);
							break;
						case "maskBottom":
							this.view.setMask({
								position: "bottom",
								mask: Boolean(i)
							});
							break;
						case "maskTop":
							this.view.setMask({
								position: "top",
								mask: Boolean(i)
							});
							break;
						case "maskColor":
							this.view.setMask({
								position: "color",
								mask: Boolean(i)
							});
							break;
						case "maskWords":
							this.view.setMaskWords(i)
					}
				}
			}, e.onDanmuSendSuccess = function(t) {
				var e = t.data.style;
				e.self = !0, this.view.addDanmu([e], this.vm.currentTime)
			}, e.onDanmuSettingChange = function(t) {
				for (var e = 0, i = t; e < i.length; e++) {
					var n = i[e];
					switch ("mask" == n.type ? "top" === n.value.position ? zi.set("mango-mask-top", n.value
							.mask) : "bottom" === n.value.position ? zi.set("mango-mask-bottom", n.value.mask) :
						"color" === n.value.position && zi.set("mango-mask-color", n.value.mask) : zi.set(
							"mango-" + n.type, n.value), n.type) {
						case "alpha":
							this.view.setAlpha(n.value);
							break;
						case "fontsize":
							this.view.setFontSize(n.value);
							break;
						case "range":
							this.view.setViewSize(n.value);
							break;
						case "speed":
							this.view.setRollSpeed(n.value);
							break;
						case "mask":
							this.view.setMask(n.value);
							break;
						case "words":
							this.view.setMaskWords(n.value);
							break;
						case "aiswitcher":
							var r = n.value;
							this.aiSwitcher = "1" === r, this.switchMask(), zi.set("mango-aiswitcher", this
								.aiSwitcher), Ey.userAISwitcher = this.aiSwitcher
					}
				}
			}, e.init = function(t) {
				this.provider.init(t), this.view.resize()
			}, e.resize = function() {
				this.view.resize(), this.danmuMask && this.danmuMask.resize({
					width: this.view.element.clientWidth,
					height: this.view.element.clientHeight
				})
			}, e.seek = function() {
				this.provider.seek(), this.danmuMask && this.danmuMask.clear()
			}, e.fullscreen = function(t) {
				this.view.resize()
			}, e.push = function(t) {
				this.view.addDanmu([t], this.vm.currentTime)
			}, e.start = function() {
				var t = this;
				this.running || (this.running = !0, this.provider.start(), this.view.start(), this.switchMask(),
					clearInterval(this.updateInterval), this.updateInterval = setInterval(function() {
						var e = t.vm.currentTime;
						t.aiSwitcher && t.danmuMask && t.danmuMask.update(e), t.provider.update(e);
						var i = t.provider.getData(e);
						t.view.addDanmu(i, e)
					}, lm.renderInterval))
			}, e.stop = function() {
				this.running = !1, this.view.stop(), this.view.clear(), this.danmuMask && this.danmuMask.stop(),
					clearInterval(this.updateInterval)
			}, e.pause = function() {
				this.running = !1, this.view.stop(), this.switchMask()
			}, e.clear = function() {
				this.view.clear(), this.danmuMask && this.danmuMask.clear()
			}, e.destroy = function() {
				this.parent && this.parent.contains(this.view.element) && this.parent.removeChild(this.view
					.element), this.view.clear(), clearInterval(this.updateInterval)
			}, e.reset = function() {
				this.provider = new wy
			}, e.getPlayRate = function() {
				var t = zi.get("mango-playback-rate") || 3;
				try {
					return Number([{
						index: 1,
						name: "0.5"
					}, {
						index: 2,
						name: "0.75"
					}, {
						index: 3,
						name: "1.0"
					}, {
						index: 4,
						name: "1.25"
					}, {
						index: 5,
						name: "1.5"
					}, {
						index: 6,
						name: "2.0"
					}][t - 1].name)
				} catch (t) {}
				return 1
			}, Lu([fm("danmu-item")], t.prototype, "dispatcher", void 0), t
		}(),
		Yy = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.showing = !1, e.element.addEventListener("mouseleave", e.onMouseLeave.bind(e)), e.element
					.addEventListener("mouseenter", e.show.bind(e)), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.onMouseLeave = function() {
				this.hide(500)
			}, i.hide = function(t) {
				var e = this;
				void 0 === t && (t = 0), t > 0 ? this.delayHideTimeOut = setTimeout(function() {
					e.showing = !1, e.element.style.display = "none"
				}, t) : (this.showing = !1, this.element.style.display = "none")
			}, i.show = function() {
				clearTimeout(this.delayHideTimeOut), this.showing = !0, this.element.style.display = "block"
			}, e
		}(Sy),
		Xy = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.initConfig = e, i.itemCount = 0, i.rollCount = 0, i.currentIndex = -1, i.view_width = 340,
					i.listPosition = 0, i.itemList = [], i.displayCount = e.displayCount, i.container = i.element
					.getElementsByTagName("ul")[0], i.arrowLeft = i.element.getElementsByTagName("arrow-left")[0], i
					.arrowRight = i.element.getElementsByTagName("arrow-right")[0], i.arrowLeft.style.display =
					"none", i.arrowRight.style.display = "none", i.arrowLeft.addEventListener("click", i.rollLeft
						.bind(i)), i.arrowRight.addEventListener("click", i.rollRight.bind(i)), i
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function(t) {
				return {
					tag: t.tag,
					className: t.tag,
					html: '\n            <div class="roll-list-container">\n                <ul class="roll-ul"></ul>\n            </div>\n            <arrow-left class="danmu-button">' +
						Ty.arrow_left + '</arrow-left>\n            <arrow-right class="danmu-button">' + Ty
						.arrow_left + "</arrow-right>\n            "
				}
			}, i.rollLeft = function() {
				var t = this.getElementByClassName("roll-ul"),
					e = getComputedStyle(t);
				Number(e.width.split("px")[0]);
				this.arrowRight.style.display = "block", this.listPosition - this.view_width < 0 && (this
					.arrowLeft.style.display = "none"), this.listPosition = Math.max(0, this.listPosition -
					this.view_width), this.container.style.left = -this.listPosition + "px", this.dispatch(
					"rollLeft")
			}, i.rollRight = function() {
				var t = this.getElementByClassName("roll-ul"),
					e = getComputedStyle(t),
					i = Number(e.width.split("px")[0]);
				this.arrowLeft.style.display = "block", i - this.listPosition - this.view_width < this
					.view_width && (this.arrowRight.style.display = "none"), this.listPosition = this
					.listPosition + Math.min(this.view_width, i - this.listPosition - this.view_width), this
					.container.style.left = -this.listPosition + "px", this.dispatch("rollRight")
			}, i.init = function(t) {
				if (t && t.length > 0) {
					this.itemCount = t.length;
					for (var e = this.initConfig.item.render, i = 0; i < t.length; i++) {
						var n = e(t[i]),
							r = document.createElement("li");
						r.innerHTML = n, void 0 !== this.initConfig.defaultSelectedItem && this.initConfig
							.defaultSelectedItem == i && r.classList.add("selected"), this.container
							.appendChild(r), r.addEventListener("click", this.onItemClick.bind(this)), this
							.itemList.push(r)
					}
					this.itemCount > this.displayCount && (this.arrowRight.style.display = "block")
				}
			}, i.onItemClick = function(t) {
				for (var e, i = t.target, n = 0; n < this.itemList.length; n++) {
					var r = this.itemList[n];
					if (r === i || r.contains(i)) {
						e = n;
						break
					}
				}
				this.initConfig.item.onSelect(e) && this.selecteItem(e)
			}, i.selecteItem = function(t) {
				for (var e = 0; e < this.itemList.length; e++) {
					var i = this.itemList[e];
					t == e ? this.currentItem !== i ? (i.classList.add("selected"), this.currentItem = i, this
						.currentIndex = t) : this.initConfig.selectCancel && (i.classList.remove(
						"selected"), this.currentItem = null, this.currentIndex = -1) : i.classList.remove(
						"selected")
				}
				this.dispatch("itemSelect", this.currentIndex)
			}, e
		}(Sy),
		Zy = [Ty.rollAll, Ty.rollTop, Ty.rollBottom],
		Qy = !!window.ActiveXObject || "ActiveXObject" in window,
		Jy = function(t) {
			function e() {
				var e = t.call(this) || this;
				e.userCredits = 0, e.sendConfig = {
					roleId: -1,
					colorId: -1,
					position: 0
				};
				var i = new Xy({
					selectCancel: !0,
					tag: "role-list",
					displayCount: 5,
					item: {
						width: 72,
						render: function(t) {
							var e = "",
								i = "";
							return 2 == t.price_type && (e = '<div class="vip-icon">V' + t
									.price_amount + "</div>"), 1 == t.price_type && (i =
									'<div class="intergral-icon">' + t.price_amount + "积分</div>"),
								'\n                        <img class="role-avatar" src="' + t
								.role_avatar + '">\n                        ' + (e + i) +
								'\n                        <p class="role-name">' + t.role_name +
								"</p>\n                "
						},
						onSelect: e.onRoleListSelect.bind(e)
					}
				});
				e.roleList = i, e.roleList.addEventListener("rollRight", e.onRoleRollRight.bind(e)), e.roleList
					.addEventListener("itemSelect", e.onRoleItemSelect.bind(e)), e.getElement("mango-danmu-roles")
					.appendChild(i.element);
				var n = new Xy({
					selectCancel: !0,
					tag: "color-list",
					displayCount: 6,
					item: {
						width: 60,
						render: function(t) {
							var e = "",
								i = "";
							1 == t.price_type && (i = '<div class="color-intergral">' + t.price_amount +
								"积分</div>"), 2 == t.price_type && (e = '<div class="color-vip">V' +
								t.price_amount + "</div>");
							var n, r = t.color_left,
								o = t.color_right;
							return '\n                        <div class="color-item" style="background:linear-gradient(136deg,rgba(' +
								(n = [r.r, r.g, r.b].join(",")) + ",1) 0%,rgba(" + (-1 == o.r || -1 == o
									.g || -1 == o.b ? n : [o.r, o.g, o.b].join(",")) +
								',1) 100%);"></div>\n                        ' + (e + i) +
								"\n                    "
						},
						onSelect: e.onColorListSelected.bind(e)
					}
				});
				e.colorList = n, n.addEventListener("itemSelect", e.onColorItemSelect.bind(e)), n.addEventListener(
					"rollRight", e.onColorRollRight.bind(e)), e.getElement("mango-danmu-colors").appendChild(n
					.element);
				var r = new Xy({
					defaultSelectedItem: 0,
					tag: "position-list",
					displayCount: 6,
					item: {
						width: 60,
						render: function(t) {
							var e = "",
								i = "";
							1 == t.price_type && (e = '<div class="position-intergral">' + t
								.price_amount + "积分</div>"), 2 == t.price_type && (i =
								'<div class="position-vip">V' + t.price_amount + "</div>");
							var n = ["滚动", "顶部", "底部"][t.id];
							return Zy[t.id] + '\n                        <p class="position-name">' +
								n + "</p>\n                        " + (i + e) +
								"\n                    "
						},
						onSelect: e.onPositionListSelected.bind(e)
					}
				});
				return e.getElement("mango-danmu-position").appendChild(r.element), r.addEventListener("itemSelect",
					e.onPositionItemSelect.bind(e)), e.positionList = r, e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "danmu-color-panel",
					html: '\n            <div class="main-title">弹幕样式</div>\n            <mango-danmu-roles class="roles" >\n                <p class="title">弹幕角色</p>\n            </mango-danmu-roles>\n            <mango-danmu-colors class="colors">\n                <p class="title">弹幕样式</p>\n            </mango-danmu-colors>\n            <mango-danmu-position class="positions">\n                <p class="title">弹幕位置</p>\n            </mango-danmu-position>\n        '
				}
			}, i.setUserInfo = function(t) {
				this.userInfo = t
			}, i.onRoleRollRight = function() {
				by.sendClickReport({
					cont: "弹幕角色更多点击"
				}, {
					flag: 22
				})
			}, i.onColorRollRight = function() {
				by.sendClickReport({
					cont: "弹幕样式更多点击"
				}, {
					flag: 20
				})
			}, i.onPositionListSelected = function(t) {
				var e = this.initConfig.pos_list;
				return by.sendClickReport({
					cont: "霸屏弹幕位置设置"
				}, {
					flag: 23,
					setup: e[t].id + 1
				}), this.testSelect(t, e, "position")
			}, i.onColorListSelected = function(t) {
				var e = this.initConfig.color_list,
					i = e[t],
					n = -1 == i.color_right.r ? 2 : 1;
				return by.sendClickReport({
					cont: "弹幕样式点击"
				}, {
					flag: 19,
					styleid: i.id,
					stype: n
				}), this.testSelect(t, e, "color")
			}, i.onPositionItemSelect = function(t) {
				var e = this.initConfig.pos_list;
				if (-1 == t) this.dispatch("danmuColorChange", {
					position: -1
				});
				else {
					var i = e[t];
					this.dispatch("danmuColorChange", {
						position: i
					})
				}
			}, i.onRoleItemSelect = function(t) {
				var e = this.initConfig.role_list;
				if (-1 == t) this.dispatch("danmuColorChange", {
					role: -1
				});
				else {
					var i = e[t];
					this.dispatch("danmuColorChange", {
						role: i
					})
				}
			}, i.onColorItemSelect = function(t) {
				var e = this.initConfig.color_list;
				if (-1 == t) this.dispatch("danmuColorChange", {
					color: -1
				});
				else {
					var i = e[t];
					this.dispatch("danmuColorChange", {
						color: i
					})
				}
			}, i.testSelect = function(t, e, i) {
				if (e && t < e.length && t >= 0) {
					var n = e[t];
					if (n.price_type, this.userInfo) {
						if (1 == n.price_type && this.userCredits < n.price_amount) return this.dispatch(
							"danmuDialog", {
								type: "earn",
								from: i
							}), this.hide(), !1;
						if (2 == n.price_type) {
							if ((1 != this.userInfo.isvip || !this.userInfo.growth) && n.price_amount > 0)
								return this.dispatch("danmuDialog", {
									type: "vip",
									from: i
								}), this.hide(), !1;
							if (1 == this.userInfo.isvip && this.userInfo.growth && this.userInfo.growth.level <
								n.price_amount) return this.dispatch("danmuDialog", {
								type: "upgrade",
								from: i
							}), this.hide(), !1
						}
					}
				}
				return this.dispatch("danmuDialog", {
					type: "hide"
				}), !0
			}, i.onRoleListSelect = function(t) {
				var e = this.initConfig.role_list;
				return by.sendClickReport({
					cont: "弹幕角色点击"
				}, {
					flag: 21,
					roleid: e[t].id
				}), this.testSelect(t, e, "role")
			}, i.getElement = function(t) {
				return this.element.getElementsByTagName(t)[0]
			}, i.init = function(t) {
				if (!this.initConfig) {
					this.initConfig = t;
					var e = t.role_list;
					this.roleList.init(e);
					var i = t.color_list;
					Qy && (i = i.filter(function(t) {
						return -1 == t.color_right.r
					}), this.initConfig.color_list = i), this.colorList.init(i);
					var n = t.pos_list;
					if (n.unshift({
							id: 0,
							price_type: 0
						}), this.positionList.init(n), t.hide_tabs)
						for (var r = 0, o = t.hide_tabs; r < o.length; r++) {
							var s = o[r];
							if ("role" == s) this.element.querySelector("mango-danmu-roles").style.display =
								"none";
							else if ("skin" == s) {
								this.element.querySelector("mango-danmu-colors").style.display = "none"
							}
						}
				}
			}, i.show = function() {
				var e = this;
				t.prototype.show.call(this), this.userInfo && by.loadCredits().then(function(t) {
					e.userCredits = t
				})
			}, i.getConfig = function() {
				return {
					roleId: -1 == this.roleList.currentIndex ? 0 : this.initConfig.role_list[this.roleList
						.currentIndex].id,
					colorId: -1 == this.colorList.currentIndex ? 0 : this.initConfig.color_list[this.colorList
						.currentIndex].id,
					position: -1 == this.positionList.currentIndex ? 0 : this.initConfig.pos_list[this
						.positionList.currentIndex].id
				}
			}, i.getConfigDetail = function() {
				var t = this.getConfig();
				return {
					role: this.initConfig.role_list ? this.initConfig.role_list.find(function(e) {
						return e.id == t.roleId
					}) : null,
					color: this.initConfig.color_list ? this.initConfig.color_list.find(function(e) {
						return e.id == t.colorId
					}) : null,
					position: this.initConfig.pos_list ? this.initConfig.pos_list.find(function(e) {
						return e.id == t.position
					}) : null
				}
			}, e
		}(Yy),
		t_ = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.positionTop = e.element.getElementsByClassName("up")[0], e.positionBottom = e.element
					.getElementsByClassName("down")[0], e.positionTop.addEventListener("click", e.onMaskTop.bind(
					e)), e.positionBottom.addEventListener("click", e.onMaskBottom.bind(e)), e.colorSwitcher = e
					.element.getElementsByClassName("switcher")[0], e.colorSwitcher.addEventListener("click", e
						.onColorSwitcherClick.bind(e)), e.colorStatus = e.element.getElementsByClassName("status")[
						0], e.addWords = e.element.getElementsByClassName("add-words")[0], e.addWords
					.addEventListener("click", e.onClickAddWords.bind(e)), e.element.getElementsByClassName(
						"play-setting-title")[0].addEventListener("click", e.onPlaySettingClick.bind(e)), e
					.getElementByClassName("reset-button").addEventListener("click", e.onResetClick.bind(e)), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function(t) {
				return {
					tag: "danmu-mask-setting",
					html: '\n            <div class="navigator">\n                <p class="main-title play-setting-title">观看设置</p>\n                <p class="main-title mask-setting-title selected">屏蔽设置</p>\n                <div class="brack" style="right:106px;"></div>\n            </div>\n\n            <div class="danmu-position">\n                <p class="label">霸屏弹幕</p>\n                <div class="danmu-button item up">\n                    <div class="icon"> ' +
						Ty.rollTop +
						'</div>\n                    <p class="text">屏蔽顶部</p>\n                </div>\n                <div class="danmu-button item down">\n                    <div class="icon"> ' +
						Ty.rollBottom +
						'</div>\n                    <p class="text">屏蔽底部</p>\n                </div>\n            </div>\n\n            <div class="danmu-color">\n                <p class="label">彩色弹幕</p>\n                <div class="switcher on">\n                    <div class="ball"></div>\n                </div>\n                <p class="status">打开</div>\n            </div>\n\n            <div class="danmu-words">\n                <p class="label">屏蔽词语</p>\n                <div class="add-words">\n                <div class="danmu-button">\n                    <p>去添加 </p>\n                    <div class="arrow">' +
						Ty.arrow_left +
						'</div></div>\n                </div>\n            </div>\n\n            <div class="reset-button">恢复默认</div>\n            '
				}
			}, i.initConfig = function(t) {
				this.maskBottom = t.maskBottom, this.maskTop = t.maskTop, this.maskColor = t.maskColor, this
					.positionTop.classList[this.maskTop ? "add" : "remove"]("toggle"), this.positionBottom
					.classList[this.maskBottom ? "add" : "remove"]("toggle"), this.colorSwitcher.classList[this
						.maskColor ? "remove" : "add"]("on"), this.colorStatus.innerHTML = this.maskColor ?
					"关闭" : "打开"
			}, i.onResetClick = function() {
				this.maskTop = !1, this.positionTop.classList.remove("toggle"), this.maskBottom = !1, this
					.positionBottom.classList.remove("toggle"), this.maskColor = !1, this.colorSwitcher
					.classList.add("on"), this.colorStatus.innerHTML = "打开", this.dsp.dispatch(
						"danmuSettingChange", [{
							type: "mask",
							value: {
								position: "top",
								mask: this.maskTop
							}
						}, {
							type: "mask",
							value: {
								position: "bottom",
								mask: this.maskBottom
							}
						}, {
							type: "mask",
							value: {
								position: "color",
								mask: this.maskColor
							}
						}]), by.sendClickReport({
						cont: "恢复初始设置"
					}, {
						flag: 15
					})
			}, i.onPlaySettingClick = function() {
				this.element.style.display = "none", this.dispatch("switchPanel", "play")
			}, i.onClickAddWords = function() {
				this.element.style.display = "none", this.dispatch("switchPanel", "words")
			}, i.onMaskTop = function() {
				this.maskTop = !this.maskTop, this.positionTop.classList[this.maskTop ? "add" : "remove"](
					"toggle"), this.dsp.dispatch("danmuSettingChange", [{
					type: "mask",
					value: {
						position: "top",
						mask: this.maskTop
					}
				}]), by.sendClickReport({
					cont: "弹幕置顶模式"
				}, {
					flag: 11,
					v: this.maskTop
				})
			}, i.onMaskBottom = function() {
				this.maskBottom = !this.maskBottom, this.positionBottom.classList[this.maskBottom ? "add" :
					"remove"]("toggle"), this.dsp.dispatch("danmuSettingChange", [{
					type: "mask",
					value: {
						position: "bottom",
						mask: this.maskBottom
					}
				}]), by.sendClickReport({
					cont: "弹幕置底模式"
				}, {
					flag: 12,
					v: this.maskBottom
				})
			}, i.onColorSwitcherClick = function() {
				this.maskColor = !this.maskColor, this.colorSwitcher.classList[this.maskColor ? "remove" :
						"add"]("on"), this.colorStatus.innerHTML = this.maskColor ? "关闭" : "打开", this.dsp
					.dispatch("danmuSettingChange", [{
						type: "mask",
						value: {
							position: "color",
							mask: this.maskColor
						}
					}]), by.sendClickReport({
						cont: "彩色弹幕屏蔽"
					}, {
						flag: 13,
						v: this.maskColor
					})
			}, Lu([fm("danmu-setting")], e.prototype, "dsp", void 0), e
		}(Sy),
		e_ = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.initConfig = e, i.progress = i.element.getElementsByClassName("progress")[0], i.slider = i
					.element.getElementsByClassName("slider")[0], i.background = i.element.getElementsByClassName(
						"background")[0], i.rightLabel = i.element.getElementsByClassName("right-label")[0], i
					.onBackgroundClick = i.onBackgroundClick.bind(i), i.onMoveLeave = i.onMoveLeave.bind(i), i
					.onMoveUp = i.onMoveUp.bind(i), i.onMove = i.onMove.bind(i), i.background.addEventListener(
						"mousedown", i.onBackgroundClick), i
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function(t) {
				return {
					tag: "danmu-setting-item",
					html: '\n                <p class="left-label label-base">' + t.left +
						'</p>\n                <div class="slider-bar">\n                    <div class="slider"></div>\n                    <div class="progress"></div>\n                    <div class="background"></div>\n                    <div class="all"></div>\n                </div>\n                <p class="right-label label-base">' +
						t.right + "</p>\n            "
				}
			}, i.setValue = function(t) {
				t = Math.max(t, 0), t = Math.min(t, 1), this.progress.style.width = 160 * t + "px"
			}, i.setRightLabel = function(t) {
				this.rightLabel.innerHTML = t
			}, i.onBackgroundClick = function(t) {
				var e = t.offsetX / 160;
				this.startOffset = t.offsetX, this.clickPoint = t.clientX, this.updatePercent(e), this
					.updateLabel(this.percentToRange(e));
				var i = this.getParentPanel();
				i.addEventListener("mouseup", this.onMoveUp), i.addEventListener("mousemove", this.onMove), i
					.addEventListener("mouseleave", this.onMoveUp)
			}, i.onMoveUp = function() {
				var t = this.getParentPanel();
				t.removeEventListener("mouseup", this.onMoveUp), t.removeEventListener("mousemove", this
					.onMove), t.removeEventListener("mouseleave", this.onMoveUp), this.dsp.dispatch(
						"danmuSettingChange", [{
							type: this.initConfig.type,
							value: this.percentToRange(this.currentValue)
						}]), by.sendClickReport({
						cont: this.initConfig.cont
					}, {
						flag: this.initConfig.flag,
						v: this.currentValue
					})
			}, i.onMoveLeave = function() {
				var t = this,
					e = this.getParentPanel();
				e.removeEventListener("mouseup", this.onMoveUp), e.removeEventListener("mousemove", this
					.onMove), e.removeEventListener("mouseleave", this.onMoveLeave);
				var i = this.startOffset / 160;
				i = Math.max(0, i), i = Math.min(i, 1), setTimeout(function() {
					t.updatePercent(i), t.updateLabel(t.percentToRange(i))
				}, 500)
			}, i.onMove = function(t) {
				var e = (this.startOffset + (t.clientX - this.clickPoint)) / 160;
				e = Math.max(0, e), e = Math.min(e, 1), this.updatePercent(e), this.updateLabel(this
					.percentToRange(e))
			}, i.percentToRange = function(t) {
				var e = this.initConfig.range[0];
				return (this.initConfig.range[1] - e) * t + e
			}, i.updateValue = function(t) {
				var e = this.initConfig.range[0],
					i = (t - e) / (this.initConfig.range[1] - e);
				this.updatePercent(i), this.updateLabel(t)
			}, i.updatePercent = function(t) {
				t = Math.max(0, t), t = Math.min(t, 1), this.currentValue = t;
				var e = 160 * t;
				this.slider.style.left = e - 6 + "px", this.progress.style.width = e + "px"
			}, i.updateLabel = function(t) {
				this.initConfig.updateLabel ? this.initConfig.updateLabel.call(this, t) : this.rightLabel
					.innerHTML = Math.round(100 * t) + "%"
			}, i.getParentPanel = function() {
				return this.parentPanel || (this.parentPanel = document.querySelector("danmu-setting-panel")),
					this.parentPanel
			}, Lu([fm("danmu-setting")], e.prototype, "dsp", void 0), e
		}(Sy),
		i_ = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.showAISwitch = !1, e.range = new e_({
						cont: "弹幕显示范围设置",
						flag: 9,
						type: "range",
						left: "显示范围",
						right: "100%",
						range: lm.settingRange.range,
						updateLabel: function(t) {
							var e = Math.round(100 * t);
							this.rightLabel.innerHTML = 100 == e ? "无限制" : e + "%"
						}
					}), e.fontsize = new e_({
						cont: "弹幕字体大小设置",
						flag: 10,
						type: "fontsize",
						left: "字体大小",
						right: "适中",
						range: lm.settingRange.fontSize
					}), e.alpha = new e_({
						cont: "不透明度设置",
						flag: 7,
						type: "alpha",
						left: "不透明度",
						right: "100%",
						range: lm.settingRange.alpha
					}), e.speed = new e_({
						cont: "弹幕速度设置",
						flag: 8,
						type: "speed",
						left: "弹幕速度",
						right: "正常",
						range: lm.settingRange.speed
					}), e.settingList = e.element.querySelector(".setting-list"), e.aiSwitch = new n_, e.settingList
					.appendChild(e.aiSwitch.element), e.settingList.appendChild(e.range.element), e.settingList
					.appendChild(e.fontsize.element), e.settingList.appendChild(e.alpha.element), e.settingList
					.appendChild(e.speed.element), e.resetButton = e.element.getElementsByClassName("reset-button")[
						0], e.resetButton.addEventListener("click", e.onResetClick.bind(e)), e.element
					.getElementsByClassName("mask-setting-title")[0].addEventListener("click", e.onSwitchToMask
						.bind(e)), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "danmu-play-setting",
					html: '\n            <div class="navigator">\n                <p class="main-title play-setting-title selected">观看设置</p>\n                <p class="main-title mask-setting-title">屏蔽设置</p>\n                <div class="brack" style="left:106px;"></div>\n            </div>\n            <div class="setting-list">\n            </div>\n            <div class="reset-button">恢复默认</div>\n            '
				}
			}, i.onSwitchToMask = function() {
				this.element.style.display = "none", this.dispatch("switchPanel", "mask")
			}, i.onResetClick = function() {
				var t = lm.defaultConfig;
				this.range.updateValue(t.range), this.fontsize.updateValue(t.fontSize), this.speed.updateValue(t
					.speed), this.alpha.updateValue(t.alpha);
				var e = [{
					type: "range",
					value: t.range
				}, {
					type: "alpha",
					value: t.alpha
				}, {
					type: "speed",
					value: t.speed
				}, {
					type: "fontsize",
					value: t.fontSize
				}];
				this.showAISwitch && (this.aiSwitch.updateValue(t.aiswitcher), e.push({
					type: "aiswitcher",
					value: "0"
				})), this.dsp.dispatch("danmuSettingChange", e), by.sendClickReport({
					cont: "恢复初始设置"
				}, {
					flag: 15
				})
			}, i.initConfig = function(t) {
				this.range.updateValue(t.range), this.fontsize.updateValue(t.fontSize), this.speed.updateValue(t
					.speed), this.alpha.updateValue(t.alpha), t.mask_on ? (this.showAISwitch = !0, this
					.aiSwitch.updateValue(t.aiswitcher)) : this.aiSwitch.element.style.display = "none"
			}, i.updateConfig = function(t) {
				void 0 !== t.mask_on && (t.mask_on ? (this.showAISwitch = !0, this.aiSwitch.updateValue(t
					.aiswitcher), this.aiSwitch.element.style.display = "block") : (this
					.showAISwitch = !1, this.aiSwitch.element.style.display = "none"))
			}, Lu([fm("danmu-setting")], e.prototype, "dsp", void 0), e
		}(Sy),
		n_ = function(t) {
			function e(e) {
				void 0 === e && (e = !0);
				var i = t.call(this) || this;
				return i.isSwitch = e, i.aiswitch = i.element.querySelector(".switcher"), i.aiswitch
					.addEventListener("click", i.onSwitchClick.bind(i)), i.rightLabel = i.element.querySelector(
						".right-label"), i.updateValue(e), i
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					className: "danmu-ai-switch",
					tag: "danmu-setting-item",
					html: '<p class="left-label label-base">防挡弹幕</p>\n                <div class="switcher on">\n                    <div class="ball"></div>\n                </div>\n                <p class="right-label label-base">打开</p>\n                '
				}
			}, i.onSwitchClick = function() {
				this.updateValue(), by.sendClickReport({
					cont: "防遮挡弹幕开关"
				}, {
					flag: 100,
					status: this.isSwitch ? 0 : 1
				}), this.dsp.dispatch("danmuSettingChange", [{
					type: "aiswitcher",
					value: this.isSwitch ? "1" : "0"
				}])
			}, i.updateValue = function(t) {
				(this.isSwitch = null == t ? !this.isSwitch : t) ? (this.aiswitch.classList.add("on"), this
					.rightLabel.innerHTML = "打开") : (this.aiswitch.classList.remove("on"), this.rightLabel
					.innerHTML = "关闭")
			}, Lu([fm("danmu-setting")], e.prototype, "dsp", void 0), e
		}(Sy),
		r_ = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e._wordCount = 0, e.maskWords = [], e.wordCountLabel = e.getElementByClassName("words-numb"),
					e.addButton = e.getElementByClassName("add-btn"), e.addButton.addEventListener("click", e
						.onAddButtonClick.bind(e)), e.wordList = e.getElementByClassName("words-list"), e.inputBox =
					e.getElementByClassName("input-box"), e.inputBox.addEventListener("keyup", e.onInputKeyPress
						.bind(e)), e.onItemDelete = e.onItemDelete.bind(e), e.getElementByClassName("close-btn")
					.addEventListener("click", e.onCloseClick.bind(e)), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "danmu-words-setting",
					html: '\n                <p class="main-title mask-title">屏蔽词语</p>\n                <p class="words-numb">0/0</p>\n                <div class="close-btn danmu-button">' +
						Ty.closeButton +
						'</div>\n                <div class="words-input">\n                    <input maxlength="10" placeholder="最多可输入10个字哦~" class="input-box">\n                    <div class="add-btn off">添加</div>\n                </div>\n                <div class="words-list">\n                </div>\n            '
				}
			}, i.initConfig = function(t) {
				var e = this;
				(t.maskWords || []).forEach(function(t) {
					e.addWord(t)
				})
			}, i.onCloseClick = function() {
				this.element.style.display = "none", this.dispatch("switchPanel", "mask")
			}, i.onItemDelete = function(t) {
				this.wordCount -= 1, this.inputBox.style.pointerEvents = "auto";
				var e = this.maskWords.indexOf(t); - 1 != e && (this.maskWords.splice(e, 1), this.dispatcher
					.dispatch("danmuSettingChange", [{
						type: "words",
						value: this.maskWords
					}]))
			}, i.onInputKeyPress = function(t) {
				this.addButton.classList[0 === this.inputBox.value.length ? "add" : "remove"]("off"), 13 != t
					.keyCode ? this.inputBox.value.length >= 10 && this.dispatcher.dispatch("wordsMaxLength") :
					this.onAddButtonClick()
			}, i.onAddButtonClick = function() {
				this.inputBox.value.length > 0 && this._wordCount <= 10 && (this.addWord(this.inputBox.value),
					this.addButton.classList.add("off"), by.sendClickReport({
						cont: "关键词添加"
					}, {
						flag: 14,
						v: this.inputBox.value
					}), this.inputBox.value = "", this.dispatcher.dispatch("danmuSettingChange", [{
						type: "words",
						value: this.maskWords
					}]))
			}, i.addWord = function(t) {
				if (t && "" != t) {
					this.maskWords.push(t);
					var e = new o_(t);
					this.wordList.appendChild(e.element), e.addEventListener("itemDelete", this.onItemDelete),
						this.wordCount += 1, 10 == this.wordCount && (this.inputBox.style.pointerEvents =
							"none")
				}
			}, Object.defineProperty(i, "wordCount", {
				get: function() {
					return this._wordCount
				},
				set: function(t) {
					this._wordCount = t, this.wordCountLabel.innerHTML = t + "/10"
				},
				enumerable: !0,
				configurable: !0
			}), Lu([fm("danmu-setting")], e.prototype, "dispatcher", void 0), e
		}(Sy),
		o_ = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.word = e, i.deleteButton = i.getElementByClassName("btn-close"), i.deleteButton
					.addEventListener("click", i.onDeleteClick.bind(i)), i
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function(t) {
				return {
					tag: "word-item",
					html: '<p class="content">' + t +
						'</p>\n                <div class="btn-close danmu-button">' + Ty.deleteButon +
						"</div>\n            "
				}
			}, i.onDeleteClick = function() {
				this.element.parentElement && this.element.parentElement.removeChild(this.element), this
					.dispatch("itemDelete", this.word)
			}, e
		}(Sy),
		s_ = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.showing = !1, e.showAISwitcher = !1, e.onSwitchPanel = e.onSwitchPanel.bind(e), e
					.playSetting = new i_, e.appendChild(e.playSetting), e.playSetting.addEventListener(
						"switchPanel", e.onSwitchPanel), e.maskSetting = new t_, e.appendChild(e.maskSetting), e
					.maskSetting.addEventListener("switchPanel", e.onSwitchPanel), e.wordsSetting = new r_, e
					.appendChild(e.wordsSetting), e.wordsSetting.addEventListener("switchPanel", e.onSwitchPanel), e
					.onSwitchPanel("play"), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.onSwitchPanel = function(t) {
				this.element.classList.remove("ai-switcher"), "mask" === t ? this.maskSetting.element.style
					.display = "block" : "play" === t ? (this.showAISwitcher && this.element.classList.add(
						"ai-switcher"), this.playSetting.element.style.display = "block") : "words" === t && (
						this.wordsSetting.element.style.display = "block")
			}, i.initConfig = function(t) {
				this.playSetting.initConfig(t), this.maskSetting.initConfig(t), this.wordsSetting.initConfig(t),
					t.mask_on && (this.showAISwitcher = !0, this.onSwitchPanel("play"))
			}, i.updateConfig = function(t) {
				this.playSetting.updateConfig(t), void 0 !== t.mask_on && (this.showAISwitcher = Boolean(t
					.mask_on)), this.onSwitchPanel("play"), this.maskSetting.element.style.display = "none"
			}, i.config = function() {
				return {
					tag: "danmu-setting-panel",
					html: '\n                <div class="close-button"></div>\n            '
				}
			}, e
		}(Yy),
		a_ = function(t) {
			function e(e) {
				var i = t.call(this, e) || this;
				return i.placeHolderContent = "", i.defaultPlaceHolderContent = "", i.price = 0, i.parent = e, i
					.vm = e.vm, i.videoinfo = e.vm._videoinfo, i.version = e.vm.version, i.init(), i.dsp
					.addEventListener("danmuSettingChange", i.onDanmuSettingChange.bind(i)), i.dsp.addEventListener(
						"wordsMaxLength",
						function() {
							i.vm.emit("showToast", {
								toast: "最多可输入10个字哦"
							})
						}), i.vm.on("danmuStatusChange", i.onDanmuStatusChange.bind(i)), i
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "mango-danmu-control",
					className: "u-control-danmu-control control-item",
					html: '\n            <div class="danmu-switcher">\n                <div class="ball">弹</div>\n            </div>\n\n            <div class="danmu-send-control">\n                <input class="danmu_input empty" maxlength="40" placeholder="" type="text">\n                <danmu-color class="danmu-button">' +
						Ty.colorSetting +
						'</danmu-color>\n                <danmu-setting class="danmu-button">' + Ty
						.playSetting +
						'</danmu-setting>\n                <div class="send_button disable">发射</div>\n            </div>\n        '
				}
			}, i.resize = function(t) {
				t < 1100 ? this.element.classList.add("small-mode") : this.element.classList.remove(
					"small-mode")
			}, i.onDanmuStatusChange = function(t) {
				this.inited ? this.settingPanel.updateConfig(t) : (this.settingPanel.initConfig(t), this
						.inited = !0), void 0 !== t.state && this.changeDanmuSwitcher(t.state), void 0 !== t
					.showInput && (this.control.style.display = t.showInput ? "block" : "none"), void 0 !== t
					.showSetting && (this.colorButton.style.display = t.showSetting ? "block" : "none", this
						.settingButton.style.display = t.showSetting ? "block" : "none")
			}, i.onDanmuSettingChange = function(t) {
				this.vm.emit("danmuSettingChange", t)
			}, i.init = function() {
				this.input = this.element.getElementsByClassName("danmu_input")[0], this.input.addEventListener(
						"input", this.onInput.bind(this)), this.input.addEventListener("keyup", this
						.onInputKeyPress.bind(this)), this.input.addEventListener("mousedown", this.onTestLogin
						.bind(this)), this.input.addEventListener("focus", this.onInputFocus.bind(this)), this
					.input.addEventListener("blur", this.onInputBlur.bind(this)), this.colorButton = this
					.element.getElementsByTagName("danmu-color")[0], this.settingButton = this.element
					.getElementsByTagName("danmu-setting")[0], this.colorButton.addEventListener("click", this
						.onColorButtonClick.bind(this)), this.colorButton.addEventListener("mousedown", this
						.onTestLogin.bind(this)), this.colorButton.addEventListener("mousedown", this
						.onSendColorButtonClickReport.bind(this)), this.colorButton.addEventListener(
						"mouseleave", this.onColorButtonMouseLeave.bind(this)), this.settingButton
					.addEventListener("mousedown", this.onSendSettingButtonClickReport.bind(this)), this
					.settingButton.addEventListener("click", this.onSettingButtonClick.bind(this)), this
					.settingButton.addEventListener("mouseleave", this.onSettingButtonMouseLeave.bind(this)),
					this.sendButton = this.element.getElementsByClassName("send_button")[0], this.sendButton
					.addEventListener("click", this.onTestLogin.bind(this)), this.sendButton.addEventListener(
						"click", this.sendDanmu.bind(this)), this.switcher = this.getElementByClassName(
						"danmu-switcher"), this.switcher.addEventListener("click", this.onDanmuSwitcher.bind(
						this)), this.colorPanel = new Jy, this.colorPanel.addEventListener("danmuDialog", this
						.onDanmuDialog.bind(this)), this.colorPanel.addEventListener("danmuColorChange", this
						.onDanmuColorChange.bind(this)), this.element.appendChild(this.colorPanel.element), this
					.settingPanel = new s_, this.element.appendChild(this.settingPanel.element), this.control =
					this.getElementByClassName("danmu-send-control"), this.videoinfo && (this.commonParams = {
						version: this.version,
						vid: this.videoinfo.vid || 0,
						abroad: 0,
						pid: this.videoinfo.pid || 0,
						os: "",
						uuid: "",
						deviceid: "",
						cid: this.videoinfo.cid || 0,
						ticket: "",
						mac: "",
						platform: 0,
						reqtype: "form-post"
					})
			}, i.onSendColorButtonClickReport = function() {
				by.sendClickReport({
					cont: "明星角色弹幕-假明星-功能入口"
				}, {
					flag: 18
				})
			}, i.onSendSettingButtonClickReport = function() {
				by.sendClickReport({
					cont: "弹幕设置入口"
				}, {
					flag: 6
				})
			}, i.onDanmuColorChange = function(t) {
				t.color || t.role || t.position;
				var e = this.colorPanel.getConfigDetail(),
					i = 0;
				for (var n in e) {
					var r = e[n];
					r && 1 == r.price_type && (i += r.price_amount)
				}
				i > 0 ? (this.placeHolderContent = "消耗" + i + "积分", this.input.placeholder = this
					.placeHolderContent, this.price = i) : (this.placeHolderContent = this
					.defaultPlaceHolderContent, this.input.placeholder = this.placeHolderContent, this
					.price = 0)
			}, i.onInputFocus = function() {
				this.input.placeholder = ""
			}, i.onInputBlur = function() {
				this.input.placeholder = this.placeHolderContent
			}, i.onDanmuSwitcher = function() {
				this.changeDanmuSwitcher(!this.danmuSwitch), this.vm.emit("danmuStatusChange", {
					state: this.danmuSwitch ? 1 : 0
				});
				var t = this.danmuSwitch ? "打开弹幕" : "关闭弹幕",
					e = this.danmuSwitch ? 3 : 4;
				by.sendClickReport({
					cont: t,
					label: "btn"
				}, {
					flag: e
				})
			}, i.changeDanmuSwitcher = function(t) {
				this.danmuSwitch = Boolean(t), this.switcher.classList[t ? "add" : "remove"]("on")
			}, i.onColorButtonMouseLeave = function() {
				this.colorPanel.showing && this.colorPanel.hide(1e3)
			}, i.onSettingButtonMouseLeave = function() {
				this.settingPanel.showing && this.settingPanel.hide(1e3)
			}, i.onDanmuDialog = function(t) {
				this.parent.vm.emit("showDanmuDialog", t)
			}, i.getUserInfo = function() {
				if (this.userInfo) return this.userInfo;
				var t = this.parent.vm.getUserInfo();
				return t ? (this.userInfo = t, this.colorPanel.setUserInfo(t), t) : null
			}, i.onInputKeyPress = function(t) {
				var e = this.input.value,
					i = (e = e.replace(/\s+/, "")).length > 0;
				13 === t.keyCode && i && this.sendDanmu()
			}, i.onInput = function(t) {
				var e = this.input.value;
				e = e.replace(/\s+/, ""), this.danmuSwitch || this.vm.emit("danmuStatusChange", {
					state: 1
				}), e.length > 0 ? (this.input.classList.remove("empty"), this.sendButton.classList.remove(
					"disable")) : (this.input.classList.add("empty"), this.sendButton.classList.add(
					"disable"))
			}, i.onTestLogin = function(t) {
				this.getUserInfo() || (this.parent.vm.showLoginDialog(), this.parent.$fullscreen(!1,
					"container"), t.stopPropagation())
			}, i.onSettingButtonClick = function() {
				this.colorPanel.hide(), this.settingPanel.showing ? this.settingPanel.hide() : this.settingPanel
					.show()
			}, i.onColorButtonClick = function() {
				this.settingPanel.hide(), this.colorPanel.showing ? this.colorPanel.hide() : this.colorPanel
					.show()
			}, i.onDanmuConfig = function(t) {
				t.switcher ? this.element.classList.add("switcher") : this.element.classList.remove("swtcher"),
					this.input.placeholder = t.default_content, this.placeHolderContent = t.default_content,
					this.defaultPlaceHolderContent = t.default_content, this.colorPanel.init(t)
			}, i.sendDanmu = function() {
				return Pu(this, void 0, void 0, function() {
					var t, e, i, n, r, o, s;
					return Du(this, function(a) {
						switch (a.label) {
							case 0:
								if (0 == (t = this.input.value).length) return [2];
								if (0 != (e = this.colorPanel.getConfig()).position && t
									.length < 5) return this.vm.emit("showToast", {
									toast: "字数不足5字，再补充点精彩内容吧～"
								}), [2];
								by.sendClickReport({
									cont: "发射"
								}, {
									flag: 5,
									styleid: e.colorId,
									role: e.roleId,
									setup: e.position + 1
								}), a.label = 1;
							case 1:
								return a.trys.push([1, 3, , 4]), [4, by.sendDanmu(t, e)];
							case 2:
								return 0 == (i = a.sent()).status ? (this.vm.emit(
										"danmuSendSuccess", i), this.input.value = "", n =
									by.containEmoji(t), r = by.isGradient(i.data.style),
									this.sendButton.classList.add("disable"), o = "弹幕发射成功",
									this.price > 0 && (o = "发射成功，消耗" + this.price + "积分"),
									n && r && (o += ",渐变色下emoji将无法展示呦"), this.vm.emit(
										"showToast", {
											toast: o
										})) : (1100 == i.status && this.vm.emit(
										"realNameAuthentication"), s = i.msg || "弹幕发射失败",
									this.vm.emit("showToast", {
										toast: s
									})), [3, 4];
							case 3:
								return a.sent(), this.vm.emit("showToast", {
									toast: "弹幕发射失败"
								}), [3, 4];
							case 4:
								return [2]
						}
					})
				})
			}, Lu([fm("danmu-setting")], e.prototype, "dsp", void 0), e
		}(Sy),
		h_ = !!window.ActiveXObject || "ActiveXObject" in window || navigator.userAgent.indexOf("Edge") > 1 || !!dt
		.safari || !!dt.firefox,
		c_ = function() {
			function t(t) {
				this.status = "close", this.version = "0.0.1", this.adplaying = !1, this.vm = t, by.vm = t, this
					.onResize = gt(this.onResize, 500)
			}
			var e = t.prototype;
			return e.setPipMode = function(t) {
				this.danmu.setPipMode(t)
			}, e.init = function(t) {
				if (this.initConfig = t, !t || !t.plugins || 0 != t.plugins.danmu) {
					this.initDanmuConfig = Object.assign({
						fontSize: -1,
						colorfull: !0,
						danmuSendInput: !0,
						danmuSetting: !0
					}, t.plugins.danmu);
					var e = document.querySelector("mango-danmu");
					this.danmu = new Ky(e, this.vm), this.onVisibilityChange = this.onVisibilityChange.bind(
							this), document.addEventListener("visibilitychange", this.onVisibilityChange), Ey
						.init()
				}
			}, e.destory = function() {
				this.danmu.destroy(), document.removeEventListener("visibilitychange", this.onVisibilityChange)
			}, e.onVideoInfoData = function(t) {
				"loadComplete" != t.status || t.isPreload || (this.videoinfo = t.data.info, by.videoinfo = this
					.videoinfo, this.danmu && this.danmu.init({
						videoinfo: this.videoinfo,
						version: this.version
					}))
			}, e.onPreloadVideoStart = function() {
				this.videoinfo = this.vm.cms.videoInfoData.info, by.videoinfo = this.videoinfo, this.danmu &&
					this.danmu.init({
						videoinfo: this.videoinfo,
						version: this.version
					})
			}, e.onVideoReload = function(t) {
				by.cdn_list = [], by.cdn_version = "", by.videoinfo = {}, this.danmu.reset(), this.videoState =
					"pause", this.openStateChange(), t && t.preloadSuccess && this.onVideoInfoData(this.vm.cms
						.videoInfoData)
			}, e.onSeek = function() {
				this.danmu.clear(), this.danmu.seek()
			}, e.onVideoPause = function() {
				this.videoState = "pause", this.danmu.pause()
			}, e.onVideoResume = function() {
				this.videoState = "play", this.openStateChange()
			}, e.push = function(t) {
				this.danmu.push(t)
			}, e.onVideoReplay = function() {
				this.videoState = "play", this.openStateChange()
			}, e.onVideoPlay = function() {
				return Pu(this, void 0, void 0, function() {
					return Du(this, function(t) {
						switch (t.label) {
							case 0:
								return this.videoState = "play", [4, this.getSwitch()];
							case 1:
								return t.sent(), this.openStateChange(), [2]
						}
					})
				})
			}, e.onResize = function(t) {
				this.danmu && this.danmu.resize(), this.control && this.control.resize(t.width)
			}, e.onAdBegin = function() {
				this.adplaying = !0, this.danmu.stop()
			}, e.onAdEnd = function() {
				this.adplaying = !1, this.openStateChange()
			}, e.emit = function(t, e) {
				this.vm.emit(t, e)
			}, e.getSwitch = function() {
				return Pu(this, void 0, void 0, function() {
					var t, e, i, n, r, o, s, a, h, c, u, l, d, f, p, m, v, g;
					return Du(this, function(y) {
						switch (y.label) {
							case 0:
								return [4, by.getSwitch()];
							case 1:
								return (t = y.sent()) ? (e = t.data, by.updateSwitchInfo(t
									.data), Ey.updateSwitchInfo(t.data), i = Boolean(this
										.initDanmuConfig.danmuSendInput), n = Boolean(this
										.initDanmuConfig.danmuSetting), this
									.initDanmuControl(e), e.switcher && 1 !== Ey
									.danmuGuider && this.emit("showGuide", {
										type: "danmu"
									}), r = null === Ey.userRender ? e.render : Ey
									.userRender, o = this.sourceInfo && this.sourceInfo
									.data && this.sourceInfo.data.bulletCommentMask, s = !
									h_ && 1 == Number(e.mask_on) && Boolean(o), a = null ===
									Ey.userAISwitcher ? e.mask_switch : Ey.userAISwitcher,
									h = Ey.maskColor, this.emit("danmuConfig", Iu({}, e, {
										userConfig: r
									})), c = Ey.switcher, u = Ey.settingRange, l = Ey
									.settingAlpha, d = Ey.settingSpeed, f = Ey
									.settingFontSize, p = Ey.maskBottom, m = Ey.maskTop, v =
									Ey.maskWords, s ? [4, by.loadAIDanmuConifg(this
										.sourceInfo)] : [3, 3]) : [2];
							case 2:
								g = y.sent(), this.danmu.initMask(g), y.label = 3;
							case 3:
								return this.emit("danmuStatusChange", {
										switcher: c,
										aiswitcher: !h_ && a,
										mask_on: s ? 1 : 0,
										state: Ey.getRenderState(),
										range: u,
										alpha: l,
										speed: d,
										fontSize: f,
										maskBottom: p,
										maskTop: m,
										maskColor: h,
										maskWords: v,
										showInput: i,
										showSetting: n
									}), zi.set("mango-danmu-switch", r), this.status = r ?
									"open" : "close", this.openStateChange(), [2]
						}
					})
				})
			}, e.initDanmuControl = function(t) {
				var e = this.control;
				if (t.switcher) {
					if (!e) {
						var i = Ey.userRender || t.render;
						e = new a_(this), window["danmu-control-bar"] = e.element, e.onDanmuConfig(Object
							.assign({}, t, {
								userConfig: i
							}))
					}
					this.control = e
				} else e && (delete window["danmu-control-bar"], e.parentElement && e.parentElement.removeChild(
					e)), this.control = null
			}, e.onVisibilityChange = function() {
				this.danmu.clear()
			}, e.changeState = function(t) {
				zi.set("mango-danmu-switch", t), Ey.userRender = t, this.status = t ? "open" : "close", this
					.openStateChange()
			}, e.openStateChange = function() {
				0 == this.adplaying && "play" == this.videoState && "open" == this.status ? (this.danmu.start(),
					this.vm.getFloatWindowMode() && this.danmu.clear()) : (this.danmu.stop(), this.danmu
					.clear())
			}, t
		}(),
		u_ = {
			name: "mangoDanmu",
			el: "mango-danmu",
			danmuWrapper: null,
			operable: !1,
			penetrate: !0,
			init: function(t) {
				var e = this.__dispatcher.vm;
				this.danmuWrapper = new c_(e), this.danmuWrapper.init(t)
			},
			inited: function() {},
			destroy: function() {
				this.danmuWrapper.destroy()
			},
			events: {
				leavepictureinpicture: function() {
					this.danmuWrapper.setPipMode(!1)
				},
				enterpictureinpicture: function() {
					this.danmuWrapper.setPipMode(!0)
				},
				videoInfoData: function(t) {
					this.danmuWrapper.onVideoInfoData(t)
				},
				preloadVideoStart: function() {
					this.danmuWrapper.onPreloadVideoStart()
				},
				videoPlay: function() {
					this.danmuWrapper.onVideoPlay()
				},
				videoReplay: function() {
					this.danmuWrapper.onVideoReplay()
				},
				videoReload: function(t) {
					this.danmuWrapper.onVideoReload()
				},
				seek: function() {
					this.danmuWrapper.onSeek()
				},
				videoPause: function() {
					this.danmuWrapper.onVideoPause()
				},
				videoResume: function() {
					this.danmuWrapper.onVideoResume()
				},
				c_resize: function(t) {
					this.danmuWrapper.onResize(t)
				},
				midAdBegin: function() {
					this.danmuWrapper.onAdBegin()
				},
				midAdEnd: function() {
					this.danmuWrapper.onAdEnd()
				},
				getSource: function(t) {
					this.danmuWrapper.sourceInfo = t
				},
				danmuStatusChange: function(t) {
					void 0 !== t.state && this.danmuWrapper.changeState(t.state)
				}
			}
		},
		l_ = em({
			tagName: "mango-menu",
			name: "mangoContextmenu",
			html: '<mango-menu-list class="mango-menu-list"></mango-menu-list>',
			offset: "0",
			hide: !0,
			data: {
				baseMenus: []
			},
			init: function() {
				this.vm = this.__dispatcher.vm, this.refreshMenu()
			},
			create: function() {
				var t = this,
					e = this.$config,
					i = e.baseMenus,
					n = e.menus;
				b(i) && (this.baseMenus = i), this.updatemenu(n), this.$domWrap.on("click", this
					.clickHandler), this.$domWrap.on("contextmenu", function(t) {
					return t.preventDefault()
				}), this._doc = new this.$domWrap.constructor(document), this._doc_click = function(e) {
					2 != e.button && (t.emit("contextmenuClose"), t.close())
				}, this._doc.on("click", this._doc_click)
			},
			destroy: function() {
				this._doc.off("click", this._doc_click)
			},
			opened: function() {
				this.$bumpToTop()
			},
			events: {
				c_contextmenu: function(t) {
					var e = t.offsetX,
						i = t.offsetY;
					this.open(t);
					var n = this.$dom.offsetWidth,
						r = this.$dom.offsetHeight,
						o = this.$dom.parentElement;
					o.parentElement;
					if (w(o.getBoundingClientRect)) {
						var s = o.getBoundingClientRect();
						s.right - t.clientX < n && (e = s.right - s.left - n), s.bottom - t.clientY < r && (
							i = s.bottom - s.top - r)
					}
					this.offset(e + "px " + i + "px"), t.preventDefault()
				},
				switchToFlash: function() {
					this.updateKernelMenu("flash")
				},
				switchToHtml5: function() {
					this.updateKernelMenu("html5")
				},
				videoReady: function() {
					this.refreshMenu()
				}
			},
			methods: {
				refreshMenu: function() {
					var t = this.vm.box;
					"flash" == t ? this.updateKernelMenu("flash") : "dash" == t ? this.updateKernelMenu(
						"dash") : this.updateKernelMenu("html5")
				},
				copyPlayerAddress: function() {
					At("https://www.mgtv.com/s/" + this.vm._config.video_id + ".html")
				},
				copyLivePlayerAddress: function() {
					At(window.location.href)
				},
				copyCurrentPlayerAddress: function() {
					At("https://www.mgtv.com/s/" + this.vm._config.video_id + ".html?start_time=" + this
						.currentTime)
				},
				updateKernelMenu: function(t) {
					"dash" == t ? (this.$domWrap.find('[data-action="switchToHtml5"]').css("display",
						"none"), this.$domWrap.find('[data-action="switchToFlash"]').css("display",
						"none")) : "flash" == t ? (this.$domWrap.find('[data-action="switchToHtml5"]')
						.css("display", ""), this.$domWrap.find('[data-action="switchToFlash"]').css(
							"display", "none")) : (this.$domWrap.find('[data-action="switchToHtml5"]')
						.css("display", "none"), this.$domWrap.find('[data-action="switchToFlash"]')
						.css("display", ""))
				},
				updatemenu: function(t) {
					var e = this,
						i = [];
					b(t) && (i = i.concat(t));
					var n = i.concat(this.baseMenus).map(function(t) {
						var i = t.hide,
							n = t.disable,
							r = t.action,
							o = t.className,
							s = t.text,
							a = t.url,
							h = n ? "disable" : "",
							c = r ? 'data-action="' + r + '"' : "",
							u = o ? 'class="' + o + '"' : "",
							l = i ? 'style="display:none"' : "",
							d = s.replace(/\{([^)]*)\}/g, function(t, i) {
								return e[i]
							});
						return a && (d = '<a href="' + a + '" target="_blank">' + d + "</a>"),
							"<mango-menu-item " + h + " " + c + " " + u + " " + l + ">" + d +
							"</mango-menu-item>"
					}).join("");
					this.$domWrap.find("mango-menu-list").html(n)
				},
				clickHandler: function(t) {
					var e = t.target;
					if (!e.disable) {
						var i = e.dataset.action;
						i && (this.$emit(i), w(this[i]) && this[i](t)), this.emit("contextmenuClose"), this
							.close()
					}
					t.stopPropagation()
				}
			}
		}),
		d_ = ["B", "kB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"],
		f_ = ["B", "kiB", "MiB", "GiB", "TiB", "PiB", "EiB", "ZiB", "YiB"],
		p_ = ["b", "kbit", "Mbit", "Gbit", "Tbit", "Pbit", "Ebit", "Zbit", "Ybit"],
		m_ = ["b", "kibit", "Mibit", "Gibit", "Tibit", "Pibit", "Eibit", "Zibit", "Yibit"],
		v_ = function(t, e, i) {
			var n = t;
			return "string" == typeof e || Array.isArray(e) ? n = t.toLocaleString(e, i) : !0 !== e && void 0 ===
				i || (n = t.toLocaleString(void 0, i)), n
		},
		g_ = function(t, e) {
			if (!Number.isFinite(t)) throw new TypeError("Expected a finite number, got " + typeof t + ": " + t);
			var i = (e = m({
				bits: !1,
				binary: !1
			}, e)).bits ? e.binary ? m_ : p_ : e.binary ? f_ : d_;
			if (e.signed && 0 === t) return " 0 " + i[0];
			var n, r = t < 0,
				o = r ? "-" : e.signed ? "+" : "";
			if (r && (t = -t), void 0 !== e.minimumFractionDigits && (n = {
					minimumFractionDigits: e.minimumFractionDigits
				}), void 0 !== e.maximumFractionDigits && (n = m({
					maximumFractionDigits: e.maximumFractionDigits
				}, n)), t < 1) return o + v_(t, e.locale, n) + " " + i[0];
			var s = Math.min(Math.floor(e.binary ? Math.log(t) / Math.log(1024) : Math.log10(t) / 3), i.length - 1);
			return t /= Math.pow(e.binary ? 1024 : 1e3, s), n || (t = t.toPrecision(3)), o + v_(Number(t), e.locale,
				n) + " " + i[s]
		},
		y_ = em({
			tagName: "mango-debug",
			name: "mangoDebugPanel",
			html: '<mgdiv class="mango-debug-inner"></mgdiv>',
			offset: "0",
			hide: !0,
			operable: !1,
			data: {},
			init: function() {
				var t = this;
				this.vm = this.__dispatcher.vm, this.$videoWrapper = this.__dispatcher.dom.wrapper;
				var e = [{
					title: "VID",
					prop: "videoId",
					cls: "",
					val: function() {
						return t.vm._config.video_id
					}
				}, {
					title: "播放模式",
					prop: "playMode",
					cls: "",
					val: function() {
						return t.vm.box
					}
				}, {
					title: "分辨率",
					prop: "resolution",
					cls: "",
					val: function() {
						return window.screen.width + " x " + window.screen.height
					}
				}, {
					title: "视频宽高",
					prop: "videoSize",
					cls: "",
					val: function() {
						var e = t.vm.metadata;
						return e ? e.width + " x " + e.height : ""
					}
				}, {
					title: "音量",
					prop: "volume",
					cls: "",
					val: function() {
						return parseInt(100 * t.volume) + "%"
					}
				}, {
					title: "视频协议",
					prop: "protocol",
					cls: "",
					val: function() {
						return t.vm._config.useFlash ? "http" : "https"
					}
				}, {
					title: "CDN",
					prop: "cdn",
					cls: "",
					val: function() {
						return Ot(t.videoUrl)
					}
				}, {
					title: "下载速度",
					prop: "downloadSpeed",
					cls: "",
					val: function() {
						return g_(1024 * t.vm.downloadSpeed || 0) + "/s"
					}
				}, {
					title: "缓冲时长",
					prop: "buffer",
					cls: "",
					val: function() {
						var e = t.vm.bufferInfo;
						return e ? parseInt(e.len) + "s" : "0s"
					}
				}, {
					title: "P2P",
					prop: "p2p",
					cls: "",
					val: function() {
						var e = t.vm.stats || {},
							i = e.total,
							n = (e.http, e.upload),
							r = e.p2p,
							o = e.p2pRatio,
							s = e.peers;
						if (!i) return "N/A";
						var a = +(100 * o).toFixed(3) + "%";
						return bt(
							"&#x2193;{{p2p}} &#x2191;{{upload}} &#x2301; {{scale}}  ({{peers}} peers)", {
								p2p: r = g_(r),
								upload: n = g_(n),
								scale: a,
								peers: s
							})
					}
				}, {
					title: "版本号",
					prop: "version",
					cls: "",
					val: function() {
						return t.vm.version
					}
				}, {
					title: "播放流水",
					prop: "suuid",
					cls: "",
					val: function() {
						return t.vm._config.lobparam.suuid
					}
				}, {
					title: "drm",
					prop: "drm",
					cls: "",
					val: function() {
						return t.vm.drm || "false"
					}
				}];
				this._items = e, this._cfg = e.reduce(function(t, e) {
					return t[e.prop] = e, t
				}, {})
			},
			create: function() {
				this.$domWrap.on("click", this.clickHandler)
			},
			destroy: function() {
				this.togglePanel(!1), this.$domWrap.off("click", this.clickHandler)
			},
			events: {
				getDispatcher: function(t) {
					this.onDispatcherHandler(t)
				},
				hlsDispatcherLoaded: function(t) {
					void 0 === t && (t = {}), this.onDispatcherHandler(t.data)
				},
				videoReload: function() {
					this.closeDebugPanel()
				},
				showDebugPanel: function() {
					this._timer || (this.render(), this.togglePanel())
				},
				c_resize: function(t) {
					(parseInt(this.container.height) < 400 || this.vm.getFloatWindowMode()) && this
						.closeDebugPanel()
				}
			},
			methods: {
				onDispatcherHandler: function(t) {
					void 0 === t && (t = {}), "loadComplete" === t.status && (this.videoUrl = t.data)
				},
				togglePanel: function(t) {
					var e = this;
					if (void 0 === t && (t = !0), this._timer && (clearTimeout(this._timer), this._timer =
							null), t) {
						var i = function() {
							e._timer = setTimeout(function() {
								e.updateMenu(), i()
							}, 200)
						};
						this.open(), this.$bumpToTop(), i()
					} else this.close(), this.$level = 0
				},
				updateMenu: function(t) {
					var e = this;
					void 0 === t && (t = ["videoSize", "volume", "downloadSpeed", "buffer", "p2p"]), t.map(
						function(t) {
							var i = e.getCustomHTML(t),
								n = e._getval(t);
							e.$domWrap.find('[data-role="' + t + '"]').find(".mango-debug-value").html(
								i + n)
						})
				},
				_getval: function(t) {
					var e = this._cfg[t].val;
					return "function" == typeof e ? e() : e
				},
				getCustomHTML: function(t) {
					var e = "";
					"buffer" == t && (e =
						'<mgdiv class="mango-debug-progress">\n                  <mgdiv class="mango-debug-progress-indicator" style="width: ' +
						(100 * Rt(this, "vm.bufferInfo.len", 0) / 120 + "%") +
						';"></mgdiv>\n                </mgdiv>');
					if ("downloadSpeed" == t) {
						var i = this.vm.downloadSpeed;
						e = '<mgdiv class="mango-debug-progress">\n                  <mgdiv class="mango-debug-progress-indicator" style="background-color:#ff6f00;width: ' +
							(100 * Math.min(i / 5120, 1) + "%") + ';"></mgdiv>\n                </mgdiv>'
					}
					return e
				},
				render: function() {
					var t = this,
						e = this._items.map(function(e) {
							var i = e.action,
								n = void 0 === i ? "" : i,
								r = e.cls,
								o = void 0 === r ? "" : r,
								s = e.title,
								a = void 0 === s ? "" : s,
								h = e.prop,
								c = void 0 === h ? "" : h;
							return '\n              <mgdiv class="mango-debug-line ' + o +
								'" data-role="' + c + '"\n                    data-action="' + n +
								'" >\n                <mgdiv class="mango-debug-label">' + a +
								':</mgdiv>\n                <mgdiv class="mango-debug-value">' + t
								.getCustomHTML(c) + t._getval(c) +
								"</mgdiv>\n              </mgdiv>\n              "
						}).join("");
					this.$domWrap.find(".mango-debug-inner").html(
						'<mgdiv class="mango-debug-copy" title="复制" data-action="copyDebugLog"><svg version="1.1" id="i_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14 14" style="enable-background:new 0 0 14 14;" xml:space="preserve"><g><path d="M13,2.938C13,1.318,11.718,0,10.143,0H3.857C2.282,0,1,1.318,1,2.938v8.125C1,12.683,2.282,14,3.857,14h4.432 c0.048,0,0.095-0.011,0.143-0.014C8.455,13.99,8.476,14,8.5,14c0.069,0,0.134-0.014,0.193-0.039 c0.565-0.084,1.089-0.333,1.502-0.739l2.011-1.98c0.433-0.426,0.695-0.994,0.764-1.592C12.985,9.602,13,9.553,13,9.5 c0-0.018-0.008-0.032-0.01-0.049C12.991,9.418,13,9.386,13,9.353V2.938z M2,11.063V2.938C2,1.869,2.833,1,3.857,1h6.286 C11.167,1,12,1.869,12,2.938V9H9.7C8.763,9,8,9.763,8,10.7V13H3.857C2.833,13,2,12.131,2,11.063z M9.494,12.509 C9.351,12.649,9.182,12.758,9,12.841V10.7C9,10.314,9.314,10,9.7,10h2.164c-0.084,0.196-0.205,0.377-0.359,0.528L9.494,12.509z"/> <path d="M4,5h5c0.276,0,0.5-0.224,0.5-0.5S9.276,4,9,4H4C3.724,4,3.5,4.224,3.5,4.5S3.724,5,4,5z"/><path d="M6,7H4C3.724,7,3.5,7.224,3.5,7.5S3.724,8,4,8h2c0.276,0,0.5-0.224,0.5-0.5S6.276,7,6,7z"/></g></svg></mgdiv><mgdiv class="mango-debug-close" title="关闭" data-action="closeDebugPanel"><svg version="1.1" id="i_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="-3 -3 20 20" style="enable-background:new 0 0 14 14;" xml:space="preserve"><path d="M7.707,7l6.146-6.146c0.195-0.195,0.195-0.512,0-0.707s-0.512-0.195-0.707,0L7,6.293L0.854,0.146 c-0.195-0.195-0.512-0.195-0.707,0s-0.195,0.512,0,0.707L6.293,7l-6.146,6.146c-0.195,0.195-0.195,0.512,0,0.707 C0.244,13.951,0.372,14,0.5,14s0.256-0.049,0.354-0.146L7,7.707l6.146,6.146C13.244,13.951,13.372,14,13.5,14 s0.256-0.049,0.354-0.146c0.195-0.195,0.195-0.512,0-0.707L7.707,7z"/></svg></mgdiv> ' +
						e)
				},
				copyDebugLog: function(t) {
					var e = [];
					Yi.info("pluginDebug", "user click [copyDebugLog] btn.");
					try {
						for (var i = window.sessionStorage, n = 0, r = i.length; n < r; n++) {
							var o = i.key(n); - 1 != o.indexOf("vplayer-log-") && e.push({
								index: o.replace(/vplayer-log-/g, ""),
								log: i.getItem(o)
							})
						}
						e = (e = e.sort(function(t, e) {
							return t - e
						})).map(function(t) {
							return t.log
						})
					} catch (t) {}
					At(e = e.join("####"))
				},
				closeDebugPanel: function(t) {
					this.togglePanel(!1)
				},
				clickHandler: function(t) {
					var e = t.target.dataset.action;
					w(this[e]) && this[e](t), t.stopPropagation()
				}
			}
		}),
		__ = function() {
			function t(t) {
				this.parent = t, this.locale = this.parent.vm.locale
			}
			var e = t.prototype;
			return e.create = function() {
				this.createEl(), this.addAllEvent()
			}, e.destroy = function() {
				this.removeAllEvent()
			}, e.createEl = function() {
				this.$dom = document.createElement(this.option.tag), this.option.cls && (this.$dom.className =
					this.option.cls), this.$dom.innerHTML = w(this.option.html) ? this.option.html({
					locale: this.locale
				}) : this.option.html, this.$domWrap = Ie(this.$dom), this.parent.$dom.appendChild(this
					.$dom)
			}, e.addAllEvent = function() {
				var t = this;
				this.option.defaultEvent && g(this.option.defaultEvent).forEach(function(e) {
					var i = t.option.defaultEvent[e];
					t[i] = z(t[i], t), Te(t.$dom, e, t[i], !1, !1)
				}), this.option.event && g(this.option.event).forEach(function(e) {
					var i = "__" + e;
					t[i] = z(t.option.event[e], t), Te(t.$dom, e, t[i], !1, !1)
				})
			}, e.removeAllEvent = function() {
				var t = this;
				this.option.defaultEvent && g(this.option.defaultEvent).forEach(function(e) {
					var i = t.option.defaultEvent[e];
					t[i] = z(t[i], t), Se(t.$dom, e, t[i], !1, !1)
				}), this.option.event && g(this.option.event).forEach(function(e) {
					var i = "__" + e;
					t[i] = z(t.option.event[e], t), Se(t.$dom, e, t[i], !1, !1)
				})
			}, t
		}(),
		b_ = {
			tag: "mango-center-state-splash",
			html: '\n    <div class="splash-wrapper">\n        <div class="splash-inner">\n            <div class="loading-ico">\n                <svg class="orange" fill="#ff6f00" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                    style="enable-background:new 0 0 12 12;" xml:space="preserve">\n                    <path d="M0.1,6c0-0.5,0-1,0.1-1.6c0.1-0.8,0.2-1.6,0.5-2.3c0.2-0.6,0.5-1.1,1-1.4c0.4-0.4,1-0.6,1.5-0.6C3.9,0,4.6,0.1,5.3,0.3\n\t                C6.3,0.6,7.1,1,8,1.5C8.7,1.9,9.4,2.4,10.1,3c0.5,0.4,0.9,0.9,1.2,1.4c0.2,0.4,0.4,0.8,0.5,1.2c0.1,0.5,0,1-0.2,1.5\n\t                c-0.3,0.6-0.6,1.1-1.1,1.5c-0.6,0.6-1.3,1.1-2,1.6c-0.9,0.5-1.8,1-2.7,1.4c-0.5,0.2-1.1,0.3-1.6,0.4c-0.7,0.1-1.4,0-2-0.4\n\t                c-0.5-0.3-0.9-0.7-1.1-1.2c-0.3-0.5-0.4-1-0.6-1.6C0.2,7.9,0.2,7,0.1,6z"/>\n                </svg>\n                <svg class="white" fill="#fff" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                    style="enable-background:new 0 0 12 12;" xml:space="preserve">\n                    <path d="M0.1,6c0-0.5,0-1,0.1-1.6c0.1-0.8,0.2-1.6,0.5-2.3c0.2-0.6,0.5-1.1,1-1.4c0.4-0.4,1-0.6,1.5-0.6C3.9,0,4.6,0.1,5.3,0.3\n\t                C6.3,0.6,7.1,1,8,1.5C8.7,1.9,9.4,2.4,10.1,3c0.5,0.4,0.9,0.9,1.2,1.4c0.2,0.4,0.4,0.8,0.5,1.2c0.1,0.5,0,1-0.2,1.5\n\t                c-0.3,0.6-0.6,1.1-1.1,1.5c-0.6,0.6-1.3,1.1-2,1.6c-0.9,0.5-1.8,1-2.7,1.4c-0.5,0.2-1.1,0.3-1.6,0.4c-0.7,0.1-1.4,0-2-0.4\n\t                c-0.5-0.3-0.9-0.7-1.1-1.2c-0.3-0.5-0.4-1-0.6-1.6C0.2,7.9,0.2,7,0.1,6z"/>\n                  </svg>\n            </div>\n        </div>\n    </div>\n    ',
			defaultEvent: {
				click: "click"
			}
		},
		w_ = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(b_, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$dom = Ie(this.$dom), "1" == Rt(this,
						"parent.vm.config.i18n", "") && "0" != Rt(this, "parent.vm.config.abroad", "") && this
					.$dom.find(".splash-inner").addClass("en"), this.parent.emit("splashShow", {
						show: !0
					})
			}, i.show = function(t) {
				void 0 === t && (t = !0);
				var e = t ? "block" : "none";
				this.$domWrap.css("display", e), this.parent.emit("splashShow", {
					show: t
				})
			}, i.close = function() {
				this.show(!1)
			}, i.click = function(t) {}, e
		}(__),
		k_ = {
			tag: "mango-center-state-start",
			html: function(t) {
				var e = t.locale;
				return '\n    <div class="m-player-client-pad">\n        <a href="#" class="u-install" action="onClickInstallApp" data-pos="6">' +
					e["state.start.ipad.tip"] +
					'</a>\n        <a href="javascript:;" class="u-play" action="play">' + e["common.play"] +
					'</a>\n    </div>\n    <div class="alert-loading-play" action="play">\n        <div class="round" action="play">\n            <span class="arr">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 34" class="iconsvg">\n<path d="M28.26,11.961L11.035,0.813C7.464-1.498,3,1.391,3,6.013v21.974c0,4.622,4.464,7.511,8.035,5.2L28.26,22.039\n\tC31.913,19.675,31.913,14.325,28.26,11.961z"/>\n</svg>\n            </span>\n        </div>\n    </div>\n    '
			},
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		E_ = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(k_, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap = Ie(this.$dom)
			}, i.show = function(t) {
				if (this.isAd = t, this.$domWrap.show(), this.parent.videoinfo) {
					var e = this.parent.videoinfo.info || {},
						i = "https://msite.api.mgtv.com/ipad-download.html?from=pcweb&start_time=0&clipId=" + e
						.collection_id + "&plId=" + e.playlist_id + "&videoId=" + e.video_id +
						"&type=1&pos=pc6";
					this.$domWrap.find(".u-install").attr("href", i)
				}
				this.parent.$bumpToTop()
			}, i.close = function() {
				this.$domWrap.hide(), this.parent.$level = 0
			}, i.play = function(t) {
				t.preventDefault(), this.close(), this.parent.play(), this.parent.vm.manualClickPlay = !0,
					document.getElementsByTagName("video")[0].play(), this.parent.emit("manualClickPlay")
			}, i.onClickInstallApp = function(t) {
				var e = t.target.dataset.pos,
					i = this.parent.videoinfo.info;
				this.parent.emit("installAppClick", {
					pos: e,
					vinfo: i
				})
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t), t.stopPropagation()
			}, e
		}(__),
		S_ = {
			tag: "mango-center-state-loading",
			html: '\n    <div class="loading-inner">\n        <div class="loading-ico">\n            <svg class="orange" fill="#ff6f00" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                style="enable-background:new 0 0 12 12;" xml:space="preserve">\n                <path d="M0.1,6c0-0.5,0-1,0.1-1.6c0.1-0.8,0.2-1.6,0.5-2.3c0.2-0.6,0.5-1.1,1-1.4c0.4-0.4,1-0.6,1.5-0.6C3.9,0,4.6,0.1,5.3,0.3\n             C6.3,0.6,7.1,1,8,1.5C8.7,1.9,9.4,2.4,10.1,3c0.5,0.4,0.9,0.9,1.2,1.4c0.2,0.4,0.4,0.8,0.5,1.2c0.1,0.5,0,1-0.2,1.5\n             c-0.3,0.6-0.6,1.1-1.1,1.5c-0.6,0.6-1.3,1.1-2,1.6c-0.9,0.5-1.8,1-2.7,1.4c-0.5,0.2-1.1,0.3-1.6,0.4c-0.7,0.1-1.4,0-2-0.4\n             c-0.5-0.3-0.9-0.7-1.1-1.2c-0.3-0.5-0.4-1-0.6-1.6C0.2,7.9,0.2,7,0.1,6z"/>\n            </svg>\n            <svg class="white" fill="#fff" version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                style="enable-background:new 0 0 12 12;" xml:space="preserve">\n                <path d="M0.1,6c0-0.5,0-1,0.1-1.6c0.1-0.8,0.2-1.6,0.5-2.3c0.2-0.6,0.5-1.1,1-1.4c0.4-0.4,1-0.6,1.5-0.6C3.9,0,4.6,0.1,5.3,0.3\n             C6.3,0.6,7.1,1,8,1.5C8.7,1.9,9.4,2.4,10.1,3c0.5,0.4,0.9,0.9,1.2,1.4c0.2,0.4,0.4,0.8,0.5,1.2c0.1,0.5,0,1-0.2,1.5\n             c-0.3,0.6-0.6,1.1-1.1,1.5c-0.6,0.6-1.3,1.1-2,1.6c-0.9,0.5-1.8,1-2.7,1.4c-0.5,0.2-1.1,0.3-1.6,0.4c-0.7,0.1-1.4,0-2-0.4\n             c-0.5-0.3-0.9-0.7-1.1-1.2c-0.3-0.5-0.4-1-0.6-1.6C0.2,7.9,0.2,7,0.1,6z"/>\n              </svg>\n        </div>\n    </div>\n    ',
			defaultEvent: {
				click: "click"
			}
		},
		T_ = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(S_, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$dom = Ie(this.$dom)
			}, i.show = function(t) {
				void 0 === t && (t = !0), t ? this.parent.$domWrap.addClass("correct loading") : this.parent
					.$domWrap.removeClass("loading")
			}, i.close = function() {
				this.show(!1)
			}, i.click = function(t) {}, e
		}(__),
		x_ = "correct tip play pause back forward volume-high volume-low replay",
		A_ = {
			play: "播放",
			pause: "暂停",
			replay: "重播",
			back: "后退",
			forward: "前进",
			"volume-high": "音量高",
			"volume-low": "音量低"
		},
		C_ = {
			tag: "mango-center-state-status",
			html: function(t) {
				var e = t.locale;
				return '\n    <mango-center-state-tip>\n        <span class="u-icon u-icon-pause">\n        <a href="javascript:void(0);" title="' +
					e["common.pause"] +
					'">\n        <svg class="icon n-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 34">\n            <path d="M6,0C4.35,0,3,1.35,3,3v28c0,1.65,1.35,3,3,3c1.65,0,3-1.35,3-3V3C9,1.35,7.65,0,6,0z"/>\n            <path d="M28,0c-1.65,0-3,1.35-3,3v28c0,1.65,1.35,3,3,3c1.65,0,3-1.35,3-3V3C31,1.35,29.65,0,28,0z"/>\n        </svg>\n        </a>\n        </span>\n        <span class="u-icon u-icon-play">\n        <a href="javascript:void(0);" title="' +
					e["common.play"] +
					'">\n        <svg class="icon n-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 34">\n        <path d="M28.26,11.961L11.035,0.813C7.464-1.498,3,1.391,3,6.013v21.974c0,4.622,4.464,7.511,8.035,5.2L28.26,22.039\n            C31.913,19.675,31.913,14.325,28.26,11.961z"/>\n        </svg>        \n        </a>\n        </span>\n        <span class="u-icon u-icon-replay" action="onReplay">\n        <a href="javascript:void(0);" title="' +
					e["common.replay"] +
					'" action="onReplay">\n        <svg class="icon n-replay" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">\n        <path d="M34.246,20.002c-1.076-0.273-2.159,0.377-2.43,1.448c-0.616,2.432-1.886,4.662-3.673,6.449c-2.645,2.644-6.16,4.1-9.899,4.1\n            s-7.255-1.456-9.899-4.1c-2.645-2.645-4.101-6.16-4.101-9.9s1.456-7.255,4.101-9.899S14.505,4,18.244,4\n            c1.941,0,3.82,0.389,5.584,1.157C25.394,5.838,26.795,6.801,28.02,8h-3.373c-1.104,0-2,0.896-2,2s0.896,2,2,2h6.918\n            c1.697,0,3.078-1.381,3.078-3.08V2c0-1.104-0.896-2-2-2c-1.104,0-2,0.896-2,2v2.982c-1.531-1.462-3.274-2.646-5.219-3.492\n            C23.155,0.501,20.739,0,18.244,0C13.437,0,8.916,1.873,5.517,5.272C2.117,8.671,0.244,13.192,0.244,18s1.872,9.328,5.272,12.728\n            C8.916,34.128,13.437,36,18.244,36s9.328-1.872,12.728-5.272c2.297-2.296,3.93-5.165,4.722-8.296\n            C35.965,21.361,35.317,20.274,34.246,20.002z"/>\n        </svg>\n        </a>\n        </span>\n    </mango-center-state-tip>\n    '
			},
			defaultEvent: {
				click: "click",
				touchstart: "click"
			}
		},
		R_ = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(C_, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$dom = Ie(this.$dom)
			}, i.close = function() {
				this.replayTimer && clearTimeout(this.replayTimer), this.tipTimer && clearTimeout(this
					.tipTimer), this.parent.$domWrap.removeClass(x_), this.parent.$level = 0
			}, i.showTip = function(t) {
				var e = this;
				this.replayTimer && clearTimeout(this.replayTimer), this.parent.$domWrap.removeClass(x_)
					.addClass("correct tip " + t), this.$domWrap.find("mango-center-state-tip-text").html(A_[
						t] || ""), this.tipTimer && clearTimeout(this.tipTimer), this.tipTimer = setTimeout(
						function() {
							e.parent.$domWrap.removeClass("tip " + t)
						}, 500)
			}, i.showVideoEnd = function() {
				var t = this;
				this.replayTimer = setTimeout(function() {
					t.parent.$domWrap.removeClass(x_).addClass("correct tip replay"), t.$domWrap.find(
						"mango-center-state-tip-text").html(A_.replay), t.parent.$bumpToTop()
				}, 1e3)
			}, i.onReplay = function() {
				Yi.info("CenterStatePlugin", "user clicked [Refresh] btn, trigger event [videoRefresh]."), this
					.parent.emit("videoRefresh"), this.parent.$domWrap.removeClass("tip replay"), this.parent
					.$level = 0
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t), t.stopPropagation(), t.preventDefault()
			}, e
		}(__);

	function I_(t) {
		void 0 === t && (t = {});
		return !t.bdid || "" === t.bdid && 0 === t.bdid ? (t.cid || "") + "_" + (t.vid || "") : "0_" + (t.bdid ||
			"") + "_" + (t.vid || "")
	}
	var L_ = kt;

	function P_(t, e) {
		if (void 0 === e && (e = "6.3.0"), !t) return e;
		var i = t.split("-");
		return i.length >= 2 ? "" + i[1] : e
	}

	function D_(t, e, i, n, r) {
		var o, s = /iPad/i.test(navigator.userAgent),
			a = P_(window.VERSION),
			h = e,
			c = i,
			u = L_("HDCN") ? L_("HDCN").match(/\b\w+\b/g)[0] : "",
			l = 60307,
			d = s ? "4.1.11" : "1.1.11",
			f = L_("sessionid") || "",
			p = (L_("uuid"), L_("__STKUUID")),
			m = (new Date, '//as.mgtv.com/client/qrcode/getqrcodeinfo?data={"bid":"' + d + '","ftype":"' + c +
				'","clocation":"' + l + '","uvip":"' + ("1" == L_("vipStatus") ? 1 : 0) +
				'","isscan":"1","unid":"' + h + '","cookie":"' + p + '","sessionid":"' + f + '","ticket":"' + u +
				'"}&sign=11&' + St({
					invoker: "pcweb",
					version: a,
					ticket: L_("HDCN") ? L_("HDCN").match(/\b\w+\b/g)[0] : "",
					product_id: 0,
					product_type: 1,
					product_level: 3,
					action: 4,
					voucher_id: 0,
					ip: r,
					mac: L_("__STKUUID") || "00000000-0000-0000-0000-000000000000",
					cxid: L_("sessionid") || "",
					t: Math.round((new Date).getTime() / 1e3),
					os: navigator.platform || "Win32",
					scene_code: "system",
					auto_buy: 0
				}));
		if (window.jQuery && (o = window.jQuery(t[0]).parent()), o && o.qrcode) return Fi(m).then(function(t) {
			return t.json()
		}).then(function(e) {
			e && "200" == e.status ? (o.html(""), o.qrcode({
				render: "canvas",
				text: e.msg.url + "&_t=" + +new Date
			})) : t.attr("src", m).show()
		}).catch(function(e) {
			t.attr("src", m).show()
		});
		t.attr("src", m).show()
	}
	var M_ = {
			tag: "mango-center-state-error",
			cls: "m-player-error",
			html: " ",
			defaultEvent: {
				click: "click"
			}
		},
		B_ = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(M_, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap = Ie(this.$dom), this.token = Math.ceil(1e9 * Math
					.random())
			}, i.show = function(t) {
				var e = this.getFeedBackURL(),
					i = this.getQRCodeURL(),
					n = V_,
					r = !1 !== Rt(this.parent, "vm._config.plugins.error.autoJumpHomeWhen404");
				switch (~~t.code) {
					case 40001:
					case 40002:
						n = N_, r && this.delayJumpToHome(), this.getRecommendVideo(r);
						break;
					case 40003:
					case 40005:
						n = F_;
						break;
					case 40004:
						n = U_;
						break;
					default:
						n = V_
				}
				if (this.parent.vm.config.isLive) switch (~~t.code) {
					case 2040114:
					case 2040352:
						n = N_
				}
				var o = "1" == Rt(this, "parent.vm.config.i18n", ""),
					s = o ? "" : this.renderPromotion(),
					a = w(n) ? n({
						locale: this.locale,
						isInterMgtv: o
					}) : n;
				t.msg = t.msg && w(t.msg) ? t.msg(this.locale) : t.msg, t.tips = t.tips && w(t.tips) ? t.tips(
					this.locale) + " </br>" : t.tips;
				var h = bt(a, m({}, t, {
					feedbackUrl: e,
					qrcodeUrl: i,
					promotionHTML: s
				}));
				this.$domWrap.html(h).show(), this.parent.children.start.close(), this.parent.pause(), this
					.parent.$bumpToTop(), this.parent.emit("componentView", {
						report: !0,
						param: {
							mod: "qsCDpV"
						},
						lob: {}
					})
			}, i.close = function() {
				this.$domWrap.html("").hide(), this.parent.$level = 0
			}, i.setPromotionInfo = function(t) {
				this.promotion = t
			}, i.refreshPage = function() {
				window.location.reload()
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t)
			}, i.delayJumpToHome = function() {
				var t = this;
				clearTimeout(this.jumptohomeTimer), this.jumptohomeTimer = setTimeout(function() {
					window.location.href = t.jumpUrl || "https://www.mgtv.com/"
				}, 1e4)
			}, i.cancelJump = function(t) {
				this.jumptohomeTimer && clearTimeout(this.jumptohomeTimer), this.$domWrap.find(".celist li")
					.removeClass("focus")
			}, i.getRecommendVideo = function(t) {
				var e = this,
					i = this.parent.vm._config.lobparam.did;
				return Fi("//rc.mgtv.com/pc/ranklist?" + St({
					rt: "v",
					c: 111,
					limit: 6,
					guid: "",
					uid: this.parent.vm._config.lobparam.uuid,
					cookie: i,
					abroad: this.parent.vm._config.abroad,
					src: "1" == this.parent.vm._config.i18n ? "intelmgtv" : ""
				})).then(function(t) {
					return t.json()
				}).then(function(i) {
					if (i && 200 == i.code && i.data && i.data.length) {
						var n = e.recommendVideos = i,
							r = e.renderRecommendList(i.data),
							o = e.parent.vm.getVideoInfo();
						e.$domWrap.find('[node="video-error-recommended"]').html(r), t || e.$domWrap
							.find(".celist li").removeClass("focus"), e.parent.emit(
								"recommendVideoShow", {
									vinfo: o,
									recommendVideos: n
								})
					}
				})
			}, i.getQRCodeURL = function() {
				var t = this.parent.vm._config.lobparam.cxid,
					e = this.parent.vm.getVideoInfo();
				return "//pcweb.api.mgtv.com/qrcode/?" + St({
					source: "pc2",
					from: "pc",
					p: e.vid,
					plid: e.plid || "",
					cxid: t
				})
			}, i.getFeedBackURL = function() {
				var t = "";
				return w(window.honeyUuid) ? t = window.honeyUuid() : w(String.fromCharCode) && (t =
					"feedback-rom-" + String.fromCharCode(65 + Math.ceil(25 * Math.random())) + Math.ceil(
						1e9 * Math.random())), this.token = t, "https://www.mgtv.com/feedback/?token=" + t
			}, i.renderPromotion = function() {
				if (this.promotion && !dt.ipad) {
					var t = {
							url: dt.mac ? this.promotion.macLink : this.promotion.winLink,
							txt: dt.mac ? this.promotion.macTitle : this.promotion.winTitle
						},
						e = Rt(this.parent, "vm.config.lobparam.did", "");
					return t.url += (-1 !== t.url.indexOf("?") ? "&" : "?") + "did=" + e, bt(
						'<p class="btn btn2"><a action-type="protocol-href" rsou="v_play" rtar="video" rpos="v_play_6" href="{{url}}" mg-stat-custom="label=dialog_error_client"\n          action="downloadClient" target="_blank">{{txt}}</a></p>',
						t)
				}
			}, i.renderRecommendList = function(t) {
				var e = this;
				void 0 === t && (t = []);
				var i = "";
				return this.jumpUrl = t[0].play_url, t.forEach(function(t, n) {
					t.klass = 0 == n ? "focus" : "", i += bt(z_({
						locale: e.locale
					}), m({}, t, {
						index: n
					}))
				}), i
			}, i.onErrorRetry = function() {
				var t = this.parent.vm._config.video_id,
					e = this.parent.vm.getVideoInfo();
				this.parent.vm.reload({
					video_id: t,
					errorRetry: !0
				}), this.parent.emit("errorRefreshClick", {
					vinfo: e
				})
			}, i.onFeedBackClick = function() {
				this.parent.emit("feedbackClick", {
					token: this.token
				})
			}, i.sendClickEvent = function(t) {
				var e = t.target.dataset.vid,
					i = 1 + ~~t.target.dataset.index,
					n = this.parent.vm.getVideoInfo(),
					r = this.recommendVideos;
				this.parent.emit("recommandVideoClick", {
					hitid: e,
					pos: i,
					vinfo: n,
					recommendVideos: r
				})
			}, e
		}(__),
		O_ =
		'<svg viewBox="0 0 14 14"><g>\n    <path class="p1" d="M11.5,1.2h-9C1.7,1.2,1,1.9,1,2.7v6.1c0,0.8,0.7,1.5,1.5,1.5h1.8l2.4,2.4c0.2,0.2,0.5,0.2,0.7,0l2.4-2.4h1.8\n        c0.8,0,1.5-0.7,1.5-1.5V2.7C13,1.9,12.3,1.2,11.5,1.2z M5.7,6.5C5.5,6.7,5.2,6.8,5,6.8c-0.1,0-0.3,0-0.4-0.1\n        c-0.1,0-0.2-0.1-0.3-0.2C4.1,6.3,4,6,4,5.8C4,5.6,4,5.5,4,5.4c0-0.1,0.1-0.2,0.2-0.3c0.4-0.4,1.1-0.4,1.4,0C5.9,5.3,6,5.5,6,5.8\n        C6,6,5.9,6.3,5.7,6.5z M9.7,6.5C9.5,6.7,9.3,6.8,9,6.8S8.5,6.7,8.3,6.5C8.1,6.3,8,6,8,5.8c0-0.1,0-0.3,0.1-0.4\n        c0-0.1,0.1-0.2,0.2-0.3C8.6,4.8,9,4.7,9.4,4.9c0.1,0,0.2,0.1,0.3,0.2C9.9,5.3,10,5.5,10,5.8C10,6,9.9,6.3,9.7,6.5z"/>\n    <path d="M11.5,0.2h-9C1.1,0.2,0,1.3,0,2.7v6.1c0,1.4,1.1,2.5,2.5,2.5h1.4L6,13.4c0.3,0.3,0.6,0.4,1,0.4s0.8-0.2,1-0.4l2.1-2.1h1.4\n        c1.4,0,2.5-1.1,2.5-2.5V2.7C14,1.3,12.9,0.2,11.5,0.2z M13,8.8c0,0.8-0.7,1.5-1.5,1.5H9.7l-2.4,2.4c-0.2,0.2-0.5,0.2-0.7,0\n        l-2.4-2.4H2.5C1.7,10.3,1,9.6,1,8.8V2.7c0-0.8,0.7-1.5,1.5-1.5h9c0.8,0,1.5,0.7,1.5,1.5V8.8z"/>\n    <path d="M4.3,5.1C4.2,5.2,4.1,5.3,4,5.4C4,5.5,4,5.6,4,5.8C4,6,4.1,6.3,4.3,6.5c0.1,0.1,0.2,0.2,0.3,0.2C4.7,6.8,4.8,6.8,5,6.8\n        c0.3,0,0.5-0.1,0.7-0.3C5.9,6.3,6,6,6,5.8c0-0.3-0.1-0.5-0.3-0.7C5.3,4.7,4.6,4.7,4.3,5.1z"/>\n    <path d="M9.4,4.9C9,4.7,8.6,4.8,8.3,5.1C8.2,5.2,8.2,5.3,8.1,5.4C8.1,5.5,8,5.6,8,5.8C8,6,8.1,6.3,8.3,6.5C8.5,6.7,8.8,6.8,9,6.8\n        s0.5-0.1,0.7-0.3C9.9,6.3,10,6,10,5.8c0-0.3-0.1-0.5-0.3-0.7C9.6,5,9.5,4.9,9.4,4.9z"/>\n</g></svg>',
		U_ = function(t) {
			var e = t.locale,
				i = t.isInterMgtv;
			return '<div class="cebox mini-error-copyright" style="display:block" node-type="error-copyright" mg-stat-mod="qsCDpV">\n    <h2 class="tit">{{msg}}</h2>\n    <p class="txt1 pbot25">' +
				e["state.error.code"] + '：<i>{{code}}</i>\n        <i class="svgicon svg-fback">' + O_ +
				'</i>\n        <a style="' + (i ? "display:none" : "") +
				'" href="{{feedbackUrl}}" action="onFeedBackClick" target="_blank">' + e["common.feedback"] +
				'</a>\n    </p>\n    <p class="txt2">' + e["state.error.app"] +
				'</p>\n    <p class="pic"><img width="115" height="115" src="{{qrcodeUrl}}"></p>\n</div>'
		},
		F_ = function(t) {
			var e = t.locale,
				i = t.isInterMgtv;
			return '<div class="cebox mini-error-area" mg-stat-mod="qsCDpV">\n    <h2 class="tit ptop80">{{msg}}</h2>\n    <p class="txt1">' +
				e["state.error.code"] + '：<i>{{code}}</i>\n        <i class="svgicon svg-fback">' + O_ +
				'</i>\n        <a style="' + (i ? "display:none" : "") +
				'" href="{{feedbackUrl}}" action="onFeedBackClick" target="_blank">' + e["common.feedback"] +
				"</a>\n    </p>\n</div>"
		},
		N_ = function(t) {
			var e = t.locale,
				i = t.isInterMgtv;
			return '\n    <div class="cebox mini-error-playerdown" style="display:block;" mg-stat-mod="qsCDpV">\n    <h2 class="tit">{{msg}}</h2>\n    <p class="txt1">' +
				e["state.error.code"] + '：<i>{{code}}</i>\n        <i class="svgicon svg-fback">' + O_ +
				'</i>\n        <a style="' + (i ? "display:none" : "") +
				'" href="{{feedbackUrl}}" action="onFeedBackClick" target="_blank">' + e["common.feedback"] +
				'</a>\n    </p>\n    <div class="celist">\n        <ul class="clearfix" node="video-error-recommended"></ul>\n    </div>\n</div>'
		},
		V_ = function(t) {
			var e = t.locale,
				i = t.isInterMgtv;
			return '<div class="cebox mini-error-playerpub" mg-stat-mod="qsCDpV">\n    <h2 class="tit ptop30">{{msg}}</h2>\n    <p class="">{{tips}}' +
				e["state.error.code"] +
				'：{{code}}</p>\n    <p class="txt4">\n        <a href="javascript:void(0);"\n          mg-stat-click="" mg-stat-custom="label=dialog_error_refresh"\n          action="onErrorRetry">\n          <i class="svgicon svg-ref"><svg viewBox="0 0 14 14">\n    <path d="M13.5,6.5C13.2,6.5,13,6.7,13,7c0,3.3-2.7,6-6,6s-6-2.7-6-6s2.7-6,6-6c1.6,0,3.2,0.7,4.3,1.8c0.1,0.1,0.2,0.2,0.4,0.4H9.6\n    c-0.3,0-0.5,0.2-0.5,0.5s0.2,0.5,0.5,0.5h2.8c0.5,0,0.9-0.4,0.9-0.9V0.5c0-0.3-0.2-0.5-0.5-0.5s-0.5,0.2-0.5,0.5l0,2\n    c-0.1-0.2-0.3-0.3-0.3-0.4C10.7,0.8,8.9,0,7,0C3.1,0,0,3.1,0,7c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7C14,6.7,13.8,6.5,13.5,6.5z"/>\n</svg></i>' +
				e["state.error.refresh"] + '\n        </a>\n        <a style="margin-left:30px; ' + (i ?
					"display:none" : "") +
				'" href="{{feedbackUrl}}" action="onFeedBackClick"\n          mg-stat-custom="label=dialog_error_feedback" target="_blank">\n            <i class="svgicon svg-fback">' +
				O_ + "</i>" + e["common.feedback"] + "\n        </a>\n    </p>\n    {{promotionHTML}}\n</div>"
		},
		z_ = function(t) {
			var e = t.locale;
			t.isInterMgtv;
			return '<li class="{{klass}}">\n<div class="picbox">\n    <a href="{{play_url}}" class="error-list-uihot">\n        <span class="pimg">\n            <img src="{{image}}_160x90.jpg" width="160" height="90" data-vid="{{videoId}}" data-index="{{index}}" action="sendClickEvent"/>\n        </span>\n        <span class="pnum">\n            <i class="svgicon svg-play">\n                <svg viewBox="0 0 9 9">\n                    <path d="M7.4,3.3l-4.1-3C2.3-0.4,1,0.3,1,1.5v5.9c0,1.2,1.3,2,2.3,1.2l4.1-3C8.2,5.1,8.2,3.9,7.4,3.3z"/>\n                </svg>\n            </i>\n            <i>{{info}}</i>\n        </span>\n        <span class="pbg"></span>\n    </a>\n    <span class="pbtn">\n        <a href="{{play_url}}" class="error-list-uihot">\n            <i class="svgicon svg-next">\n                <svg viewBox="0 0 14 14">\n                    <g>\n                        <path d="M9.1,5.3l-6.3-4C1.5,0.6,0,1.5,0,3.1v8c0,1.5,1.5,2.5,2.8,1.7l6.3-4C10.3,8,10.3,6.1,9.1,5.3z"/>\n                        <path d="M13,1.1c-0.5,0-1,0.5-1,1v10c0,0.5,0.5,1,1,1s1-0.5,1-1v-10C14,1.5,13.5,1.1,13,1.1z"/>\n                    </g>\n                </svg>\n            </i>\n        </a>\n        <i class="t" action="cancelJump">' +
				e["common.cancel"] +
				'</i>\n        <i class="line"></i>\n    </span>\n</div>\n<span class="ptxt">{{name}}</span>\n</li>'
		},
		H_ = {
			tag: "mango-center-state-ad-error",
			html: " ",
			defaultEvent: {
				click: "click"
			}
		},
		j_ = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(H_, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap = Ie(this.$dom)
			}, i.show = function(t) {
				var e, i = ~~t.blacktime,
					n = I_(this.parent.vm.getVideoInfo()),
					r = bt(
						'\n<div class="aderror-wrapper">\n    <p class="aderror-p aderror-ts">\n        <i class="ico">\n            <svg class="icon group"><path d="M0 0h2v8H0V0zm0 10h2v2H0v-2z"></path></svg>\n            <svg class="icon arrow-down"><path d="M5.1 5.9h.7l5-5a.5.5 0 0 0-.7-.7L5.5 4.8.9.1a.5.5 0 0 0-.8.8z"></path></svg>\n        </i>' +
						(e = this.locale)["state.ad.adblocker.tip"] +
						'\n    </p>\n    <p class="aderror-p aderror-help">\n    <span class="help-t1">\n        <a href="//www.mgtv.com/v/2018/rhgbcj/" target="_blank" class="closea">' +
						e["state.ad.adblocker.off"] + "</a>\n        <span>" + e["state.ad.adblocker.error"] +
						'</span>\n        <a href="//www.mgtv.com/feedback/" target="_blank">' + e[
							"common.feedback"] + '</a>\n    </span>\n    <span class="help-t2">' + e[
							"state.ad.service"] +
						'</span>\n    </p>\n    <p class="aderror-p aderror-button"><a href="{{openVipUrl}}" target="_blank">' +
						e["common.openvip"] + '</a></p>\n    <p class="aderror-p aderror-txt">' + e[
							"state.ad.call.action"] + "</p>\n</div>\n", {
							downcount: i,
							unid: n
						});
				this.$domWrap.html(r).show(), this.parent.$bumpToTop(), this.countDown(i)
			}, i.countDown = function(t) {
				var e = this;
				clearInterval(this.timerid), this.timerid = setInterval(function() {
					--t > 0 ? e.$domWrap.find('[node="downcount"]').html(t) : clearInterval(e.timerid)
				}, 1e3)
			}, i.close = function() {
				clearInterval(this.timerid), this.$domWrap.html("").hide(), this.parent.$level = 0
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t), t.stopPropagation()
			}, e
		}(__),
		$_ = "m-player-paytips",
		W_ = function(t) {
			return '<li class="' + $_ + "-welfare-listitem " + $_ + '-welfare-listitem-0">\n<span>' + t[
				"state.rights.title"] + "</span>\n</li>"
		},
		q_ = function(t) {
			return '<li class="' + t + "-welfare-listitem " + t +
				'-welfare-listitem-1">\n  <i class="svg-1"><svg class="player-pay-ad" version="1.1" xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 36"\n      style="enable-background:new 0 0 36 36;" xml:space="preserve">\n      <path d="M18,2C9.18,2,2,9.18,2,18s7.18,16,16,16s16-7.18,16-16S26.82,2,18,2z M18,32c-3.5,0-6.7-1.3-9.15-3.43l6.38-6.38l-0.94-1.89\n        l-6.85,6.85C5.3,24.7,4,21.5,4,18c0-7.72,6.28-14,14-14c3.5,0,6.7,1.3,9.15,3.43l-5.07,5.07H24c0.29,0,0.57,0.03,0.84,0.07\n        l3.73-3.73C30.7,11.3,32,14.5,32,18C32,25.72,25.72,32,18,32z" />\n      <polygon points="15.77,18.81 16.72,20.7 20,17.41 20,14.59 " />\n      <polygon points="22,15.41 22.91,14.5 22,14.5 " />\n      <path\n        d="M16.5,23.5c0.15,0,0.3-0.03,0.45-0.11c0.49-0.25,0.69-0.85,0.45-1.34l-0.68-1.36l-0.94-1.89l-2.88-5.76\n        c-0.02-0.04-0.05-0.06-0.07-0.09c-0.04-0.06-0.08-0.11-0.12-0.16c-0.05-0.05-0.1-0.09-0.16-0.13c-0.03-0.02-0.05-0.05-0.09-0.07\n        c-0.02-0.01-0.04-0.01-0.07-0.02c-0.06-0.03-0.13-0.04-0.2-0.05c-0.06-0.01-0.12-0.02-0.18-0.02c-0.06,0-0.12,0.01-0.18,0.02\n        c-0.07,0.01-0.13,0.03-0.2,0.05c-0.02,0.01-0.05,0.01-0.07,0.02c-0.04,0.02-0.06,0.05-0.09,0.07c-0.06,0.04-0.11,0.08-0.16,0.12\n        c-0.05,0.05-0.09,0.1-0.13,0.16c-0.02,0.03-0.05,0.05-0.07,0.09l-4.5,9c-0.25,0.49-0.05,1.09,0.45,1.34\n        c0.14,0.07,0.3,0.11,0.45,0.11c0.37,0,0.72-0.2,0.9-0.55L12,15.74l2.28,4.57l0.94,1.89l0.38,0.76C15.78,23.3,16.13,23.5,16.5,23.5z" />\n      <path d="M20,13.5v1.09v2.83v5.09c0,0.55,0.45,1,1,1h3c3.03,0,5.5-2.47,5.5-5.5c0-2.75-2.02-5.02-4.66-5.43\n        c-0.28-0.04-0.56-0.07-0.84-0.07h-1.91H21C20.45,12.5,20,12.95,20,13.5z M24,14.5c1.93,0,3.5,1.57,3.5,3.5s-1.57,3.5-3.5,3.5h-2\n        v-6.09V14.5h0.91H24z" />\n    </svg>\n  </i>\n  <span>免广告</span>\n</li>\n<li class="' +
				t + "-welfare-listitem " + t +
				'-welfare-listitem-2">\n  <i class="svg-2"><svg version="1.1" class="player-pay-languan" xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 36"\n      style="enable-background:new 0 0 36 36;" xml:space="preserve">\n      <path d="M27,2H9C5.14,2,2,5.14,2,9v12c0,3.86,3.14,7,7,7h18c3.86,0,7-3.14,7-7V9C34,5.14,30.86,2,27,2z M32,21c0,2.76-2.24,5-5,5H9\n        c-2.76,0-5-2.24-5-5V9c0-2.76,2.24-5,5-5h18c2.76,0,5,2.24,5,5V21z" />\n      <path d="M16.5,9.5c-0.55,0-1,0.45-1,1V14h-4v-3.5c0-0.55-0.45-1-1-1s-1,0.45-1,1v9c0,0.55,0.45,1,1,1s1-0.45,1-1V16h4v3.5\n        c0,0.55,0.45,1,1,1s1-0.45,1-1v-9C17.5,9.95,17.05,9.5,16.5,9.5z" />\n      <path d="M22.5,9.5H21c-0.55,0-1,0.45-1,1v9c0,0.55,0.45,1,1,1h1.5c3.03,0,5.5-2.47,5.5-5.5S25.53,9.5,22.5,9.5z M22.5,18.5H22v-7\n        h0.5c1.93,0,3.5,1.57,3.5,3.5S24.43,18.5,22.5,18.5z" />\n      <path d="M24,32H12c-0.55,0-1,0.45-1,1s0.45,1,1,1h12c0.55,0,1-0.45,1-1S24.55,32,24,32z" />\n    </svg></i>\n  <span>专享蓝光</span>\n</li>\n<li class="' +
				t + "-welfare-listitem " + t +
				'-welfare-listitem-3">\n  <i class="svg-3"><svg version="1.1" class="player-pay-pianku" xmlns="http://www.w3.org/2000/svg"\n      xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 36"\n      style="enable-background:new 0 0 36 36;" xml:space="preserve">\n      <path d="M28,32H8c-3.86,0-7-3.14-7-7V11c0-3.86,3.14-7,7-7h20c3.86,0,7,3.14,7,7v14C35,28.86,31.86,32,28,32z M8,6\n        c-2.76,0-5,2.24-5,5v14c0,2.76,2.24,5,5,5h20c2.76,0,5-2.24,5-5V11c0-2.76-2.24-5-5-5H8z" />\n      <path\n        d="M15.72,24c-0.26,0-0.5-0.03-0.72-0.1c-1.9-0.59-2.54-3.56-2.5-6.15c0.02-1.17,0.25-5.03,2.53-5.66\n        c1.53-0.43,4.14,0.83,5.92,2.18c1.16,0.89,2.55,2.24,2.55,3.69c0,1.61-1.77,3.15-2.82,3.93C19.52,22.74,17.35,24,15.72,24z\n        M15.74,13.99c-0.07,0-0.13,0.01-0.18,0.02c-0.34,0.1-1.03,1.33-1.07,3.77c-0.04,2.56,0.68,4.08,1.1,4.21\n        c0.39,0.12,2.06-0.36,3.89-1.71c1.47-1.08,2.01-1.98,2.01-2.32c0-0.26-0.37-1.04-1.76-2.1C18.13,14.64,16.43,13.99,15.74,13.99z" />\n      <path d="M7,20c-0.55,0-1-0.45-1-1v-2c0-0.55,0.45-1,1-1s1,0.45,1,1v2C8,19.55,7.55,20,7,20z" />\n      <path d="M7,27c-0.55,0-1-0.45-1-1v-2c0-0.55,0.45-1,1-1s1,0.45,1,1v2C8,26.55,7.55,27,7,27z" />\n      <path d="M7,13c-0.55,0-1-0.45-1-1v-2c0-0.55,0.45-1,1-1s1,0.45,1,1v2C8,12.55,7.55,13,7,13z" />\n      <path d="M29,20c-0.55,0-1-0.45-1-1v-2c0-0.55,0.45-1,1-1s1,0.45,1,1v2C30,19.55,29.55,20,29,20z" />\n      <path d="M29,27c-0.55,0-1-0.45-1-1v-2c0-0.55,0.45-1,1-1s1,0.45,1,1v2C30,26.55,29.55,27,29,27z" />\n      <path d="M29,13c-0.55,0-1-0.45-1-1v-2c0-0.55,0.45-1,1-1s1,0.45,1,1v2C30,12.55,29.55,13,29,13z" />\n    </svg>\n  </i>\n  <span>会员片库</span>\n</li>\n<li class="' +
				t + "-welfare-listitem " + t +
				'-welfare-listitem-4">\n  <i class="svg-4">\n  <svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<g>\n <path class="st1" d="M31.67,10.92V9.52c-0.02-3.23-2.66-5.85-5.89-5.85c0,0,0,0,0,0H6.22c0,0,0,0,0,0c-3.23,0-5.87,2.62-5.89,5.86\n   v1.4l1.62,2.94c0.87,1.3,0.87,2.98-0.05,4.35l-1.58,2.86v1.41c0.02,3.23,2.66,5.85,5.89,5.85c0,0,0,0,0,0h19.56c0,0,0,0,0,0\n   c3.23,0,5.87-2.62,5.89-5.86v-1.4l-1.62-2.94c-0.87-1.3-0.87-2.98,0.05-4.35L31.67,10.92z M29.67,10.41l-1.28,2.34\n   c-1.33,1.97-1.33,4.53-0.05,6.43l1.33,2.41v0.88c-0.01,2.13-1.76,3.86-3.89,3.86c0,0,0,0,0,0H6.22c0,0,0,0,0,0\n   c-2.13,0-3.87-1.73-3.89-3.86v-0.89l1.28-2.34c1.33-1.98,1.33-4.53,0.05-6.43l-1.33-2.41V9.53C2.35,7.4,4.09,5.67,6.22,5.67\n   c0,0,0,0,0,0h19.56c0,0,0,0,0,0c2.13,0,3.87,1.73,3.89,3.86V10.41z"/>\n <path class="st1" d="M15.37,11.29c-0.39-0.39-1.02-0.39-1.41,0s-0.39,1.02,0,1.41L17.25,16l-3.29,3.29c-0.39,0.39-0.39,1.02,0,1.41\n   c0.2,0.2,0.45,0.29,0.71,0.29s0.51-0.1,0.71-0.29l4-4c0.39-0.39,0.39-1.02,0-1.41L15.37,11.29z"/>\n</g>\n</svg></i>\n  <span>送观影券</span>\n</li>'
		},
		G_ = function(t) {
			return function(e) {
				return '<li class="' + t + "-welfare-listitem " + t +
					'-welfare-listitem-1">\n  <i class="svg-1">\n  <svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<style type="text/css">\n .welfare{opacity:0;fill:#EEEEEE;}\n</style>\n<g>\n <rect class="welfare" width="32" height="32"/>\n <g>\n   <path d="M16,4.3c-7.2,0-13,5.8-13,13s5.8,13,13,13c7.2,0,13-5.8,13-13S23.2,4.3,16,4.3z M16,28.3c-6.1,0-11-4.9-11-11\n     c0-6.1,4.9-11,11-11s11,4.9,11,11C27,23.4,22.1,28.3,16,28.3z"/>\n   <path d="M17,16.9V12c0-0.6-0.4-1-1-1s-1,0.4-1,1v5.3c0,0,0,0,0,0c0,0.3,0.1,0.5,0.3,0.7l4,4c0.2,0.2,0.5,0.3,0.7,0.3\n     c0.3,0,0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L17,16.9z"/>\n   <path d="M4,6.3c0.3,0,0.5-0.1,0.7-0.3l2.7-2.7c0.4-0.4,0.4-1,0-1.4C7,1.6,6.4,1.6,6,2L3.3,4.6C2.9,5,2.9,5.7,3.3,6\n     C3.5,6.2,3.7,6.3,4,6.3z"/>\n   <path d="M27.3,6c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L26,2c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4L27.3,6z"/>\n </g>\n</g>\n</svg>\n  </i>\n  <span>' +
					e["state.payment.rights.early"] + '</span>\n</li>\n<li class="' + t + "-welfare-listitem " +
					t +
					'-welfare-listitem-2">\n  <i class="svg-2">\n  <svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<style type="text/css">\n .welfare{opacity:0;}\n .st1{fill:#EEEEEE;}\n</style>\n<g>\n <g class="welfare">\n   <rect x="0" class="st1" width="32" height="32"/>\n </g>\n <g>\n   <path d="M25.2,1.7H6.8C4,1.7,1.7,4,1.7,6.8v13.1C1.7,22.7,4,25,6.8,25h18.4c2.8,0,5.1-2.3,5.1-5.1V6.8C30.3,4,28,1.7,25.2,1.7z\n      M28.3,19.9c0,1.7-1.4,3.1-3.1,3.1H6.8c-1.7,0-3.1-1.4-3.1-3.1V6.8c0-1.7,1.4-3.1,3.1-3.1h18.4c1.7,0,3.1,1.4,3.1,3.1V19.9z"/>\n   <path d="M14.7,8.3c-0.6,0-1,0.4-1,1v3.1c-0.1,0-0.2-0.1-0.3-0.1h-3v-3c0-0.6-0.4-1-1-1s-1,0.4-1,1v8c0,0.6,0.4,1,1,1s1-0.4,1-1v-3\n     h3c0.1,0,0.2,0,0.3-0.1v3.1c0,0.6,0.4,1,1,1s1-0.4,1-1v-8C15.7,8.8,15.2,8.3,14.7,8.3z"/>\n   <path d="M20,8.3h-1.3c-0.6,0-1,0.4-1,1v8c0,0.6,0.4,1,1,1H20c2.8,0,5-2.2,5-5S22.8,8.3,20,8.3z M20,16.3h-0.3v-6H20\n     c1.7,0,3,1.3,3,3C23,15,21.7,16.3,20,16.3z"/>\n   <path d="M22.7,28.3H9.3c-0.6,0-1,0.4-1,1s0.4,1,1,1h13.3c0.6,0,1-0.4,1-1S23.2,28.3,22.7,28.3z"/>\n </g>\n</g>\n</svg>\n    </i>\n  <span>' +
					e["state.payment.rights.hd"] + '</span>\n</li>\n<li class="' + t + "-welfare-listitem " +
					t +
					'-welfare-listitem-3">\n  <i class="svg-3">\n  <svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n  viewBox="0 0 32 32" style="enable-background:new 0 0 32 32;" xml:space="preserve">\n<style type="text/css">\n .welfare{opacity:0;}\n</style>\n<g>\n <g class="welfare">\n   <rect width="32" height="32"/>\n </g>\n <g>\n   <path d="M25.8,31.4H12.6c-2.2,0-4-1.8-4-4V4.6c0-2.2,1.8-4,4-4h13.2c2.2,0,4,1.8,4,4v22.8C29.8,29.6,28,31.4,25.8,31.4z M12.6,2.6\n     c-1.1,0-2,0.9-2,2v22.8c0,1.1,0.9,2,2,2h13.2c1.1,0,2-0.9,2-2V4.6c0-1.1-0.9-2-2-2H12.6z"/>\n </g>\n <g>\n   <path d="M16,31.4H8c-3.2,0-5.8-2.6-5.8-5.8V12.8C2.2,9.6,4.8,7,8,7h1.9v2H8c-2.1,0-3.8,1.7-3.8,3.8v12.8c0,2.1,1.7,3.8,3.8,3.8h8\n     V31.4z"/>\n </g>\n <g>\n   <path d="M20.7,26.3h-3c-0.8,0-1.5-0.7-1.5-1.5v0c0-0.8,0.7-1.5,1.5-1.5l3,0c0.8,0,1.5,0.7,1.5,1.5v0\n     C22.2,25.6,21.5,26.3,20.7,26.3z"/>\n </g>\n</g>\n</svg>\n  </i>\n  <span>' +
					e["state.payment.rights.device"] + "</span>\n</li>"
			}
		}($_),
		K_ = '<ul class="list">' + q_("m-player-blue") + "</ul>",
		Y_ =
		'<svg class="player-pay-zhuanshi" id="player-pay-zhuanshi" viewBox="0 0 16 16" width="100%" height="100%">\n        <path d="M15.77,5.65L13.28,1.7C13,1.27,12.51,1,11.98,1H4.02C3.49,1,3,1.27,2.72,1.7l-2.5,3.94C-0.12,6.2-0.06,6.9,0.38,7.4\n              l6.73,7.21C7.34,14.87,7.67,15,7.99,15c0.27,0,0.54-0.09,0.76-0.27l6.88-7.34C16.06,6.9,16.12,6.2,15.77,5.65z M11.04,6.92\n              l-2.4,3.11c-0.15,0.2-0.39,0.31-0.64,0.31h0c-0.25,0-0.49-0.12-0.64-0.31l-2.4-3.11C4.7,6.57,4.77,6.08,5.12,5.82\n              c0.35-0.26,0.86-0.19,1.12,0.16L8,8.26l1.76-2.28c0.26-0.34,0.77-0.41,1.12-0.15C11.23,6.09,11.3,6.57,11.04,6.92z"></path>\n        </svg>',
		X_ = {
			tag: "mango-center-state-blue",
			html: " ",
			defaultEvent: {
				click: "click"
			}
		},
		Z_ = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(X_, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$dom = Ie(this.$dom)
			}, i.show = function(t) {
				var e = this.parent.vm.getVideoInfo();
				this.parent.vm.config.isLive ? (this.data_ftype = 4, this.data_unid = e.liveId, this.data_def =
					4, this.data_clocation = 60416) : (this.data_ftype = 10, this.data_unid = I_(e), this
					.data_def = t.def, this.data_clocation = 61001);
				var i;
				i = t.buy_tips || "";
				var n, r = bt((n = this.locale,
					'\n    <div class="m-player-1080p m-player-blue" node-type="hd-video-box" bosszone="tovip">\n        <div class="m-player-1080p-wrapper">\n            <div class="m-player-blue-title">{{title}}</div>\n            <div class="m-player-blue-content">\n                \x3c!-- 上 --\x3e\n                <div class="m-player-blue-button-info">\n                  <div class="m-player-blue-primary">\n                      <a class="m-player-blue-button open-vip-dialog" unid="{{data_unid}}" clocation="{{data_clocation}}"\n                      ftype="{{data_ftype}}"  target="_blank" type="11" extjson="{{extjson}}"\n                      href="//order.mgtv.com/pay/pc/index.html?unid={{data_unid}}&ftype=10&clocation=61001&extjson={{extjson}}">\n                          ' +
					Y_ + " " + n["state.blue.call.action"] +
					'\n                          <i class="price" style="display:{{show}}">{{buy_tips}}</i>\n                      </a>\n                      <p class="c-player-paytips-adds">' +
					n["state.blue.refresh"] +
					'</p>\n                  </div>\n                  <div class="m-player-blue-sidebar">\n                      <span class="u-paycode">\n                          <span class="u-pic paycode-qrcode" node-type="paycode-qrcode"><img class="pay-qrcode-info" node-type="pay-qrcode-info" style="display:none" src="" alt="QR Code"></span>\n                          <i class="u-mask refresh-qrcode" node-type="refresh-qrcode">\n                              <i class="u-refresh" action="refreshCode"></i>\n                          </i>\n                      </span>\n                      <p class="u-tips">' +
					n["state.blue.scan.tip"] +
					'</p>\n                  </div>\n                </div>\n                \x3c!-- 下 --\x3e\n                \x3c!-- 特权 --\x3e\n                <div class="m-player-blue-welfare">\n                    <h5 class="m-player-blue-welfare-title">' +
					n["state.rights.title"] + "</h5>\n                    " + K_ +
					'\n                </div>\n            </div>\n            <div class="m-player-blue-divding"></div>\n            <div class="m-player-blue-status" style="display:{{login}}">\n               ' +
					n["state.blue.login"] +
					' \n            </div>\n        </div>\n        <span class="m-player-blue-close" action="close">' +
					n["common.close"] + "</span>\n    </div>"), {
					title: this.option.title || "会员尊享&nbsp;极致感观",
					show: "" == i ? "none" : "block",
					login: L_("HDCN") ? "none" : "block",
					uvip: "1" == L_("vipStatus") ? 1 : 0,
					data_unid: this.data_unid,
					data_ftype: this.data_ftype,
					data_clocation: this.data_clocation,
					buy_tips: i,
					extjson: this.getExtjson()
				});
				this.$domWrap.html(r).show(), this.refreshCode()
			}, i.refreshCode = function() {
				var t = this.$domWrap.find('[node-type="pay-qrcode-info"]'),
					e = this.$domWrap.find('[node-type="refresh-qrcode"]');
				e.hide(), this.qrcodeTimer && clearTimeout(this.qrcodeTimer), D_(t, this.data_unid, this
					.data_ftype, this.getExtjson()), this.qrcodeTimer = setTimeout(function() {
					e.show()
				}, 18e4)
			}, i.login = function() {
				this.parent.vm.showLoginDialog()
			}, i.close = function() {
				this.parent.isShowHdDialog && (this.qrcodeTimer && clearTimeout(this.qrcodeTimer), this.$domWrap
					.html("").hide(), this.parent.play(), this.parent.isShowHdDialog = !1, this.parent
					.$level = 0)
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && (this[e](t), t.stopPropagation())
			}, i.getExtjson = function() {
				var t = {
					chargedef: this.data_def
				};
				return encodeURI(JSON.stringify(t))
			}, e
		}(__),
		Q_ = 101,
		J_ = 102,
		tb = 200,
		eb = {
			tag: "mango-center-state-payment",
			html: " ",
			defaultEvent: {
				click: "click"
			}
		},
		ib = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(eb, k(i) ? i : {}), n.animate = !1, n.init(), n
					.localeVipText = {
						vip: {
							title: n.locale["state.payment.vip.title"],
							desc: n.locale["state.payment.vip.desc"]
						},
						vippay: {
							title: n.locale["state.payment.single.title"],
							desc: n.locale["state.payment.single.desc"]
						},
						quan: {
							title: n.locale["state.payment.coupon.title"],
							desc: n.locale["state.payment.coupon.desc"]
						},
						hd: {
							title: n.locale["state.payment.hd.title"],
							desc: n.locale["state.payment.hd.desc"]
						},
						prevod: {
							title: n.locale["state.payment.prevod.title"],
							desc: n.locale["state.payment.single.desc"]
						}
					}, n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$dom = Ie(this.$dom)
			}, i.show = function(t, e) {
				"1" == Rt(this, "parent.vm.config.i18n", "") ? this.createHTMLFragmentI18n(t, e) : this
					.createHTMLFragment(t), this.parent.emit("componentView", {
						report: !0,
						param: {
							mod: "dbUX8"
						},
						lob: {}
					})
			}, i.buildDialog = function(t, e, i) {
				var n;
				this.$domWrap.html(t).show(), this.refreshCode(e, i);
				var r = (null === (n = this.parent.videoinfo) || void 0 === n ? void 0 : n.info) || {},
					o = "https://msite.api.mgtv.com/ipad-download.html?from=pcweb&start_time=0&clipId=" + r
					.collection_id + "&plId=" + r.playlist_id + "&videoId=" + r.video_id + "&type=1&pos=pc8";
				this.$domWrap.find('[action="onClickInstallApp"]').attr("href", o)
			}, i.setPromotionInfo = function(t) {
				this.promotion = t
			}, i.renderPromotion = function() {
				if (!this.promotion || dt.ipad) return "";
				var t = dt.mac ? this.promotion.macCornerJson : this.promotion.winCornerJson,
					e = t.text,
					i = void 0 === e ? "先到先得" : e,
					n = t.color,
					r = void 0 === n ? "#FD0807" : n,
					o = {
						url: dt.mac ? this.promotion.macLink : this.promotion.winLink,
						txt: dt.mac ? this.promotion.macTitle : this.promotion.winTitle,
						corner_text: i,
						corner_color: r
					},
					s = Rt(this.parent, "vm.config.lobparam.did", "");
				return o.url += (-1 !== o.url.indexOf("?") ? "&" : "?") + "did=" + s, bt(
					'<div class="m-player-paytips-download">\n      <a href="{{url}}" target="_blank" action-type="protocol-href" rsou="v_play" rtar="video" rpos="v_play_7" action="downloadClient" mg-stat-custom="label=dialog_payment_client">\n        \n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 14 14">\n<g>\n\t<path class="st1" d="M10,1H4C2.07,1,0.5,2.57,0.5,4.5v3C0.5,9.43,2.07,11,4,11h6c1.93,0,3.5-1.57,3.5-3.5v-3\n\t\tC13.5,2.57,11.93,1,10,1z M12.5,7.5c0,1.38-1.12,2.5-2.5,2.5H4c-1.38,0-2.5-1.12-2.5-2.5v-3C1.5,3.12,2.62,2,4,2h6\n\t\tc1.38,0,2.5,1.12,2.5,2.5V7.5z"/>\n\t<path class="st1" d="M9,12.5H5c-0.28,0-0.5,0.22-0.5,0.5s0.22,0.5,0.5,0.5h4c0.28,0,0.5-0.22,0.5-0.5S9.28,12.5,9,12.5z"/>\n</g>\n</svg>\n        <span>{{txt}}</span>\n        <span class="corner" style="background-color:{{corner_color}};">{{corner_text}}</span>\n      </a>\n    </div>',
					o)
			}, i.createHTMLFragmentI18n = function(t, e) {
				void 0 === e && (e = "");
				var i;
				e || (this.user = t && t.user, this.info = t && t.info, e = this.getPaymentScene());
				var n, r = this.localeVipText[e],
					o = '\n    <div class="m-player-paytips-welfare">\n        ' + (n = this.locale,
						'<ul class="list">' + W_(n) + " " + G_(n) + "</ul>") + "\n    </div>\n    ",
					s = {
						title: r.title,
						desc: r.desc,
						welfare: o
					};
				i = bt(function(t) {
					return '\n<div class="m-player-paytips-wrapper-locale  mg-stat-mod="dbUX8">\n<div class="m-player-paytips-locale">\n  <div class="m-player-paytips-title-locale">{{title}}</div>\n  <div class="m-player-paytips-innerwrap">\n  <div class="m-player-paytips-desc-locale"><span>{{desc}}</span></div>\n  <div class="m-player-paytips-qrcode-wrap">\n    <div class="m-player-paytips-qrcode">\n    <div class="m-player-paytips-qrpic"><img src="https://s1.hitv.com/libs/vplayer/images//qr_app_int.png" alt=""></div>\n    </div>\n    <div class="m-player-paytips-tip">' +
						t["state.payment.scan"] +
						'</div>\n  </div>\n  <div class="m-player-paytips-footer">\n        {{welfare}}\n  </div>\n  </div>\n</div>\n</div>\n'
				}(this.locale), s), this.$domWrap.html(i).show()
			}, i.createHTMLFragment = function(t) {
				var e, i = this;
				this.user = t.user;
				var n, r = this.vinfo = this.parent.vm.getVideoInfo();
				if (b(n = t.auth_info ? Rt(t, "auth_info.pay_info.preview_end.components", []) : Rt(t,
						"info.authInfo.pay_info.preview_end.components", [])) && 0 != n.length) {
					var o = this.data_unid = I_(r);
					r.liveId && (o = this.data_unid = r.liveId), this.data_page = encodeURIComponent(window
						.location.href);
					var s = this.data_ftype = 3,
						a = {};
					this.existVipButton = n.filter(function(t) {
						var e = parseInt(Rt(t, "action.tag"));
						return e && -1 !== [10001, 10003].indexOf(e)
					}).length > 0;
					var h = n.find(function(t) {
						return "title" == t.code
					});
					h = h ? h.text : "", a.titleHTML = '<div class="m-player-paytips-title"> ' + h + " </div>";
					var c = n.find(function(t) {
						return "subtitle" == t.code
					});
					c = c ? c.text : "", a.subtitleHTML = '<div class="m-player-paytips-subtitle"> ' + c +
						"</div> ";
					var u = n.filter(function(t) {
							return "button" == t.code
						}),
						l = "",
						d = 0;
					if (u.length > 0) {
						u = u.sort(function(t, e) {
							return t.line_num - e.line_num
						});
						for (var f = function(t) {
								var e = u[t].line_num,
									n = u.filter(function(t) {
										return t.line_num == e
									});
								t += n.length - 1, l += i.createButtonRow(n), d++, p = t
							}, p = 0; p < u.length; p++) f(p);
						a.onerow = 1 === d ? "onerow" : ""
					}
					a.buttons = l;
					var m = n.filter(function(t) {
							return "link" == t.code
						}),
						v = "";
					m.length > 0 && (v = this.createLinkRow(m[0])), a.linkrow = v;
					var g = n.filter(function(t) {
						return "bg" == t.code
					});
					if (g.length > 0) {
						var y = g[0].wide_mode_bg;
						a.background = "background", a.backgroundImage = y
					}
					a.qrcode = this.createQRCode(), a.welfare = this.createWelfare(), a.promotion = this
						.createPromotion(), e = bt(
							'\n<div class="m-player-paytips {{background}}" mg-stat-mod="dbUX8">\n<img class="m-player-paytips-bg" src="{{backgroundImage}}" alt="background image">\n<div class="m-player-paytips-wrapper">\n  {{titleHTML}}\n  {{subtitleHTML}}\n  <div class="m-player-paytips-content">\n    <div class="m-player-paytips-buttons {{onerow}}">\n        {{buttons}}\n        {{linkrow}}\n    </div>\n    {{qrcode}}\n  </div>\n  <div class="m-player-paytips-footer">\n        {{welfare}}\n        {{promotion}}\n    </div>\n  </div>\n</div>\n',
							a), this.buildDialog(e, o, s)
				}
			}, i.createButtonRow = function(t) {
				for (var e = "", i = 1 === t.length ? "one" : "", n = 0; n < 2; n++) {
					var r = t.shift();
					r && (e += this.createButton(r))
				}
				return bt(
					'\n            <div class="m-player-paytips-button-row {{onerow}}">\n                {{buttons}}\n            </div>\n        ', {
						buttons: e,
						onerow: i
					})
			}, i.createButton = function(t) {
				t = m({
					selected: 1
				}, t);
				var e = {},
					i =
					'\n        <div class="m-player-paytips-button-wrap">\n          <a class="m-player-paytips-button {{focused}} {{superscript}} " href="javascript:void(0);"\n            mg-stat-custom="label=dialog_payment_buyvip" unid="' +
					this.data_unid +
					'"\n            clocation="{{clocation}}" ftype="3" type="1" target="_blank" action="{{action}}" tagext="{{tagext}}"\n            data-bubble="{{superscript_text}}">{{text}}</a>\n          <a class="{{subscript}}">{{subscript_text}}</a>\n        </div>\n        ';
				e.text = t.text ? t.text : "", e.focused = 1 == t.selected ? "focused" : "", e
					.superscript_text = t.superscript ? t.superscript : "", e.superscript = t.superscript ?
					"superscript" : "", e.subscript_text = t.tips ? t.tips : "", e.subscript = t.tips ?
					"subscript" : "", e.diamodIcon = Y_;
				var n = parseInt(Rt(t, "action.tag", ""));
				return e.tagext = Rt(t, "action.tag_ext", ""), e.action = this.createAction(t), -1 !== [10001,
					10003
				].indexOf(n) && (e.clocation = "60303"), -1 !== [10002].indexOf(n) && (e.clocation =
					"60304"), bt(i, e)
			}, i.createLinkRow = function(t) {
				var e =
					'\n        <div class="m-player-paytips-link">\n          <a href="javascript:void(0);" target="_blank" tagext="{{tagext}}" clocation="{{clocation}}" ftype="' +
					this.data_ftype + '" unid="' + this.data_unid +
					'" action="{{action}}">{{text}}</a>\n        </div>\n        ',
					i = {},
					n = parseInt(Rt(t, "action.tag", ""));
				return i.tagext = Rt(t, "action.tag_ext", ""), i.action = this.createAction(t), -1 !== [10001,
					10003
				].indexOf(n) && (i.clocation = "60303"), -1 !== [10002].indexOf(n) && (i.clocation =
					"60304"), i.text = t.text, bt(e, i)
			}, i.getSingleOrderUrl = function() {
				return "//order.mgtv.com/pc/order?videoId=" + this.vinfo.vid + "&page=" + this.data_page +
					"&unid=" + this.data_unid + "&ftype=" + this.data_ftype + "&clocation=60304"
			}, i.createQRCode = function() {
				if (!this.existVipButton) return "";
				return '\n        <div class="m-player-paytips-qrcode">\n            <div class="m-player-paytips-qrpic" node-type="paycode-qrcode"><img node-type="pay-qrcode-info" style="display:none" src="" alt="QR Code"></div>\n            <div class="m-player-paytip-qrmask" node-type="refresh-qrcode" action="refreshCode"><i action="refreshCode"></i></div>\n            <span class="m-player-paytips-tip">支付后刷新观看</span>\n        </div>\n        '
			}, i.createWelfare = function() {
				return this.existVipButton ? '\n        <div class="m-player-paytips-welfare">\n            ' +
					(t = this.locale, '<ul class="list">' + W_(t) + " " + q_($_) + "</ul>") +
					"\n        </div>\n        " : "";
				var t
			}, i.createPromotion = function() {
				return this.renderPromotion()
			}, i.createAction = function(t) {
				var e = "";
				switch ((t.action || {}).tag) {
					case 10010:
						e = "login";
						break;
					case 10001:
					case 10003:
						e = "showCasherDialog";
						break;
					case 10002:
						e = "showSingleCasherDialog";
						break;
					case 10004:
						e = "useCoupon";
						break;
					default:
						e = ""
				}
				return e
			}, i.refreshCode = function(t, e) {
				var i = this.$domWrap.find('[node-type="pay-qrcode-info"]'),
					n = this.$domWrap.find('[node-type="refresh-qrcode"]');
				n.hide(), this.qrcodeTimer && clearTimeout(this.qrcodeTimer), D_(i, t, e, 0, Rt(this.parent,
					"videoinfo.user.ip")), this.qrcodeTimer = setTimeout(function() {
					n.show()
				}, 18e4)
			}, i.login = function(t) {
				this.parent.vm.showLoginDialog(), this.parent.emit("loginBtnClick"), t.preventDefault()
			}, i.close = function() {
				this.qrcodeTimer && clearTimeout(this.qrcodeTimer), this.$domWrap.html("").hide()
			}, i.useCoupon = function(t) {
				t.preventDefault();
				var e = this.parent.vm.getVideoInfo(),
					i = "",
					n = {},
					r = null;
				this.parent.vm.config && (i = this.parent.vm.config.ticket || "", n = this.parent.vm.config
						.lobparam, r = this.parent.vm.liveSource),
					function(t, e, i, n) {
						var r;
						if (n) {
							var o, s = P_(window.VERSION),
								a = i.uuid || "",
								h = navigator.platform || "Win32",
								c = i.cxid || "",
								u = i.did || "00000000-0000-0000-0000-000000000000";
							r = "//as.mgtv.com/client/coupon_use?" + St(((o = {
									invoker: "pcweb",
									activity_id: n.activityId,
									tv_channel: n.cameraId,
									version: s,
									uuid: a,
									ip: ""
								}).invoker = "pcweb", o.os = h, o.cxid = c, o.mac = u, o.t = (new Date)
								.getTime(), o.ticket = e, o))
						} else r = "//i.mgtv.com/coupon/use?" + St({
							video_id: t.vid,
							clip_id: t.cid
						});
						return new Promise(function(t, e) {
							Fi(r).then(function(t) {
								return t.json()
							}).then(function(i) {
								!i || 200 != i.err_code && 200 != i.status ? e(i.msg) : t(i)
							}).catch(function() {
								e()
							})
						})
					}(e, i, n, r).then(function() {
						window.location.reload()
					}).catch(function(t) {
						t = t || "非常抱歉,数据出现异常,请重新尝试", alert(t)
					})
			}, i.onClickInstallApp = function(t) {
				var e = t.target.dataset.pos,
					i = this.parent.videoinfo.info;
				this.parent.emit("installAppClick", {
					vinfo: i,
					pos: e
				})
			}, i.showCasherDialog = function(t) {
				var e = Ie(t.target),
					i = {};
				i.mod = this.$dom.find(".m-player-paytips").attr("mg-stat-mod"), i.clocation = e.attr(
					"clocation"), i.ftype = e.attr("ftype"), i.unid = e.attr("unid"), i.tag_ext = e.attr(
					"tagext"), i.cashier_type = "vip", this.parent.vm.showCasherDialog(i), t
				.preventDefault()
			}, i.showSingleCasherDialog = function(t) {
				var e = Ie(t.target),
					i = {},
					n = this.parent.vm.getVideoInfo();
				i.mod = this.$dom.find(".m-player-paytips").attr("mg-stat-mod"), i.clocation = e.attr(
						"clocation"), i.ftype = e.attr("ftype"), i.unid = e.attr("unid"), i.tag_ext = e.attr(
						"tagext"), i.video_id = n.vid, i.cashier_type = "single", this.parent.vm
					.showCasherDialog(i), t.preventDefault()
			}, i.getPaymentScene = function() {
				var t = this.info,
					e = this.user,
					i = "vip";
				return "live" == t.paymark && (e.purview === Q_ && e.purview == J_ || (i = "vip")), "1" == t
					.paymark && (e.purview === Q_ && e.purview == J_ || (i = "vip")), "2" == t.paymark && (e
						.purview != Q_ && e.purview == tb || (i = "vippay")), "3" == t.paymark && (i = "quan"),
					"5" == t.paymark && (i = "prevod"), i
			}, i.click = function(t) {
				var e = t.target.getAttribute("action");
				w(this[e]) && this[e](t)
			}, e
		}(__),
		nb = {
			tag: "mango-center-state-finish",
			html: '\n    <div class="hd">\n        <div class="u-finish-share">\n            <span class="t">分享视频</span>\n            <div class="m-h5-share-list">\n                <a class="sina" href="#">新浪微博</a>\n                <a class="qzone" href="#">QQ空间</a>\n                <a class="weixin" href="#">微信</a>\n                <a class="qq" href="#">QQ</a>\n                <a class="link" href="#">分享链接</a>\n            </div>\n        </div>\n        <h2>相关推荐</h2>\n    </div>\n    ',
			defaultEvent: {
				click: "click"
			}
		},
		rb = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(nb, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$dom = Ie(this.$dom)
			}, i.click = function(t) {}, e
		}(__),
		ob = {
			tag: "mango-center-state-flash-error",
			html: " ",
			defaultEvent: {
				click: "click"
			}
		},
		sb = function(t) {
			function e(e, i) {
				var n;
				return (n = t.call(this, e) || this).option = N(ob, k(i) ? i : {}), n.animate = !1, n.init(), n
			}
			r(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), this.$domWrap = Ie(this.$dom)
			}, i.show = function(t) {
				var e, i = Rt(this, "parent.vm._injector.stk.$.getCxid", function() {})("cxid") || "",
					n = this.parent.vm.getVideoInfo(),
					r = "//pcweb.api.mgtv.com/qrcode/?source=pc2&from=pcweb&p=" + (n.vid || "") + "&plid=" + (n
						.plid || "") + "&cxid=" + i,
					o = bt(
						'\n<div class="mgtv-flash-install">\n    <div class="mgtv-flash-install-con">\n        <p class="con-tagtxt">' +
						(e = this.locale)["state.flash.tip"] + '</p>\n        <p class="con-tagtxt-s">' + e[
							"state.flash.solution.text"] +
						'</p>\n        <p class="con-iconlist">\n            <span class="iconlist">\n                <a href="//www.adobe.com/go/getflashplayer" target="_blank" class="ico flash"></a>\n                <a href="//www.adobe.com/go/getflashplayer" target="_blank" class="txt first">' +
						e["state.flash.solution.repair"] +
						'</a>\n            </span>\n            <span class="iconlist">\n                <a href="javascript:void(0)" class="ico code"><img src="{{qrcodeUrl}}" alt=""></a>\n                <a href="javascript:void(0)" class="txt">' +
						e["state.flash.solution.app"] +
						'</a>\n            </span>\n            <span class="iconlist">\n                <a href="//pcconf.api.mgtv.com/getPcDownloadUrl?source=mango4" target="_blank" class="ico mgtv"></a>\n                <a href="//pcconf.api.mgtv.com/getPcDownloadUrl?source=mango4" target="_blank" class="txt">' +
						e["state.flash.solution.client"] +
						"</a>\n            </span>\n        </p>\n    </div>\n</div>\n", {
							qrcodeUrl: r
						});
				this.$domWrap.html(o).show(), this.parent.$bumpToTop()
			}, i.close = function() {
				this.$domWrap.hide()
			}, i.click = function(t) {}, e
		}(__),
		ab =
		'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 14 14" style="enable-background:new 0 0 14 14;" xml:space="preserve">\n</style>\n    <g transform="translate(-834.5 -899)">\n        <path d="M846.5,912c-0.3,0-0.5-0.1-0.7-0.3l-10-10c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l10,10c0.4,0.4,0.4,1,0,1.4\n           C847,911.9,846.8,912,846.5,912z"/>\n        <path d="M836.5,912c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l10-10c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-10,10\n           C837,911.9,836.8,912,836.5,912z"/>\n    </g>\n</svg>';
	var hb = function(t) {
			function e(e, i) {
				var n = t.call(this, e) || this;
				return n.option = {
					tag: "mango-center-state-danmu-pop",
					html: '\n        <div class="danmu-vip-pop-container">\n            <div class="head-background"></div>\n            <div class="btn-close danmu-button">' +
						ab +
						'</div>\n            <div class="user-info">\n                <div class="user-avatar"></div>\n                <p class="user-name"></p>\n            </div>\n            <div class="content">\n                <div class="open-vip">\n                    <p class="title">会员尊享弹幕</p>\n                    <p class="tip">开通会员，即可享受尊贵会员弹幕</p>\n                    <div class="btn-cancel">取消</div>\n                    <a href="" class="open-vip-dialog" ftype="19" clocation unid>\n                        <div class="btn-open">开通会员</div>\n                    </a>\n                </div>\n                <div class="upgrade-vip">\n                    <p class="title">高级会员专属弹幕</p>\n                    <p class="tip">提升会员等级即可享受高级会员专属弹幕</p>\n                    <div class="qcode">\n                        <div class="img-qcode"></div>\n                    </div>\n                    <p class="tip-qcode">扫码查看会员等级</p>\n                </div>\n                <div class="earn-intergral">\n                    <p class="title">小主，积分不够了</p>\n                    <p class="tip">快去赚积分，发有颜有料的弹幕</p>\n                    <div class="btn-cancel">取消</div>\n                    <a href="https://i.mgtv.com/my/lottery" target="_blank" mg-stat-auto="false">\n                        <div class="btn-earn">去赚积分</div>\n                    </a>\n                </div>\n            </div>\n        </div>\n        '
				}, n.init(), n
			}
			wu(e, t);
			var i = e.prototype;
			return i.init = function() {
				t.prototype.create.call(this), Ie(".btn-close", this.$dom).on("click", this.onCloseClick.bind(
					this)), Ie(".btn-cancel", this.$dom).on("click", this.onCloseClick.bind(this)), Ie(
					".btn-earn", this.$dom).on("click", this.onEarnClick.bind(this)), Ie(".btn-open", this
					.$dom).on("click", this.onOpenClick.bind(this))
			}, i.onOpenClick = function() {
				this.parent.$fullscreen(!1, "container"), by.sendClickReport({
					cont: "开通会员"
				}, {
					flag: 25
				})
			}, i.onEarnClick = function() {
				by.sendClickReport({
					cont: "去赚积分",
					direct: "web",
					addr: "https://i.mgtv.com/my/lottery"
				}, {
					flag: 24
				})
			}, i.onCloseClick = function() {
				this.close()
			}, i.close = function() {
				this.$domWrap.removeClass("show"), this.parent.$level = 0
			}, i.show = function(t) {
				var e;
				t.data.showOverlay ? this.$domWrap.addClass("overlay") : this.$domWrap.removeClass("overlay"),
					this.$domWrap.addClass("show"), this.parent.$bumpToTop();
				var i = t.videoinfo.info.collection_id + "_" + t.videoinfo.info.video_id,
					n = Ie(".open-vip-dialog", this.$dom);
				n.attr("clocation", {
					role: 61903,
					color: 61902,
					position: 61901
				} [t.data.from]), n.attr("unid", i);
				var r = ["vip", "upgrade", "earn"];
				if (r.splice(r.indexOf(t.data.type), 1), (e = this.$dom.classList).remove.apply(e, r), this.$dom
					.classList.add(t.data.type), t.userInfo) {
					var o = t.userInfo;
					Ie(".user-avatar", this.$dom).css({
						"background-image": 'url("' + o.avatar + '")'
					}), Ie(".user-name", this.$dom).text(o.nickname)
				}
			}, e
		}(__),
		cb = {
			tag: "mango-center-common-tip",
			html: '<div class="u-control-toast"></div>',
			defaultEvent: {
				click: "click"
			}
		},
		ub = {
			tag: "mango-subtitle",
			cls: "",
			width: "2em",
			html: ""
		},
		lb = {
			splash: w_,
			start: E_,
			loading: T_,
			status: R_,
			error: B_,
			aderror: j_,
			blue: Z_,
			payment: ib,
			finish: rb,
			flashinstall: sb,
			danmuVipPop: hb,
			tip: function(t) {
				function e(e, i) {
					var n;
					return (n = t.call(this, e) || this).option = N(cb, k(i) ? i : {}), n.init(), n
				}
				r(e, t);
				var i = e.prototype;
				return i.init = function() {
					t.prototype.create.call(this), this.$dom = Ie(this.$dom), this.$toast = this.$dom.find(
						".u-control-toast")
				}, i.showToast = function(t) {
					var e = this;
					if (t && t.toast) {
						var i = t.duration || 3e3,
							n = "<span>" + t.toast + "</span>";
						t.image && (n = '<div class="avatar" style="background-image:url(' + t.image +
								')"></div>' + n), n = '<div class="container">' + n + "</div>", this.$toast
							.html(n).show(), this.toastTimer = setTimeout(function() {
								e.$toast.html("").hide()
							}, i)
					}
				}, i.click = function(t) {}, e
			}(__),
			subtitle: function(t) {
				function e(e, i) {
					var n;
					return (n = t.call(this, e) || this).option = N(ub, k(i) ? i : {}), n.init(), n
				}
				r(e, t);
				var i = e.prototype;
				return i.init = function() {
					t.prototype.create.call(this), this.$subtitle = this.$domWrap, this.subcount = 0
				}, i.close = function() {
					this.hide()
				}, i.hide = function() {
					this.$domWrap.hide()
				}, i.show = function() {
					this.$domWrap.show()
				}, i.subtitleChange = function(t) {
					var e = t.subtitles;
					this.subtitles = e, this.currentTimeMs && this.updatePosition({
						currentTime: this.currentTimeMs / 1e3
					}), this.show()
				}, i.updatePosition = function(t) {
					var e = t.currentTime;
					if (this.subcount = 0, this.currentTimeMs = 1e3 * e, this.subtitles)
						for (; this.subtitles[this.subcount].endTime < this.currentTimeMs;)
							if (this.subcount++, this.subcount > this.subtitles.length - 1) {
								this.subcount = this.subtitles.length - 1;
								break
							}
				}, i.onTimeUpdate = function(t) {
					var e = t.currentTime;
					this.currentTimeMs = 1e3 * e;
					var i = "";
					if (this.subtitles) {
						var n = this.subtitles[this.subcount];
						this.currentTimeMs > n.startTime && this.currentTimeMs < n.endTime && (i = n.text
								.replace(/\n/g, "<br>")), this.currentTimeMs > n.endTime && this.subcount <
							this.subtitles.length - 1 && this.subcount++, this.subtitle != i && (this
								.subtitle = i, this.subtitleChanged({
									content: i
								}))
					}
				}, i.subtitleChanged = function(t) {
					var e = t.content;
					this.$subtitle[0].innerHTML = e ? '<span class="subtitle">' + e + "</span>" : ""
				}, i.setHeight = function(t) {
					var e = t ? "removeClass" : "addClass";
					this.$subtitle[e]("down")
				}, e
			}(__)
		},
		db = function(t) {
			return t.$config.children || g(lb).reduce(function(t, e) {
				return t[e] = 1, t
			}, {})
		};
	var fb = {
			errorTips: "加载失败，请刷新重试"
		},
		pb = /iPad/i.test(navigator.userAgent),
		mb = em({
			name: "mangoCenterState",
			tagName: "mango-center-state",
			html: " ",
			offset: "0",
			hide: !1,
			operable: !1,
			penetrate: !1,
			create: function() {},
			init: function() {
				var t, e, i = this;
				this.config = k(this.$config) ? N(fb, this.$config) : fb, this.vm = this.__dispatcher.vm,
					this.vm.isAutoplay = 1, this.children = (e = (t = this).config.children = db(t), g(e)
						.filter(function(t) {
							return e[t] && lb[t]
						}).reduce(function(i, n) {
							var r = lb[n];
							return i[n] = new r(t, e[n]), i
						}, {})), this.onTimeUpdate = gt(function() {
						var t = i.children.subtitle;
						t && t.onTimeUpdate({
							currentTime: i.vm.currentTime
						})
					}, 200)
			},
			inited: function() {
				for (var t in this.children) this.children[t].inited && this.children[t].inited()
			},
			destroy: function() {},
			events: {
				videoReady: function() {
					!dt.safari && this.hasDetected || this.detectAutoPlay(!1)
				},
				frontAdReady: function() {
					this.hasDetected || this.detectAutoPlay(!0)
				},
				noFlashInstallException: function(t) {
					this.flashInstallFail()
				},
				adBlockException: function(t) {
					t.blacktime > 0 && (this.children.splash.close(), this.children.aderror.show(t))
				},
				videoInfoData: function(t) {
					"loadComplete" != t.status || t.isPreload || (this.videoinfo = t.data, pb && t.data
						.drmData && (this.hasDetected = !1))
				},
				preloadVideoStart: function() {
					var t = this.vm.cms.videoInfoData;
					this.videoinfo = t.data, pb && t.data.drmData && (this.hasDetected = !1)
				},
				confData: function(t) {
					void 0 === t && (t = {});
					var e = Rt(t, "conf.recommend.list", []),
						i = e.find(function(t) {
							return 1 == t.recommendType
						}),
						n = e.find(function(t) {
							return 2 == t.recommendType
						}),
						r = this.children,
						o = r.error,
						s = r.payment;
					o && o.setPromotionInfo(i), s && s.setPromotionInfo(n)
				},
				showToast: function(t) {
					this.children.tip && this.children.tip.showToast(t)
				},
				frontAdBegin: function() {},
				frontAdPlay: function() {
					this.splashEnd = !0, this.closeOverlay(["splash", "status", "start", "flashinstall"])
				},
				frontAdEnd: function() {
					this.children.aderror.close()
				},
				videoEnd: function() {
					var t = this.children,
						e = t.status,
						i = t.subtitle;
					this.vm.isLoopPlay = 0, e && e.showVideoEnd(), i && i.updatePosition({
						currentTime: this.vm.currentTime
					})
				},
				videoPlay: function() {
					var t = this.children,
						e = t.start,
						i = t.subtitle;
					this.splashEnd = !0, this.playStarted = !0, this.closeOverlay(["splash", "status",
						"start", "flashinstall"
					]), (this.vm.isAutoplay || !this.vm.isAutoplay && this.vm.manualClickPlay) && (e &&
						e.close(), i && i.updatePosition({
							currentTime: this.vm.currentTime
						}))
				},
				videoPause: function() {
					this.children.status.showTip("pause"), this.closeOverlay(["loading"])
				},
				videoResume: function() {
					this.children.status.showTip("play")
				},
				videoReplay: function() {
					var t = this;
					this.closeOverlay(["status"]), setTimeout(function() {
						t.closeOverlay(["status"])
					}, 500), this.vm.isLoopPlay = 1
				},
				videoRefresh: function() {
					var t = this;
					this.closeOverlay(["status"]), setTimeout(function() {
						t.closeOverlay(["status"])
					}, 500), this.vm.isRefreshPlay = 1
				},
				videoDrag: function() {
					this.closeOverlay(["loading"])
				},
				seeked: function() {
					var t = this.children.subtitle;
					t && t.updatePosition({
						currentTime: this.vm.currentTime
					})
				},
				timeupdate: function() {
					this.onTimeUpdate()
				},
				videoReload: function(t) {
					this.closeOverlay(["loading", "error", "aderror", "blue", "payment", "status",
							"danmuVipPop", "subtitle"
						]), this.splashEnd = !1, null != t && t.preloadSuccess || this.children.splash.show(
							!0), this.vm.isContinuePlay = 1, this.vm.isAutoplay = 1, this.vm
						.manualClickPlay = !1, this.isShowVipDailog = !1, this.isShowHdDialog = !1, this
						.hasDetected = !1
				},
				subtitleChange: function(t) {
					void 0 === t && (t = {});
					var e = t.subtitles,
						i = this.children.subtitle;
					i && i.subtitleChange({
						subtitles: e
					})
				},
				subtitleChanged: function(t) {
					var e = t.content,
						i = this.children.subtitle;
					i && i.subtitleChanged({
						content: e
					})
				},
				switchSubtitle: function(t) {
					t.language;
					var e = this.children.subtitle;
					e && e.hide()
				},
				controlbarChange: function(t) {
					var e = t.visible;
					if (!this.vm.getFloatWindowMode()) {
						var i = this.children.subtitle;
						i && i.setHeight(e)
					}
				},
				showHdDialog: function(t) {
					"1" == Rt(this, "vm.config.i18n", "") ? (this.isShowVipDailog = !0, this.closeOverlay([
							"splash", "blue", "danmuVipPop"
						]), this.children.payment.show(t, "hd"), this.$bumpToTop(), this.pause(), this
						.vm.setFloatingWindow && this.vm.setFloatingWindow(0), this.exitIpadFullScreen()
						) : (this.isShowHdDialog = !0, this.closeOverlay(["splash", "payment",
						"danmuVipPop"
					]), this.children.blue.show(t), this.$bumpToTop(), this.pause())
				},
				showVipDialog: function(t, e) {
					void 0 === e && (e = ""), Yi.info("centerstate",
							"user not logiged or not authorized, open VIP payment dialog."), this
						.isShowVipDailog = !0, this.closeOverlay(["splash", "blue", "danmuVipPop"]), this
						.children.payment.show(t, e), this.$bumpToTop(), this.pause(), this.vm
						.setFloatingWindow && this.vm.setFloatingWindow(0), this.exitIpadFullScreen()
				},
				switchCamera: function() {
					this.children.splash.show(!0)
				},
				clarityChanged: function(t) {
					this.children.loading.close()
				},
				canplay: function() {
					this.playing()
				},
				playing: function() {
					this.playing()
				},
				videoWaiting: function() {
					this.waiting()
				},
				apiRequestError: function(t) {
					this.onError(t)
				},
				hlsDispatcherLoaded: function(t) {
					t = t.data, this.playStarted || "loadCompleted" === t.status || t.retry != t.maxRetry -
						1 || this.vm.emit("apiRequestError", {
							type: "error",
							data: m({
								fatal: !0
							}, $i.DISPATCHER_DATA_FAIL)
						})
				},
				nativeStreamError: function(t) {
					var e, i = t.data;
					if (k(i) && i.code) {
						switch (i.code >= 300 && i.code <= 310 && (e = $i.DRM_FAIL_ERROR), i.code) {
							case 300:
								e = $i.DRM_NOT_SUPPORT_ERROR;
								break;
							case 301:
							case 302:
							case 303:
							case 304:
							case 305:
								e = $i.DRM_FAIL_ERROR
						}
						this.__dispatcher.kernel.destroy(), this.showErrorDialog(e)
					}
				},
				hlsStreamError: function(t) {
					this.onError(t)
				},
				frontAdError: function(t) {
					this.onError(t)
				},
				videoError: function(t) {
					this.onError(t)
				},
				internalError: function(t) {
					t && t.data && t.data.fatal && this.showErrorDialog(t.data)
				},
				flashInitFail: function() {
					this.flashInstallFail()
				},
				liveSourceError: function(t) {
					2040352 == t.code ? this.emit("showVipDialog", t.data, "vip") : this.showErrorDialog(t)
				},
				dashStreamError: function(t) {
					var e, i = t.data.error;
					if (k(i) && i.code) {
						switch (i.code >= 100 && i.code <= 114 && (e = $i.DRM_FAIL_ERROR), i.code) {
							case 111:
							case 112:
								e = $i.DRM_NOT_SUPPORT_ERROR;
								break;
							case 114:
								e = $i.DRM_FAIL_ERROR;
								break;
							case 28:
								e = $i.CDN_MEDIA_TIMEOUT;
							case 10:
								e = $i.CDN_MEDIA_ERROR;
								break;
							default:
								e = $i.CDN_OTHER_ERROR
						}
						this.showErrorDialog(e)
					}
				},
				showDanmuDialog: function(t) {
					var e = this.vm.getUserInfo();
					(this.isShowVipDailog || this.isShowHdDialog) && (t.showOverlay = !0), "hide" == t
						.type ? this.children.danmuVipPop.close() : this.children.danmuVipPop.show({
							data: t,
							userInfo: e,
							videoinfo: this.videoinfo
						})
				}
			},
			methods: {
				closeOverlay: function(t) {
					var e = this;
					void 0 === t && (t = []), t.forEach(function(t) {
						e.children[t] && e.children[t].close()
					})
				},
				exitIpadFullScreen: function() {
					if (pb) try {
						this.__dispatcher.dom.videoElement.webkitExitFullscreen()
					} catch (t) {}
				},
				flashInstallFail: function() {
					var t = this;
					this.children.splash.close(), this.children.flashinstall.show(), setTimeout(function() {
						t.children.splash.close()
					}, 200)
				},
				onError: function(t) {
					if (t && t.data && t.data.fatal) {
						var e = m({}, t.data),
							i = e.type;
						if (this.playStarted && e.details && -1 != e.details.indexOf("frag")) return;
						if (this.playStarted && "DISPATCHER_DATA_FAIL" == e.type) return;
						switch (i) {
							case "hlsNetworkError":
							case "videoNetworkError":
								e = $i.CDN_DING_DOWNLOAD_TIMEOUT;
								break;
							case "hlsMuxError":
							case "hlsMediaError":
								e = $i.CDN_MEDIA_ERROR;
								break;
							case "otherError":
								e = $i.CDN_OTHER_ERROR;
								break;
							default:
								e = $i.CDN_OTHER_ERROR
						}
						e = t.rawdata || e, this.showErrorDialog(e)
					}
				},
				showErrorDialog: function(t) {
					var e = this;
					this.emit("showErrorDialog", t), this.children.error.show(t), this.children.splash
						.close(), setTimeout(function() {
							e.children.start.close()
						}, 200), this.pause(), this.emit("lockUI"), this.stopLoad(), this
						.exitIpadFullScreen()
				},
				showMutePlayTips: function() {
					var t = parseInt(kt("muteplaycount"));
					!kt("muteplaytoday") && (isNaN(t) || t <= 10) && (Et("muteplaycount", t = isNaN(t) ? 2 :
						t + 1, {
							expires: 1095,
							domain: ".mgtv.com",
							path: "/"
						}), Et("muteplaytoday", 1, {
						expires: 1,
						domain: ".mgtv.com",
						path: "/"
					}), this.emit("showToast", {
						toast: this.locale["state.toast.autoplay"],
						duration: 5e3
					}))
				},
				fallbackToMutePlay: function(t) {
					var e = this,
						i = this.__dispatcher.dom.videoElement;
					if (i.muted) return this.afterPlayFail(t);
					Yi.info("PluginState", "trying autoplay with muted ..."), i.muted = !0, Ft(i).then(
						function() {
							Yi.info("PluginState", "video autoplay with muted ok."), e.vm.isMutedPlay =
								1, e.showMutePlayTips()
						}).catch(function(n) {
						i.muted = !1, e.afterPlayFail(t)
					})
				},
				afterPlayFail: function(t) {
					this.vm.emit("autoplayFail"), Yi.info("PluginState",
							"video autoplay fail, show manual [Play] button."), this.vm.isAutoplay = 0, this
						.children.splash.show(!1), this.children.start.show(t)
				},
				detectAutoPlay: function(t) {
					var e = this;
					if (!pb && (dt.safari || dt.chrome)) return Ft(this.__dispatcher.dom.videoElement).then(
						function() {
							Yi.info("PluginState", "video autoplay ok."), e.vm.isAutoplay = 1
						}).catch(function(i) {
						e.fallbackToMutePlay(t)
					}), void(this.hasDetected = !0);
					if (!pb && (dt.firefox || dt.mozilla)) {
						var i = this.__dispatcher.dom.videoElement.play();
						return this.hasDetected = !0, void(void 0 !== i && i.then(function() {
							Yi.info("PluginState", "video autoplay ok."), e.vm.isAutoplay = 1
						}).catch(function(i) {
							"NotAllowedError" == i.name && e.fallbackToMutePlay(t)
						}))
					}
					return pb ? (this.hasDetected = !0, this.vm.isAutoplay = 0, void this.afterPlayFail(
						t)) : Ut() ? (this.hasDetected = !0, this.vm.isAutoplay = 0, void this
							.fallbackToMutePlay(t)) : (Yi.info("PluginState", "video autoplay ok."), void(
							this.vm.isAutoplay = 1))
				},
				playing: function() {
					this.children.loading.close(), this.clearCatonTip()
				},
				waiting: function() {
					!this.paused && this.splashEnd && this.children.loading.show(!0), this.setCatonTip()
				},
				setCatonTip: function() {
					var t = this;
					this.catonTipHandler && clearTimeout(this.catonTipHandler), this.catonTipHandler = null,
						this.catonTipHandler = setTimeout(function() {
							var e = t.vm.locale["common.refresh"],
								i = bt(t.vm.locale["controls.tip.caton.desc"], {
									refresh: e
								});
							t.vm.emit("showBottomTip", {
								_type: "commonTPL",
								action: "ReloadVideo",
								info: i.slice(0, i.indexOf(e)),
								text: e,
								other: i.slice(i.indexOf(e) + e.length),
								permanent: !0,
								closable: !0
							})
						}, 5e3)
				},
				clearCatonTip: function() {
					this.catonTipHandler && this.vm.emit("hideBottomTip", {
							_type: "commonTPL"
						}), this.catonTipHandler && clearTimeout(this.catonTipHandler), this
						.catonTipHandler = null
				}
			}
		}),
		vb = {
			data: {
				plugin: {},
				videoInfo: null,
				likeLabel: null,
				commentLabel: null,
				playLabel: null,
				liked: !1,
				likeCount: 0,
				screenState: "normal",
				vm: null
			},
			name: "outer-bottom",
			el: '<outer-bottom>\n            <div class="video-info">\n                <div class="up-count" title="赞">\n                    ' +
				'<svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n    <g transform="translate(-736 -320)">\n       <path  d="M741.1,340c-1.1,0-2.1-0.4-2.9-1.2c-0.8-0.8-1.2-1.8-1.2-2.9v-4.4c-0.2-2.3,1.6-4.3,3.9-4.5l0.3,0\n           c0.4-0.3,1.4-1.8,1.2-3.2c0,0,0,0,0,0c-0.2-1.1,0.1-2.1,0.6-2.8c0.5-0.6,1.2-0.9,2-1c0,0,0,0,0,0c2.5,0,3.3,2.4,3.5,3.2\n           c0.4,1.2,0.4,2.5,0.2,3.7l2.3,0c1,0,2.1,0.4,2.8,1.2c0.8,0.8,1.2,1.8,1.2,2.8c0,0.2,0,0.5-0.1,0.7c0,0-0.7,3.2-0.9,4.4\n           c-0.4,2.2-2.3,3.8-4.5,3.9L741.1,340C741.1,340,741.1,340,741.1,340z M744.4,323.5c0.3,1.7-0.5,3.4-1.4,4.5c-0.6,0.7-1.1,1-1.7,1\n           l-0.2,0c-1.2,0.1-2.2,1.2-2.1,2.5l0,4.5c0,0.6,0.2,1.1,0.6,1.5c0.4,0.4,1,0.6,1.5,0.6h8.4c1.3-0.1,2.3-1,2.6-2.3\n           c0.2-1.3,0.9-4.4,0.9-4.4c0-0.1,0-0.2,0-0.3c0-0.5-0.2-1-0.6-1.4c-0.4-0.4-0.9-0.6-1.4-0.6c0,0,0,0,0,0h-3.2\n           c-0.3,0-0.5-0.1-0.6-0.2c-0.3-0.2-0.5-0.5-0.6-0.8c-0.1-0.3,0-0.6,0.1-0.9c0.4-1,0.4-2.2,0.1-3.2c-0.5-1.7-1.1-1.9-1.6-1.9\n           c-0.3,0-0.4,0.1-0.5,0.2C744.4,322.5,744.3,323,744.4,323.5z"/>\n    </g>\n</svg>' +
				'\n                    <p class="count-label">0</p>\n                    <div class="up-animation up-count-animation">+1</div>\n                </div>\n                <a class="comment-count" title="评论">\n                    ' +
				'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n    <g transform="translate(-640 -320)">\n    <path  d="M647.4,328.5c0.8,0,1.5,0.7,1.5,1.5s-0.7,1.5-1.5,1.5s-1.5-0.7-1.5-1.5S646.5,328.5,647.4,328.5z"/>\n    <path  d="M652.4,328.5c0.8,0,1.5,0.7,1.5,1.5s-0.7,1.5-1.5,1.5s-1.5-0.7-1.5-1.5S651.5,328.5,652.4,328.5z"/>\n    <path  d="M648.9,339c-4.9,0-8.9-4.1-8.9-9c0-4.9,4-9,8.9-9h2.1c4.9,0,8.9,4.1,8.9,9c0,2.2-0.8,4.3-2.2,5.9l0.4,0.4\n        c0.3,0.3,0.5,0.7,0.5,1.1c0,0.4-0.2,0.8-0.4,1.1c-0.3,0.3-0.7,0.5-1.1,0.5H648.9z M656.8,337.8\n        C656.8,337.8,656.8,337.8,656.8,337.8L656.8,337.8z M651.1,323h-2.1c-3.8,0-6.9,3.2-6.9,7c0,3.8,3.1,7,6.9,7h7.1\n        c-0.6-0.6-0.5-1.5,0-2.1l0,0c1.2-1.3,1.9-3,1.9-4.8C658,326.2,654.9,323,651.1,323z"/>\n    </g>\n</svg>' +
				'\n                    <p class="count-label">0</p>\n                </a>\n                <div class="play-count" style="visibility:hidden;" title="播放次数">\n                    ' +
				'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\nviewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n    <g transform="translate(-1216 -608)">\n    <path  d="M1222.3,627c-0.1,0-0.1,0-0.2,0c-1.2-0.1-2.2-0.6-3-1.4s-1.2-2-1.1-3.1l0-8.9c0-0.8,0.2-1.6,0.6-2.3\n        c1.2-2.1,3.9-2.8,5.9-1.6l7.4,4.5c0.6,0.4,1,0.8,1.4,1.4c0.7,1,0.9,2.3,0.6,3.5c-0.3,1.2-1,2.2-2,2.9l-7.3,4.5\n        C1223.8,626.8,1223.1,627,1222.3,627z M1222.3,611c-0.8,0-1.6,0.4-2,1.2c-0.2,0.4-0.3,0.8-0.3,1.3l0,9c-0.1,1.3,0.9,2.4,2.2,2.5\n        c0.4,0,0.9-0.1,1.3-0.3l7.3-4.5c0.6-0.4,1-1,1.1-1.6c0.2-0.7,0-1.4-0.4-2c-0.2-0.3-0.5-0.6-0.8-0.8l-7.3-4.5\n        C1223.1,611.1,1222.7,611,1222.3,611z"/>\n    </g>\n</svg>' +
				'\n                    <p class="count-label">0</p>\n                </div>\n            </div>\n        </outer-bottom>',
			inner: !1,
			init: function() {
				var t = Ie(".count-label", this.$dom);
				this.likeLabel = t[0], this.commentLabel = t[1], this.playLabel = t[2], Ie(".up-count", this
						.$dom).on("click", this.onLikeClick.bind(this)), Ie(".comment-count", this.$dom).on(
						"click", this.onCommentClick.bind(this)), this.vm = this.__dispatcher.vm, this.likeLabel
					.parentElement.setAttribute("title", this.vm.locale["bottom.thumb.text"]), this.commentLabel
					.parentElement.setAttribute("title", this.vm.locale["bottom.comment.text"]), this.playLabel
					.parentElement.setAttribute("title", this.vm.locale["bottom.playcount.text"]), "1" == this
					.vm.config.i18n && Ie(this.commentLabel.parentElement).css("display", "none")
			},
			events: {
				danmuStatusChange: function(t) {},
				danmuConfig: function(t) {
					!window["danmu-control-bar"] || "normal" != this.vm.screenState && this.vm.screenState ||
						this.addDanmuControl()
				},
				fullscreenchange: function(t) {
					!this.fullscreenElement && window["danmu-control-bar"] ? "webfull" != this.screenState ?
						this.addDanmuControl() : this.screenState = "full" : this.screenState = "normal"
				},
				webFullScreenChange: function(t) {
					"websmall" == t.state && window["danmu-control-bar"] ? (this.screenState = "narmal", this
						.addDanmuControl()) : this.screenState = "webfull"
				},
				preloadVideoStart: function() {
					var t = this.vm.cms.videoInfoData;
					this.videoInfo = t.info, this.getPlayCount(this.videoInfo), this.getcommentCount(this
						.videoInfo)
				},
				videoInfoData: function(t) {
					200 !== t.code || t.isPreload || (this.videoInfo = t.data.info, this.getPlayCount(this
						.videoInfo), this.getcommentCount(this.videoInfo))
				},
				videoReload: function() {
					this.hidePlayCount()
				},
				c_resize: function() {
					var t = this.$dom.clientWidth;
					t < 800 ? (this.$dom.classList.add("small-size"), this.$dom.classList.remove("mid-size"),
						this.$dom.classList.remove("large-size")) : t < 1200 ? (this.$dom.classList.remove(
						"small-size"), this.$dom.classList.add("mid-size"), this.$dom.classList.remove(
						"large-size")) : (this.$dom.classList.remove("small-size"), this.$dom.classList
						.remove("mid-size"), this.$dom.classList.add("large-size"))
				}
			},
			methods: {
				onLikeClick: function() {
					this.liked ? (this.liked = !1, Ie(".up-count", this.$dom).removeClass("selected"), Ie(
							".up-animation", this.$dom).removeClass("up-count-show"), this.likeCount -= 1,
						this.likeLabel.innerHTML = this.formatNumber(this.likeCount)) : (this.liked = !0,
						this.sendLike(this.videoInfo), Ie(".up-count", this.$dom).addClass("selected"), Ie(
							".up-animation", this.$dom).addClass("up-count-show"), this.likeCount += 1, this
						.likeLabel.innerHTML = this.formatNumber(this.likeCount))
				},
				onCommentClick: function() {
					this.vm.emit("scrollToComment")
				},
				addDanmuControl: function() {
					var t = window["danmu-control-bar"];
					t.classList.remove("control-item"), t.classList.remove("state-fullscreen"), t.classList.add(
						"state-bottom"), this.$dom.appendChild(t)
				},
				getUpCount: function(t) {
					var i = this;
					return e(yy.mark(function e() {
						var n, r, o;
						return yy.wrap(function(e) {
							for (;;) switch (e.prev = e.next) {
								case 0:
									return n = "https://vc.mgtv.com/v2/like?vid=" + t
										.video_id + "&cid=" + t.collection_id +
										"&pid=" + t.playlist_id + "&_support=10000000",
										e.next = 3, Fi(n);
								case 3:
									return r = e.sent, e.next = 6, r.json();
								case 6:
									0 == (o = e.sent).code && (i.likeLabel.innerHTML = i
										.formatNumber(o.data.like));
								case 8:
								case "end":
									return e.stop()
							}
						}, e)
					}))()
				},
				getPlayCount: function(t) {
					var i = this;
					return e(yy.mark(function e() {
						var n, r, o, s;
						return yy.wrap(function(e) {
							for (;;) switch (e.prev = e.next) {
								case 0:
									return n =
										"https://vc.mgtv.com/v2/dynamicinfo?_support=10000000&vid=" +
										t.video_id + "&abroad=" + i.vm.config.abroad +
										"&vvType=1&type=4", e.next = 3, Fi(n);
								case 3:
									return r = e.sent, e.next = 6, r.json();
								case 6:
									0 == (o = e.sent).code && (s = parseFloat(o.data
											.allStr) > 0 ? "visible" : "hidden", Ie(
											".play-count", i.$dom).css("visibility",
											s), i.playLabel.innerHTML = o.data
										.allStr, i.likeLabel.innerHTML = o.data
										.likeStr, i.likeCount = o.data.like, Ie(
											".video-info", i.$dom).addClass(
											"enable"), i.vm.emit("dynamicinfo", o));
								case 8:
								case "end":
									return e.stop()
							}
						}, e)
					}))()
				},
				sendLike: function(t) {
					return e(yy.mark(function e() {
						var i, n;
						return yy.wrap(function(e) {
							for (;;) switch (e.prev = e.next) {
								case 0:
									return i = "https://vc.mgtv.com/v2/like?vid=" + t
										.video_id + "&cid=" + t.collection_id +
										"&pid=" + t.playlist_id + "&_support=10000000",
										e.next = 3, Fi(i);
								case 3:
									return n = e.sent, e.next = 6, n.json();
								case 6:
									if (0 != e.sent.code) {
										e.next = 9;
										break
									}
									return e.abrupt("return", !0);
								case 9:
								case "end":
									return e.stop()
							}
						}, e)
					}))()
				},
				getcommentCount: function(t) {
					var i = this;
					return e(yy.mark(function e() {
						var n, r, o;
						return yy.wrap(function(e) {
							for (;;) switch (e.prev = e.next) {
								case 0:
									return n =
										"https://comment.mgtv.com/v4/comment/getCount?subjectType=hunantv2014&subjectId=" +
										t.video_id + "&platform=pc&_support=100000003",
										e.next = 3, Fi(n);
								case 3:
									return r = e.sent, e.next = 6, r.json();
								case 6:
									200 == (o = e.sent).code && (i.commentLabel
										.innerHTML = i.formatNumber(o.data
											.commentCount));
								case 8:
								case "end":
									return e.stop()
							}
						}, e)
					}))()
				},
				hidePlayCount: function() {
					Ie(".play-count", this.$dom).css("visibility", "hidden")
				},
				formatNumber: function(t) {
					return ~~this.vm.config.abroad < 4 ? t < 1e4 ? t : t < 1e8 ? (t / 1e4).toFixed(1) + this.vm
						.locale["bottom.comment.wan"] : (t / 1e8).toFixed(1) + this.vm.locale[
							"bottom.comment.yi"] : t < 1e3 ? t : t < 1e6 ? (t / 1e3).toFixed(1) + "K" : t <
						1e9 ? (t / 1e6).toFixed(1) + "M" : (t / 1e9).toFixed(1) + "B"
				}
			}
		},
		gb =
		'<svg version="1.1" id="图层_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n    viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve">\n<g id="XMLID_1_">\n   <path id="XMLID_8_" d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C20,4.5,15.5,0,10,0z M10,18\n       c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S14.4,18,10,18z"/>\n   <path id="XMLID_9_" d="M14.2,5.8c-0.4-0.4-1-0.4-1.4,0L10,8.6L7.2,5.8c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4L8.6,10\n       l-2.8,2.8c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l2.8-2.8l2.8,2.8c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3\n       c0.4-0.4,0.4-1,0-1.4L11.4,10l2.8-2.8C14.6,6.8,14.6,6.2,14.2,5.8z"/>\n</g>\n</svg>',
		yb = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.element.getElementsByClassName("danmu-close")[0].addEventListener("click", function() {
					e.dispatch("close")
				}), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "danmu-guide",
					html: '\n            <div class="close-btn danmu-close">\n                ' + gb +
						"\n            </div>\n            "
				}
			}, i.show = function() {
				var t = this;
				this.element.style.display = "block", setTimeout(function() {
					t.dispatch("close")
				}, 5e3)
			}, e
		}(Sy),
		_b = function(t) {
			function e() {
				var e = t.call(this) || this;
				return e.element.getElementsByClassName("star-segments-close")[0].addEventListener("click",
					function() {
						e.dispatch("close")
					}), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "star-segements-guide",
					html: '\n            <div class="star-segments"></div>\n            <div class="pip"></div>\n            <div class="close-btn star-segments-close">\n                ' +
						gb + "\n            </div>\n            "
				}
			}, i.show = function(t) {
				var e = this;
				this.element.style.display = "block", t || this.element.classList.add("no-pip"), setTimeout(
					function() {
						e.dispatch("close")
					}, 5e3)
			}, e
		}(Sy),
		bb = function(t) {
			function e() {
				var e = t.call(this) || this;
				return setTimeout(function() {
					e.dispatch("close")
				}, 1e4), e
			}
			wu(e, t);
			var i = e.prototype;
			return i.config = function() {
				return {
					tag: "ai-danmu-guider",
					className: "ai-danmu-guider",
					html: '\n            <svg class="see-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="图层_1" x="0px" y="0px" viewBox="0 0 20 20" xml:space="preserve">\n                <g>\n                    <circle cx="10" cy="10" r="1.5"/>\n                    <path d="M19.9,9.7C19.9,9.6,17.6,3,10,3S0.1,9.6,0.1,9.7C0,9.9,0,10.1,0.1,10.3c0,0.1,2.3,6.7,9.9,6.7s9.9-6.6,9.9-6.7    C20,10.1,20,9.9,19.9,9.7z M10,13.5c-1.9,0-3.5-1.6-3.5-3.5S8.1,6.5,10,6.5s3.5,1.6,3.5,3.5S11.9,13.5,10,13.5z"/>\n                </g>\n            </svg>\n                <p class="content">已为您自动开启智能防挡弹幕模式</p>\n            '
				}
			}, i.show = function() {
				this.element.style.display = "block"
			}, e
		}(Sy),
		wb = {
			data: {
				aiDanmuGuider: null,
				danmuGuide: null,
				starSegmentsGuide: null,
				showOnce: !1,
				bg: null
			},
			name: "mango-guide",
			inner: !1,
			el: '<guide-container>\n        <div class="bg"></div>\n    </guide-container>',
			init: function() {
				this.vm = this.__dispatcher.vm, this.bg = this.$dom.querySelector(".bg"), 1 != zi.get(
						"mango-danmu-guide") && (this.danmuGuide = new yb, this.$dom.appendChild(this.danmuGuide
						.element), this.danmuGuide.addEventListener("close", this.closeGuide.bind(this))), 1 !=
					zi.get("mango-ai-danmu-guide") && (this.aiDanmuGuider = new bb, this.$dom.appendChild(this
						.aiDanmuGuider.element), this.aiDanmuGuider.addEventListener("close", this
						.closeGuide.bind(this))), 1 != zi.get("mango-star-segments-guide") && (this
						.starSegmentsGuide = new _b, this.$dom.appendChild(this.starSegmentsGuide.element), this
						.starSegmentsGuide.addEventListener("close", this.closeGuide.bind(this)))
			},
			events: {
				showGuide: function(t) {
					if (!("1" == Rt(this, "vm.config.i18n", "")) && (!this.vm.getFloatWindowMode() && !this
							.showOnce)) {
						switch (t.type) {
							case "danmu":
								this.showOnce = this.showDanmu();
								break;
							case "pip":
								break;
							case "aidanmu":
								this.showOnce = this.showAIDanmu();
								break;
							case "starSegments":
								this.showOnce = this.showStarSegments(document.pictureInPictureEnabled)
						}
						this.showOnce && (this.$dom.style.display = "block"), "float" === t.mode && (this.bg
							.style.display = "none", this.$dom.style.pointerEvents = "none")
					}
				},
				videoReload: function() {
					this.closeGuide()
				},
				c_resize: function() {
					this.closeGuide()
				}
			},
			methods: {
				closeGuide: function() {
					this.$dom.style.display = "none"
				},
				showStarSegments: function(t) {
					return !!this.starSegmentsGuide && (this.vm.emit("showStarSegmentsGuide"), this
						.starSegmentsGuide.show(t), zi.set("mango-star-segments-guide", 1), !0)
				},
				showDanmu: function() {
					return !!this.danmuGuide && (this.danmuGuide.show(), zi.set("mango-danmu-guide", 1), !0)
				},
				showAIDanmu: function() {
					return !!this.aiDanmuGuider && (this.aiDanmuGuider.show(), zi.set("mango-ai-danmu-guide",
						1), !0)
				}
			}
		},
		kb = {
			getCMSDataEvent: function(t) {
				It(H, "MGTV_VIDEO_FUN.getCMSDataEvent", [t])
			},
			setFloatingWindow: function(t) {
				It(at, "FLASH_FLOATIONPLAYERWINDOW", [t])
			},
			setFloatingWindowStatus: function(t) {
				It(at, "clipStart", [t])
			},
			initVipDialog: function(t) {
				return It(H, "vipDialog", [t])
			},
			showHDPayDialog: function(t) {
				return It(at, "FLASH_MGTV_VIDEOHD", [t])
			},
			getPaymentInfo: function(t, e, i) {
				return It(at, "FLASH_showPayMovie", [t, e, i])
			},
			getPlayerNextId: function() {
				var t, e = Rt(this, "_config.injector.getNextId");
				return w(e) && (t = e()), t || (t = It(at, "FLASH_MGTV_FUN.getPlayerNextId")), t
			},
			getNextPlayUrl: function() {
				return It(at, "FLASH_MGTV_FUN.getNextPlayUrl")
			},
			requesetRefreshPage: function() {
				this.emit("requesetRefreshPage");
				var t = Rt(this, "_config.injector.refreshPage");
				if (w(t)) return t();
				It(at, "refreshPage")
			},
			OnGetNextVideoInfo: function(t, e) {
				this.cms.setNextVideoId(t, e)
			},
			setNextVideoId: function(t, e) {
				this.cms.setNextVideoId(t, e)
			},
			toggleDanmuInput: function(t, e, i, n, r) {
				.5 == i && (i = .6), It(at, "FLASH_MGTV_FUN_DANMU", [t, e, i, 1 - n, r])
			},
			toggleDanmuButton: function(t) {
				It(at, "FLASH_MGTV_FUN_SHOWDANMU", [t])
			},
			setDanmuStatus: function(t) {
				var e = void 0 === t ? options : t,
					i = e.visible,
					n = e.ratio,
					r = e.transparency,
					o = e.speed;
				.6 == n && (n = .5), this.emit("danmuStatusChange", {
					state: i,
					ratio: n,
					opacity: 1 - r,
					speed: o
				})
			},
			setDanmuVisible: function(t, e) {
				void 0 === e && (e = 1), this.emit("danmuStatusChange", {
					state: t
				})
			},
			sendDanmu: function(t) {
				if (this.mangoDanmu) {
					var e = {
						content: t,
						type: 1
					};
					this.mangoDanmu.sendMsg(e)
				}
			},
			toggleWebFullScreen: function() {
				this.emit("toggleWebFullScreen", {})
			},
			showToast: function(t) {
				var e = {};
				e = A(t) ? {
					toast: t
				} : t, this.emit("showToast", e)
			},
			screenshot: function(t) {
				var e = this.__dispatcher.dom.videoElement;
				return this.__dispatcher.vm._config.useFlash ? null : Bt(e, t)
			},
			OnFMPlayerVersion: function() {
				return this.version
			},
			get_time: function() {
				return this.currentTime
			},
			getFloatWindowMode: function() {
				var t = Rt(this, "_config.injector.getFloatWindowMode");
				return w(t) ? t() : It(at, "getFloatingWindowMode")
			},
			enableFloatWindow: function(t) {
				var e = t ? "1" : "0",
					i = Rt(this, "_config.injector.enableFloatWindow");
				return w(i) ? i(e) : It(at, "FLASH_FLOATIONPLAYERWINDOW", [e])
			},
			showCasherDialog: function(t) {
				void 0 === t && (t = {});
				var e = Rt(this, "_config.injector.showCasherDialog");
				if (w(e)) return e(t);
				if (H.vipPayMiniDialog) try {
					return new H.vipPayMiniDialog(t.mod, t.clocation, t.ftype, t.unid, t.video_id), !0
				} catch (t) {
					return !1
				}
			},
			getUserInfo: function() {
				var t = Rt(this, "_config.injector.getUserInfo");
				if (w(t)) return t();
				var e = at && at.USER;
				return e ? e.data : null
			},
			showLoginDialog: function() {
				var t = Rt(this, "_config.injector.showLoginDialog");
				return w(t) ? t() : It(at, "H.loginDialog")
			}
		},
		Eb = ["94l6w226e", "94l6w226d", "94l6w226c", "94l6w226b", "94l6w226a", "94l6w2269", "94l6w2268",
			"94l6w226n", "94l6w226m", "95exclax3", "95exclax2", "95exclax1", "95exclax0", "95exclawz", "95exclawy",
			"95exclawx", "95exclaww", "95exclaxb", "95exclaxa", "95exclapz", "95exclapy", "95exclapx", "95exclapw",
			"95exclapv", "95exclapu", "95exclapt", "95exclaps", "95exclaq7", "95exclaq6", "95exclaiv", "90f12f8na",
			"90f12f8n9", "90f12f8n8", "90f12f8n7", "90f12f8n6", "90f12f8n5", "90f12f8n4", "90f12f8nj", "90f12f8ni",
			"90f945a4n", "90f945a4m", "90f945a4l", "90f945a4k", "90f945a4j", "90f945a4i", "90f945a4h", "90f945a4g",
			"90f945a4v", "90f945a4u", "90f9459xj", "90f9459xi", "90f9459xh", "90f9459xg", "90f9459xf", "90f9459xe",
			"90f9459xd", "90f9459xc", "90f9459xr", "90f9459xq", "90f9459qf", "90f9459qe", "90f9459qd", "90f9459qc",
			"90f9459qb", "90f9459qa", "90f9459q9", "90f9459q8", "90f9459qn", "90f9459qm", "90f945b47", "90f12gp6u",
			"90f12gp6t", "90f12gp6s", "90f12gp6r", "90f12gp6q", "90f12gp6p", "90f12gp6o", "90f12gp73", "90f12gp72",
			"90f8tgeiv", "90f8tgeiu", "90f8tgeit", "90f8tgeis", "90f8tgeir", "90f8tgeiq", "90f8tgeip", "90f8tgeio",
			"90f8tgej3", "90f8tgej2", "90f8tgebr", "90f8tgebq", "90f8tgebp", "90f8tgebo", "90f8tgebn", "90f8tgebm",
			"90f8tgebl", "90f8tgebk", "90f8tgebz", "90f8tgeby", "90f8tge4n", "90f8tge4m", "90f8tge4l", "90f8tge4k",
			"90f8tge4j", "90f8tge4i", "90f8tge4h", "90f8tge4g", "90f8tge4v", "90f8tge4u", "90f8tgfif", "90f62oqfm",
			"90f945b46", "90f945b45", "90f945b44", "90f945b43", "90f945b42", "90f945b41", "90f945b40", "90f945b4f",
			"90f945b4e", "90f945ax3", "90f945ax2", "90f945ax1", "90f945ax0", "90f945awz", "90f945awy", "90f945awx",
			"90f945aww", "90f945axb", "90f945axa", "90f945apz", "90f75k8zq", "90f75k8zp", "90f75k8zo", "90f75k8zn",
			"90f75k8zm", "90f75k8zl", "90f75k8zk", "90f75k8zz", "90f75k8zy", "90f75k8sn", "90f75k8sm", "90f75k8sl",
			"90f75k8sk", "90f75k8sj", "90f75k8si", "90f75k8sh", "90f75k8sg", "90f75k8sv", "90f75k8su", "90f75k8lj",
			"90f6clzly", "90f6clzlx", "90f6clzlw", "90f6clzlv", "90f6clzlu", "90f6clzlt", "90f6clzls", "90f6clzm7",
			"90f6clzm6", "90f6clzev"
		];
	var Sb =
		"\n.nonceWrapper{\n    postion:relative;\n}\n.nonceWrapper .u-icon-play{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: 10;\n    margin: -50px 0 0 -50px;\n}\n.nonceWrapper .u-icon-play a{\n    width: 100px;\n    height: 140px;\n    width: 100px;\n    height: 100px;\n    display: block;\n    background: url(//img.mgtv.com/imgotv-miniv6/player/h5skin/icon-h5.png) no-repeat;\n    background-position: -442px 0;\n    text-indent: -9999px;\n}\n",
		Tb = /iPad/i.test(navigator.userAgent);

	function xb(t, e) {
		for (var i = !0, n = 0, r = []; t.length;) {
			var o = t.shift();
			if (o.vid === e.vid && (o = e, i = !1), r.push(o), ++n > 10) break
		}
		return i && r.unshift(e), r
	}

	function Ab(t) {
		var e = kt("uuid") || "";
		return "//playhistory.bz.mgtv.com/playHistory" + ("/heartbeat?pid=&ticket=" + (kt("HDCN") || "").split("-")[
				0] + "&uid=" + e + "&cid=" + (t.cid || t.collection_id || "") + "&vid=" + (t.vid || "") +
			"&sid=" + (t.sid || "") + "&from=" + (Tb ? "3" : "1"))
	}

	function Cb(t, e, i, n) {
		var r, o, s = t.vid,
			a = +new Date,
			h = zi.get("honey-rec") || [],
			c = zi.get("player-add") ? h : [];
		r = {
			updateTime: a,
			video_id: s,
			vid: s,
			cid: t.cid || "",
			url: "//www.mgtv.com/s/" + s + ".html?start_time=" + i,
			sid: t.sid || "",
			video_name: t.title || "",
			watchTime: e,
			time: i,
			isEnd: n
		}, o = {
			updateTime: a,
			vid: s,
			cid: t.cid || "",
			sid: t.sid || "",
			watchTime: i,
			isEnd: n
		}, h = xb(h, r), c = xb(c, o), zi.set("honey-rec", JSON.stringify(h)), zi.set("player-add", JSON
			.stringify(c))
	}

	function Rb(t, e, i, n) {
		void 0 === i && (i = 0);
		var r = !!(kt("HDCN") || "").split("-")[0];
		if (0 == e) {
			var o = Tb ? 6 : 1,
				s = "//vc.mgtv.com/v3/watch?vid=" + (t.vid || "") + "&cid=" + (t.cid || t.collection_id || "") +
				"&pid=" + (t.bdid || "") + "&invoker=" + o + "&_t=" + Math.random();
			un(s);
			var a = "已观看" + Math.ceil(i / n * 100) + "%";
			s = Ab(t) + "&watchTime=" + parseInt(i) + "&isEnd=0", r && un(s), Cb(t, a, i, 0)
		} else if (1 == e) {
			var h = "已观看" + Math.ceil(i / n * 100) + "%",
				c = Ab(t) + "&watchTime=" + parseInt(i) + "&isEnd=0";
			r && un(c), Cb(t, h, i, 0)
		} else if (2 == e) {
			var u = Ab(t) + "&watchTime=0&isEnd=1";
			r && un(u), Cb(t, "已看完", 0, 1)
		}
	}
	var Ib = function() {
			function t() {}
			return t.TEXT = "1", t.GIFT_BIG = "2", t.GIFT_SMALL = "3", t.SHOUT = "4", t.ENTER_ROOM = "5", t
				.ATTENTION = "17", t.ONLINE = "6", t.CHANGE_ANCHOR = "21", t.SET_CONTROLLER = "22", t
				.CACEL_CONTROLLER = "23", t.BAN = "24", t.CANCEL_BAN = "18", t.NOTICE = "13", t.ANCHOR_EXIT = "7", t
				.PAUSE = "8", t.GIFT_FLOATING = "201", t.GIFT_INTERACT = "202", t.ANCHOR_AFK = "1008", t
				.ANCHOR_NETWORK_PROBLEM = "1011", t.ANCHOR_BACK = "1010", t
		}(),
		Lb = function() {
			function t() {}
			var e = t;
			return e.clear = function() {
				this.messageList = {
					shout: [],
					text: [],
					bigGift: [],
					smallGift: [],
					system: []
				}
			}, e.setUserUUID = function(t) {
				this._uuid = t
			}, e.addMessage = function(e) {
				for (var i in e) Array.isArray(e[i]) && e[i].forEach(function(e) {
					switch (String(e.t)) {
						case Ib.SHOUT:
							t.pushMessage("shout", e);
							break;
						case Ib.TEXT:
							t.pushMessage("text", e);
							break;
						case Ib.GIFT_FLOATING:
						case Ib.GIFT_INTERACT:
							t.pushMessage("bigGift", e);
							break;
						case Ib.GIFT_BIG:
						case Ib.GIFT_SMALL:
							break;
						default:
							t.pushMessage("system", e)
					}
				})
			}, e.userSpeak = function(e) {
				t.messageList.text.unshift(e)
			}, e.pushMessage = function(e, i) {
				var n = t.messageList,
					r = t.MAX_COUNT;
				if (n[e]) {
					var o = n[e];
					o.length < r && (i.uuid == this._uuid ? o.unshift(i) : o.push(i))
				}
			}, e.pop = function(t) {
				if (this.messageList[t]) {
					var e = this.messageList[t];
					if (e.length > 0) {
						var i = e.shift();
						return i && ("text" != t || i.u != this._uuid || i.self) ? i : null
					}
				}
				return null
			}, t.MAX_COUNT = 150, t.messageList = {
				shout: [],
				text: [],
				bigGift: [],
				smallGift: [],
				system: []
			}, t
		}(),
		Pb = function() {
			function t(t) {
				this._offsetY = t, this._speed = 2 + .4 * Math.random(), this._itemList = [], this._with = 1280
			}
			var e = t.prototype;
			return Object.defineProperty(e, "width", {
				set: function(t) {
					this._with = t
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "isFree", {
				get: function() {
					if (0 == this._itemList.length) return !0;
					var e = this._itemList[this._itemList.length - 1];
					return this._with - e.left - e.width > t.GAP
				},
				enumerable: !0,
				configurable: !0
			}), e.addItem = function(t) {
				t.setTop(this._offsetY), this._itemList.push(t)
			}, e.update = function() {
				var t = this;
				(this._itemList.forEach(function(e) {
					e.move(t._speed)
				}), this._itemList.length > 0) && (this._itemList[0].left + this._itemList[0].width < 0 && this
					._itemList.shift().dispose())
			}, e.dispose = function() {
				this._itemList.forEach(function(t) {
					t.dispose()
				})
			}, e.clear = function() {
				this.dispose()
			}, t.GAP = 300, t
		}(),
		Db = function() {
			function t() {
				this._top = 0, this._offSet = 0
			}
			var e = t.prototype;
			return Object.defineProperty(e, "element", {
				get: function() {
					return this._element
				},
				enumerable: !0,
				configurable: !0
			}), e.setLeft = function(t) {
				this._offSet = t, this._element && (this._element.style.transform = "translate3d(" + this
					._offSet + "px," + this._top + "px,0)")
			}, Object.defineProperty(e, "width", {
				get: function() {
					return this._element ? this._element.clientWidth : 0
				},
				enumerable: !0,
				configurable: !0
			}), Object.defineProperty(e, "height", {
				get: function() {
					return this._height
				},
				enumerable: !0,
				configurable: !0
			}), e.setTop = function(t) {
				this._top = t, this._element
			}, Object.defineProperty(e, "left", {
				get: function() {
					return this._offSet
				},
				enumerable: !0,
				configurable: !0
			}), e.setTemplate = function() {}, e.setData = function(t) {
				this.setTemplate(), this.showView()
			}, e.showView = function() {}, e.move = function(t) {
				this._element && (this._offSet -= t, this._element.style.transform = "translate3d(" + this
					._offSet + "px," + this._top + "px,0)")
			}, e.dispose = function() {
				this._element && this._element.parentElement && this._element.parentElement.removeChild(this
					._element)
			}, t
		}(),
		Mb = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e._self = !1, e
			}
			wu(e, t);
			var i = e.prototype;
			return i.setData = function(e) {
				this._text = e.c || e.tp, this._self = Boolean(e.self), t.prototype.setData.call(this, e)
			}, i.setTemplate = function() {
				var t = '<p class="barrage_item_text">' + this._text + "</p>";
				this._element = document.createElement("div"), this._element.className = "barrage_text", this
					._self && this._element.classList.add("barrage_text_self"), this._element.innerHTML = t
			}, e
		}(Db),
		Bb = function(t) {
			function e() {
				var e = null !== t && t.apply(this, arguments) || this;
				return e._isStart = !1, e
			}
			wu(e, t);
			var i = e.prototype;
			return i.setData = function(e) {
				this._data = e, this._isStart = "11" == String(e.r), t.prototype.setData.call(this, e)
			}, i.setTemplate = function() {
				var t =
					'<div class="barrage_shouting_head_box">\n                <img class="barrage_shouting_head" src="' +
					this._data.a +
					'"></img>\n            </div>\n            <div class="barrage_shouting_text_box">\n                <p class="barrage_shouting_name">' +
					this._data.n + ':</p>\n                <p class="barrage_shouting_text">' + this._data.tp +
					"</p>\n            </div>";
				this._element = document.createElement("div"), this._element.classList.add(
					"barrage_shouting_box"), this._element.classList.add(this._isStart ?
					"barrage_shouting_box_star" : "barrage_shouting_box_nomal"), this._element.innerHTML = t
			}, e
		}(Db),
		Ob = function() {
			function t() {}
			return t.createItem = function(t) {
				var e;
				switch (String(t.t)) {
					case Ib.TEXT:
						e = new Mb;
						break;
					case Ib.SHOUT:
						e = new Bb;
						break;
					default:
						e = new Mb
				}
				return e.setData(t), e
			}, t
		}(),
		Ub = function() {
			function t(t) {
				this._queue = [], this._isPlaying = !1, this._element = document.createElement("div"), this._element
					.classList.add("animate_gift_box"), this._element.setAttribute("id", "animate_gift_box"), t
					.appendChild(this._element)
			}
			var e = t.prototype;
			return e.setVisible = function(t) {
				this._element.style.display = t ? "block" : "none", t || this.clear()
			}, e.clear = function() {
				this._queue = []
			}, e.push = function(t) {
				this._queue.push(t), this.show()
			}, e.getAnimateById = function(t) {
				var e = -1,
					i = window.ANIMATE_SVGA_ARR || [];
				i.length;
				for (var n = 0; n < i.length; n++)
					if (i[n].anId == t) {
						e = n;
						break
					} return i[e]
			}, e.show = function() {
				var t = this;
				if (!this._isPlaying) {
					var e = this._queue.shift(),
						i = this.getAnimateById(e);
					if (i) {
						this._isPlaying = !0;
						var n = new SVGA.Player("#animate_gift_box"),
							r = new SVGA.Parser("#animate_gift_box"),
							o = function() {
								t._isPlaying = !1, setTimeout(function() {
									t.show()
								}, 0)
							};
						r.load(i.anUrl, function(t) {
							n.loops = 1, n.setVideoItem(t), n.startAnimation(), n.onFinished(o)
						}, function(t) {
							o()
						})
					}
				}
			}, t
		}(),
		Fb = function() {
			function t(t) {
				var e = this;
				this._free = !0, this._element = document.createElement("div"), this._element.classList.add(
					"big_gift_box"), t.appendChild(this._element), this._element.addEventListener(
					"animationend",
					function() {
						e._free = !0, e._element.classList.remove("show_big_gift_anim")
					}), this.animateGift = new Ub(t)
			}
			var e = t;
			e.loadImageConfig = function() {
				return Pu(this, void 0, void 0, function() {
					var t;
					return Du(this, function(e) {
						switch (e.label) {
							case 0:
								return [4, Fi(this.image_url)];
							case 1:
								return [4, e.sent().json()];
							case 2:
								return (t = e.sent()) && "success" == t.msg && (this._gift_dic =
									t.data[0], this._ready = !0), [2]
						}
					})
				})
			}, Object.defineProperty(e, "ready", {
				get: function() {
					return this._ready
				},
				enumerable: !0,
				configurable: !0
			});
			var i = t.prototype;
			return i.setData = function(t) {
				this._data = t, this._gift_url = this.getGiftUrl(t.p), 0 !== t.gt && 1 !== t.gt || (this
					.setTemplate(), this.startAnimate()), 1 !== t.gt && 2 !== t.gt || this.animateGift.push(
					t.an)
			}, i.startAnimate = function() {
				this._free = !1, this._element.classList.add("show_big_gift_anim")
			}, i.isFree = function() {
				return this._free
			}, i.setVisible = function(t) {
				this._element.style.display = t ? "block" : "none", this.animateGift.setVisible(t)
			}, i.getGiftUrl = function(e) {
				if (t.ready) {
					for (var i = t._gift_dic, n = 0, r = i.gifts; n < r.length; n++) {
						var o = r[n];
						if (o.gid == e) return o.photo
					}
					return i.classifyIcon
				}
				return ""
			}, i.setTemplate = function() {
				var t = '<div class="big_gift_text_box">\n            <p class="big_gift_text">' + this._data
					.n + '</p>\n            <p class="big_gift_text">' + this._data.tp +
					'</p>\n            </div>\n            <div class="big_gift_img_box">\n            <img class="big_gift_img" src="' +
					this._gift_url +
					'"></img>\n            </div>\n            <p class="big_gift_count"><span class="big_gift_count_X">X</span>' +
					this._data.co + "</p>\n            ";
				this._element.innerHTML = t
			}, t._ready = !1, t.image_url = "//mgcash.api.max.mgtv.com/gift/v30/getClassifyGifts", t
		}(),
		Nb = function() {
			function t(t) {
				this._parent = t, this._running = !1, this.DURATION = 200, this.TRACK_HEIGHT = 30, this
					.SHOUTING_TRACK_HEIGHT = 80, this.BOTTOM_GAP = 80, this._tracks = [], this._shoutingTracks = [],
					this.bigGiftOpen = !0;
				var e = document.createElement("barrage_live");
				e.className = "barrage_view", t.appendChild(e), this._container = e, (e = document.createElement(
						"barrage_live")).className = "barrage_view", t.appendChild(e), this._shouting_container = e,
					this._bigGift = new Fb(t), this.setViewPort({
						width: e.clientWidth,
						height: e.clientHeight
					})
			}
			var e = t.prototype;
			return e.setVisible = function(t) {
				this._parent.style.display = t ? "block" : "none"
			}, e.setViewPort = function(t) {
				this._size = t, this.resizeTracks(this._tracks, t.height, this.TRACK_HEIGHT), this.resizeTracks(
					this._shoutingTracks, t.height, this.SHOUTING_TRACK_HEIGHT)
			}, e.fullscreen = function(t) {
				this._fullscreen = t, this._bigGift.setVisible(t)
			}, e.resizeTracks = function(t, e, i) {
				e /= 2;
				var n = Math.floor((e - this.BOTTOM_GAP) / i);
				if (n > t.length)
					for (var r = t.length; r < n; r++) {
						var o = new Pb(r * i);
						t.push(o)
					} else if (n < t.length && n > 0) {
						for (r = n; r < t.length; r++) {
							t[r].dispose()
						}
						t.splice(n, t.length - n)
					} for (var s = 0, a = t; s < a.length; s++) {
					a[s].width = this._size.width
				}
			}, e.clear = function() {
				for (var t = 0, e = this._tracks; t < e.length; t++) {
					e[t].clear()
				}
				for (var i = 0, n = this._shoutingTracks; i < n.length; i++) {
					n[i].clear()
				}
			}, e.loop = function() {
				var t, e = this.getFreeTrack("text");
				if (e && (t = Lb.pop("text"))) {
					var i = Ob.createItem(t);
					this._container.appendChild(i.element), i.setLeft(this._size.width), e.addItem(i), this
						.addMessage(t)
				}
				if ((e = this.getFreeTrack("shout")) && (t = Lb.pop("shout"))) {
					i = Ob.createItem(t);
					this._shouting_container.appendChild(i.element), i.setLeft(this._size.width), e.addItem(i),
						this.addMessage(t)
				}
				this._fullscreen && Fb.ready ? this._bigGift.isFree() && (t = Lb.pop("bigGift")) && (this
						.bigGiftOpen && this._bigGift.setData(t), this.addMessage(t)) : (t = Lb.pop(
					"bigGift")) && this.addMessage(t);
				var n = Lb.pop("smallGift");
				n && this.addMessage(n);
				var r = Lb.pop("system");
				r && this.addMessage(r)
			}, e.addMessage = function(t) {
				It(window, "chatPanel.addMessage", [t])
			}, e.updateTracks = function() {
				for (var t = 0, e = this._tracks; t < e.length; t++) {
					e[t].update()
				}
				for (var i = 0, n = this._shoutingTracks; i < n.length; i++) {
					n[i].update()
				}
				this._updateId = requestAnimationFrame(this.updateTracks.bind(this))
			}, e.getFreeTrack = function(t) {
				for (var e = 0, i = "text" === t ? this._tracks : this._shoutingTracks; e < i.length; e++) {
					var n = i[e];
					if (n.isFree) return n
				}
				return null
			}, e.turnOn = function() {
				this._running || (this._running = !0, this._loopid = setInterval(this.loop.bind(this), this
						.DURATION), this._updateId = requestAnimationFrame(this.updateTracks.bind(this)),
					clearInterval(this._updateMessageId))
			}, e.turnOff = function() {
				this._running && (this._running = !1, clearInterval(this._loopid), cancelAnimationFrame(this
						._updateId), this._container.innerHTML = "", this._shouting_container.innerHTML =
					"", this._updateMessageId = setInterval(this.updateMessages.bind(this), this.DURATION))
			}, e.updateMessages = function() {
				var t = this;
				["shout", "text", "bigGift", "smallGift", "system"].forEach(function(e) {
					var i = Lb.pop(e);
					i && t.addMessage(i)
				})
			}, t
		}(),
		Vb = st(function(t, e) {
			var i;
			i = function() {
				return function(t) {
					var e, i = t.localStorage || (e = {}, {
							setItem: function(t, i) {
								e[t] = i
							},
							getItem: function(t) {
								return e[t]
							},
							removeItem: function(t) {
								delete e[t]
							}
						}),
						n = {
							CONNECT: 1,
							CONNACK: 2,
							PUBLISH: 3,
							PUBACK: 4,
							PUBREC: 5,
							PUBREL: 6,
							PUBCOMP: 7,
							SUBSCRIBE: 8,
							SUBACK: 9,
							UNSUBSCRIBE: 10,
							UNSUBACK: 11,
							PINGREQ: 12,
							PINGRESP: 13,
							DISCONNECT: 14
						},
						r = function(t, e) {
							for (var i in t)
								if (t.hasOwnProperty(i)) {
									if (!e.hasOwnProperty(i)) {
										var n = "Unknown property, " + i + ". Valid properties are:";
										for (var r in e) e.hasOwnProperty(r) && (n = n + " " + r);
										throw new Error(n)
									}
									if (typeof t[i] !== e[i]) throw new Error(h(s.INVALID_TYPE, [
										typeof t[i], i
									]))
								}
						},
						o = function(t, e) {
							return function() {
								return t.apply(e, arguments)
							}
						},
						s = {
							OK: {
								code: 0,
								text: "AMQJSC0000I OK."
							},
							CONNECT_TIMEOUT: {
								code: 1,
								text: "AMQJSC0001E Connect timed out."
							},
							SUBSCRIBE_TIMEOUT: {
								code: 2,
								text: "AMQJS0002E Subscribe timed out."
							},
							UNSUBSCRIBE_TIMEOUT: {
								code: 3,
								text: "AMQJS0003E Unsubscribe timed out."
							},
							PING_TIMEOUT: {
								code: 4,
								text: "AMQJS0004E Ping timed out."
							},
							INTERNAL_ERROR: {
								code: 5,
								text: "AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"
							},
							CONNACK_RETURNCODE: {
								code: 6,
								text: "AMQJS0006E Bad Connack return code:{0} {1}."
							},
							SOCKET_ERROR: {
								code: 7,
								text: "AMQJS0007E Socket error:{0}."
							},
							SOCKET_CLOSE: {
								code: 8,
								text: "AMQJS0008I Socket closed."
							},
							MALFORMED_UTF: {
								code: 9,
								text: "AMQJS0009E Malformed UTF data:{0} {1} {2}."
							},
							UNSUPPORTED: {
								code: 10,
								text: "AMQJS0010E {0} is not supported by this browser."
							},
							INVALID_STATE: {
								code: 11,
								text: "AMQJS0011E Invalid state {0}."
							},
							INVALID_TYPE: {
								code: 12,
								text: "AMQJS0012E Invalid type {0} for {1}."
							},
							INVALID_ARGUMENT: {
								code: 13,
								text: "AMQJS0013E Invalid argument {0} for {1}."
							},
							UNSUPPORTED_OPERATION: {
								code: 14,
								text: "AMQJS0014E Unsupported operation."
							},
							INVALID_STORED_DATA: {
								code: 15,
								text: "AMQJS0015E Invalid data in local storage key={0} value={1}."
							},
							INVALID_MQTT_MESSAGE_TYPE: {
								code: 16,
								text: "AMQJS0016E Invalid MQTT message type {0}."
							},
							MALFORMED_UNICODE: {
								code: 17,
								text: "AMQJS0017E Malformed Unicode string:{0} {1}."
							},
							BUFFER_FULL: {
								code: 18,
								text: "AMQJS0018E Message buffer is full, maximum buffer size: {0}."
							}
						},
						a = {
							0: "Connection Accepted",
							1: "Connection Refused: unacceptable protocol version",
							2: "Connection Refused: identifier rejected",
							3: "Connection Refused: server unavailable",
							4: "Connection Refused: bad user name or password",
							5: "Connection Refused: not authorized"
						},
						h = function(t, e) {
							var i = t.text;
							if (e)
								for (var n, r, o = 0; o < e.length; o++)
									if (n = "{" + o + "}", (r = i.indexOf(n)) > 0) {
										var s = i.substring(0, r),
											a = i.substring(r + n.length);
										i = s + e[o] + a
									} return i
						},
						c = [0, 6, 77, 81, 73, 115, 100, 112, 3],
						u = [0, 4, 77, 81, 84, 84, 4],
						l = function(t, e) {
							for (var i in this.type = t, e) e.hasOwnProperty(i) && (this[i] = e[i])
						};

					function d(t, e) {
						var i, r = e,
							o = t[e],
							s = o >> 4,
							a = o &= 15;
						e += 1;
						var h = 0,
							c = 1;
						do {
							if (e == t.length) return [null, r];
							h += (127 & (i = t[e++])) * c, c *= 128
						} while (0 != (128 & i));
						var u = e + h;
						if (u > t.length) return [null, r];
						var d = new l(s);
						switch (s) {
							case n.CONNACK:
								1 & t[e++] && (d.sessionPresent = !0), d.returnCode = t[e++];
								break;
							case n.PUBLISH:
								var f = a >> 1 & 3,
									p = m(t, e),
									v = _(t, e += 2, p);
								e += p, f > 0 && (d.messageIdentifier = m(t, e), e += 2);
								var g = new E(t.subarray(e, u));
								1 == (1 & a) && (g.retained = !0), 8 == (8 & a) && (g.duplicate = !0), g
									.qos = f, g.destinationName = v, d.payloadMessage = g;
								break;
							case n.PUBACK:
							case n.PUBREC:
							case n.PUBREL:
							case n.PUBCOMP:
							case n.UNSUBACK:
								d.messageIdentifier = m(t, e);
								break;
							case n.SUBACK:
								d.messageIdentifier = m(t, e), e += 2, d.returnCode = t.subarray(e, u)
						}
						return [d, u]
					}

					function f(t, e, i) {
						return e[i++] = t >> 8, e[i++] = t % 256, i
					}

					function p(t, e, i, n) {
						return y(t, i, n = f(e, i, n)), n + e
					}

					function m(t, e) {
						return 256 * t[e] + t[e + 1]
					}

					function v(t) {
						for (var e = 0, i = 0; i < t.length; i++) {
							var n = t.charCodeAt(i);
							n > 2047 ? (55296 <= n && n <= 56319 && (i++, e++), e += 3) : n > 127 ? e +=
								2 : e++
						}
						return e
					}

					function y(t, e, i) {
						for (var n = i, r = 0; r < t.length; r++) {
							var o = t.charCodeAt(r);
							if (55296 <= o && o <= 56319) {
								var a = t.charCodeAt(++r);
								if (isNaN(a)) throw new Error(h(s.MALFORMED_UNICODE, [o, a]));
								o = a - 56320 + (o - 55296 << 10) + 65536
							}
							o <= 127 ? e[n++] = o : o <= 2047 ? (e[n++] = o >> 6 & 31 | 192, e[n++] =
								63 & o | 128) : o <= 65535 ? (e[n++] = o >> 12 & 15 | 224, e[n++] =
								o >> 6 & 63 | 128, e[n++] = 63 & o | 128) : (e[n++] = o >> 18 & 7 |
								240, e[n++] = o >> 12 & 63 | 128, e[n++] = o >> 6 & 63 | 128, e[
								n++] = 63 & o | 128)
						}
						return e
					}

					function _(t, e, i) {
						for (var n, r = "", o = e; o < e + i;) {
							var a = t[o++];
							if (a < 128) n = a;
							else {
								var c = t[o++] - 128;
								if (c < 0) throw new Error(h(s.MALFORMED_UTF, [a.toString(16), c
									.toString(16), ""
								]));
								if (a < 224) n = 64 * (a - 192) + c;
								else {
									var u = t[o++] - 128;
									if (u < 0) throw new Error(h(s.MALFORMED_UTF, [a.toString(16), c
										.toString(16), u.toString(16)
									]));
									if (a < 240) n = 4096 * (a - 224) + 64 * c + u;
									else {
										var l = t[o++] - 128;
										if (l < 0) throw new Error(h(s.MALFORMED_UTF, [a.toString(16), c
											.toString(16), u.toString(16), l.toString(
												16)
										]));
										if (!(a < 248)) throw new Error(h(s.MALFORMED_UTF, [a.toString(
												16), c.toString(16), u.toString(16), l
											.toString(16)
										]));
										n = 262144 * (a - 240) + 4096 * c + 64 * u + l
									}
								}
							}
							n > 65535 && (n -= 65536, r += String.fromCharCode(55296 + (n >> 10)), n =
								56320 + (1023 & n)), r += String.fromCharCode(n)
						}
						return r
					}
					l.prototype.encode = function() {
						var t, e = (15 & this.type) << 4,
							i = 0,
							r = [],
							o = 0;
						switch (void 0 !== this.messageIdentifier && (i += 2), this.type) {
							case n.CONNECT:
								switch (this.mqttVersion) {
									case 3:
										i += c.length + 3;
										break;
									case 4:
										i += u.length + 3
								}
								i += v(this.clientId) + 2, void 0 !== this.willMessage && (i += v(
										this.willMessage.destinationName) + 2, (t = this
										.willMessage.payloadBytes) instanceof Uint8Array || (t =
										new Uint8Array(a)), i += t.byteLength + 2), void 0 !== this
									.userName && (i += v(this.userName) + 2), void 0 !== this
									.password && (i += v(this.password) + 2);
								break;
							case n.SUBSCRIBE:
								e |= 2;
								for (var s = 0; s < this.topics.length; s++) r[s] = v(this.topics[
									s]), i += r[s] + 2;
								i += this.requestedQos.length;
								break;
							case n.UNSUBSCRIBE:
								e |= 2;
								for (s = 0; s < this.topics.length; s++) r[s] = v(this.topics[s]),
									i += r[s] + 2;
								break;
							case n.PUBREL:
								e |= 2;
								break;
							case n.PUBLISH:
								this.payloadMessage.duplicate && (e |= 8), e = e |= this
									.payloadMessage.qos << 1, this.payloadMessage.retained && (e |=
										1), i += (o = v(this.payloadMessage.destinationName)) + 2;
								var a = this.payloadMessage.payloadBytes;
								i += a.byteLength, a instanceof ArrayBuffer ? a = new Uint8Array(
									a) : a instanceof Uint8Array || (a = new Uint8Array(a.buffer));
								break;
							case n.DISCONNECT:
						}
						var h = function(t) {
								var e = new Array(1),
									i = 0;
								do {
									var n = t % 128;
									(t >>= 7) > 0 && (n |= 128), e[i++] = n
								} while (t > 0 && i < 4);
								return e
							}(i),
							l = h.length + 1,
							d = new ArrayBuffer(i + l),
							m = new Uint8Array(d);
						if (m[0] = e, m.set(h, 1), this.type == n.PUBLISH) l = p(this.payloadMessage
							.destinationName, o, m, l);
						else if (this.type == n.CONNECT) {
							switch (this.mqttVersion) {
								case 3:
									m.set(c, l), l += c.length;
									break;
								case 4:
									m.set(u, l), l += u.length
							}
							var g = 0;
							this.cleanSession && (g = 2), void 0 !== this.willMessage && (g |= 4,
									g |= this.willMessage.qos << 3, this.willMessage.retained && (
										g |= 32)), void 0 !== this.userName && (g |= 128),
								void 0 !== this.password && (g |= 64), m[l++] = g, l = f(this
									.keepAliveInterval, m, l)
						}
						switch (void 0 !== this.messageIdentifier && (l = f(this.messageIdentifier,
							m, l)), this.type) {
							case n.CONNECT:
								l = p(this.clientId, v(this.clientId), m, l), void 0 !== this
									.willMessage && (l = p(this.willMessage.destinationName, v(this
										.willMessage.destinationName), m, l), l = f(t
										.byteLength, m, l), m.set(t, l), l += t.byteLength),
									void 0 !== this.userName && (l = p(this.userName, v(this
										.userName), m, l)), void 0 !== this.password && (l = p(this
										.password, v(this.password), m, l));
								break;
							case n.PUBLISH:
								m.set(a, l);
								break;
							case n.SUBSCRIBE:
								for (s = 0; s < this.topics.length; s++) l = p(this.topics[s], r[s],
									m, l), m[l++] = this.requestedQos[s];
								break;
							case n.UNSUBSCRIBE:
								for (s = 0; s < this.topics.length; s++) l = p(this.topics[s], r[s],
									m, l)
						}
						return d
					};
					var b = function(t, e) {
							this._client = t, this._keepAliveInterval = 1e3 * e, this.isReset = !1;
							var i = new l(n.PINGREQ).encode(),
								r = function(t) {
									return function() {
										return o.apply(t)
									}
								},
								o = function() {
									this.isReset ? (this.isReset = !1, this._client._trace(
											"Pinger.doPing", "send PINGREQ"), this._client.socket
										.send(i), this.timeout = setTimeout(r(this), this
											._keepAliveInterval)) : (this._client._trace(
											"Pinger.doPing", "Timed out"), this._client
										._disconnected(s.PING_TIMEOUT.code, h(s.PING_TIMEOUT)))
								};
							this.reset = function() {
								this.isReset = !0, clearTimeout(this.timeout), this
									._keepAliveInterval > 0 && (this.timeout = setTimeout(r(this),
										this._keepAliveInterval))
							}, this.cancel = function() {
								clearTimeout(this.timeout)
							}
						},
						w = function(t, e, i, n) {
							e || (e = 30);
							this.timeout = setTimeout(function(t, e, i) {
								return function() {
									return t.apply(e, i)
								}
							}(i, t, n), 1e3 * e), this.cancel = function() {
								clearTimeout(this.timeout)
							}
						},
						k = function(e, n, r, o, a) {
							if (!("WebSocket" in t && null !== t.WebSocket)) throw new Error(h(s
								.UNSUPPORTED, ["WebSocket"]));
							if (!("ArrayBuffer" in t && null !== t.ArrayBuffer)) throw new Error(h(s
								.UNSUPPORTED, ["ArrayBuffer"]));
							for (var c in this._trace("Paho.Client", e, n, r, o, a), this.host = n, this
									.port = r, this.path = o, this.uri = e, this.clientId = a, this
									._wsuri = null, this._localKey = n + ":" + r + ("/mqtt" != o ? ":" +
										o : "") + ":" + a + ":", this._msg_queue = [], this
									._buffered_msg_queue = [], this._sentMessages = {}, this
									._receivedMessages = {}, this._notify_msg_sent = {}, this
									._message_identifier = 1, this._sequence = 0, i) 0 !== c.indexOf(
								"Sent:" + this._localKey) && 0 !== c.indexOf("Received:" + this
								._localKey) || this.restore(c)
						};
					k.prototype.host = null, k.prototype.port = null, k.prototype.path = null, k
						.prototype.uri = null, k.prototype.clientId = null, k.prototype.socket = null, k
						.prototype.connected = !1, k.prototype.maxMessageIdentifier = 65536, k.prototype
						.connectOptions = null, k.prototype.hostIndex = null, k.prototype.onConnected =
						null, k.prototype.onConnectionLost = null, k.prototype.onMessageDelivered =
						null, k.prototype.onMessageArrived = null, k.prototype.traceFunction = null, k
						.prototype._msg_queue = null, k.prototype._buffered_msg_queue = null, k
						.prototype._connectTimeout = null, k.prototype.sendPinger = null, k.prototype
						.receivePinger = null, k.prototype._reconnectInterval = 1, k.prototype
						._reconnecting = !1, k.prototype._reconnectTimeout = null, k.prototype
						.disconnectedPublishing = !1, k.prototype.disconnectedBufferSize = 5e3, k
						.prototype.receiveBuffer = null, k.prototype._traceBuffer = null, k.prototype
						._MAX_TRACE_ENTRIES = 100, k.prototype.connect = function(t) {
							var e = this._traceMask(t, "password");
							if (this._trace("Client.connect", e, this.socket, this.connected), this
								.connected) throw new Error(h(s.INVALID_STATE, ["already connected"]));
							if (this.socket) throw new Error(h(s.INVALID_STATE, ["already connected"]));
							this._reconnecting && (this._reconnectTimeout.cancel(), this
									._reconnectTimeout = null, this._reconnecting = !1), this
								.connectOptions = t, this._reconnectInterval = 1, this._reconnecting = !
								1, t.uris ? (this.hostIndex = 0, this._doConnect(t.uris[0])) : this
								._doConnect(this.uri)
						}, k.prototype.subscribe = function(t, e) {
							if (this._trace("Client.subscribe", t, e), !this.connected) throw new Error(
								h(s.INVALID_STATE, ["not connected"]));
							var i = new l(n.SUBSCRIBE);
							i.topics = t.constructor === Array ? t : [t], void 0 === e.qos && (e.qos =
								0), i.requestedQos = [];
							for (var r = 0; r < i.topics.length; r++) i.requestedQos[r] = e.qos;
							e.onSuccess && (i.onSuccess = function(t) {
								e.onSuccess({
									invocationContext: e.invocationContext,
									grantedQos: t
								})
							}), e.onFailure && (i.onFailure = function(t) {
								e.onFailure({
									invocationContext: e.invocationContext,
									errorCode: t,
									errorMessage: h(t)
								})
							}), e.timeout && (i.timeOut = new w(this, e.timeout, e.onFailure, [{
								invocationContext: e.invocationContext,
								errorCode: s.SUBSCRIBE_TIMEOUT.code,
								errorMessage: h(s.SUBSCRIBE_TIMEOUT)
							}])), this._requires_ack(i), this._schedule_message(i)
						}, k.prototype.unsubscribe = function(t, e) {
							if (this._trace("Client.unsubscribe", t, e), !this.connected)
							throw new Error(h(s.INVALID_STATE, ["not connected"]));
							var i = new l(n.UNSUBSCRIBE);
							i.topics = t.constructor === Array ? t : [t], e.onSuccess && (i.callback =
								function() {
									e.onSuccess({
										invocationContext: e.invocationContext
									})
								}), e.timeout && (i.timeOut = new w(this, e.timeout, e.onFailure, [{
								invocationContext: e.invocationContext,
								errorCode: s.UNSUBSCRIBE_TIMEOUT.code,
								errorMessage: h(s.UNSUBSCRIBE_TIMEOUT)
							}])), this._requires_ack(i), this._schedule_message(i)
						}, k.prototype.send = function(t) {
							this._trace("Client.send", t);
							var e = new l(n.PUBLISH);
							if (e.payloadMessage = t, this.connected) t.qos > 0 ? this._requires_ack(
								e) : this.onMessageDelivered && (this._notify_msg_sent[e] = this
									.onMessageDelivered(e.payloadMessage)), this._schedule_message(e);
							else {
								if (!this._reconnecting || !this.disconnectedPublishing)
								throw new Error(h(s.INVALID_STATE, ["not connected"]));
								if (g(this._sentMessages).length + this._buffered_msg_queue.length >
									this.disconnectedBufferSize) throw new Error(h(s.BUFFER_FULL, [this
									.disconnectedBufferSize
								]));
								t.qos > 0 ? this._requires_ack(e) : (e.sequence = ++this._sequence, this
									._buffered_msg_queue.unshift(e))
							}
						}, k.prototype.disconnect = function() {
							if (this._trace("Client.disconnect"), this._reconnecting && (this
									._reconnectTimeout.cancel(), this._reconnectTimeout = null, this
									._reconnecting = !1), !this.socket) throw new Error(h(s
								.INVALID_STATE, ["not connecting or connected"]));
							var t = new l(n.DISCONNECT);
							this._notify_msg_sent[t] = o(this._disconnected, this), this
								._schedule_message(t)
						}, k.prototype.getTraceLog = function() {
							if (null !== this._traceBuffer) {
								for (var t in this._trace("Client.getTraceLog", new Date), this._trace(
										"Client.getTraceLog in flight messages", this._sentMessages
										.length), this._sentMessages) this._trace("_sentMessages ", t,
									this._sentMessages[t]);
								for (var t in this._receivedMessages) this._trace("_receivedMessages ",
									t, this._receivedMessages[t]);
								return this._traceBuffer
							}
						}, k.prototype.startTrace = function() {
							null === this._traceBuffer && (this._traceBuffer = []), this._trace(
								"Client.startTrace", new Date, "@VERSION@-@BUILDLEVEL@")
						}, k.prototype.stopTrace = function() {
							delete this._traceBuffer
						}, k.prototype._doConnect = function(t) {
							if (this.connectOptions.useSSL) {
								var e = t.split(":");
								e[0] = "wss", t = e.join(":")
							}
							this._wsuri = t, this.connected = !1, this.connectOptions.mqttVersion < 4 ?
								this.socket = new WebSocket(t, ["mqttv3.1"]) : this.socket =
								new WebSocket(t, ["mqtt"]), this.socket.binaryType = "arraybuffer", this
								.socket.onopen = o(this._on_socket_open, this), this.socket.onmessage =
								o(this._on_socket_message, this), this.socket.onerror = o(this
									._on_socket_error, this), this.socket.onclose = o(this
									._on_socket_close, this), this.sendPinger = new b(this, this
									.connectOptions.keepAliveInterval), this.receivePinger = new b(this,
									this.connectOptions.keepAliveInterval), this._connectTimeout && (
									this._connectTimeout.cancel(), this._connectTimeout = null), this
								._connectTimeout = new w(this, this.connectOptions.timeout, this
									._disconnected, [s.CONNECT_TIMEOUT.code, h(s.CONNECT_TIMEOUT)])
						}, k.prototype._schedule_message = function(t) {
							this._msg_queue.unshift(t), this.connected && this._process_queue()
						}, k.prototype.store = function(t, e) {
							var r = {
								type: e.type,
								messageIdentifier: e.messageIdentifier,
								version: 1
							};
							switch (e.type) {
								case n.PUBLISH:
									e.pubRecReceived && (r.pubRecReceived = !0), r.payloadMessage = {};
									for (var o = "", a = e.payloadMessage.payloadBytes, c = 0; c < a
										.length; c++) a[c] <= 15 ? o = o + "0" + a[c].toString(16) :
										o += a[c].toString(16);
									r.payloadMessage.payloadHex = o, r.payloadMessage.qos = e
										.payloadMessage.qos, r.payloadMessage.destinationName = e
										.payloadMessage.destinationName, e.payloadMessage.duplicate && (
											r.payloadMessage.duplicate = !0), e.payloadMessage
										.retained && (r.payloadMessage.retained = !0), 0 === t.indexOf(
											"Sent:") && (void 0 === e.sequence && (e.sequence = ++this
											._sequence), r.sequence = e.sequence);
									break;
								default:
									throw Error(h(s.INVALID_STORED_DATA, [t + this._localKey + e
										.messageIdentifier, r
									]))
							}
							i.setItem(t + this._localKey + e.messageIdentifier, JSON.stringify(r))
						}, k.prototype.restore = function(t) {
							var e = i.getItem(t),
								r = JSON.parse(e),
								o = new l(r.type, r);
							switch (r.type) {
								case n.PUBLISH:
									for (var a = r.payloadMessage.payloadHex, c = new ArrayBuffer(a
											.length / 2), u = new Uint8Array(c), d = 0; a.length >=
										2;) {
										var f = parseInt(a.substring(0, 2), 16);
										a = a.substring(2, a.length), u[d++] = f
									}
									var p = new E(u);
									p.qos = r.payloadMessage.qos, p.destinationName = r.payloadMessage
										.destinationName, r.payloadMessage.duplicate && (p.duplicate = !
											0), r.payloadMessage.retained && (p.retained = !0), o
										.payloadMessage = p;
									break;
								default:
									throw Error(h(s.INVALID_STORED_DATA, [t, e]))
							}
							0 === t.indexOf("Sent:" + this._localKey) ? (o.payloadMessage.duplicate = !
								0, this._sentMessages[o.messageIdentifier] = o) : 0 === t.indexOf(
								"Received:" + this._localKey) && (this._receivedMessages[o
								.messageIdentifier] = o)
						}, k.prototype._process_queue = function() {
							for (var t = null; t = this._msg_queue.pop();) this._socket_send(t), this
								._notify_msg_sent[t] && (this._notify_msg_sent[t](), delete this
									._notify_msg_sent[t])
						}, k.prototype._requires_ack = function(t) {
							var e = g(this._sentMessages).length;
							if (e > this.maxMessageIdentifier) throw Error("Too many messages:" + e);
							for (; void 0 !== this._sentMessages[this._message_identifier];) this
								._message_identifier++;
							t.messageIdentifier = this._message_identifier, this._sentMessages[t
								.messageIdentifier] = t, t.type === n.PUBLISH && this.store("Sent:",
								t), this._message_identifier === this.maxMessageIdentifier && (this
								._message_identifier = 1)
						}, k.prototype._on_socket_open = function() {
							var t = new l(n.CONNECT, this.connectOptions);
							t.clientId = this.clientId, this._socket_send(t)
						}, k.prototype._on_socket_message = function(t) {
							this._trace("Client._on_socket_message", t.data);
							for (var e = this._deframeMessages(t.data), i = 0; i < e.length; i += 1)
								this._handleMessage(e[i])
						}, k.prototype._deframeMessages = function(t) {
							var e = new Uint8Array(t),
								i = [];
							if (this.receiveBuffer) {
								var n = new Uint8Array(this.receiveBuffer.length + e.length);
								n.set(this.receiveBuffer), n.set(e, this.receiveBuffer.length), e = n,
									delete this.receiveBuffer
							}
							try {
								for (var r = 0; r < e.length;) {
									var o = d(e, r),
										a = o[0];
									if (r = o[1], null === a) break;
									i.push(a)
								}
								r < e.length && (this.receiveBuffer = e.subarray(r))
							} catch (t) {
								var c = "undefined" == t.hasOwnProperty("stack") ? t.stack.toString() :
									"No Error Stack Available";
								return void this._disconnected(s.INTERNAL_ERROR.code, h(s
									.INTERNAL_ERROR, [t.message, c]))
							}
							return i
						}, k.prototype._handleMessage = function(t) {
							this._trace("Client._handleMessage", t);
							try {
								switch (t.type) {
									case n.CONNACK:
										if (this._connectTimeout.cancel(), this._reconnectTimeout &&
											this._reconnectTimeout.cancel(), this.connectOptions
											.cleanSession) {
											for (var e in this._sentMessages) {
												var r = this._sentMessages[e];
												i.removeItem("Sent:" + this._localKey + r
													.messageIdentifier)
											}
											for (var e in this._sentMessages = {}, this
													._receivedMessages) {
												var o = this._receivedMessages[e];
												i.removeItem("Received:" + this._localKey + o
													.messageIdentifier)
											}
											this._receivedMessages = {}
										}
										if (0 !== t.returnCode) {
											this._disconnected(s.CONNACK_RETURNCODE.code, h(s
												.CONNACK_RETURNCODE, [t.returnCode, a[t
													.returnCode]]));
											break
										}
										this.connected = !0, this.connectOptions.uris && (this
											.hostIndex = this.connectOptions.uris.length);
										var c = [];
										for (var u in this._sentMessages) this._sentMessages
											.hasOwnProperty(u) && c.push(this._sentMessages[u]);
										if (this._buffered_msg_queue.length > 0)
											for (var d = null; d = this._buffered_msg_queue.pop();) c
												.push(d), this.onMessageDelivered && (this
													._notify_msg_sent[d] = this.onMessageDelivered(d
														.payloadMessage));
										c = c.sort(function(t, e) {
											return t.sequence - e.sequence
										});
										for (var f = 0, p = c.length; f < p; f++) {
											if ((r = c[f]).type == n.PUBLISH && r.pubRecReceived) {
												var m = new l(n.PUBREL, {
													messageIdentifier: r.messageIdentifier
												});
												this._schedule_message(m)
											} else this._schedule_message(r)
										}
										this.connectOptions.onSuccess && this.connectOptions.onSuccess({
											invocationContext: this.connectOptions
												.invocationContext
										});
										var v = !1;
										this._reconnecting && (v = !0, this._reconnectInterval = 1, this
												._reconnecting = !1), this._connected(v, this._wsuri),
											this._process_queue();
										break;
									case n.PUBLISH:
										this._receivePublish(t);
										break;
									case n.PUBACK:
										(r = this._sentMessages[t.messageIdentifier]) && (delete this
											._sentMessages[t.messageIdentifier], i.removeItem("Sent:" +
												this._localKey + t.messageIdentifier), this
											.onMessageDelivered && this.onMessageDelivered(r
												.payloadMessage));
										break;
									case n.PUBREC:
										if (r = this._sentMessages[t.messageIdentifier]) {
											r.pubRecReceived = !0;
											m = new l(n.PUBREL, {
												messageIdentifier: t.messageIdentifier
											});
											this.store("Sent:", r), this._schedule_message(m)
										}
										break;
									case n.PUBREL:
										o = this._receivedMessages[t.messageIdentifier];
										i.removeItem("Received:" + this._localKey + t
											.messageIdentifier), o && (this._receiveMessage(o),
												delete this._receivedMessages[t.messageIdentifier]);
										var g = new l(n.PUBCOMP, {
											messageIdentifier: t.messageIdentifier
										});
										this._schedule_message(g);
										break;
									case n.PUBCOMP:
										r = this._sentMessages[t.messageIdentifier];
										delete this._sentMessages[t.messageIdentifier], i.removeItem(
												"Sent:" + this._localKey + t.messageIdentifier), this
											.onMessageDelivered && this.onMessageDelivered(r
												.payloadMessage);
										break;
									case n.SUBACK:
										(r = this._sentMessages[t.messageIdentifier]) && (r.timeOut && r
											.timeOut.cancel(), 128 === t.returnCode[0] ? r.onFailure &&
											r.onFailure(t.returnCode) : r.onSuccess && r.onSuccess(t
												.returnCode), delete this._sentMessages[t
												.messageIdentifier]);
										break;
									case n.UNSUBACK:
										(r = this._sentMessages[t.messageIdentifier]) && (r.timeOut && r
											.timeOut.cancel(), r.callback && r.callback(), delete this
											._sentMessages[t.messageIdentifier]);
										break;
									case n.PINGRESP:
										this.sendPinger.reset();
										break;
									case n.DISCONNECT:
										this._disconnected(s.INVALID_MQTT_MESSAGE_TYPE.code, h(s
											.INVALID_MQTT_MESSAGE_TYPE, [t.type]));
										break;
									default:
										this._disconnected(s.INVALID_MQTT_MESSAGE_TYPE.code, h(s
											.INVALID_MQTT_MESSAGE_TYPE, [t.type]))
								}
							} catch (t) {
								var y = "undefined" == t.hasOwnProperty("stack") ? t.stack.toString() :
									"No Error Stack Available";
								return void this._disconnected(s.INTERNAL_ERROR.code, h(s
									.INTERNAL_ERROR, [t.message, y]))
							}
						}, k.prototype._on_socket_error = function(t) {
							this._reconnecting || this._disconnected(s.SOCKET_ERROR.code, h(s
								.SOCKET_ERROR, [t.data]))
						}, k.prototype._on_socket_close = function() {
							this._reconnecting || this._disconnected(s.SOCKET_CLOSE.code, h(s
								.SOCKET_CLOSE))
						}, k.prototype._socket_send = function(t) {
							if (1 == t.type) {
								var e = this._traceMask(t, "password");
								this._trace("Client._socket_send", e)
							} else this._trace("Client._socket_send", t);
							this.socket.send(t.encode()), this.sendPinger.reset()
						}, k.prototype._receivePublish = function(t) {
							switch (t.payloadMessage.qos) {
								case "undefined":
								case 0:
									this._receiveMessage(t);
									break;
								case 1:
									var e = new l(n.PUBACK, {
										messageIdentifier: t.messageIdentifier
									});
									this._schedule_message(e), this._receiveMessage(t);
									break;
								case 2:
									this._receivedMessages[t.messageIdentifier] = t, this.store(
										"Received:", t);
									var i = new l(n.PUBREC, {
										messageIdentifier: t.messageIdentifier
									});
									this._schedule_message(i);
									break;
								default:
									throw Error("Invaild qos=" + t.payloadMessage.qos)
							}
						}, k.prototype._receiveMessage = function(t) {
							this.onMessageArrived && this.onMessageArrived(t.payloadMessage)
						}, k.prototype._connected = function(t, e) {
							this.onConnected && this.onConnected(t, e)
						}, k.prototype._reconnect = function() {
							this._trace("Client._reconnect"), this.connected || (this._reconnecting = !
								0, this.sendPinger.cancel(), this.receivePinger.cancel(), this
								._reconnectInterval < 128 && (this._reconnectInterval = 2 * this
									._reconnectInterval), this.connectOptions.uris ? (this
									.hostIndex = 0, this._doConnect(this.connectOptions.uris[0])) :
								this._doConnect(this.uri))
						}, k.prototype._disconnected = function(t, e) {
							if (this._trace("Client._disconnected", t, e), void 0 !== t && this
								._reconnecting) this._reconnectTimeout = new w(this, this
								._reconnectInterval, this._reconnect);
							else if (this.sendPinger.cancel(), this.receivePinger.cancel(), this
								._connectTimeout && (this._connectTimeout.cancel(), this
									._connectTimeout = null), this._msg_queue = [], this
								._buffered_msg_queue = [], this._notify_msg_sent = {}, this.socket && (
									this.socket.onopen = null, this.socket.onmessage = null, this.socket
									.onerror = null, this.socket.onclose = null, 1 === this.socket
									.readyState && this.socket.close(), delete this.socket), this
								.connectOptions.uris && this.hostIndex < this.connectOptions.uris
								.length - 1) this.hostIndex++, this._doConnect(this.connectOptions.uris[
								this.hostIndex]);
							else if (void 0 === t && (t = s.OK.code, e = h(s.OK)), this.connected) {
								if (this.connected = !1, this.onConnectionLost && this
								.onConnectionLost({
										errorCode: t,
										errorMessage: e,
										reconnect: this.connectOptions.reconnect,
										uri: this._wsuri
									}), t !== s.OK.code && this.connectOptions.reconnect) return this
									._reconnectInterval = 1, void this._reconnect()
							} else 4 === this.connectOptions.mqttVersion && !1 === this.connectOptions
								.mqttVersionExplicit ? (this._trace(
										"Failed to connect V4, dropping back to V3"), this
									.connectOptions.mqttVersion = 3, this.connectOptions.uris ? (this
										.hostIndex = 0, this._doConnect(this.connectOptions.uris[0])) :
									this._doConnect(this.uri)) : this.connectOptions.onFailure && this
								.connectOptions.onFailure({
									invocationContext: this.connectOptions.invocationContext,
									errorCode: t,
									errorMessage: e
								})
						}, k.prototype._trace = function() {
							if (this.traceFunction) {
								var t = Array.prototype.slice.call(arguments);
								for (var e in t) void 0 !== t[e] && t.splice(e, 1, JSON.stringify(t[
								e]));
								var i = t.join("");
								this.traceFunction({
									severity: "Debug",
									message: i
								})
							}
							if (null !== this._traceBuffer) {
								e = 0;
								for (var n = arguments.length; e < n; e++) this._traceBuffer.length ==
									this._MAX_TRACE_ENTRIES && this._traceBuffer.shift(), 0 === e ? this
									._traceBuffer.push(arguments[e]) : void 0 === arguments[e] ? this
									._traceBuffer.push(arguments[e]) : this._traceBuffer.push("  " +
										JSON.stringify(arguments[e]))
							}
						}, k.prototype._traceMask = function(t, e) {
							var i = {};
							for (var n in t) t.hasOwnProperty(n) && (i[n] = n == e ? "******" : t[n]);
							return i
						};
					var E = function(t) {
						var e, i;
						if (!("string" == typeof t || t instanceof ArrayBuffer || ArrayBuffer
								.isView(t) && !(t instanceof DataView))) throw h(s.INVALID_ARGUMENT,
							[t, "newPayload"]);
						e = t;
						var n = 0,
							r = !1,
							o = !1;
						Object.defineProperties(this, {
							payloadString: {
								enumerable: !0,
								get: function() {
									return "string" == typeof e ? e : _(e, 0, e.length)
								}
							},
							payloadBytes: {
								enumerable: !0,
								get: function() {
									if ("string" == typeof e) {
										var t = new ArrayBuffer(v(e)),
											i = new Uint8Array(t);
										return y(e, i, 0), i
									}
									return e
								}
							},
							destinationName: {
								enumerable: !0,
								get: function() {
									return i
								},
								set: function(t) {
									if ("string" != typeof t) throw new Error(h(s
										.INVALID_ARGUMENT, [t,
											"newDestinationName"
										]));
									i = t
								}
							},
							qos: {
								enumerable: !0,
								get: function() {
									return n
								},
								set: function(t) {
									if (0 !== t && 1 !== t && 2 !== t) throw new Error(
										"Invalid argument:" + t);
									n = t
								}
							},
							retained: {
								enumerable: !0,
								get: function() {
									return r
								},
								set: function(t) {
									if ("boolean" != typeof t) throw new Error(h(s
										.INVALID_ARGUMENT, [t,
											"newRetained"]));
									r = t
								}
							},
							topic: {
								enumerable: !0,
								get: function() {
									return i
								},
								set: function(t) {
									i = t
								}
							},
							duplicate: {
								enumerable: !0,
								get: function() {
									return o
								},
								set: function(t) {
									o = t
								}
							}
						})
					};
					return {
						Client: function(t, e, i, n) {
							var o;
							if ("string" != typeof t) throw new Error(h(s.INVALID_TYPE, [typeof t,
								"host"
							]));
							if (2 == arguments.length) {
								n = e;
								var a = (o = t).match(
									/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);
								if (!a) throw new Error(h(s.INVALID_ARGUMENT, [t, "host"]));
								t = a[4] || a[2], e = parseInt(a[7]), i = a[8]
							} else {
								if (3 == arguments.length && (n = i, i = "/mqtt"), "number" !=
									typeof e || e < 0) throw new Error(h(s.INVALID_TYPE, [typeof e,
									"port"
								]));
								if ("string" != typeof i) throw new Error(h(s.INVALID_TYPE, [
									typeof i, "path"
								]));
								var c = -1 !== t.indexOf(":") && "[" !== t.slice(0, 1) && "]" !== t
									.slice(-1);
								o = "ws://" + (c ? "[" + t + "]" : t) + ":" + e + i
							}
							for (var u = 0, l = 0; l < n.length; l++) {
								var d = n.charCodeAt(l);
								55296 <= d && d <= 56319 && l++, u++
							}
							if ("string" != typeof n || u > 65535) throw new Error(h(s
								.INVALID_ARGUMENT, [n, "clientId"]));
							var f = new k(o, t, e, i, n);
							Object.defineProperties(this, {
								host: {
									get: function() {
										return t
									},
									set: function() {
										throw new Error(h(s.UNSUPPORTED_OPERATION))
									}
								},
								port: {
									get: function() {
										return e
									},
									set: function() {
										throw new Error(h(s.UNSUPPORTED_OPERATION))
									}
								},
								path: {
									get: function() {
										return i
									},
									set: function() {
										throw new Error(h(s.UNSUPPORTED_OPERATION))
									}
								},
								uri: {
									get: function() {
										return o
									},
									set: function() {
										throw new Error(h(s.UNSUPPORTED_OPERATION))
									}
								},
								clientId: {
									get: function() {
										return f.clientId
									},
									set: function() {
										throw new Error(h(s.UNSUPPORTED_OPERATION))
									}
								},
								onConnected: {
									get: function() {
										return f.onConnected
									},
									set: function(t) {
										if ("function" != typeof t) throw new Error(h(s
											.INVALID_TYPE, [typeof t,
												"onConnected"
											]));
										f.onConnected = t
									}
								},
								disconnectedPublishing: {
									get: function() {
										return f.disconnectedPublishing
									},
									set: function(t) {
										f.disconnectedPublishing = t
									}
								},
								disconnectedBufferSize: {
									get: function() {
										return f.disconnectedBufferSize
									},
									set: function(t) {
										f.disconnectedBufferSize = t
									}
								},
								onConnectionLost: {
									get: function() {
										return f.onConnectionLost
									},
									set: function(t) {
										if ("function" != typeof t) throw new Error(h(s
											.INVALID_TYPE, [typeof t,
												"onConnectionLost"
											]));
										f.onConnectionLost = t
									}
								},
								onMessageDelivered: {
									get: function() {
										return f.onMessageDelivered
									},
									set: function(t) {
										if ("function" != typeof t) throw new Error(h(s
											.INVALID_TYPE, [typeof t,
												"onMessageDelivered"
											]));
										f.onMessageDelivered = t
									}
								},
								onMessageArrived: {
									get: function() {
										return f.onMessageArrived
									},
									set: function(t) {
										if ("function" != typeof t) throw new Error(h(s
											.INVALID_TYPE, [typeof t,
												"onMessageArrived"
											]));
										f.onMessageArrived = t
									}
								},
								trace: {
									get: function() {
										return f.traceFunction
									},
									set: function(t) {
										if ("function" != typeof t) throw new Error(h(s
											.INVALID_TYPE, [typeof t,
												"onTrace"
											]));
										f.traceFunction = t
									}
								}
							}), this.connect = function(t) {
								if (r(t = t || {}, {
										timeout: "number",
										userName: "string",
										password: "string",
										willMessage: "object",
										keepAliveInterval: "number",
										cleanSession: "boolean",
										useSSL: "boolean",
										invocationContext: "object",
										onSuccess: "function",
										onFailure: "function",
										hosts: "object",
										ports: "object",
										reconnect: "boolean",
										mqttVersion: "number",
										mqttVersionExplicit: "boolean",
										uris: "object"
									}), void 0 === t.keepAliveInterval && (t.keepAliveInterval =
										60), t.mqttVersion > 4 || t.mqttVersion < 3)
								throw new Error(h(s.INVALID_ARGUMENT, [t.mqttVersion,
										"connectOptions.mqttVersion"
									]));
								if (void 0 === t.mqttVersion ? (t.mqttVersionExplicit = !1, t
										.mqttVersion = 4) : t.mqttVersionExplicit = !0,
									void 0 !== t.password && void 0 === t.userName)
								throw new Error(h(s.INVALID_ARGUMENT, [t.password,
										"connectOptions.password"
									]));
								if (t.willMessage) {
									if (!(t.willMessage instanceof E)) throw new Error(h(s
										.INVALID_TYPE, [t.willMessage,
											"connectOptions.willMessage"
										]));
									if (t.willMessage.stringPayload = null, void 0 === t
										.willMessage.destinationName) throw new Error(h(s
										.INVALID_TYPE, [typeof t.willMessage
											.destinationName,
											"connectOptions.willMessage.destinationName"
										]))
								}
								if (void 0 === t.cleanSession && (t.cleanSession = !0), t
									.hosts) {
									if (!(t.hosts instanceof Array)) throw new Error(h(s
										.INVALID_ARGUMENT, [t.hosts,
											"connectOptions.hosts"
										]));
									if (t.hosts.length < 1) throw new Error(h(s
										.INVALID_ARGUMENT, [t.hosts,
											"connectOptions.hosts"
										]));
									for (var e = !1, n = 0; n < t.hosts.length; n++) {
										if ("string" != typeof t.hosts[n]) throw new Error(h(s
											.INVALID_TYPE, [typeof t.hosts[n],
												"connectOptions.hosts[" + n + "]"
											]));
										if (/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/
											.test(t.hosts[n])) {
											if (0 === n) e = !0;
											else if (!e) throw new Error(h(s.INVALID_ARGUMENT, [
												t.hosts[n],
												"connectOptions.hosts[" + n +
												"]"
											]))
										} else if (e) throw new Error(h(s.INVALID_ARGUMENT, [t
											.hosts[n], "connectOptions.hosts[" +
											n + "]"
										]))
									}
									if (e) t.uris = t.hosts;
									else {
										if (!t.ports) throw new Error(h(s.INVALID_ARGUMENT, [t
											.ports, "connectOptions.ports"
										]));
										if (!(t.ports instanceof Array)) throw new Error(h(s
											.INVALID_ARGUMENT, [t.ports,
												"connectOptions.ports"
											]));
										if (t.hosts.length !== t.ports.length) throw new Error(
											h(s.INVALID_ARGUMENT, [t.ports,
												"connectOptions.ports"
											]));
										for (t.uris = [], n = 0; n < t.hosts.length; n++) {
											if ("number" != typeof t.ports[n] || t.ports[n] < 0)
												throw new Error(h(s.INVALID_TYPE, [typeof t
													.ports[n],
													"connectOptions.ports[" + n +
													"]"
												]));
											var a = t.hosts[n],
												c = t.ports[n],
												u = -1 !== a.indexOf(":");
											o = "ws://" + (u ? "[" + a + "]" : a) + ":" + c + i,
												t.uris.push(o)
										}
									}
								}
								f.connect(t)
							}, this.subscribe = function(t, e) {
								if ("string" != typeof t && t.constructor !== Array)
								throw new Error("Invalid argument:" + t);
								if (r(e = e || {}, {
										qos: "number",
										invocationContext: "object",
										onSuccess: "function",
										onFailure: "function",
										timeout: "number"
									}), e.timeout && !e.onFailure) throw new Error(
									"subscribeOptions.timeout specified with no onFailure callback."
									);
								if (void 0 !== e.qos && 0 !== e.qos && 1 !== e.qos && 2 !== e
									.qos) throw new Error(h(s.INVALID_ARGUMENT, [e.qos,
									"subscribeOptions.qos"
								]));
								f.subscribe(t, e)
							}, this.unsubscribe = function(t, e) {
								if ("string" != typeof t && t.constructor !== Array)
								throw new Error("Invalid argument:" + t);
								if (r(e = e || {}, {
										invocationContext: "object",
										onSuccess: "function",
										onFailure: "function",
										timeout: "number"
									}), e.timeout && !e.onFailure) throw new Error(
									"unsubscribeOptions.timeout specified with no onFailure callback."
									);
								f.unsubscribe(t, e)
							}, this.send = function(t, e, i, n) {
								var r;
								if (0 === arguments.length) throw new Error(
									"Invalid argument.length");
								if (1 == arguments.length) {
									if (!(t instanceof E) && "string" != typeof t)
									throw new Error("Invalid argument:" + typeof t);
									if (void 0 === (r = t).destinationName) throw new Error(h(s
										.INVALID_ARGUMENT, [r.destinationName,
											"Message.destinationName"
										]));
									f.send(r)
								} else(r = new E(e)).destinationName = t, arguments.length >=
									3 && (r.qos = i), arguments.length >= 4 && (r.retained = n),
									f.send(r)
							}, this.publish = function(t, e, i, n) {
								var r;
								if (0 === arguments.length) throw new Error(
									"Invalid argument.length");
								if (1 == arguments.length) {
									if (!(t instanceof E) && "string" != typeof t)
									throw new Error("Invalid argument:" + typeof t);
									if (void 0 === (r = t).destinationName) throw new Error(h(s
										.INVALID_ARGUMENT, [r.destinationName,
											"Message.destinationName"
										]));
									f.send(r)
								} else(r = new E(e)).destinationName = t, arguments.length >=
									3 && (r.qos = i), arguments.length >= 4 && (r.retained = n),
									f.send(r)
							}, this.disconnect = function() {
								f.disconnect()
							}, this.getTraceLog = function() {
								return f.getTraceLog()
							}, this.startTrace = function() {
								f.startTrace()
							}, this.stopTrace = function() {
								f.stopTrace()
							}, this.isConnected = function() {
								return f.connected
							}
						},
						Message: E
					}
				}(void 0 !== ot ? ot : "undefined" != typeof self ? self : "undefined" !=
					typeof window ? window : {})
			}, t.exports = i()
		}),
		zb = st(function(t, e) {
			var i = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" !=
				typeof Int32Array;

			function n(t, e) {
				return Object.prototype.hasOwnProperty.call(t, e)
			}
			e.assign = function(t) {
				for (var e = Array.prototype.slice.call(arguments, 1); e.length;) {
					var i = e.shift();
					if (i) {
						if ("object" != typeof i) throw new TypeError(i + "must be non-object");
						for (var r in i) n(i, r) && (t[r] = i[r])
					}
				}
				return t
			}, e.shrinkBuf = function(t, e) {
				return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t)
			};
			var r = {
					arraySet: function(t, e, i, n, r) {
						if (e.subarray && t.subarray) t.set(e.subarray(i, i + n), r);
						else
							for (var o = 0; o < n; o++) t[r + o] = e[i + o]
					},
					flattenChunks: function(t) {
						var e, i, n, r, o, s;
						for (n = 0, e = 0, i = t.length; e < i; e++) n += t[e].length;
						for (s = new Uint8Array(n), r = 0, e = 0, i = t.length; e < i; e++) o = t[e], s.set(
							o, r), r += o.length;
						return s
					}
				},
				o = {
					arraySet: function(t, e, i, n, r) {
						for (var o = 0; o < n; o++) t[r + o] = e[i + o]
					},
					flattenChunks: function(t) {
						return [].concat.apply([], t)
					}
				};
			e.setTyped = function(t) {
				t ? (e.Buf8 = Uint8Array, e.Buf16 = Uint16Array, e.Buf32 = Int32Array, e.assign(e, r)) : (e
					.Buf8 = Array, e.Buf16 = Array, e.Buf32 = Array, e.assign(e, o))
			}, e.setTyped(i)
		}),
		Hb = (zb.assign, zb.shrinkBuf, zb.setTyped, zb.Buf8, zb.Buf16, zb.Buf32, 4),
		jb = 0,
		$b = 1,
		Wb = 2;

	function qb(t) {
		for (var e = t.length; --e >= 0;) t[e] = 0
	}
	var Gb = 0,
		Kb = 1,
		Yb = 2,
		Xb = 29,
		Zb = 256,
		Qb = Zb + 1 + Xb,
		Jb = 30,
		tw = 19,
		ew = 2 * Qb + 1,
		iw = 15,
		nw = 16,
		rw = 7,
		ow = 256,
		sw = 16,
		aw = 17,
		hw = 18,
		cw = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
		uw = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
		lw = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
		dw = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
		fw = new Array(2 * (Qb + 2));
	qb(fw);
	var pw = new Array(2 * Jb);
	qb(pw);
	var mw = new Array(512);
	qb(mw);
	var vw = new Array(256);
	qb(vw);
	var gw = new Array(Xb);
	qb(gw);
	var yw, _w, bw, ww = new Array(Jb);

	function kw(t, e, i, n, r) {
		this.static_tree = t, this.extra_bits = e, this.extra_base = i, this.elems = n, this.max_length = r, this
			.has_stree = t && t.length
	}

	function Ew(t, e) {
		this.dyn_tree = t, this.max_code = 0, this.stat_desc = e
	}

	function Sw(t) {
		return t < 256 ? mw[t] : mw[256 + (t >>> 7)]
	}

	function Tw(t, e) {
		t.pending_buf[t.pending++] = 255 & e, t.pending_buf[t.pending++] = e >>> 8 & 255
	}

	function xw(t, e, i) {
		t.bi_valid > nw - i ? (t.bi_buf |= e << t.bi_valid & 65535, Tw(t, t.bi_buf), t.bi_buf = e >> nw - t
			.bi_valid, t.bi_valid += i - nw) : (t.bi_buf |= e << t.bi_valid & 65535, t.bi_valid += i)
	}

	function Aw(t, e, i) {
		xw(t, i[2 * e], i[2 * e + 1])
	}

	function Cw(t, e) {
		var i = 0;
		do {
			i |= 1 & t, t >>>= 1, i <<= 1
		} while (--e > 0);
		return i >>> 1
	}

	function Rw(t, e, i) {
		var n, r, o = new Array(iw + 1),
			s = 0;
		for (n = 1; n <= iw; n++) o[n] = s = s + i[n - 1] << 1;
		for (r = 0; r <= e; r++) {
			var a = t[2 * r + 1];
			0 !== a && (t[2 * r] = Cw(o[a]++, a))
		}
	}

	function Iw(t) {
		var e;
		for (e = 0; e < Qb; e++) t.dyn_ltree[2 * e] = 0;
		for (e = 0; e < Jb; e++) t.dyn_dtree[2 * e] = 0;
		for (e = 0; e < tw; e++) t.bl_tree[2 * e] = 0;
		t.dyn_ltree[2 * ow] = 1, t.opt_len = t.static_len = 0, t.last_lit = t.matches = 0
	}

	function Lw(t) {
		t.bi_valid > 8 ? Tw(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf), t.bi_buf = 0,
			t.bi_valid = 0
	}

	function Pw(t, e, i, n) {
		var r = 2 * e,
			o = 2 * i;
		return t[r] < t[o] || t[r] === t[o] && n[e] <= n[i]
	}

	function Dw(t, e, i) {
		for (var n = t.heap[i], r = i << 1; r <= t.heap_len && (r < t.heap_len && Pw(e, t.heap[r + 1], t.heap[r], t
				.depth) && r++, !Pw(e, n, t.heap[r], t.depth));) t.heap[i] = t.heap[r], i = r, r <<= 1;
		t.heap[i] = n
	}

	function Mw(t, e, i) {
		var n, r, o, s, a = 0;
		if (0 !== t.last_lit)
			do {
				n = t.pending_buf[t.d_buf + 2 * a] << 8 | t.pending_buf[t.d_buf + 2 * a + 1], r = t.pending_buf[t
					.l_buf + a], a++, 0 === n ? Aw(t, r, e) : (Aw(t, (o = vw[r]) + Zb + 1, e), 0 !== (s = cw[
					o]) && xw(t, r -= gw[o], s), Aw(t, o = Sw(--n), i), 0 !== (s = uw[o]) && xw(t, n -= ww[o],
						s))
			} while (a < t.last_lit);
		Aw(t, ow, e)
	}

	function Bw(t, e) {
		var i, n, r, o = e.dyn_tree,
			s = e.stat_desc.static_tree,
			a = e.stat_desc.has_stree,
			h = e.stat_desc.elems,
			c = -1;
		for (t.heap_len = 0, t.heap_max = ew, i = 0; i < h; i++) 0 !== o[2 * i] ? (t.heap[++t.heap_len] = c = i, t
			.depth[i] = 0) : o[2 * i + 1] = 0;
		for (; t.heap_len < 2;) o[2 * (r = t.heap[++t.heap_len] = c < 2 ? ++c : 0)] = 1, t.depth[r] = 0, t
			.opt_len--, a && (t.static_len -= s[2 * r + 1]);
		for (e.max_code = c, i = t.heap_len >> 1; i >= 1; i--) Dw(t, o, i);
		r = h;
		do {
			i = t.heap[1], t.heap[1] = t.heap[t.heap_len--], Dw(t, o, 1), n = t.heap[1], t.heap[--t.heap_max] = i, t
				.heap[--t.heap_max] = n, o[2 * r] = o[2 * i] + o[2 * n], t.depth[r] = (t.depth[i] >= t.depth[n] ? t
					.depth[i] : t.depth[n]) + 1, o[2 * i + 1] = o[2 * n + 1] = r, t.heap[1] = r++, Dw(t, o, 1)
		} while (t.heap_len >= 2);
		t.heap[--t.heap_max] = t.heap[1],
			function(t, e) {
				var i, n, r, o, s, a, h = e.dyn_tree,
					c = e.max_code,
					u = e.stat_desc.static_tree,
					l = e.stat_desc.has_stree,
					d = e.stat_desc.extra_bits,
					f = e.stat_desc.extra_base,
					p = e.stat_desc.max_length,
					m = 0;
				for (o = 0; o <= iw; o++) t.bl_count[o] = 0;
				for (h[2 * t.heap[t.heap_max] + 1] = 0, i = t.heap_max + 1; i < ew; i++)(o = h[2 * h[2 * (n = t
					.heap[i]) + 1] + 1] + 1) > p && (o = p, m++), h[2 * n + 1] = o, n > c || (t.bl_count[o]++,
					s = 0, n >= f && (s = d[n - f]), a = h[2 * n], t.opt_len += a * (o + s), l && (t
						.static_len += a * (u[2 * n + 1] + s)));
				if (0 !== m) {
					do {
						for (o = p - 1; 0 === t.bl_count[o];) o--;
						t.bl_count[o]--, t.bl_count[o + 1] += 2, t.bl_count[p]--, m -= 2
					} while (m > 0);
					for (o = p; 0 !== o; o--)
						for (n = t.bl_count[o]; 0 !== n;)(r = t.heap[--i]) > c || (h[2 * r + 1] !== o && (t
							.opt_len += (o - h[2 * r + 1]) * h[2 * r], h[2 * r + 1] = o), n--)
				}
			}(t, e), Rw(o, c, t.bl_count)
	}

	function Ow(t, e, i) {
		var n, r, o = -1,
			s = e[1],
			a = 0,
			h = 7,
			c = 4;
		for (0 === s && (h = 138, c = 3), e[2 * (i + 1) + 1] = 65535, n = 0; n <= i; n++) r = s, s = e[2 * (n + 1) +
			1], ++a < h && r === s || (a < c ? t.bl_tree[2 * r] += a : 0 !== r ? (r !== o && t.bl_tree[2 * r]++,
				t.bl_tree[2 * sw]++) : a <= 10 ? t.bl_tree[2 * aw]++ : t.bl_tree[2 * hw]++, a = 0, o = r, 0 ===
			s ? (h = 138, c = 3) : r === s ? (h = 6, c = 3) : (h = 7, c = 4))
	}

	function Uw(t, e, i) {
		var n, r, o = -1,
			s = e[1],
			a = 0,
			h = 7,
			c = 4;
		for (0 === s && (h = 138, c = 3), n = 0; n <= i; n++)
			if (r = s, s = e[2 * (n + 1) + 1], !(++a < h && r === s)) {
				if (a < c)
					do {
						Aw(t, r, t.bl_tree)
					} while (0 != --a);
				else 0 !== r ? (r !== o && (Aw(t, r, t.bl_tree), a--), Aw(t, sw, t.bl_tree), xw(t, a - 3, 2)) : a <=
					10 ? (Aw(t, aw, t.bl_tree), xw(t, a - 3, 3)) : (Aw(t, hw, t.bl_tree), xw(t, a - 11, 7));
				a = 0, o = r, 0 === s ? (h = 138, c = 3) : r === s ? (h = 6, c = 3) : (h = 7, c = 4)
			}
	}
	qb(ww);
	var Fw = !1;

	function Nw(t, e, i, n) {
		xw(t, (Gb << 1) + (n ? 1 : 0), 3),
			function(t, e, i, n) {
				Lw(t), n && (Tw(t, i), Tw(t, ~i)), zb.arraySet(t.pending_buf, t.window, e, i, t.pending), t
					.pending += i
			}(t, e, i, !0)
	}
	var Vw = {
		_tr_init: function(t) {
			Fw || (function() {
					var t, e, i, n, r, o = new Array(iw + 1);
					for (i = 0, n = 0; n < Xb - 1; n++)
						for (gw[n] = i, t = 0; t < 1 << cw[n]; t++) vw[i++] = n;
					for (vw[i - 1] = n, r = 0, n = 0; n < 16; n++)
						for (ww[n] = r, t = 0; t < 1 << uw[n]; t++) mw[r++] = n;
					for (r >>= 7; n < Jb; n++)
						for (ww[n] = r << 7, t = 0; t < 1 << uw[n] - 7; t++) mw[256 + r++] = n;
					for (e = 0; e <= iw; e++) o[e] = 0;
					for (t = 0; t <= 143;) fw[2 * t + 1] = 8, t++, o[8]++;
					for (; t <= 255;) fw[2 * t + 1] = 9, t++, o[9]++;
					for (; t <= 279;) fw[2 * t + 1] = 7, t++, o[7]++;
					for (; t <= 287;) fw[2 * t + 1] = 8, t++, o[8]++;
					for (Rw(fw, Qb + 1, o), t = 0; t < Jb; t++) pw[2 * t + 1] = 5, pw[2 * t] = Cw(t, 5);
					yw = new kw(fw, cw, Zb + 1, Qb, iw), _w = new kw(pw, uw, 0, Jb, iw), bw = new kw(
						new Array(0), lw, 0, tw, rw)
				}(), Fw = !0), t.l_desc = new Ew(t.dyn_ltree, yw), t.d_desc = new Ew(t.dyn_dtree, _w), t
				.bl_desc = new Ew(t.bl_tree, bw), t.bi_buf = 0, t.bi_valid = 0, Iw(t)
		},
		_tr_stored_block: Nw,
		_tr_flush_block: function(t, e, i, n) {
			var r, o, s = 0;
			t.level > 0 ? (t.strm.data_type === Wb && (t.strm.data_type = function(t) {
					var e, i = 4093624447;
					for (e = 0; e <= 31; e++, i >>>= 1)
						if (1 & i && 0 !== t.dyn_ltree[2 * e]) return jb;
					if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26])
						return $b;
					for (e = 32; e < Zb; e++)
						if (0 !== t.dyn_ltree[2 * e]) return $b;
					return jb
				}(t)), Bw(t, t.l_desc), Bw(t, t.d_desc), s = function(t) {
					var e;
					for (Ow(t, t.dyn_ltree, t.l_desc.max_code), Ow(t, t.dyn_dtree, t.d_desc.max_code),
						Bw(t, t.bl_desc), e = tw - 1; e >= 3 && 0 === t.bl_tree[2 * dw[e] + 1]; e--);
					return t.opt_len += 3 * (e + 1) + 5 + 5 + 4, e
				}(t), r = t.opt_len + 3 + 7 >>> 3, (o = t.static_len + 3 + 7 >>> 3) <= r && (r = o)) : r =
				o = i + 5, i + 4 <= r && -1 !== e ? Nw(t, e, i, n) : t.strategy === Hb || o === r ? (xw(t, (
					Kb << 1) + (n ? 1 : 0), 3), Mw(t, fw, pw)) : (xw(t, (Yb << 1) + (n ? 1 : 0), 3),
					function(t, e, i, n) {
						var r;
						for (xw(t, e - 257, 5), xw(t, i - 1, 5), xw(t, n - 4, 4), r = 0; r < n; r++) xw(t, t
							.bl_tree[2 * dw[r] + 1], 3);
						Uw(t, t.dyn_ltree, e - 1), Uw(t, t.dyn_dtree, i - 1)
					}(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, s + 1), Mw(t, t.dyn_ltree, t
						.dyn_dtree)), Iw(t), n && Lw(t)
		},
		_tr_tally: function(t, e, i) {
			return t.pending_buf[t.d_buf + 2 * t.last_lit] = e >>> 8 & 255, t.pending_buf[t.d_buf + 2 * t
					.last_lit + 1] = 255 & e, t.pending_buf[t.l_buf + t.last_lit] = 255 & i, t.last_lit++,
				0 === e ? t.dyn_ltree[2 * i]++ : (t.matches++, e--, t.dyn_ltree[2 * (vw[i] + Zb + 1)]++, t
					.dyn_dtree[2 * Sw(e)]++), t.last_lit === t.lit_bufsize - 1
		},
		_tr_align: function(t) {
			xw(t, Kb << 1, 3), Aw(t, ow, fw),
				function(t) {
					16 === t.bi_valid ? (Tw(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : t.bi_valid >= 8 &&
						(t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8)
				}(t)
		}
	};
	var zw = function(t, e, i, n) {
		for (var r = 65535 & t | 0, o = t >>> 16 & 65535 | 0, s = 0; 0 !== i;) {
			i -= s = i > 2e3 ? 2e3 : i;
			do {
				o = o + (r = r + e[n++] | 0) | 0
			} while (--s);
			r %= 65521, o %= 65521
		}
		return r | o << 16 | 0
	};
	var Hw = function() {
		for (var t, e = [], i = 0; i < 256; i++) {
			t = i;
			for (var n = 0; n < 8; n++) t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
			e[i] = t
		}
		return e
	}();
	var jw, $w = function(t, e, i, n) {
			var r = Hw,
				o = n + i;
			t ^= -1;
			for (var s = n; s < o; s++) t = t >>> 8 ^ r[255 & (t ^ e[s])];
			return -1 ^ t
		},
		Ww = {
			2: "need dictionary",
			1: "stream end",
			0: "",
			"-1": "file error",
			"-2": "stream error",
			"-3": "data error",
			"-4": "insufficient memory",
			"-5": "buffer error",
			"-6": "incompatible version"
		},
		qw = 0,
		Gw = 1,
		Kw = 3,
		Yw = 4,
		Xw = 5,
		Zw = 0,
		Qw = 1,
		Jw = -2,
		tk = -3,
		ek = -5,
		ik = -1,
		nk = 1,
		rk = 2,
		ok = 3,
		sk = 4,
		ak = 0,
		hk = 2,
		ck = 8,
		uk = 9,
		lk = 15,
		dk = 8,
		fk = 286,
		pk = 30,
		mk = 19,
		vk = 2 * fk + 1,
		gk = 15,
		yk = 3,
		_k = 258,
		bk = _k + yk + 1,
		wk = 32,
		kk = 42,
		Ek = 69,
		Sk = 73,
		Tk = 91,
		xk = 103,
		Ak = 113,
		Ck = 666,
		Rk = 1,
		Ik = 2,
		Lk = 3,
		Pk = 4,
		Dk = 3;

	function Mk(t, e) {
		return t.msg = Ww[e], e
	}

	function Bk(t) {
		return (t << 1) - (t > 4 ? 9 : 0)
	}

	function Ok(t) {
		for (var e = t.length; --e >= 0;) t[e] = 0
	}

	function Uk(t) {
		var e = t.state,
			i = e.pending;
		i > t.avail_out && (i = t.avail_out), 0 !== i && (zb.arraySet(t.output, e.pending_buf, e.pending_out, i, t
				.next_out), t.next_out += i, e.pending_out += i, t.total_out += i, t.avail_out -= i, e
			.pending -= i, 0 === e.pending && (e.pending_out = 0))
	}

	function Fk(t, e) {
		Vw._tr_flush_block(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, e), t
			.block_start = t.strstart, Uk(t.strm)
	}

	function Nk(t, e) {
		t.pending_buf[t.pending++] = e
	}

	function Vk(t, e) {
		t.pending_buf[t.pending++] = e >>> 8 & 255, t.pending_buf[t.pending++] = 255 & e
	}

	function zk(t, e) {
		var i, n, r = t.max_chain_length,
			o = t.strstart,
			s = t.prev_length,
			a = t.nice_match,
			h = t.strstart > t.w_size - bk ? t.strstart - (t.w_size - bk) : 0,
			c = t.window,
			u = t.w_mask,
			l = t.prev,
			d = t.strstart + _k,
			f = c[o + s - 1],
			p = c[o + s];
		t.prev_length >= t.good_match && (r >>= 2), a > t.lookahead && (a = t.lookahead);
		do {
			if (c[(i = e) + s] === p && c[i + s - 1] === f && c[i] === c[o] && c[++i] === c[o + 1]) {
				o += 2, i++;
				do {} while (c[++o] === c[++i] && c[++o] === c[++i] && c[++o] === c[++i] && c[++o] === c[++i] && c[
						++o] === c[++i] && c[++o] === c[++i] && c[++o] === c[++i] && c[++o] === c[++i] && o < d);
				if (n = _k - (d - o), o = d - _k, n > s) {
					if (t.match_start = e, s = n, n >= a) break;
					f = c[o + s - 1], p = c[o + s]
				}
			}
		} while ((e = l[e & u]) > h && 0 != --r);
		return s <= t.lookahead ? s : t.lookahead
	}

	function Hk(t) {
		var e, i, n, r, o, s, a, h, c, u, l = t.w_size;
		do {
			if (r = t.window_size - t.lookahead - t.strstart, t.strstart >= l + (l - bk)) {
				zb.arraySet(t.window, t.window, l, l, 0), t.match_start -= l, t.strstart -= l, t.block_start -= l,
					e = i = t.hash_size;
				do {
					n = t.head[--e], t.head[e] = n >= l ? n - l : 0
				} while (--i);
				e = i = l;
				do {
					n = t.prev[--e], t.prev[e] = n >= l ? n - l : 0
				} while (--i);
				r += l
			}
			if (0 === t.strm.avail_in) break;
			if (s = t.strm, a = t.window, h = t.strstart + t.lookahead, c = r, u = void 0, (u = s.avail_in) > c && (
					u = c), i = 0 === u ? 0 : (s.avail_in -= u, zb.arraySet(a, s.input, s.next_in, u, h), 1 === s
					.state.wrap ? s.adler = zw(s.adler, a, u, h) : 2 === s.state.wrap && (s.adler = $w(s.adler, a,
						u, h)), s.next_in += u, s.total_in += u, u), t.lookahead += i, t.lookahead + t.insert >= yk)
				for (o = t.strstart - t.insert, t.ins_h = t.window[o], t.ins_h = (t.ins_h << t.hash_shift ^ t
						.window[o + 1]) & t.hash_mask; t.insert && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[
							o + yk - 1]) & t.hash_mask, t.prev[o & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = o,
						o++, t.insert--, !(t.lookahead + t.insert < yk)););
		} while (t.lookahead < bk && 0 !== t.strm.avail_in)
	}

	function jk(t, e) {
		for (var i, n;;) {
			if (t.lookahead < bk) {
				if (Hk(t), t.lookahead < bk && e === qw) return Rk;
				if (0 === t.lookahead) break
			}
			if (i = 0, t.lookahead >= yk && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + yk - 1]) & t
					.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart),
				0 !== i && t.strstart - i <= t.w_size - bk && (t.match_length = zk(t, i)), t.match_length >= yk)
				if (n = Vw._tr_tally(t, t.strstart - t.match_start, t.match_length - yk), t.lookahead -= t
					.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= yk) {
					t.match_length--;
					do {
						t.strstart++, t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + yk - 1]) & t
							.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t
							.strstart
					} while (0 != --t.match_length);
					t.strstart++
				} else t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = (
					t.ins_h << t.hash_shift ^ t.window[t.strstart + 1]) & t.hash_mask;
			else n = Vw._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++;
			if (n && (Fk(t, !1), 0 === t.strm.avail_out)) return Rk
		}
		return t.insert = t.strstart < yk - 1 ? t.strstart : yk - 1, e === Yw ? (Fk(t, !0), 0 === t.strm.avail_out ?
			Lk : Pk) : t.last_lit && (Fk(t, !1), 0 === t.strm.avail_out) ? Rk : Ik
	}

	function $k(t, e) {
		for (var i, n, r;;) {
			if (t.lookahead < bk) {
				if (Hk(t), t.lookahead < bk && e === qw) return Rk;
				if (0 === t.lookahead) break
			}
			if (i = 0, t.lookahead >= yk && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + yk - 1]) & t
					.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart),
				t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = yk - 1, 0 !== i && t
				.prev_length < t.max_lazy_match && t.strstart - i <= t.w_size - bk && (t.match_length = zk(t, i), t
					.match_length <= 5 && (t.strategy === nk || t.match_length === yk && t.strstart - t
						.match_start > 4096) && (t.match_length = yk - 1)), t.prev_length >= yk && t.match_length <=
				t.prev_length) {
				r = t.strstart + t.lookahead - yk, n = Vw._tr_tally(t, t.strstart - 1 - t.prev_match, t
					.prev_length - yk), t.lookahead -= t.prev_length - 1, t.prev_length -= 2;
				do {
					++t.strstart <= r && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + yk - 1]) & t
						.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t
						.strstart)
				} while (0 != --t.prev_length);
				if (t.match_available = 0, t.match_length = yk - 1, t.strstart++, n && (Fk(t, !1), 0 === t.strm
						.avail_out)) return Rk
			} else if (t.match_available) {
				if ((n = Vw._tr_tally(t, 0, t.window[t.strstart - 1])) && Fk(t, !1), t.strstart++, t.lookahead--,
					0 === t.strm.avail_out) return Rk
			} else t.match_available = 1, t.strstart++, t.lookahead--
		}
		return t.match_available && (n = Vw._tr_tally(t, 0, t.window[t.strstart - 1]), t.match_available = 0), t
			.insert = t.strstart < yk - 1 ? t.strstart : yk - 1, e === Yw ? (Fk(t, !0), 0 === t.strm.avail_out ?
				Lk : Pk) : t.last_lit && (Fk(t, !1), 0 === t.strm.avail_out) ? Rk : Ik
	}

	function Wk(t, e, i, n, r) {
		this.good_length = t, this.max_lazy = e, this.nice_length = i, this.max_chain = n, this.func = r
	}

	function qk() {
		this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0,
			this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = ck, this
			.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this
			.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this
			.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0,
			this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead =
			0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this
			.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new zb.Buf16(2 * vk), this
			.dyn_dtree = new zb.Buf16(2 * (2 * pk + 1)), this.bl_tree = new zb.Buf16(2 * (2 * mk + 1)), Ok(this
				.dyn_ltree), Ok(this.dyn_dtree), Ok(this.bl_tree), this.l_desc = null, this.d_desc = null, this
			.bl_desc = null, this.bl_count = new zb.Buf16(gk + 1), this.heap = new zb.Buf16(2 * fk + 1), Ok(this
				.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new zb.Buf16(2 * fk + 1), Ok(this.depth),
			this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this
			.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
	}

	function Gk(t) {
		var e;
		return t && t.state ? (t.total_in = t.total_out = 0, t.data_type = hk, (e = t.state).pending = 0, e
			.pending_out = 0, e.wrap < 0 && (e.wrap = -e.wrap), e.status = e.wrap ? kk : Ak, t.adler = 2 === e
			.wrap ? 0 : 1, e.last_flush = qw, Vw._tr_init(e), Zw) : Mk(t, Jw)
	}

	function Kk(t) {
		var e, i = Gk(t);
		return i === Zw && ((e = t.state).window_size = 2 * e.w_size, Ok(e.head), e.max_lazy_match = jw[e.level]
			.max_lazy, e.good_match = jw[e.level].good_length, e.nice_match = jw[e.level].nice_length, e
			.max_chain_length = jw[e.level].max_chain, e.strstart = 0, e.block_start = 0, e.lookahead = 0, e
			.insert = 0, e.match_length = e.prev_length = yk - 1, e.match_available = 0, e.ins_h = 0), i
	}

	function Yk(t, e, i, n, r, o) {
		if (!t) return Jw;
		var s = 1;
		if (e === ik && (e = 6), n < 0 ? (s = 0, n = -n) : n > 15 && (s = 2, n -= 16), r < 1 || r > uk || i !==
			ck || n < 8 || n > 15 || e < 0 || e > 9 || o < 0 || o > sk) return Mk(t, Jw);
		8 === n && (n = 9);
		var a = new qk;
		return t.state = a, a.strm = t, a.wrap = s, a.gzhead = null, a.w_bits = n, a.w_size = 1 << a.w_bits, a
			.w_mask = a.w_size - 1, a.hash_bits = r + 7, a.hash_size = 1 << a.hash_bits, a.hash_mask = a.hash_size -
			1, a.hash_shift = ~~((a.hash_bits + yk - 1) / yk), a.window = new zb.Buf8(2 * a.w_size), a.head = new zb
			.Buf16(a.hash_size), a.prev = new zb.Buf16(a.w_size), a.lit_bufsize = 1 << r + 6, a.pending_buf_size =
			4 * a.lit_bufsize, a.pending_buf = new zb.Buf8(a.pending_buf_size), a.d_buf = 1 * a.lit_bufsize, a
			.l_buf = 3 * a.lit_bufsize, a.level = e, a.strategy = o, a.method = i, Kk(t)
	}
	jw = [new Wk(0, 0, 0, 0, function(t, e) {
			var i = 65535;
			for (i > t.pending_buf_size - 5 && (i = t.pending_buf_size - 5);;) {
				if (t.lookahead <= 1) {
					if (Hk(t), 0 === t.lookahead && e === qw) return Rk;
					if (0 === t.lookahead) break
				}
				t.strstart += t.lookahead, t.lookahead = 0;
				var n = t.block_start + i;
				if ((0 === t.strstart || t.strstart >= n) && (t.lookahead = t.strstart - n, t.strstart = n,
						Fk(t, !1), 0 === t.strm.avail_out)) return Rk;
				if (t.strstart - t.block_start >= t.w_size - bk && (Fk(t, !1), 0 === t.strm.avail_out))
					return Rk
			}
			return t.insert = 0, e === Yw ? (Fk(t, !0), 0 === t.strm.avail_out ? Lk : Pk) : (t.strstart > t
				.block_start && (Fk(t, !1), t.strm.avail_out), Rk)
		}), new Wk(4, 4, 8, 4, jk), new Wk(4, 5, 16, 8, jk), new Wk(4, 6, 32, 32, jk), new Wk(4, 4, 16, 16, $k),
		new Wk(8, 16, 32, 32, $k), new Wk(8, 16, 128, 128, $k), new Wk(8, 32, 128, 256, $k), new Wk(32, 128,
			258, 1024, $k), new Wk(32, 258, 258, 4096, $k)
	];
	var Xk = {
			deflateInit: function(t, e) {
				return Yk(t, e, ck, lk, dk, ak)
			},
			deflateInit2: Yk,
			deflateReset: Kk,
			deflateResetKeep: Gk,
			deflateSetHeader: function(t, e) {
				return t && t.state ? 2 !== t.state.wrap ? Jw : (t.state.gzhead = e, Zw) : Jw
			},
			deflate: function(t, e) {
				var i, n, r, o;
				if (!t || !t.state || e > Xw || e < 0) return t ? Mk(t, Jw) : Jw;
				if (n = t.state, !t.output || !t.input && 0 !== t.avail_in || n.status === Ck && e !== Yw)
					return Mk(t, 0 === t.avail_out ? ek : Jw);
				if (n.strm = t, i = n.last_flush, n.last_flush = e, n.status === kk)
					if (2 === n.wrap) t.adler = 0, Nk(n, 31), Nk(n, 139), Nk(n, 8), n.gzhead ? (Nk(n, (n.gzhead
							.text ? 1 : 0) + (n.gzhead.hcrc ? 2 : 0) + (n.gzhead.extra ? 4 : 0) + (n
							.gzhead.name ? 8 : 0) + (n.gzhead.comment ? 16 : 0)), Nk(n, 255 & n.gzhead
						.time), Nk(n, n.gzhead.time >> 8 & 255), Nk(n, n.gzhead.time >> 16 & 255), Nk(n, n
							.gzhead.time >> 24 & 255), Nk(n, 9 === n.level ? 2 : n.strategy >= rk || n
							.level < 2 ? 4 : 0), Nk(n, 255 & n.gzhead.os), n.gzhead.extra && n.gzhead.extra
						.length && (Nk(n, 255 & n.gzhead.extra.length), Nk(n, n.gzhead.extra.length >> 8 &
							255)), n.gzhead.hcrc && (t.adler = $w(t.adler, n.pending_buf, n.pending, 0)), n
						.gzindex = 0, n.status = Ek) : (Nk(n, 0), Nk(n, 0), Nk(n, 0), Nk(n, 0), Nk(n, 0),
						Nk(n, 9 === n.level ? 2 : n.strategy >= rk || n.level < 2 ? 4 : 0), Nk(n, Dk), n
						.status = Ak);
					else {
						var s = ck + (n.w_bits - 8 << 4) << 8;
						s |= (n.strategy >= rk || n.level < 2 ? 0 : n.level < 6 ? 1 : 6 === n.level ? 2 : 3) <<
							6, 0 !== n.strstart && (s |= wk), s += 31 - s % 31, n.status = Ak, Vk(n, s), 0 !== n
							.strstart && (Vk(n, t.adler >>> 16), Vk(n, 65535 & t.adler)), t.adler = 1
					} if (n.status === Ek)
					if (n.gzhead.extra) {
						for (r = n.pending; n.gzindex < (65535 & n.gzhead.extra.length) && (n.pending !== n
								.pending_buf_size || (n.gzhead.hcrc && n.pending > r && (t.adler = $w(t.adler, n
										.pending_buf, n.pending - r, r)), Uk(t), r = n.pending, n.pending !== n
									.pending_buf_size));) Nk(n, 255 & n.gzhead.extra[n.gzindex]), n.gzindex++;
						n.gzhead.hcrc && n.pending > r && (t.adler = $w(t.adler, n.pending_buf, n.pending - r,
							r)), n.gzindex === n.gzhead.extra.length && (n.gzindex = 0, n.status = Sk)
					} else n.status = Sk;
				if (n.status === Sk)
					if (n.gzhead.name) {
						r = n.pending;
						do {
							if (n.pending === n.pending_buf_size && (n.gzhead.hcrc && n.pending > r && (t
										.adler = $w(t.adler, n.pending_buf, n.pending - r, r)), Uk(t), r = n
									.pending, n.pending === n.pending_buf_size)) {
								o = 1;
								break
							}
							o = n.gzindex < n.gzhead.name.length ? 255 & n.gzhead.name.charCodeAt(n.gzindex++) :
								0, Nk(n, o)
						} while (0 !== o);
						n.gzhead.hcrc && n.pending > r && (t.adler = $w(t.adler, n.pending_buf, n.pending - r,
							r)), 0 === o && (n.gzindex = 0, n.status = Tk)
					} else n.status = Tk;
				if (n.status === Tk)
					if (n.gzhead.comment) {
						r = n.pending;
						do {
							if (n.pending === n.pending_buf_size && (n.gzhead.hcrc && n.pending > r && (t
										.adler = $w(t.adler, n.pending_buf, n.pending - r, r)), Uk(t), r = n
									.pending, n.pending === n.pending_buf_size)) {
								o = 1;
								break
							}
							o = n.gzindex < n.gzhead.comment.length ? 255 & n.gzhead.comment.charCodeAt(n
								.gzindex++) : 0, Nk(n, o)
						} while (0 !== o);
						n.gzhead.hcrc && n.pending > r && (t.adler = $w(t.adler, n.pending_buf, n.pending - r,
							r)), 0 === o && (n.status = xk)
					} else n.status = xk;
				if (n.status === xk && (n.gzhead.hcrc ? (n.pending + 2 > n.pending_buf_size && Uk(t), n
						.pending + 2 <= n.pending_buf_size && (Nk(n, 255 & t.adler), Nk(n, t.adler >> 8 &
							255), t.adler = 0, n.status = Ak)) : n.status = Ak), 0 !== n.pending) {
					if (Uk(t), 0 === t.avail_out) return n.last_flush = -1, Zw
				} else if (0 === t.avail_in && Bk(e) <= Bk(i) && e !== Yw) return Mk(t, ek);
				if (n.status === Ck && 0 !== t.avail_in) return Mk(t, ek);
				if (0 !== t.avail_in || 0 !== n.lookahead || e !== qw && n.status !== Ck) {
					var a = n.strategy === rk ? function(t, e) {
						for (var i;;) {
							if (0 === t.lookahead && (Hk(t), 0 === t.lookahead)) {
								if (e === qw) return Rk;
								break
							}
							if (t.match_length = 0, i = Vw._tr_tally(t, 0, t.window[t.strstart]), t
								.lookahead--, t.strstart++, i && (Fk(t, !1), 0 === t.strm.avail_out))
							return Rk
						}
						return t.insert = 0, e === Yw ? (Fk(t, !0), 0 === t.strm.avail_out ? Lk : Pk) : t
							.last_lit && (Fk(t, !1), 0 === t.strm.avail_out) ? Rk : Ik
					}(n, e) : n.strategy === ok ? function(t, e) {
						for (var i, n, r, o, s = t.window;;) {
							if (t.lookahead <= _k) {
								if (Hk(t), t.lookahead <= _k && e === qw) return Rk;
								if (0 === t.lookahead) break
							}
							if (t.match_length = 0, t.lookahead >= yk && t.strstart > 0 && (n = s[r = t
									.strstart - 1]) === s[++r] && n === s[++r] && n === s[++r]) {
								o = t.strstart + _k;
								do {} while (n === s[++r] && n === s[++r] && n === s[++r] && n === s[++r] &&
									n === s[++r] && n === s[++r] && n === s[++r] && n === s[++r] && r < o);
								t.match_length = _k - (o - r), t.match_length > t.lookahead && (t
									.match_length = t.lookahead)
							}
							if (t.match_length >= yk ? (i = Vw._tr_tally(t, 1, t.match_length - yk), t
									.lookahead -= t.match_length, t.strstart += t.match_length, t
									.match_length = 0) : (i = Vw._tr_tally(t, 0, t.window[t.strstart]), t
									.lookahead--, t.strstart++), i && (Fk(t, !1), 0 === t.strm.avail_out))
								return Rk
						}
						return t.insert = 0, e === Yw ? (Fk(t, !0), 0 === t.strm.avail_out ? Lk : Pk) : t
							.last_lit && (Fk(t, !1), 0 === t.strm.avail_out) ? Rk : Ik
					}(n, e) : jw[n.level].func(n, e);
					if (a !== Lk && a !== Pk || (n.status = Ck), a === Rk || a === Lk) return 0 === t
						.avail_out && (n.last_flush = -1), Zw;
					if (a === Ik && (e === Gw ? Vw._tr_align(n) : e !== Xw && (Vw._tr_stored_block(n, 0, 0, !1),
							e === Kw && (Ok(n.head), 0 === n.lookahead && (n.strstart = 0, n.block_start =
								0, n.insert = 0))), Uk(t), 0 === t.avail_out)) return n.last_flush = -1, Zw
				}
				return e !== Yw ? Zw : n.wrap <= 0 ? Qw : (2 === n.wrap ? (Nk(n, 255 & t.adler), Nk(n, t
					.adler >> 8 & 255), Nk(n, t.adler >> 16 & 255), Nk(n, t.adler >> 24 & 255), Nk(
					n, 255 & t.total_in), Nk(n, t.total_in >> 8 & 255), Nk(n, t.total_in >> 16 &
					255), Nk(n, t.total_in >> 24 & 255)) : (Vk(n, t.adler >>> 16), Vk(n, 65535 & t
					.adler)), Uk(t), n.wrap > 0 && (n.wrap = -n.wrap), 0 !== n.pending ? Zw : Qw)
			},
			deflateEnd: function(t) {
				var e;
				return t && t.state ? (e = t.state.status) !== kk && e !== Ek && e !== Sk && e !== Tk && e !==
					xk && e !== Ak && e !== Ck ? Mk(t, Jw) : (t.state = null, e === Ak ? Mk(t, tk) : Zw) : Jw
			},
			deflateSetDictionary: function(t, e) {
				var i, n, r, o, s, a, h, c, u = e.length;
				if (!t || !t.state) return Jw;
				if (2 === (o = (i = t.state).wrap) || 1 === o && i.status !== kk || i.lookahead) return Jw;
				for (1 === o && (t.adler = zw(t.adler, e, u, 0)), i.wrap = 0, u >= i.w_size && (0 === o && (Ok(i
							.head), i.strstart = 0, i.block_start = 0, i.insert = 0), c = new zb.Buf8(i.w_size),
						zb.arraySet(c, e, u - i.w_size, i.w_size, 0), e = c, u = i.w_size), s = t.avail_in, a =
					t.next_in, h = t.input, t.avail_in = u, t.next_in = 0, t.input = e, Hk(i); i.lookahead >=
					yk;) {
					n = i.strstart, r = i.lookahead - (yk - 1);
					do {
						i.ins_h = (i.ins_h << i.hash_shift ^ i.window[n + yk - 1]) & i.hash_mask, i.prev[n & i
							.w_mask] = i.head[i.ins_h], i.head[i.ins_h] = n, n++
					} while (--r);
					i.strstart = n, i.lookahead = yk - 1, Hk(i)
				}
				return i.strstart += i.lookahead, i.block_start = i.strstart, i.insert = i.lookahead, i
					.lookahead = 0, i.match_length = i.prev_length = yk - 1, i.match_available = 0, t.next_in =
					a, t.input = h, t.avail_in = s, i.wrap = o, Zw
			},
			deflateInfo: "pako deflate (from Nodeca project)"
		},
		Zk = !0,
		Qk = !0;
	try {
		String.fromCharCode.apply(null, [0])
	} catch (t) {
		Zk = !1
	}
	try {
		String.fromCharCode.apply(null, new Uint8Array(1))
	} catch (t) {
		Qk = !1
	}
	for (var Jk = new zb.Buf8(256), tE = 0; tE < 256; tE++) Jk[tE] = tE >= 252 ? 6 : tE >= 248 ? 5 : tE >= 240 ? 4 :
		tE >= 224 ? 3 : tE >= 192 ? 2 : 1;
	Jk[254] = Jk[254] = 1;

	function eE(t, e) {
		if (e < 65534 && (t.subarray && Qk || !t.subarray && Zk)) return String.fromCharCode.apply(null, zb
			.shrinkBuf(t, e));
		for (var i = "", n = 0; n < e; n++) i += String.fromCharCode(t[n]);
		return i
	}
	var iE = {
		string2buf: function(t) {
			var e, i, n, r, o, s = t.length,
				a = 0;
			for (r = 0; r < s; r++) 55296 == (64512 & (i = t.charCodeAt(r))) && r + 1 < s && 56320 == (
					64512 & (n = t.charCodeAt(r + 1))) && (i = 65536 + (i - 55296 << 10) + (n - 56320),
				r++), a += i < 128 ? 1 : i < 2048 ? 2 : i < 65536 ? 3 : 4;
			for (e = new zb.Buf8(a), o = 0, r = 0; o < a; r++) 55296 == (64512 & (i = t.charCodeAt(r))) &&
				r + 1 < s && 56320 == (64512 & (n = t.charCodeAt(r + 1))) && (i = 65536 + (i - 55296 <<
					10) + (n - 56320), r++), i < 128 ? e[o++] = i : i < 2048 ? (e[o++] = 192 | i >>> 6, e[
					o++] = 128 | 63 & i) : i < 65536 ? (e[o++] = 224 | i >>> 12, e[o++] = 128 | i >>> 6 &
					63, e[o++] = 128 | 63 & i) : (e[o++] = 240 | i >>> 18, e[o++] = 128 | i >>> 12 & 63, e[
					o++] = 128 | i >>> 6 & 63, e[o++] = 128 | 63 & i);
			return e
		},
		buf2binstring: function(t) {
			return eE(t, t.length)
		},
		binstring2buf: function(t) {
			for (var e = new zb.Buf8(t.length), i = 0, n = e.length; i < n; i++) e[i] = t.charCodeAt(i);
			return e
		},
		buf2string: function(t, e) {
			var i, n, r, o, s = e || t.length,
				a = new Array(2 * s);
			for (n = 0, i = 0; i < s;)
				if ((r = t[i++]) < 128) a[n++] = r;
				else if ((o = Jk[r]) > 4) a[n++] = 65533, i += o - 1;
			else {
				for (r &= 2 === o ? 31 : 3 === o ? 15 : 7; o > 1 && i < s;) r = r << 6 | 63 & t[i++], o--;
				o > 1 ? a[n++] = 65533 : r < 65536 ? a[n++] = r : (r -= 65536, a[n++] = 55296 | r >> 10 &
					1023, a[n++] = 56320 | 1023 & r)
			}
			return eE(a, n)
		},
		utf8border: function(t, e) {
			var i;
			for ((e = e || t.length) > t.length && (e = t.length), i = e - 1; i >= 0 && 128 == (192 & t[
				i]);) i--;
			return i < 0 ? e : 0 === i ? e : i + Jk[t[i]] > e ? i : e
		}
	};
	var nE = function() {
			this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this
				.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this
				.data_type = 2, this.adler = 0
		},
		rE = Object.prototype.toString,
		oE = 0,
		sE = -1,
		aE = 0,
		hE = 8;

	function cE(t) {
		if (!(this instanceof cE)) return new cE(t);
		this.options = zb.assign({
			level: sE,
			method: hE,
			chunkSize: 16384,
			windowBits: 15,
			memLevel: 8,
			strategy: aE,
			to: ""
		}, t || {});
		var e = this.options;
		e.raw && e.windowBits > 0 ? e.windowBits = -e.windowBits : e.gzip && e.windowBits > 0 && e.windowBits <
			16 && (e.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm =
			new nE, this.strm.avail_out = 0;
		var i = Xk.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);
		if (i !== oE) throw new Error(Ww[i]);
		if (e.header && Xk.deflateSetHeader(this.strm, e.header), e.dictionary) {
			var n;
			if (n = "string" == typeof e.dictionary ? iE.string2buf(e.dictionary) : "[object ArrayBuffer]" === rE
				.call(e.dictionary) ? new Uint8Array(e.dictionary) : e.dictionary, (i = Xk.deflateSetDictionary(this
					.strm, n)) !== oE) throw new Error(Ww[i]);
			this._dict_set = !0
		}
	}

	function uE(t, e) {
		var i = new cE(e);
		if (i.push(t, !0), i.err) throw i.msg || Ww[i.err];
		return i.result
	}
	cE.prototype.push = function(t, e) {
		var i, n, r = this.strm,
			o = this.options.chunkSize;
		if (this.ended) return !1;
		n = e === ~~e ? e : !0 === e ? 4 : 0, "string" == typeof t ? r.input = iE.string2buf(t) :
			"[object ArrayBuffer]" === rE.call(t) ? r.input = new Uint8Array(t) : r.input = t, r.next_in = 0, r
			.avail_in = r.input.length;
		do {
			if (0 === r.avail_out && (r.output = new zb.Buf8(o), r.next_out = 0, r.avail_out = o), 1 !== (i = Xk
					.deflate(r, n)) && i !== oE) return this.onEnd(i), this.ended = !0, !1;
			0 !== r.avail_out && (0 !== r.avail_in || 4 !== n && 2 !== n) || ("string" === this.options.to ?
				this.onData(iE.buf2binstring(zb.shrinkBuf(r.output, r.next_out))) : this.onData(zb
					.shrinkBuf(r.output, r.next_out)))
		} while ((r.avail_in > 0 || 0 === r.avail_out) && 1 !== i);
		return 4 === n ? (i = Xk.deflateEnd(this.strm), this.onEnd(i), this.ended = !0, i === oE) : 2 !== n || (
			this.onEnd(oE), r.avail_out = 0, !0)
	}, cE.prototype.onData = function(t) {
		this.chunks.push(t)
	}, cE.prototype.onEnd = function(t) {
		t === oE && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = zb
			.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
	};
	var lE = {
			Deflate: cE,
			deflate: uE,
			deflateRaw: function(t, e) {
				return (e = e || {}).raw = !0, uE(t, e)
			},
			gzip: function(t, e) {
				return (e = e || {}).gzip = !0, uE(t, e)
			}
		},
		dE = function(t, e) {
			var i, n, r, o, s, a, h, c, u, l, d, f, p, m, v, g, y, _, b, w, k, E, S, T, x;
			i = t.state, n = t.next_in, T = t.input, r = n + (t.avail_in - 5), o = t.next_out, x = t.output, s = o -
				(e - t.avail_out), a = o + (t.avail_out - 257), h = i.dmax, c = i.wsize, u = i.whave, l = i.wnext,
				d = i.window, f = i.hold, p = i.bits, m = i.lencode, v = i.distcode, g = (1 << i.lenbits) - 1, y = (
					1 << i.distbits) - 1;
			t: do {
				p < 15 && (f += T[n++] << p, p += 8, f += T[n++] << p, p += 8), _ = m[f & g];
				e: for (;;) {
					if (f >>>= b = _ >>> 24, p -= b, 0 === (b = _ >>> 16 & 255)) x[o++] = 65535 & _;
					else {
						if (!(16 & b)) {
							if (0 == (64 & b)) {
								_ = m[(65535 & _) + (f & (1 << b) - 1)];
								continue e
							}
							if (32 & b) {
								i.mode = 12;
								break t
							}
							t.msg = "invalid literal/length code", i.mode = 30;
							break t
						}
						w = 65535 & _, (b &= 15) && (p < b && (f += T[n++] << p, p += 8), w += f & (1 <<
							b) - 1, f >>>= b, p -= b), p < 15 && (f += T[n++] << p, p += 8, f += T[
							n++] << p, p += 8), _ = v[f & y];
						i: for (;;) {
							if (f >>>= b = _ >>> 24, p -= b, !(16 & (b = _ >>> 16 & 255))) {
								if (0 == (64 & b)) {
									_ = v[(65535 & _) + (f & (1 << b) - 1)];
									continue i
								}
								t.msg = "invalid distance code", i.mode = 30;
								break t
							}
							if (k = 65535 & _, p < (b &= 15) && (f += T[n++] << p, (p += 8) < b && (f +=
									T[n++] << p, p += 8)), (k += f & (1 << b) - 1) > h) {
								t.msg = "invalid distance too far back", i.mode = 30;
								break t
							}
							if (f >>>= b, p -= b, k > (b = o - s)) {
								if ((b = k - b) > u && i.sane) {
									t.msg = "invalid distance too far back", i.mode = 30;
									break t
								}
								if (E = 0, S = d, 0 === l) {
									if (E += c - b, b < w) {
										w -= b;
										do {
											x[o++] = d[E++]
										} while (--b);
										E = o - k, S = x
									}
								} else if (l < b) {
									if (E += c + l - b, (b -= l) < w) {
										w -= b;
										do {
											x[o++] = d[E++]
										} while (--b);
										if (E = 0, l < w) {
											w -= b = l;
											do {
												x[o++] = d[E++]
											} while (--b);
											E = o - k, S = x
										}
									}
								} else if (E += l - b, b < w) {
									w -= b;
									do {
										x[o++] = d[E++]
									} while (--b);
									E = o - k, S = x
								}
								for (; w > 2;) x[o++] = S[E++], x[o++] = S[E++], x[o++] = S[E++], w -=
								3;
								w && (x[o++] = S[E++], w > 1 && (x[o++] = S[E++]))
							} else {
								E = o - k;
								do {
									x[o++] = x[E++], x[o++] = x[E++], x[o++] = x[E++], w -= 3
								} while (w > 2);
								w && (x[o++] = x[E++], w > 1 && (x[o++] = x[E++]))
							}
							break
						}
					}
					break
				}
			} while (n < r && o < a);
			n -= w = p >> 3, f &= (1 << (p -= w << 3)) - 1, t.next_in = n, t.next_out = o, t.avail_in = n < r ? r -
				n + 5 : 5 - (n - r), t.avail_out = o < a ? a - o + 257 : 257 - (o - a), i.hold = f, i.bits = p
		},
		fE = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163,
			195, 227, 258, 0, 0
		],
		pE = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21,
			21, 21, 21, 16, 72, 78
		],
		mE = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073,
			4097, 6145, 8193, 12289, 16385, 24577, 0, 0
		],
		vE = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27,
			27, 28, 28, 29, 29, 64, 64
		],
		gE = function(t, e, i, n, r, o, s, a) {
			var h, c, u, l, d, f, p, m, v, g = a.bits,
				y = 0,
				_ = 0,
				b = 0,
				w = 0,
				k = 0,
				E = 0,
				S = 0,
				T = 0,
				x = 0,
				A = 0,
				C = null,
				R = 0,
				I = new zb.Buf16(16),
				L = new zb.Buf16(16),
				P = null,
				D = 0;
			for (y = 0; y <= 15; y++) I[y] = 0;
			for (_ = 0; _ < n; _++) I[e[i + _]]++;
			for (k = g, w = 15; w >= 1 && 0 === I[w]; w--);
			if (k > w && (k = w), 0 === w) return r[o++] = 20971520, r[o++] = 20971520, a.bits = 1, 0;
			for (b = 1; b < w && 0 === I[b]; b++);
			for (k < b && (k = b), T = 1, y = 1; y <= 15; y++)
				if (T <<= 1, (T -= I[y]) < 0) return -1;
			if (T > 0 && (0 === t || 1 !== w)) return -1;
			for (L[1] = 0, y = 1; y < 15; y++) L[y + 1] = L[y] + I[y];
			for (_ = 0; _ < n; _++) 0 !== e[i + _] && (s[L[e[i + _]]++] = _);
			if (0 === t ? (C = P = s, f = 19) : 1 === t ? (C = fE, R -= 257, P = pE, D -= 257, f = 256) : (C = mE,
					P = vE, f = -1), A = 0, _ = 0, y = b, d = o, E = k, S = 0, u = -1, l = (x = 1 << k) - 1, 1 ===
				t && x > 852 || 2 === t && x > 592) return 1;
			for (;;) {
				p = y - S, s[_] < f ? (m = 0, v = s[_]) : s[_] > f ? (m = P[D + s[_]], v = C[R + s[_]]) : (m = 96,
					v = 0), h = 1 << y - S, b = c = 1 << E;
				do {
					r[d + (A >> S) + (c -= h)] = p << 24 | m << 16 | v | 0
				} while (0 !== c);
				for (h = 1 << y - 1; A & h;) h >>= 1;
				if (0 !== h ? (A &= h - 1, A += h) : A = 0, _++, 0 == --I[y]) {
					if (y === w) break;
					y = e[i + s[_]]
				}
				if (y > k && (A & l) !== u) {
					for (0 === S && (S = k), d += b, T = 1 << (E = y - S); E + S < w && !((T -= I[E + S]) <= 0);)
						E++, T <<= 1;
					if (x += 1 << E, 1 === t && x > 852 || 2 === t && x > 592) return 1;
					r[u = A & l] = k << 24 | E << 16 | d - o | 0
				}
			}
			return 0 !== A && (r[d + A] = y - S << 24 | 64 << 16 | 0), a.bits = k, 0
		},
		yE = 0,
		_E = 1,
		bE = 2,
		wE = 4,
		kE = 5,
		EE = 6,
		SE = 0,
		TE = 1,
		xE = 2,
		AE = -2,
		CE = -3,
		RE = -4,
		IE = -5,
		LE = 8,
		PE = 1,
		DE = 2,
		ME = 3,
		BE = 4,
		OE = 5,
		UE = 6,
		FE = 7,
		NE = 8,
		VE = 9,
		zE = 10,
		HE = 11,
		jE = 12,
		$E = 13,
		WE = 14,
		qE = 15,
		GE = 16,
		KE = 17,
		YE = 18,
		XE = 19,
		ZE = 20,
		QE = 21,
		JE = 22,
		tS = 23,
		eS = 24,
		iS = 25,
		nS = 26,
		rS = 27,
		oS = 28,
		sS = 29,
		aS = 30,
		hS = 31,
		cS = 32,
		uS = 852,
		lS = 592,
		dS = 15;

	function fS(t) {
		return (t >>> 24 & 255) + (t >>> 8 & 65280) + ((65280 & t) << 8) + ((255 & t) << 24)
	}

	function pS() {
		this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this
			.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this
			.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this
			.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode =
			0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new zb.Buf16(320), this
			.work = new zb.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this
			.was = 0
	}

	function mS(t) {
		var e;
		return t && t.state ? (e = t.state, t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler =
				1 & e.wrap), e.mode = PE, e.last = 0, e.havedict = 0, e.dmax = 32768, e.head = null, e.hold = 0,
			e.bits = 0, e.lencode = e.lendyn = new zb.Buf32(uS), e.distcode = e.distdyn = new zb.Buf32(lS), e
			.sane = 1, e.back = -1, SE) : AE
	}

	function vS(t) {
		var e;
		return t && t.state ? ((e = t.state).wsize = 0, e.whave = 0, e.wnext = 0, mS(t)) : AE
	}

	function gS(t, e) {
		var i, n;
		return t && t.state ? (n = t.state, e < 0 ? (i = 0, e = -e) : (i = 1 + (e >> 4), e < 48 && (e &= 15)), e &&
			(e < 8 || e > 15) ? AE : (null !== n.window && n.wbits !== e && (n.window = null), n.wrap = i, n
				.wbits = e, vS(t))) : AE
	}

	function yS(t, e) {
		var i, n;
		return t ? (n = new pS, t.state = n, n.window = null, (i = gS(t, e)) !== SE && (t.state = null), i) : AE
	}
	var _S, bS, wS = !0;

	function kS(t) {
		if (wS) {
			var e;
			for (_S = new zb.Buf32(512), bS = new zb.Buf32(32), e = 0; e < 144;) t.lens[e++] = 8;
			for (; e < 256;) t.lens[e++] = 9;
			for (; e < 280;) t.lens[e++] = 7;
			for (; e < 288;) t.lens[e++] = 8;
			for (gE(_E, t.lens, 0, 288, _S, 0, t.work, {
					bits: 9
				}), e = 0; e < 32;) t.lens[e++] = 5;
			gE(bE, t.lens, 0, 32, bS, 0, t.work, {
				bits: 5
			}), wS = !1
		}
		t.lencode = _S, t.lenbits = 9, t.distcode = bS, t.distbits = 5
	}

	function ES(t, e, i, n) {
		var r, o = t.state;
		return null === o.window && (o.wsize = 1 << o.wbits, o.wnext = 0, o.whave = 0, o.window = new zb.Buf8(o
			.wsize)), n >= o.wsize ? (zb.arraySet(o.window, e, i - o.wsize, o.wsize, 0), o.wnext = 0, o.whave =
			o.wsize) : ((r = o.wsize - o.wnext) > n && (r = n), zb.arraySet(o.window, e, i - n, r, o.wnext), (
			n -= r) ? (zb.arraySet(o.window, e, i - n, n, 0), o.wnext = n, o.whave = o.wsize) : (o.wnext +=
			r, o.wnext === o.wsize && (o.wnext = 0), o.whave < o.wsize && (o.whave += r))), 0
	}
	var SS = {
			inflateReset: vS,
			inflateReset2: gS,
			inflateResetKeep: mS,
			inflateInit: function(t) {
				return yS(t, dS)
			},
			inflateInit2: yS,
			inflate: function(t, e) {
				var i, n, r, o, s, a, h, c, u, l, d, f, p, m, v, g, y, _, b, w, k, E, S, T, x = 0,
					A = new zb.Buf8(4),
					C = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
				if (!t || !t.state || !t.output || !t.input && 0 !== t.avail_in) return AE;
				(i = t.state).mode === jE && (i.mode = $E), s = t.next_out, r = t.output, h = t.avail_out, o = t
					.next_in, n = t.input, a = t.avail_in, c = i.hold, u = i.bits, l = a, d = h, E = SE;
				t: for (;;) switch (i.mode) {
					case PE:
						if (0 === i.wrap) {
							i.mode = $E;
							break
						}
						for (; u < 16;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						if (2 & i.wrap && 35615 === c) {
							i.check = 0, A[0] = 255 & c, A[1] = c >>> 8 & 255, i.check = $w(i.check, A,
								2, 0), c = 0, u = 0, i.mode = DE;
							break
						}
						if (i.flags = 0, i.head && (i.head.done = !1), !(1 & i.wrap) || (((255 & c) <<
								8) + (c >> 8)) % 31) {
							t.msg = "incorrect header check", i.mode = aS;
							break
						}
						if ((15 & c) !== LE) {
							t.msg = "unknown compression method", i.mode = aS;
							break
						}
						if (u -= 4, k = 8 + (15 & (c >>>= 4)), 0 === i.wbits) i.wbits = k;
						else if (k > i.wbits) {
							t.msg = "invalid window size", i.mode = aS;
							break
						}
						i.dmax = 1 << k, t.adler = i.check = 1, i.mode = 512 & c ? zE : jE, c = 0, u =
						0;
						break;
					case DE:
						for (; u < 16;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						if (i.flags = c, (255 & i.flags) !== LE) {
							t.msg = "unknown compression method", i.mode = aS;
							break
						}
						if (57344 & i.flags) {
							t.msg = "unknown header flags set", i.mode = aS;
							break
						}
						i.head && (i.head.text = c >> 8 & 1), 512 & i.flags && (A[0] = 255 & c, A[1] =
								c >>> 8 & 255, i.check = $w(i.check, A, 2, 0)), c = 0, u = 0, i.mode =
							ME;
					case ME:
						for (; u < 32;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						i.head && (i.head.time = c), 512 & i.flags && (A[0] = 255 & c, A[1] = c >>> 8 &
							255, A[2] = c >>> 16 & 255, A[3] = c >>> 24 & 255, i.check = $w(i.check,
								A, 4, 0)), c = 0, u = 0, i.mode = BE;
					case BE:
						for (; u < 16;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						i.head && (i.head.xflags = 255 & c, i.head.os = c >> 8), 512 & i.flags && (A[
								0] = 255 & c, A[1] = c >>> 8 & 255, i.check = $w(i.check, A, 2, 0)), c =
							0, u = 0, i.mode = OE;
					case OE:
						if (1024 & i.flags) {
							for (; u < 16;) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							i.length = c, i.head && (i.head.extra_len = c), 512 & i.flags && (A[0] =
									255 & c, A[1] = c >>> 8 & 255, i.check = $w(i.check, A, 2, 0)), c =
								0, u = 0
						} else i.head && (i.head.extra = null);
						i.mode = UE;
					case UE:
						if (1024 & i.flags && ((f = i.length) > a && (f = a), f && (i.head && (k = i
									.head.extra_len - i.length, i.head.extra || (i.head.extra =
										new Array(i.head.extra_len)), zb.arraySet(i.head.extra, n,
										o, f, k)), 512 & i.flags && (i.check = $w(i.check, n, f,
								o)), a -= f, o += f, i.length -= f), i.length)) break t;
						i.length = 0, i.mode = FE;
					case FE:
						if (2048 & i.flags) {
							if (0 === a) break t;
							f = 0;
							do {
								k = n[o + f++], i.head && k && i.length < 65536 && (i.head.name +=
									String.fromCharCode(k))
							} while (k && f < a);
							if (512 & i.flags && (i.check = $w(i.check, n, f, o)), a -= f, o += f, k)
								break t
						} else i.head && (i.head.name = null);
						i.length = 0, i.mode = NE;
					case NE:
						if (4096 & i.flags) {
							if (0 === a) break t;
							f = 0;
							do {
								k = n[o + f++], i.head && k && i.length < 65536 && (i.head.comment +=
									String.fromCharCode(k))
							} while (k && f < a);
							if (512 & i.flags && (i.check = $w(i.check, n, f, o)), a -= f, o += f, k)
								break t
						} else i.head && (i.head.comment = null);
						i.mode = VE;
					case VE:
						if (512 & i.flags) {
							for (; u < 16;) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							if (c !== (65535 & i.check)) {
								t.msg = "header crc mismatch", i.mode = aS;
								break
							}
							c = 0, u = 0
						}
						i.head && (i.head.hcrc = i.flags >> 9 & 1, i.head.done = !0), t.adler = i
							.check = 0, i.mode = jE;
						break;
					case zE:
						for (; u < 32;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						t.adler = i.check = fS(c), c = 0, u = 0, i.mode = HE;
					case HE:
						if (0 === i.havedict) return t.next_out = s, t.avail_out = h, t.next_in = o, t
							.avail_in = a, i.hold = c, i.bits = u, xE;
						t.adler = i.check = 1, i.mode = jE;
					case jE:
						if (e === kE || e === EE) break t;
					case $E:
						if (i.last) {
							c >>>= 7 & u, u -= 7 & u, i.mode = rS;
							break
						}
						for (; u < 3;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						switch (i.last = 1 & c, u -= 1, 3 & (c >>>= 1)) {
							case 0:
								i.mode = WE;
								break;
							case 1:
								if (kS(i), i.mode = ZE, e === EE) {
									c >>>= 2, u -= 2;
									break t
								}
								break;
							case 2:
								i.mode = KE;
								break;
							case 3:
								t.msg = "invalid block type", i.mode = aS
						}
						c >>>= 2, u -= 2;
						break;
					case WE:
						for (c >>>= 7 & u, u -= 7 & u; u < 32;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						if ((65535 & c) != (c >>> 16 ^ 65535)) {
							t.msg = "invalid stored block lengths", i.mode = aS;
							break
						}
						if (i.length = 65535 & c, c = 0, u = 0, i.mode = qE, e === EE) break t;
					case qE:
						i.mode = GE;
					case GE:
						if (f = i.length) {
							if (f > a && (f = a), f > h && (f = h), 0 === f) break t;
							zb.arraySet(r, n, o, f, s), a -= f, o += f, h -= f, s += f, i.length -= f;
							break
						}
						i.mode = jE;
						break;
					case KE:
						for (; u < 14;) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						if (i.nlen = 257 + (31 & c), c >>>= 5, u -= 5, i.ndist = 1 + (31 & c), c >>>= 5,
							u -= 5, i.ncode = 4 + (15 & c), c >>>= 4, u -= 4, i.nlen > 286 || i.ndist >
							30) {
							t.msg = "too many length or distance symbols", i.mode = aS;
							break
						}
						i.have = 0, i.mode = YE;
					case YE:
						for (; i.have < i.ncode;) {
							for (; u < 3;) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							i.lens[C[i.have++]] = 7 & c, c >>>= 3, u -= 3
						}
						for (; i.have < 19;) i.lens[C[i.have++]] = 0;
						if (i.lencode = i.lendyn, i.lenbits = 7, S = {
								bits: i.lenbits
							}, E = gE(yE, i.lens, 0, 19, i.lencode, 0, i.work, S), i.lenbits = S.bits,
							E) {
							t.msg = "invalid code lengths set", i.mode = aS;
							break
						}
						i.have = 0, i.mode = XE;
					case XE:
						for (; i.have < i.nlen + i.ndist;) {
							for (; g = (x = i.lencode[c & (1 << i.lenbits) - 1]) >>> 16 & 255, y =
								65535 & x, !((v = x >>> 24) <= u);) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							if (y < 16) c >>>= v, u -= v, i.lens[i.have++] = y;
							else {
								if (16 === y) {
									for (T = v + 2; u < T;) {
										if (0 === a) break t;
										a--, c += n[o++] << u, u += 8
									}
									if (c >>>= v, u -= v, 0 === i.have) {
										t.msg = "invalid bit length repeat", i.mode = aS;
										break
									}
									k = i.lens[i.have - 1], f = 3 + (3 & c), c >>>= 2, u -= 2
								} else if (17 === y) {
									for (T = v + 3; u < T;) {
										if (0 === a) break t;
										a--, c += n[o++] << u, u += 8
									}
									u -= v, k = 0, f = 3 + (7 & (c >>>= v)), c >>>= 3, u -= 3
								} else {
									for (T = v + 7; u < T;) {
										if (0 === a) break t;
										a--, c += n[o++] << u, u += 8
									}
									u -= v, k = 0, f = 11 + (127 & (c >>>= v)), c >>>= 7, u -= 7
								}
								if (i.have + f > i.nlen + i.ndist) {
									t.msg = "invalid bit length repeat", i.mode = aS;
									break
								}
								for (; f--;) i.lens[i.have++] = k
							}
						}
						if (i.mode === aS) break;
						if (0 === i.lens[256]) {
							t.msg = "invalid code -- missing end-of-block", i.mode = aS;
							break
						}
						if (i.lenbits = 9, S = {
								bits: i.lenbits
							}, E = gE(_E, i.lens, 0, i.nlen, i.lencode, 0, i.work, S), i.lenbits = S
							.bits, E) {
							t.msg = "invalid literal/lengths set", i.mode = aS;
							break
						}
						if (i.distbits = 6, i.distcode = i.distdyn, S = {
								bits: i.distbits
							}, E = gE(bE, i.lens, i.nlen, i.ndist, i.distcode, 0, i.work, S), i
							.distbits = S.bits, E) {
							t.msg = "invalid distances set", i.mode = aS;
							break
						}
						if (i.mode = ZE, e === EE) break t;
					case ZE:
						i.mode = QE;
					case QE:
						if (a >= 6 && h >= 258) {
							t.next_out = s, t.avail_out = h, t.next_in = o, t.avail_in = a, i.hold = c,
								i.bits = u, dE(t, d), s = t.next_out, r = t.output, h = t.avail_out, o =
								t.next_in, n = t.input, a = t.avail_in, c = i.hold, u = i.bits, i
								.mode === jE && (i.back = -1);
							break
						}
						for (i.back = 0; g = (x = i.lencode[c & (1 << i.lenbits) - 1]) >>> 16 & 255, y =
							65535 & x, !((v = x >>> 24) <= u);) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						if (g && 0 == (240 & g)) {
							for (_ = v, b = g, w = y; g = (x = i.lencode[w + ((c & (1 << _ + b) - 1) >>
									_)]) >>> 16 & 255, y = 65535 & x, !(_ + (v = x >>> 24) <= u);) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							c >>>= _, u -= _, i.back += _
						}
						if (c >>>= v, u -= v, i.back += v, i.length = y, 0 === g) {
							i.mode = nS;
							break
						}
						if (32 & g) {
							i.back = -1, i.mode = jE;
							break
						}
						if (64 & g) {
							t.msg = "invalid literal/length code", i.mode = aS;
							break
						}
						i.extra = 15 & g, i.mode = JE;
					case JE:
						if (i.extra) {
							for (T = i.extra; u < T;) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							i.length += c & (1 << i.extra) - 1, c >>>= i.extra, u -= i.extra, i.back +=
								i.extra
						}
						i.was = i.length, i.mode = tS;
					case tS:
						for (; g = (x = i.distcode[c & (1 << i.distbits) - 1]) >>> 16 & 255, y = 65535 &
							x, !((v = x >>> 24) <= u);) {
							if (0 === a) break t;
							a--, c += n[o++] << u, u += 8
						}
						if (0 == (240 & g)) {
							for (_ = v, b = g, w = y; g = (x = i.distcode[w + ((c & (1 << _ + b) - 1) >>
									_)]) >>> 16 & 255, y = 65535 & x, !(_ + (v = x >>> 24) <= u);) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							c >>>= _, u -= _, i.back += _
						}
						if (c >>>= v, u -= v, i.back += v, 64 & g) {
							t.msg = "invalid distance code", i.mode = aS;
							break
						}
						i.offset = y, i.extra = 15 & g, i.mode = eS;
					case eS:
						if (i.extra) {
							for (T = i.extra; u < T;) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							i.offset += c & (1 << i.extra) - 1, c >>>= i.extra, u -= i.extra, i.back +=
								i.extra
						}
						if (i.offset > i.dmax) {
							t.msg = "invalid distance too far back", i.mode = aS;
							break
						}
						i.mode = iS;
					case iS:
						if (0 === h) break t;
						if (f = d - h, i.offset > f) {
							if ((f = i.offset - f) > i.whave && i.sane) {
								t.msg = "invalid distance too far back", i.mode = aS;
								break
							}
							f > i.wnext ? (f -= i.wnext, p = i.wsize - f) : p = i.wnext - f, f > i
								.length && (f = i.length), m = i.window
						} else m = r, p = s - i.offset, f = i.length;
						f > h && (f = h), h -= f, i.length -= f;
						do {
							r[s++] = m[p++]
						} while (--f);
						0 === i.length && (i.mode = QE);
						break;
					case nS:
						if (0 === h) break t;
						r[s++] = i.length, h--, i.mode = QE;
						break;
					case rS:
						if (i.wrap) {
							for (; u < 32;) {
								if (0 === a) break t;
								a--, c |= n[o++] << u, u += 8
							}
							if (d -= h, t.total_out += d, i.total += d, d && (t.adler = i.check = i
									.flags ? $w(i.check, r, d, s - d) : zw(i.check, r, d, s - d)), d =
								h, (i.flags ? c : fS(c)) !== i.check) {
								t.msg = "incorrect data check", i.mode = aS;
								break
							}
							c = 0, u = 0
						}
						i.mode = oS;
					case oS:
						if (i.wrap && i.flags) {
							for (; u < 32;) {
								if (0 === a) break t;
								a--, c += n[o++] << u, u += 8
							}
							if (c !== (4294967295 & i.total)) {
								t.msg = "incorrect length check", i.mode = aS;
								break
							}
							c = 0, u = 0
						}
						i.mode = sS;
					case sS:
						E = TE;
						break t;
					case aS:
						E = CE;
						break t;
					case hS:
						return RE;
					case cS:
					default:
						return AE
				}
				return t.next_out = s, t.avail_out = h, t.next_in = o, t.avail_in = a, i.hold = c, i.bits = u, (
						i.wsize || d !== t.avail_out && i.mode < aS && (i.mode < rS || e !== wE)) && ES(t, t
						.output, t.next_out, d - t.avail_out), l -= t.avail_in, d -= t.avail_out, t.total_in +=
					l, t.total_out += d, i.total += d, i.wrap && d && (t.adler = i.check = i.flags ? $w(i.check,
						r, d, t.next_out - d) : zw(i.check, r, d, t.next_out - d)), t.data_type = i.bits + (i
						.last ? 64 : 0) + (i.mode === jE ? 128 : 0) + (i.mode === ZE || i.mode === qE ? 256 :
					0), (0 === l && 0 === d || e === wE) && E === SE && (E = IE), E
			},
			inflateEnd: function(t) {
				if (!t || !t.state) return AE;
				var e = t.state;
				return e.window && (e.window = null), t.state = null, SE
			},
			inflateGetHeader: function(t, e) {
				var i;
				return t && t.state ? 0 == (2 & (i = t.state).wrap) ? AE : (i.head = e, e.done = !1, SE) : AE
			},
			inflateSetDictionary: function(t, e) {
				var i, n = e.length;
				return t && t.state ? 0 !== (i = t.state).wrap && i.mode !== HE ? AE : i.mode === HE && zw(1, e,
					n, 0) !== i.check ? CE : ES(t, e, n, n) ? (i.mode = hS, RE) : (i.havedict = 1, SE) : AE
			},
			inflateInfo: "pako inflate (from Nodeca project)"
		},
		TS = {
			Z_NO_FLUSH: 0,
			Z_PARTIAL_FLUSH: 1,
			Z_SYNC_FLUSH: 2,
			Z_FULL_FLUSH: 3,
			Z_FINISH: 4,
			Z_BLOCK: 5,
			Z_TREES: 6,
			Z_OK: 0,
			Z_STREAM_END: 1,
			Z_NEED_DICT: 2,
			Z_ERRNO: -1,
			Z_STREAM_ERROR: -2,
			Z_DATA_ERROR: -3,
			Z_BUF_ERROR: -5,
			Z_NO_COMPRESSION: 0,
			Z_BEST_SPEED: 1,
			Z_BEST_COMPRESSION: 9,
			Z_DEFAULT_COMPRESSION: -1,
			Z_FILTERED: 1,
			Z_HUFFMAN_ONLY: 2,
			Z_RLE: 3,
			Z_FIXED: 4,
			Z_DEFAULT_STRATEGY: 0,
			Z_BINARY: 0,
			Z_TEXT: 1,
			Z_UNKNOWN: 2,
			Z_DEFLATED: 8
		};
	var xS = function() {
			this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this
				.name = "", this.comment = "", this.hcrc = 0, this.done = !1
		},
		AS = Object.prototype.toString;

	function CS(t) {
		if (!(this instanceof CS)) return new CS(t);
		this.options = zb.assign({
			chunkSize: 16384,
			windowBits: 0,
			to: ""
		}, t || {});
		var e = this.options;
		e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, 0 === e.windowBits && (e
				.windowBits = -15)), !(e.windowBits >= 0 && e.windowBits < 16) || t && t.windowBits || (e
				.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e
				.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm =
			new nE, this.strm.avail_out = 0;
		var i = SS.inflateInit2(this.strm, e.windowBits);
		if (i !== TS.Z_OK) throw new Error(Ww[i]);
		if (this.header = new xS, SS.inflateGetHeader(this.strm, this.header), e.dictionary && ("string" == typeof e
				.dictionary ? e.dictionary = iE.string2buf(e.dictionary) : "[object ArrayBuffer]" === AS.call(e
					.dictionary) && (e.dictionary = new Uint8Array(e.dictionary)), e.raw && (i = SS
					.inflateSetDictionary(this.strm, e.dictionary)) !== TS.Z_OK)) throw new Error(Ww[i])
	}

	function RS(t, e) {
		var i = new CS(e);
		if (i.push(t, !0), i.err) throw i.msg || Ww[i.err];
		return i.result
	}
	CS.prototype.push = function(t, e) {
		var i, n, r, o, s, a = this.strm,
			h = this.options.chunkSize,
			c = this.options.dictionary,
			u = !1;
		if (this.ended) return !1;
		n = e === ~~e ? e : !0 === e ? TS.Z_FINISH : TS.Z_NO_FLUSH, "string" == typeof t ? a.input = iE
			.binstring2buf(t) : "[object ArrayBuffer]" === AS.call(t) ? a.input = new Uint8Array(t) : a.input =
			t, a.next_in = 0, a.avail_in = a.input.length;
		do {
			if (0 === a.avail_out && (a.output = new zb.Buf8(h), a.next_out = 0, a.avail_out = h), (i = SS
					.inflate(a, TS.Z_NO_FLUSH)) === TS.Z_NEED_DICT && c && (i = SS.inflateSetDictionary(this
					.strm, c)), i === TS.Z_BUF_ERROR && !0 === u && (i = TS.Z_OK, u = !1), i !== TS
				.Z_STREAM_END && i !== TS.Z_OK) return this.onEnd(i), this.ended = !0, !1;
			a.next_out && (0 !== a.avail_out && i !== TS.Z_STREAM_END && (0 !== a.avail_in || n !== TS
					.Z_FINISH && n !== TS.Z_SYNC_FLUSH) || ("string" === this.options.to ? (r = iE
					.utf8border(a.output, a.next_out), o = a.next_out - r, s = iE.buf2string(a.output,
						r), a.next_out = o, a.avail_out = h - o, o && zb.arraySet(a.output, a.output, r,
						o, 0), this.onData(s)) : this.onData(zb.shrinkBuf(a.output, a.next_out)))), 0 === a
				.avail_in && 0 === a.avail_out && (u = !0)
		} while ((a.avail_in > 0 || 0 === a.avail_out) && i !== TS.Z_STREAM_END);
		return i === TS.Z_STREAM_END && (n = TS.Z_FINISH), n === TS.Z_FINISH ? (i = SS.inflateEnd(this.strm),
			this.onEnd(i), this.ended = !0, i === TS.Z_OK) : n !== TS.Z_SYNC_FLUSH || (this.onEnd(TS.Z_OK),
			a.avail_out = 0, !0)
	}, CS.prototype.onData = function(t) {
		this.chunks.push(t)
	}, CS.prototype.onEnd = function(t) {
		t === TS.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = zb
			.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
	};
	var IS = {
			Inflate: CS,
			inflate: RS,
			inflateRaw: function(t, e) {
				return (e = e || {}).raw = !0, RS(t, e)
			},
			ungzip: RS
		},
		LS = {};
	(0, zb.assign)(LS, lE, IS, TS);
	var PS = LS,
		DS = function() {
			function t(t, e) {
				this.key = t, this.flag = e, this.running = !1
			}
			var e = t.prototype;
			return e.start = function() {
				return Pu(this, void 0, void 0, function() {
					function t() {
						Yi.info("[mangodamu-live]mqtt client connect success."), i.subscribe(e.topic)
					}
					var e, i, n, r;
					return Du(this, function(o) {
						switch (o.label) {
							case 0:
								return this.running ? [2] : (this.running = !0, [4, this
									.loadConfig()
								]);
							case 1:
								return (e = o.sent()) ? (this.serverConfig = e,
									"ebarrage-new.bz.mgtv.com", i = new Vb.Client(
										"ebarrage-new.bz.mgtv.com", 443, e.clientId), this
									._client = i, n = {
										onSuccess: t,
										userName: e.account,
										password: e.password,
										useSSL: !0
									}, i.connect(n), r = this.whenMessageArrived, i
									.onMessageArrived = function(t) {
										var e = PS.inflate(t.payloadBytes, {
											to: "string"
										});
										r && r(e)
									}, [2, e]) : (Yi.warn(
									"[mangodamu-live]mqtt config load fail."), [2])
						}
					})
				})
			}, e.loadConfig = function() {
				return Pu(this, void 0, void 0, function() {
					var e, i, n, r;
					return Du(this, function(o) {
						switch (o.label) {
							case 0:
								e = t.GET_TOKEN + "?key=" + this.key + "&flag=" + this.flag +
									"&zip=2", n = 0, o.label = 1;
							case 1:
								if (!(n < 3)) return [3, 7];
								o.label = 2;
							case 2:
								return o.trys.push([2, 4, , 5]), [4, Fi(e, {
									jsonpCallbackFunction: "danmu_info",
									timeout: 1e4
								})];
							case 3:
								return i = o.sent(), [3, 5];
							case 4:
								return o.sent(), [3, 5];
							case 5:
								if (i) return [3, 7];
								o.label = 6;
							case 6:
								return n++, [3, 1];
							case 7:
								return i ? [4, i.json()] : [2, null];
							case 8:
								return 200 == (r = o.sent()).err_code ? [2, r.data] : [2, null]
						}
					})
				})
			}, e.dispose = function() {
				try {
					this._client && this._client.disconnect()
				} catch (t) {}
			}, t.GET_TOKEN = "//provider.bz.mgtv.com/provider/v1/token", t
		}(),
		MS = {
			name: "mangoDanmuLive",
			el: "mango-danmu-live",
			data: {
				vm: null,
				version: "1.0.0",
				status: "open",
				config: {
					view: !0,
					message: !0
				},
				view: null,
				client: null,
				isSwitch: !0
			},
			operable: !1,
			penetrate: !0,
			level: 2,
			init: function() {
				Fb.loadImageConfig()
			},
			inited: function() {
				this.vm = this.__dispatcher.vm;
				var t = this.vm.config.disableDanmuPlugin,
					e = /iPad/i.test(navigator.userAgent);
				(navigator.userAgent.indexOf("Trident") > -1 && navigator.userAgent.indexOf("rv:11.0") > -1 ||
					e) && (t = !0);
				var i = {
					view: !t,
					message: !0
				};
				this.initDanmu(i), this.config = i
			},
			create: function() {},
			destroy: function() {
				var t = this.client,
					e = this.view;
				t && t.dispose(), e && e.clear(), Lb.clear()
			},
			events: {
				videoPlay: function() {
					this.emit("danmuConfig", Iu({}, this.config, {
						switcher: !0,
						userConfig: this.isSwitch
					}));
					var t = this.view;
					t && t.setVisible(!0)
				},
				play: function() {},
				danmuStatusChange: function(t) {
					var e = this.view;
					e && (1 == t.state ? e.turnOn() : e.turnOff()), this.isSwitch = 1 == t.state
				},
				fullscreenchange: function(t) {
					var e = Boolean(this.vm.fullscreenElement);
					this.view && this.view.fullscreen(e)
				},
				c_resize: function(t) {
					this.view && this.view.setViewPort({
						width: t.width,
						height: t.height
					})
				},
				videoReload: function() {
					this.initDanmu(this.config)
				},
				liveSourceError: function() {
					var t = this.client,
						e = this.view;
					this.vm;
					t && t.dispose(), e && e.clear(), Lb.clear()
				}
			},
			methods: {
				userSpeak: function(t) {
					var e;
					t.type || (e = {
						t: "1",
						u: t.uuid,
						n: t.nickName,
						c: t.barrageContent,
						self: !0
					});
					var i = t.uuid;
					Lb.setUserUUID(i), Lb.userSpeak(e)
				},
				initDanmu: function(t) {
					var e = Object.assign({}, {
							view: !0,
							message: !0
						}, t),
						i = this.client,
						n = this.view,
						r = this.vm;
					i && i.dispose(), n && n.clear(), Lb.clear();
					var o = document.querySelector("mango-danmu-live");
					!n && e.view && o && ((n = new Nb(o)).setVisible(!1), n.turnOn());
					var s = r.liveSource;
					if (s) {
						var a = s.chatKey,
							h = s.chatFlag;
						(i = new DS(a, h)).whenMessageArrived = function(t) {
							var i = JSON.parse(t);
							if (r.emit("mqttMessageArrived", i), !e.view && e.message) {
								var n = [];
								for (var o in i)
									for (var s = 0, a = i[o]; s < a.length; s++) {
										var h = a[s];
										n.push(h)
									}
								It(window, "chatPanel.addMessage", n), r.emit("addMessage", n)
							} else Lb.addMessage(i)
						}, i.start().then(function(t) {
							t && r.emit("mqttToken", t)
						})
					}
					this.client = i, this.view = n
				}
			}
		},
		BS = {
			switchQuality: function(t) {
				It(window, "switchQuality", [t])
			},
			getLiveSourceHandler: function(t) {
				this.config.source = t, this.reloadSource(t)
			},
			userSpeak: function(t) {
				this.mangoDanmuLive.userSpeak(t)
			},
			addToken: function(t) {
				var e = {};
				e.clientId = t.clientId, e.key = t.chatKey, e.flag = t.chatFlag, e.title = t.title, It(window,
					"chatPanel.addToken", [e])
			},
			switchBigGiftVisible: function(t) {
				var e = 1 == t;
				this.mangoDanmuLive.view.bigGiftOpen = e
			},
			getFloatWindowMode: function() {
				return !1
			},
			showToast: function(t) {
				var e = {};
				e = isString(t) ? {
					toast: t
				} : t, this.emit("showToast", e)
			},
			pushMessage: function(t) {
				this.emit("pushMessage", t)
			},
			showLoginDialog: function() {
				var t = Rt(this, "_config.injector.showLoginDialog");
				return $(document).on("HONEY-LOGIN-SUCCESS", function() {
					location.reload()
				}), "function" == typeof t ? t() : It(window, "H.loginDialog")
			},
			showCasherDialog: function(t) {
				if (void 0 === t && (t = {}), PC_Cashier) {
					var e = t,
						i = e.unid,
						n = void 0 === i ? "" : i,
						r = e.clocation,
						o = void 0 === r ? "" : r,
						s = e.ftype,
						a = void 0 === s ? "" : s,
						h = e.tag_ext,
						c = void 0 === h ? "" : h,
						u = e.cashier_type,
						l = void 0 === u ? "vip" : u,
						d = this,
						f = this.config.source && this.config.source.data && this.config.source.data.cameraId ||
						"",
						p = Rt(this, "config.lobparam.cxid");
					(function() {
						var t = document.querySelector("#PC_Cashier_Container_vip");
						t || ((t = document.createElement("div")).id = "PC_Cashier_Container_vip", document
							.querySelector("#mgtv-video-wrap").appendChild(t));
						var e = new PC_Cashier("#PC_Cashier_Container_vip", {
							login: function() {
								d.showLoginDialog()
							},
							success: function() {
								location.reload()
							},
							close: function() {
								e.destroy()
							}
						}, {
							pv: {
								ch: p,
								unid: n,
								clocation: o,
								ftype: a
							},
							tv_channel: f,
							tag_ext: c,
							cashier_type: l,
							ext: {
								scene_code: "system"
							}
						});
						return e
					})().show()
				}
			}
		},
		OS = {
			"common.play": "播放",
			"common.pause": "暫停",
			"common.replay": "重播",
			"common.open": "打開",
			"common.close": "關閉",
			"common.cancel": "取消",
			"common.openvip": "開通會員",
			"common.feedback": "立即反饋",
			"common.slogan": "天生青春",
			"common.refresh": "重繪",
			"common.error.fail": "抱歉！視頻文件獲取失敗",
			"common.error.wrong": "抱歉！視頻文件異常",
			"common.error.play.wrong": "抱歉！視頻播放失敗",
			"common.error.stream.error": "視頻獲取失敗，請確保您的網絡正常",
			"common.error.drm.not.support": "瀏覽器不支持該視頻播放",
			"common.error.drm.tips": "請使用最新版本Chrome瀏覽器或者Edge瀏覽器進行播放",
			"menu.copy.videourl": "複製視頻地址",
			"menu.copy.videotime": "複製當前時間的視頻地址",
			"menu.player.version": "播放器版本",
			"menu.player.useflash": "使用FLASH播放器",
			"menu.player.usehtml5": "使用HTML5播放器",
			"bottom.thumb.text": "贊",
			"bottom.comment.text": "評論",
			"bottom.comment.wan": "萬",
			"bottom.comment.yi": "億",
			"bottom.playcount.text": "播放次數",
			"controls.watchit.text": "只看TA",
			"controls.watchit.start": "明星",
			"controls.watchit.min": "分鐘",
			"controls.watchit.full": "觀看完整視頻",
			"controls.volume.text": "音量",
			"controls.playrate.text": "倍速",
			"controls.playrate.shotcut": "正以 {{playrate}} 倍速播放，鍵盤 [ ] 快速調節",
			"controls.pip.text": "畫中畫",
			"controls.webscreen.text": "網頁全屏",
			"controls.setting.text": "設置",
			"controls.setting.player": "播放器",
			"controls.setting.skipstart": "跳過片頭片尾",
			"controls.next.text": "下一個",
			"controls.next.play": "即將播放",
			"controls.episode.open": "選集",
			"controls.danmu.open": "打開彈幕",
			"controls.danmu.close": "關閉彈幕",
			"controls.clarity.blue": "藍光 (客戶端) ",
			"controls.clarity.free": "免費",
			"controls.clarity.vip": "會員",
			"controls.clarity.auto": "自動",
			"controls.tip.volume": "當前音量",
			"controls.tip.skipstart": "已經為您跳過片頭",
			"controls.tip.skipend": "即將為您跳過片尾",
			"controls.tip.continue.play": "接上次觀看時間 {{time}} 繼續播出",
			"controls.tip.clarity.stall": "網絡有點卡，點擊切換清晰度至 {{def}}",
			"controls.tip.clarity.switch": "尊貴的用戶，已為您切換至 {{def}}",
			"controls.tip.clarity.switching": "正在為您切換至 {{def}}",
			"controls.tip.clarity.switched": "已切換至 {{def}}",
			"controls.tip.clarity.switch.error": "抱歉，清晰度切換失敗，請重試",
			"controls.tip.ad.enter": "即將進入廣告 {{time}}",
			"controls.tip.caton.desc": "播放卡頓？可嘗試拖動進度條、切換清晰度或{{refresh}}頁面",
			"controls.loop": "循環播放",
			"controls.loop.open": "打開循環播放",
			"controls.loop.close": "關閉循環播放",
			"controls.loop.opend": "已打開循環播放",
			"controls.loop.closed": "已關閉循環播放",
			"controls.subtitle.subtitle": "字幕",
			"controls.subtitle.unsubtitle": "無字幕",
			"state.ad.adblocker.tip": '廣告被插件誤傷啦，視頻將在 <em node="downcount">{{downcount}}</em>秒後播放',
			"state.ad.adblocker.off": "如何關閉插件",
			"state.ad.adblocker.error": "關閉後仍無法播放廣告?",
			"state.ad.service": "觀看廣告，讓小芒果能更好的為您服務",
			"state.ad.call.action": "開通會員不僅可以免廣告，更有藍光大片任您看。",
			"state.blue.title": "會員尊享，極致觀感",
			"state.blue.call.action": "開通會員免費觀看",
			"state.blue.refresh": "開通後請登錄並刷新頁面觀看",
			"state.blue.scan.tip": "掃一掃，開通會員",
			"state.blue.login": '您還未登錄，請<a href="javascript:void(0);" action="login">登錄</a>',
			"state.rights.title": "開通會員</br>享特權",
			"state.rights.adfree": "免廣告",
			"state.rights.blue": "專享藍光",
			"state.rights.film": "會員片庫",
			"state.rights.coupon": "送觀影券",
			"state.flash.tip": "親，您的FLASH插件出現異常，無法播放視頻",
			"state.flash.solution.text": "您可以 ↓",
			"state.flash.solution.repair": "修復FLASH插件<em>(推薦)<em>",
			"state.flash.solution.app": "手機掃碼觀看",
			"state.flash.solution.client": "桌面客戶端觀看",
			"state.toast.autoplay": "因瀏覽器限制，請手動打開音量",
			"state.start.ipad.tip": "安裝芒果TV，享3倍流暢度",
			"state.error.code": "錯誤碼",
			"state.error.app": "芒果APP掃碼觀看 ↓",
			"state.error.refresh": "刷新重試",
			"state.payment.scan": "掃描二維碼進入芒果TV國際版移動端",
			"state.payment.vip.title": "開通會員可免費觀看本內容",
			"state.payment.vip.desc": "請前往芒果TV國際版移動端，使用同一芒果TV賬號登錄後開通會員 ，開通成功後返回本頁面登錄同一芒果TV賬號刷新觀看。",
			"state.payment.single.title": "本內容需付費點播，購買後可免費觀看",
			"state.payment.single.desc": "請前往芒果TV國際版移動端，使用同一芒果TV賬號登錄後購買本內容,購買成功後返回本頁面登錄同一芒果TV賬號刷新觀看。",
			"state.payment.coupon.title": "本內容需使用觀影券免費觀看",
			"state.payment.coupon.desc": "請前往芒果TV國際版移動端，使用同一芒果TV會員賬號登錄後，使用觀影券觀看本內容,再返回本頁面登錄同一芒果TV賬號刷新觀看。",
			"state.payment.hd.title": "會員尊享，極致觀感",
			"state.payment.hd.desc": "請前往芒果TV國際版移動端，使用同一芒果TV賬號登錄後開通會員 ，開通成功後返回本頁面登錄同一芒果TV賬號刷新觀看。",
			"state.payment.rights.early": "搶先看",
			"state.payment.rights.hd": "享藍光",
			"state.payment.rights.device": "多設備",
			"state.payment.prevod.title": "本內容為超前點播，購買後可免費觀看"
		},
		US = {
			0: {
				"common.play": "播放",
				"common.pause": "暂停",
				"common.replay": "重播",
				"common.open": "打开",
				"common.close": "关闭",
				"common.cancel": "取消",
				"common.openvip": "开通会员",
				"common.feedback": "立即反馈",
				"common.slogan": "天生青春",
				"common.refresh": "刷新",
				"common.error.fail": "抱歉！视频文件获取失败",
				"common.error.wrong": "抱歉！视频文件异常",
				"common.error.play.wrong": "抱歉！视频播放失败",
				"common.error.stream.error": "视频获取失败，请确保您的网络正常",
				"common.error.drm.not.support": "浏览器不支持该视频播放",
				"common.error.drm.tips": "请使用最新版本Chrome浏览器或者Edge浏览器进行播放",
				"menu.copy.videourl": "复制视频地址",
				"menu.copy.videotime": "复制当前时间的视频地址",
				"menu.player.version": "播放器版本",
				"menu.player.useflash": "使用FLASH播放器",
				"menu.player.usehtml5": "使用HTML5播放器",
				"bottom.thumb.text": "赞",
				"bottom.comment.text": "评论",
				"bottom.comment.wan": "万",
				"bottom.comment.yi": "亿",
				"bottom.playcount.text": "播放次数",
				"controls.watchit.text": "只看TA",
				"controls.watchit.start": "明星",
				"controls.watchit.min": "分钟",
				"controls.watchit.full": "观看完整视频",
				"controls.volume.text": "音量",
				"controls.playrate.text": "倍速",
				"controls.playrate.shotcut": "正以 {{playrate}} 倍速播放，键盘 [ ] 快速调节",
				"controls.pip.text": "画中画",
				"controls.webscreen.text": "网页全屏",
				"controls.setting.text": "设置",
				"controls.setting.player": "播放器",
				"controls.setting.skipstart": "跳过片头片尾",
				"controls.next.text": "下一个",
				"controls.next.play": "即将播放",
				"controls.episode.open": "选集",
				"controls.danmu.open": "打开弹幕",
				"controls.danmu.close": "关闭弹幕",
				"controls.clarity.blue": "蓝光 (客户端) ",
				"controls.clarity.free": "免费",
				"controls.clarity.vip": "会员",
				"controls.clarity.auto": "自动",
				"controls.tip.volume": "当前音量",
				"controls.tip.skipstart": "已经为您跳过片头",
				"controls.tip.skipend": "即将为您跳过片尾",
				"controls.tip.continue.play": "接上次观看时间 {{time}} 继续播出",
				"controls.tip.clarity.stall": "网络有点卡，点击切换清晰度至 {{def}}",
				"controls.tip.clarity.switch": "尊贵的用户，已为您切换至 {{def}}",
				"controls.tip.clarity.switching": "正在为您切换至 {{def}}",
				"controls.tip.clarity.switched": "已切换至 {{def}}",
				"controls.tip.clarity.switch.error": "抱歉，清晰度切换失败，请重试",
				"controls.tip.ad.enter": "即将进入广告 {{time}}",
				"controls.tip.caton.desc": "播放卡顿？可尝试拖动进度条、切换清晰度或 {{refresh}} 页面",
				"controls.loop": "循环播放",
				"controls.loop.open": "打开循环播放",
				"controls.loop.close": "关闭循环播放",
				"controls.loop.opend": "已打开循环播放",
				"controls.loop.closed": "已关闭循环播放",
				"controls.subtitle.subtitle": "字幕",
				"controls.subtitle.unsubtitle": "无字幕",
				"state.ad.adblocker.tip": '广告被插件误伤啦，视频将在 <em node="downcount">{{downcount}}</em>秒后播放',
				"state.ad.adblocker.off": "如何关闭插件",
				"state.ad.adblocker.error": "关闭后仍无法播放广告?",
				"state.ad.service": "观看广告，让小芒果能更好的为您服务",
				"state.ad.call.action": "开通会员不仅可以免广告，更有蓝光大片任您看。",
				"state.blue.title": "会员尊享，极致观感",
				"state.blue.call.action": "开通会员免费观看",
				"state.blue.refresh": "开通后请登录并刷新页面观看",
				"state.blue.scan.tip": "扫一扫，开通会员",
				"state.blue.login": '您还未登录，请<a href="javascript:void(0);" action="login">登录</a>',
				"state.rights.title": "开通会员</br>享特权",
				"state.rights.adfree": "免广告",
				"state.rights.blue": "专享蓝光",
				"state.rights.film": "会员片库",
				"state.rights.coupon": "送观影券",
				"state.flash.tip": "亲，您的FLASH插件出现异常，无法播放视频",
				"state.flash.solution.text": "您可以 ↓",
				"state.flash.solution.repair": "修复FLASH插件<em>(推荐)<em>",
				"state.flash.solution.app": "手机扫码观看",
				"state.flash.solution.client": "桌面客户端观看",
				"state.toast.autoplay": "因浏览器限制，请手动打开音量",
				"state.start.ipad.tip": "安装芒果TV，享3倍流畅度",
				"state.error.code": "错误码",
				"state.error.app": "芒果APP扫码观看 ↓",
				"state.error.refresh": "刷新重试",
				"state.payment.scan": "扫描二维码进入芒果TV国际版移动端",
				"state.payment.vip.title": "开通会员可免费观看本内容",
				"state.payment.vip.desc": "请前往芒果TV国际版移动端，使用同一芒果TV账号登录后开通会员 ，开通成功后返回本页面登录同一芒果TV账号刷新观看。",
				"state.payment.single.title": "本内容需付费点播，购买后可免费观看",
				"state.payment.single.desc": "请前往芒果TV国际版移动端，使用同一芒果TV账号登录后购买本内容,购买成功后返回本页面登录同一芒果TV账号刷新观看。",
				"state.payment.coupon.title": "本内容需使用观影券免费观看",
				"state.payment.coupon.desc": "请前往芒果TV国际版移动端，使用同一芒果TV会员账号登录后，使用观影券观看本内容,再返回本页面登录同一芒果TV账号刷新观看。",
				"state.payment.hd.title": "会员尊享，极致观感",
				"state.payment.hd.desc": "请前往芒果TV国际版移动端，使用同一芒果TV账号登录后开通会员，开通成功后返回本页面登录同一芒果TV账号刷新观看。",
				"state.payment.rights.early": "抢先看",
				"state.payment.rights.hd": "享蓝光",
				"state.payment.rights.device": "多设备",
				"state.payment.prevod.title": "本内容为超前点播，购买后可免费观看"
			},
			1: OS,
			2: OS,
			3: OS,
			6: {
				"common.play": "main",
				"common.pause": "Berhenti seketika",
				"common.replay": "Main semula",
				"common.open": "buka",
				"common.close": "tutup",
				"common.cancel": "membatalkan",
				"common.openvip": "Daftar keahlian",
				"common.feedback": "Maklum balas sekarang",
				"common.slogan": "Kita kekal muda",
				"common.refresh": "Segar semula",
				"common.error.fail": "Maaf! Gagal mendapat dokumen video",
				"common.error.wrong": "Maaf! Dokumen video tidak normal",
				"common.error.play.wrong": "Maaf! Video gagal disiarkan",
				"common.error.stream.error": "Gagal mendapat video, sila memastikan rangkaian anda  normal",
				"common.error.drm.not.support": "Pelayar tidak menyokong siaran video ini",
				"common.error.drm.tips": "Sila mainkan video dalam Chrome atau Edge versi terbaru",
				"menu.copy.videourl": "Salin pautan video",
				"menu.copy.videotime": "Salin pautan video masa sekarang",
				"menu.player.version": "Versi permain",
				"menu.player.useflash": "Guna permain FlASH",
				"menu.player.usehtml5": "Guna permain HTML5",
				"bottom.thumb.text": "suka",
				"bottom.comment.text": "komen",
				"bottom.comment.wan": "Sepuluh ribu",
				"bottom.comment.yi": "Sepuluh juta",
				"bottom.playcount.text": "Bilangan main",
				"controls.watchit.text": "Hanya tengok ",
				"controls.watchit.start": "selebriti",
				"controls.watchit.min": "minit",
				"controls.watchit.full": "Tonton video yang lengkap",
				"controls.volume.text": "Isi padu",
				"controls.playrate.text": "Kelajuan berganda",
				"controls.playrate.shotcut": "Guna {{playrate}} main balik lajuan berganda,papan kekunci [ ] mengawal kelajuan",
				"controls.pip.text": "Gambar dalam gambar",
				"controls.webscreen.text": "Skrin penuh",
				"controls.setting.text": "tetapan",
				"controls.setting.player": "permain",
				"controls.setting.skipstart": "Langkau kredit awal dan akhir",
				"controls.next.text": "seterusnya",
				"controls.next.play": "Akan datang",
				"controls.episode.open": "Antologi",
				"controls.danmu.open": "Buka skrin komen ",
				"controls.danmu.close": "Tutup skrin komen",
				"controls.clarity.blue": "Sinar biru (pelanggan)",
				"controls.clarity.free": "percuma",
				"controls.clarity.vip": "ahli",
				"controls.clarity.auto": "automatik",
				"controls.tip.volume": "Isipadu semasa",
				"controls.tip.skipstart": "Telah melangkau pembukaan untuk anda",
				"controls.tip.skipend": "akan melangkau penamat untuk anda",
				"controls.tip.continue.play": "Teruskan dari tontonan terakhir {{time}} terus bersiaran",
				"controls.tip.clarity.stall": "Rangkaian buruk,tekan tukar kejelasan ke {{def}}",
				"controls.tip.clarity.switch": "Pengguna yang dihargai,telah bertukar untuk anda {{def}}",
				"controls.tip.clarity.switching": "Sedang bertukar {{def}} untuk anda",
				"controls.tip.clarity.switched": "Telah bertukar ke {{def}}",
				"controls.tip.clarity.switch.error": "Maaf,penukaran kejelasan gagal,sila cuba lagi",
				"controls.tip.ad.enter": "Akan memasukan iklan {{time}}",
				"controls.tip.caton.desc": "Gagap? Cuba seret bar video, ubah definisi atau {{refresh}} halaman",
				"controls.loop": "gelung",
				"controls.loop.open": "Buka gelung",
				"controls.loop.close": "Tutup gelung",
				"controls.loop.opend": "Telah membuka gelung",
				"controls.loop.closed": "Telah menutup gelung",
				"controls.subtitle.subtitle": "Sari Kata",
				"controls.subtitle.unsubtitle": "Tanpa Sari Kata",
				"state.ad.adblocker.tip": 'Iklan tercedera oleh pemalam,video akan dimain selepas <em node="downcount">{{downcount}}</em>',
				"state.ad.adblocker.off": "Cara mematikan pemalam",
				"state.ad.adblocker.error": "Tidak dapat menutup iklan setelah ditutup",
				"state.ad.service": "Menonton iklan,supaya magga kecil dapat melayan anda dengan lebih baik",
				"state.ad.call.action": "Daftar keahlian tidak hanya bebas dari iklan,maka ada video sinar biru yang banyak boleh ditonton",
				"state.blue.title": "Eksklusif ahli,tontonan melampau",
				"state.blue.call.action": "Daftar keahlian untuk menonton percuma",
				"state.blue.refresh": "Sila muat semula halaman selepas pendaftaran",
				"state.blue.scan.tip": "Mengimbas untuk pendaftaran ahli",
				"state.blue.login": "Anda masih belum log masuk, sila log masuk",
				"state.rights.title": "Sertai keahlian",
				"state.rights.adfree": "Bebas iklan",
				"state.rights.blue": "Sinar biru eksklusif",
				"state.rights.film": "Perpustakaan filem ahli",
				"state.rights.coupon": "Memberi tiket filem",
				"state.flash.tip": "Sayang, pemalam FLASH anda tidak normal,tidak dapat memainkan video",
				"state.flash.solution.text": "Anda boleh↓",
				"state.flash.solution.repair": "Membaiki pemalam FLASH<em>(cadangkan) <em>",
				"state.flash.solution.app": "Kod imbasan telefon bimbit untuk ditonton",
				"state.flash.solution.client": "Paparan pelaggan desktop ",
				"state.toast.autoplay": "Disebabkan oleh sekatan penyemak imbas,sila hidupkan kelatangan secara manual",
				"state.start.ipad.tip": "Pasangkan TV mangga,menikmati 3 kali lancaran",
				"state.error.code": "Kod salah",
				"state.error.app": "Imbas kod untuk menonton di Mangga app↓",
				"state.error.refresh": "Cuba muat semula lagi",
				"state.payment.scan": "Imbas kod QR,memasuki TV Mangga mudah alih antarabangsa ",
				"state.payment.vip.title": "Daftar keahlian dan menonton kandungan ini",
				"state.payment.vip.desc": "Sila ke TV Mangga mudah alih antarabangsa,log masuk akaun TV Mangga dan daftar keahlian,muat semula sebelum menonton dan kembali ke halaman ini dengan akaun TV Mangga yang sama.",
				"state.payment.single.title": "Kandungan ini harus dibayar sebelum menonton",
				"state.payment.single.desc": "Sila pergi ke APP Mango TV Edisi Antarabangsa dan log masuk dengan akaun ahli Mango TV yang sama untuk membeli kandungan ini. Setelah pembelian berjaya, kembali ke halaman ini dan log masuk ke akaun Mango TV yang sama , memuat semula lalu menontonnya.",
				"state.payment.coupon.title": "Kandungan ini harus mengguna tiket filem untuk menonton",
				"state.payment.coupon.desc": "Sila pergi ke APP Mango TV Edisi Antarabangsa, log masuk dengan akaun ahli Mango TV yang sama dan gunakan tiket filem untuk menonton kandungan ini. Kemudian kembali ke halaman ini untuk log masuk ke akaun Mango TV yang sama , memuat semula lalu menontonnya.",
				"state.payment.hd.title": "Eksklusif ahli,tontonan melampau",
				"state.payment.hd.desc": "Sila ke TV Mangga mudah alih antarabangsa,log masuk akaun TV Mangga dan daftar keahlian,muat semula sebelum menonton dan kembali ke halaman ini dengan akaun TV Mangga yang sama.",
				"state.payment.rights.early": "Pandangan pertama",
				"state.payment.rights.hd": "Menikmati sinaran biru",
				"state.payment.rights.device": "Pelbagai peranti",
				"state.payment.prevod.title": "Pratonton lanjutan ini tersedia selepas pembayaran"
			},
			10: {
				"common.play": "Play",
				"common.pause": "Pause",
				"common.replay": "Replay",
				"common.open": "Open",
				"common.close": "Close",
				"common.cancel": "Cancel",
				"common.openvip": "Become a VIP member",
				"common.feedback": "Submit feedback now",
				"common.slogan": "We Are Young",
				"common.refresh": "Refresh",
				"common.error.fail": "Sorry! Video file acquisition failed",
				"common.error.wrong": "Sorry! Video file abnormal",
				"common.error.play.wrong": "Sorry! Video playback failed",
				"common.error.stream.error": "Video acquisition failed, please check your internet",
				"common.error.drm.not.support": "This video playback is not supported by browser",
				"common.error.drm.tips": "Please play on the latest version of Chrome or Edge",
				"menu.copy.videourl": "Copy video link ",
				"menu.copy.videotime": "Copy link of the current-playing video",
				"menu.player.version": "Player version ",
				"menu.player.useflash": "Play in FLASH player",
				"menu.player.usehtml5": "Play in HTEML 5 player",
				"bottom.thumb.text": "Like ",
				"bottom.comment.text": "Comment",
				"bottom.comment.wan": "10K",
				"bottom.comment.yi": "100M",
				"bottom.playcount.text": "Video views",
				"controls.watchit.text": "View him/her only",
				"controls.watchit.start": "View him/her only",
				"controls.watchit.min": "Min",
				"controls.watchit.full": "Play full video",
				"controls.volume.text": "Volume",
				"controls.playrate.text": "Speed",
				"controls.playrate.shotcut": "Playing with {{playrate}} times of speed, hot key [ ] for quick adjustment ",
				"controls.pip.text": "Pop-up play",
				"controls.webscreen.text": "Web full screen",
				"controls.setting.text": "Settings",
				"controls.setting.player": "Player",
				"controls.setting.skipstart": "Skip title and trailer",
				"controls.next.text": "Next",
				"controls.next.play": "Upcoming",
				"controls.episode.open": "Select episodes",
				"controls.danmu.open": "Barrage.open",
				"controls.danmu.close": "Barrage.close",
				"controls.clarity.blue": "Blue ray (on App)",
				"controls.clarity.free": "Free",
				"controls.clarity.vip": "VIP member",
				"controls.clarity.auto": "Auto",
				"controls.tip.volume": "Current volume",
				"controls.tip.skipstart": "Title and trailer skipped for you",
				"controls.tip.skipend": "Skipping title and trailer for you",
				"controls.tip.continue.play": "Continue from last viewing time {{time}}",
				"controls.tip.clarity.stall": "Buffering, click to switch to {{def}}",
				"controls.tip.clarity.switch": "Switched to {{def}}, dear user",
				"controls.tip.clarity.switching": "Switching to {{def}} for you",
				"controls.tip.clarity.switched": "Switched to {{def}}",
				"controls.tip.clarity.switch.error": "Sorry, switching failed. Please retry",
				"controls.tip.ad.enter": "Playing ads {{time}}",
				"controls.tip.caton.desc": "Stuttering? Try dragging the progress bar, switching the definition or {{refresh}} the page",
				"controls.loop": "Loop playback",
				"controls.loop.open": "Open loop playback",
				"controls.loop.close": "Close loop playback",
				"controls.loop.opend": "Loop playback on",
				"controls.loop.closed": "Loop playback off",
				"controls.subtitle.subtitle": "Subtitle",
				"controls.subtitle.unsubtitle": "Unsubtitled",
				"state.ad.adblocker.tip": 'Ad plug-in blocked, video will play in <em node="downcount">{{downcount}}</em>seconds',
				"state.ad.adblocker.off": "How to turn off plug-in",
				"state.ad.adblocker.error": "Still unable to play ads?",
				"state.ad.service": "Watch ads, enjoy a better service from Mango",
				"state.ad.call.action": "Become a VIP member to skip ads and watch in blue ray.",
				"state.blue.title": "Highest viewing quality exclusive for VIP members ",
				"state.blue.call.action": "Become a VIP member to watch for free",
				"state.blue.refresh": "Log on to VIP account and refresh the page to watch",
				"state.blue.scan.tip": "Scan to become a VIP member",
				"state.blue.login": 'Please <a href="javascript:void(0);" action="login">log on</a>',
				"state.rights.title": "Become a VIP member for exclusive benefits",
				"state.rights.adfree": "Ads-free",
				"state.rights.blue": "Exclusive bluray quality",
				"state.rights.film": "Playlist for VIP members",
				"state.rights.coupon": "Free vouchers for video content",
				"state.flash.tip": "Oops! Your FLASH plug-in went wrong. Unable to play video",
				"state.flash.solution.text": "You can ↓",
				"state.flash.solution.repair": "Fix FLASH plug-in <em> (recommended) <em>",
				"state.flash.solution.app": "Scan with phone to watch",
				"state.flash.solution.client": "Watch on Desktop Client",
				"state.toast.autoplay": "Browser constraint. Please turn on volume manually",
				"state.start.ipad.tip": "Download Mango TV to enjoy triple smoothness",
				"state.error.code": "Error code",
				"state.error.app": "Scan with Mango App to watch ↓",
				"state.error.refresh": "Retry by refreshing",
				"state.payment.scan": "Scan QR code for Mango TV International mobile",
				"state.payment.vip.title": "Become a VIP member to watch for free",
				"state.payment.vip.desc": "Please go to Mango TV International mobile, log on with the same account to become a VIP member. Then go back to this page to log on with the same Mango TV account and refresh to watch. ",
				"state.payment.single.title": "Paid on-demand content. Buy and watch for free",
				"state.payment.single.desc": "Please go to MGTV International App, log in with the same Mango TV account to buy the content, then go back to refresh for watching.",
				"state.payment.coupon.title": "Use a voucher to watch for free",
				"state.payment.coupon.desc": "Please go to MGTV International App, log in with the same Mango TV VIP account to watch with a voucher, then go back to refresh for watching.",
				"state.payment.hd.title": "Highest viewing quality exclusive for VIP members ",
				"state.payment.hd.desc": "Please go to Mango TV International mobile, log on with the same account to become a VIP member. Then go back to this page to log on with the same Mango TV account and refresh to watch. ",
				"state.payment.rights.early": "First Look",
				"state.payment.rights.hd": "Enjoy Blu-ray quality",
				"state.payment.rights.device": "Multi-device",
				"state.payment.prevod.title": "This advanced preview is available after payment"
			},
			18: {
				"common.play": "Putar",
				"common.pause": "Jeda",
				"common.replay": "Reply",
				"common.open": "Buka",
				"common.close": "Tutup",
				"common.cancel": "Batalkan",
				"common.openvip": "Aktifkan vip",
				"common.feedback": "Feedback sekarang",
				"common.slogan": "Kita Terlahir Muda",
				"common.refresh": "Refresh",
				"common.error.fail": "Maaf! Akuisisi file video gagal",
				"common.error.wrong": "Maaf! File video abnormal",
				"common.error.play.wrong": "Maaf! Pemutaran video gagal",
				"common.error.stream.error": "Akuisisi video gagal, silakan pastikan jaringan Anda normal",
				"common.error.drm.not.support": "Browser tidak mendukung pemutaran video ini",
				"common.error.drm.tips": "Silakan menggunakan browser Chrome atau browser Edge versi terbaru untuk memutar",
				"menu.copy.videourl": "Salin alamat video ",
				"menu.copy.videotime": "Salin alamat video pada saat sekarang",
				"menu.player.version": "Versi player ",
				"menu.player.useflash": "Gunakan Adobe Flash Player",
				"menu.player.usehtml5": "Gunakan HTML5 Video Player",
				"bottom.thumb.text": "Suka",
				"bottom.comment.text": "Komentari",
				"bottom.comment.wan": "10Rb",
				"bottom.comment.yi": "100Jt ",
				"bottom.playcount.text": "Tayangan",
				"controls.watchit.text": "Subscribe ",
				"controls.watchit.start": "Bintang",
				"controls.watchit.min": "Menit",
				"controls.watchit.full": "Tonton video lengkap",
				"controls.volume.text": "Volume suara",
				"controls.playrate.text": "Kecepatan Pemutaran",
				"controls.playrate.shotcut": "Sedang putar dengan {{playrate}}, tombol [ ] cepat mengatur",
				"controls.pip.text": "Mode PIP",
				"controls.webscreen.text": "Layar penuh",
				"controls.setting.text": "Setelan",
				"controls.setting.player": "Player",
				"controls.setting.skipstart": "Lewatkan pembukaan video dan pengakhiran",
				"controls.next.text": "Berikutnya",
				"controls.next.play": "Segera memutar",
				"controls.episode.open": "Pilih",
				"controls.danmu.open": "Terbuka komentar live",
				"controls.danmu.close": "Matikan komentar live",
				"controls.clarity.blue": "Blu-ray (klien)",
				"controls.clarity.free": "Gratis",
				"controls.clarity.vip": "VIP",
				"controls.clarity.auto": "Otomatis",
				"controls.tip.volume": "Volume suara sekarang",
				"controls.tip.skipstart": "Telah lewatkan pembukaan video untuk Anda",
				"controls.tip.skipend": "Akan lewatkan pengakhiran video untuk Anda",
				"controls.tip.continue.play": "Lanjutkan kembali histori tontonan {{time}}",
				"controls.tip.clarity.stall": "Jaringan internet macet, klik untuk ganti kualitas video ke {{def}}",
				"controls.tip.clarity.switch": "Pengguna yang terhormat, kami telah ganti ke {{def}} untuk Anda",
				"controls.tip.clarity.switching": "Sedang ganti ke  {{def}} untuk Anda",
				"controls.tip.clarity.switched": "Telah diganti ke {{def}}",
				"controls.tip.clarity.switch.error": "Maaf, gagal menggantikan kualitas video, silahkan coba lagi",
				"controls.tip.ad.enter": "Waktu Iklan {{time}}",
				"controls.tip.caton.desc": "Pemutaran lemot? Coba seret bilah kemajuan, ganti definisi atau {{refresh}} halaman",
				"controls.loop": "Pemutaran berulang",
				"controls.loop.open": "Buka pemutaran berulang",
				"controls.loop.close": "Tutup pemutaran berulang",
				"controls.loop.opend": "Telah dibuka pemutaran berulang",
				"controls.loop.closed": "Telah ditutup pemutaran berulang",
				"controls.subtitle.subtitle": "Subtitel",
				"controls.subtitle.unsubtitle": "Tanpa Subtitel",
				"state.ad.adblocker.tip": 'Iklan terpengaruh plug-in, video akan diputar kembali setelah <em node="downcount">{{downcount}}</em>',
				"state.ad.adblocker.off": "Bagaimana cara mematikan plug-in",
				"state.ad.adblocker.error": "Tak dapat putar iklan setelah dimatikan?",
				"state.ad.service": "Tonton iklannya dan membiar Mango TV dapat melayani Anda dengan lebih baik",
				"state.ad.call.action": "VIP tidak hanya bebas dari iklan, tetapi juga bebas menonton video Blu-ray",
				"state.blue.title": "Eksklusif VIP, persepsi ekstrim",
				"state.blue.call.action": "Aktifkan VIP untuk menonton secara gratis",
				"state.blue.refresh": "Silahkan masuk dan refresh halaman untuk ditonton setelah aktifkan VIP",
				"state.blue.scan.tip": "Scan kode QR dengan HP untuk aktifkan VIP",
				"state.blue.login": "Anda belum log ini, silahkan log ini",
				"state.rights.title": "Aktifkan VIP untuk nikmati hak istimewa",
				"state.rights.adfree": "Bebas iklan",
				"state.rights.blue": "Ekslusif nikmati Blu-ray",
				"state.rights.film": "Video VIP",
				"state.rights.coupon": "Dapatkan voucher menonton film",
				"state.flash.tip": "Sayang , plug-in FLASH Anda abnormal dan tidak dapat memutar video",
				"state.flash.solution.text": "Anda bisa ↓",
				"state.flash.solution.repair": "Perbaiki Plug-in FLASH <em> (direkomentasikan) <em>",
				"state.flash.solution.app": "Scan kode QR dengan HP untuk menonton",
				"state.flash.solution.client": "Menonton video melalui desktop client",
				"state.toast.autoplay": "Karena pembatasan Browser, silahkan nyalakan volume suara secara manual",
				"state.start.ipad.tip": "Instal Mango TV dan nikmati kelancaran 3 kali lipat",
				"state.error.code": "Kode eror",
				"state.error.app": "Scan Kode QR APP Mango TV untuk menonton ↓",
				"state.error.refresh": "Refresh dan coba lagi",
				"state.payment.scan": "Scan kode QR untuk memasuki APP Mango TV Internasional",
				"state.payment.vip.title": "Mengaktivitas VIP dapat menonton secara gratis",
				"state.payment.vip.desc": "Silahkan buka APP Mango TV Internasional, masuk dengan akun Mango TV yang sama dan aktifkan VIP. Kembali ke halaman ini dan masuk ke akun Mango TV yang sama untuk refresh dan menonton setelah aktivasi berhasil.",
				"state.payment.single.title": "Konten ini butuh dibayar sesuai permintaan, bisa ditonton setelah pembayaran",
				"state.payment.single.desc": "Silahkan ke Mango TV edisi internasional, masuk menggunakan akun yang sama untuk membeli konten ini,setelah pembelian berhasil kembali ke halaman ini dan masuk menggunakan akun Mango TV yang sama untuk memonton.",
				"state.payment.coupon.title": "Konten ini butuh menggunakn kupon menonton film untuk menontnon secara gratis",
				"state.payment.coupon.desc": "Silahkan ke Mango TV edisi internasional, masuk menggunakan akun yang sama, gunakan voucher untuk menonton konten ini,kemudian kembali ke halaman ini dan masukan akun Mango TV yang sama untuk menonton.\t",
				"state.payment.hd.title": "Eksklusif VIP, persepsi ekstrim",
				"state.payment.hd.desc": "Silahkan buka APP Mango TV Internasional, masuk dengan akun Mango TV yang sama dan aktifkan VIP. Kembali ke halaman ini dan masuk ke akun Mango TV yang sama untuk refresh dan menonton setelah aktivasi berhasil.",
				"state.payment.rights.early": "Menonton lebih awal",
				"state.payment.rights.hd": "Nikmati Blu-ray",
				"state.payment.rights.device": "Multi-perangkat",
				"state.payment.prevod.title": "Isi ini adalah pra-pretunjukkan,dapat dinonton setelah dibayar"
			},
			19: {
				"common.play": "Phát",
				"common.pause": "Dừng ",
				"common.replay": "Phát lại",
				"common.open": "Bật ",
				"common.close": "Tắt ",
				"common.cancel": "Huỷ ",
				"common.openvip": "Đăng ký hội viên",
				"common.feedback": "Phản hồi ngay",
				"common.slogan": "Thanh xuân trời phú",
				"common.refresh": "Làm mới",
				"common.error.fail": "Rất tiếc! Nhận video thất bại",
				"common.error.wrong": "Rất tiếc! Video bị lỗi",
				"common.error.play.wrong": "Rất tiếc! Phát video thất bại",
				"common.error.stream.error": "Nhận video thất bại, hãy đảm bảo mạng của bạn bình thường",
				"common.error.drm.not.support": "Trình duyệt không hỗ trợ phát video này",
				"common.error.drm.tips": "Hãy sử dụng trình duyệt Chrome hoặc trình duyệt Edge phiên bản mới nhất để phát",
				"menu.copy.videourl": "Sao chép địa chỉ video",
				"menu.copy.videotime": "Sao chép địa chỉ video thời gian hiện tại",
				"menu.player.version": "Phiên bản trình phát",
				"menu.player.useflash": "Sử dụng trình phát FLASH",
				"menu.player.usehtml5": "Sử dụng trình phát HTML5",
				"bottom.thumb.text": "Thích ",
				"bottom.comment.text": "Bình luận",
				"bottom.comment.wan": "Vạn ",
				"bottom.comment.yi": "Trăm nghìn",
				"bottom.playcount.text": "Số lần phát",
				"controls.watchit.text": "Chỉ xem TA",
				"controls.watchit.start": "Ngôi sao",
				"controls.watchit.min": "Phút ",
				"controls.watchit.full": "Xem video hoàn chỉnh",
				"controls.volume.text": "Âm lượng",
				"controls.playrate.text": "Tốc độ ghi",
				"controls.playrate.shotcut": "Đang phát với tốc độ ghi {{playrate}}, phím [ ] điều chỉnh nhanh",
				"controls.pip.text": "Hình ảnh trong hình ảnh",
				"controls.webscreen.text": "Toàn màn hình trang web",
				"controls.setting.text": "Cài đặt",
				"controls.setting.player": "Trình phát",
				"controls.setting.skipstart": "Tua nhanh đến đầu phim cuối phim",
				"controls.next.text": "Tiếp theo",
				"controls.next.play": "Sắp phát",
				"controls.episode.open": "Tuyển tập",
				"controls.danmu.open": "Mở hàng rào",
				"controls.danmu.close": "Tắt hàng rào",
				"controls.clarity.blue": "Bluray (đầu khách hàng)",
				"controls.clarity.free": "Miễn phí",
				"controls.clarity.vip": "Hội viên",
				"controls.clarity.auto": "Tự động",
				"controls.tip.volume": "Âm lượng hiện tại",
				"controls.tip.skipstart": "Đã tua nhanh đến đầu phim cho bạn",
				"controls.tip.skipend": "Sẽ tua nhanh đến cuối phim cho bạn",
				"controls.tip.continue.play": "Phát tiếp thời gian xem lần trước {{time}}",
				"controls.tip.clarity.stall": "Mạng hơi kém, kích chuyển đổi độ nét sang {{def}}",
				"controls.tip.clarity.switch": "Khách hàng thân mến, đã chuyển đổi cho bạn sang {{def}}",
				"controls.tip.clarity.switching": "Đang chuyển đổi {{def}} cho bạn sang",
				"controls.tip.clarity.switched": "Đã chuyển đổi sang {{def}}",
				"controls.tip.clarity.switch.error": "Xin lỗi, chuyển đổi độ nét thất bại, hãy thử lại",
				"controls.tip.ad.enter": "Vào quảng cáo {{time}}",
				"controls.tip.caton.desc": "Phát bị gián đoạn? Thử kéo thanh kéo, thay độ nét hoặc {{refresh}} trang",
				"controls.loop": "Phát tuần hoàn",
				"controls.loop.open": "Bật phát tuần hoàn",
				"controls.loop.close": "Tắt phát tuần hoàn",
				"controls.loop.opend": "Đã bật phát tuần hoàn",
				"controls.loop.closed": "Đã tắt phát tuần hoàn",
				"controls.subtitle.subtitle": "Phụ đề",
				"controls.subtitle.unsubtitle": "Không phụ đề",
				"state.ad.adblocker.tip": 'Quảng cáo bị Plug-in làm hỏng, video sẽ được phát sau <em node="downcount">{{downcount}}</em> giây',
				"state.ad.adblocker.off": "Làm thế nào để tắt Plug-in",
				"state.ad.adblocker.error": "Sau khi tắt vẫn không phát được quảng cáo?",
				"state.ad.service": "Xem quảng cáo, để XiaoMango có thể phục vụ bạn tốt hơn",
				"state.ad.call.action": "Đăng ký hội viên không chỉ miễn quảng cáo, mà còn có nhiều phim Bluray hơn để bạn xem.",
				"state.blue.title": "Hội viên thích thú, cảm nhận tích cực",
				"state.blue.call.action": "Đăng ký hội viên xem miễn phí",
				"state.blue.refresh": "Sau khi đăng ký, hãy đăng nhập và làm mới trang để xem",
				"state.blue.scan.tip": "Quét mã, đăng ký hội viên",
				"state.blue.login": "Bạn vẫn chưa đăng nhập, hãy đăng nhập",
				"state.rights.title": "Đăng ký hội viên để hưởng đặc quyền",
				"state.rights.adfree": "Miễn quảng cáo",
				"state.rights.blue": "Bluray độc quyền",
				"state.rights.film": "Kho phim hội viên",
				"state.rights.coupon": "Tặng vé xem phim",
				"state.flash.tip": "Plug-in trình FLASH của bạn có sự cố, không thể phát video",
				"state.flash.solution.text": "Bạn có thể ↓",
				"state.flash.solution.repair": "Sửa Plug-in FLASH <em>(đề nghị)<em>",
				"state.flash.solution.app": "Quét mã xem bằng điện thoại",
				"state.flash.solution.client": "Xem bằng máy khách để bàn",
				"state.toast.autoplay": "Do trình duyệt bị giới hạn, hãy bật âm lượng bằng tay",
				"state.start.ipad.tip": "Cài đặt MangoTV, độ lưu loát gấp 3 lần",
				"state.error.code": "Mã lỗi",
				"state.error.app": "Quét mã APP Mango để xem ↓",
				"state.error.refresh": "Làm tươi thử lại",
				"state.payment.scan": "Quét mã QR vào thiết bị di động cá nhân phiên bản quốc tế của MangoTV",
				"state.payment.vip.title": "Đăng ký hội viên để xem nội dung này miễn phí",
				"state.payment.vip.desc": "Hãy quay lại thiết bị di động cá nhân phiên bản quốc tế MangoTV, sử dụng cùng một tài khoản MangoTV để đăng nhập, sau đó đăng ký hội viên, đăng ký thành công, và quay lại trang này để đăng nhập cùng một tài khoản MangoTV, làm mới và xem.",
				"state.payment.single.title": "Nội dung này phải mất phí để phát, mua xong có thể xem miễn phí",
				"state.payment.single.desc": "Trạm đầu cuối di động phiên bản Mango TV quốc tế trước kia, sau khi đăng nhập sử dụng cùng một tài khoản Mango TV, hãy mua nội dung này, sau khi mua thành công thì quay lại trang này để đăng nhập cùng một tài khoản Mango TV, làm mới và xem.",
				"state.payment.coupon.title": "Nôi dung này phải sử dụng vé xem phim để xem miễn phí",
				"state.payment.coupon.desc": "Trạm đầu cuối di động phiên bản Mango TV quốc tế trước kia, sau khi đăng nhập sử dụng cùng một tài khoản Mango TV, sử dụng vé xem phim để xem nội dung này, rồi quay lại trang này để đăng nhập cùng một tài khoản Mango TV, làm mới và xem.",
				"state.payment.hd.title": "Hội viên thích thú, cảm nhận tích cực",
				"state.payment.hd.desc": "Hãy quay lại thiết bị di động cá nhân phiên bản quốc tế MangoTV, sử dụng cùng một tài khoản MangoTV để đăng nhập, sau đó đăng ký hội viên, đăng ký thành công, và quay lại trang này để đăng nhập cùng một tài khoản MangoTV, làm mới và xem.",
				"state.payment.rights.early": "Xem trước",
				"state.payment.rights.hd": "Hưởng Bluray",
				"state.payment.rights.device": "Nhiều thiết bị",
				"state.payment.prevod.title": "Đang phát trước nội dung, sau khi mua sẽ được xem miễn phí"
			},
			23: {
				"common.play": "เล่น",
				"common.pause": "หยุดชั่วคราว",
				"common.replay": "เล่นซ้ำ",
				"common.open": "เปิด",
				"common.close": "ปิด",
				"common.cancel": "ยกเลิก",
				"common.openvip": "สมัครสมาชิก",
				"common.feedback": "ตอบรับทันที",
				"common.slogan": "เด็กโดยธรรมชาติ",
				"common.refresh": "รีเฟรช",
				"common.error.fail": "ขออภัย！การรับไฟล์วิดีโอล้มเหลว",
				"common.error.wrong": "ขออภัย！ไฟล์วิดีโอผิดปกติ",
				"common.error.play.wrong": "ขออภัย！การเล่นวิดีโอล้มเหลว",
				"common.error.stream.error": "การรับวิดีโอล้มเหลว กรุณารับรองสัญญานอินเทอร์เน็ตของท่านให้เป็นปกติ",
				"common.error.drm.not.support": "เบราว์เซอร์ไม่รองรับการเล่นวิดีโอ",
				"common.error.drm.tips": "โปรดใช้เบราว์เซอร์ Chrome หรือเบราว์เซอร์ Edge เวอร์ชันล่าสุดเพื่อเล่น",
				"menu.copy.videourl": "คัดลอกที่อยู่วิดีโอ",
				"menu.copy.videotime": "คัดลอกที่อยู่วิดีโอในเวลานี้",
				"menu.player.version": "เวอร์ชั่นเครื่องเล่น",
				"menu.player.useflash": "ใช้เครื่องเล่น FLASH",
				"menu.player.usehtml5": "ใช้เครื่องเล่น HTML5",
				"bottom.thumb.text": "ถูกใจ",
				"bottom.comment.text": "ข้อคิดเห็น",
				"bottom.comment.wan": "หมื่น",
				"bottom.comment.yi": "ร้อยล้าน",
				"bottom.playcount.text": "จำนวนครั้งที่เล่น",
				"controls.watchit.text": "ดูแค่ของคนนี้",
				"controls.watchit.start": "นักแสดงยอดนิยม",
				"controls.watchit.min": "นาที",
				"controls.watchit.full": "ดูวิดีโอฉบับเต็ม",
				"controls.volume.text": "ระดับเสียง",
				"controls.playrate.text": "ความเร็วเป็นเท่าตัว",
				"controls.playrate.shotcut": "การเล่นที่ความเร็ว {{playrate}} เท่า ใช้คีย์บอร์ดปุ่ม [ ] ในการปรับอย่างรวดเร็ว",
				"controls.pip.text": "รูปภาพในรูปภาพ",
				"controls.webscreen.text": "หน้าต่างเว็บไซต์เต็มหน้าจอ",
				"controls.setting.text": "ตั้งค่า",
				"controls.setting.player": "เครื่องเล่น",
				"controls.setting.skipstart": "ข้ามส่วนต้นและท้ายของภาพยนตร์",
				"controls.next.text": "อันถัดไป",
				"controls.next.play": "กำลังจะเล่น",
				"controls.episode.open": "กวีนิพนธ์/ชุดรวมผลงานคัดเลือก",
				"controls.danmu.open": "เปิดซับกระสุน",
				"controls.danmu.close": "ปิดซับกระสุน",
				"controls.clarity.blue": "แสงสีฟ้า (ฝั่งลูกค้า)",
				"controls.clarity.free": "ฟรี",
				"controls.clarity.vip": "สมาชิก",
				"controls.clarity.auto": "อัตโนมัติ",
				"controls.tip.volume": "ระดับเสียงขณะนี้",
				"controls.tip.skipstart": "ได้ทำการข้ามส่วนต้นของภาพยนตร์ให้ท่านแล้ว",
				"controls.tip.skipend": "กำลังจะทำการข้ามส่วนท้ายวิดีโอให้แก่ท่าน",
				"controls.tip.continue.play": "ดูต่อจากเวลา {{time}} ของครั้งก่อน",
				"controls.tip.clarity.stall": "อินเทอร์เน็ตติดขัดเล็กน้อย กดเพื่อปรับระดับความชัดไปยัง {{def}}",
				"controls.tip.clarity.switch": "ผู้ใช้งานที่เคารพ ได้ทำการเปลี่ยนไปยังความชัด {{def}} ให้แก่ท่านแล้ว",
				"controls.tip.clarity.switching": "กำลังดำเนินการให้ท่านในการเปลี่ยนไปยัง {{def}}",
				"controls.tip.clarity.switched": "ได้ทำการเปลี่ยนไปยัง {{def}} เรียบร้อยแล้ว",
				"controls.tip.clarity.switch.error": "ขอโทษ การเปลี่ยนระดับความชัดล้มเหลว โปรดลองใหม่อีกครั้ง",
				"controls.tip.ad.enter": "กำลังเข้าสู่โฆษณาในอีก {{time}}",
				"controls.tip.caton.desc": "การเล่นติดขัดเหรอ? ลองลากแถบความคืบหน้า เปลี่ยนความละเอียดหรือ {{refresh}}หน้าเว็บ",
				"controls.loop": "เล่นวน",
				"controls.loop.open": "เปิดการเล่นวน",
				"controls.loop.close": "ปิดการเล่นวน",
				"controls.loop.opend": "เปิดการเล่นเป็นวนแล้ว",
				"controls.loop.closed": "ปิดการเล่นเป็นวนแล้ว",
				"controls.subtitle.subtitle": "ซับ",
				"controls.subtitle.unsubtitle": "ไม่มีซับ",
				"state.ad.adblocker.tip": 'โฆษณาถูกลบโดยเข้าใจผิดว่าเป็นปลั๊กอิน  วิดีโอจะเล่นในอีก <em node="downcount">{{downcount}}</em>วินาทีภายหลัง',
				"state.ad.adblocker.off": "ปิดปลั๊กอินอย่างไร",
				"state.ad.adblocker.error": "ภายหลังการปิดยังคงไม่มีทางเล่นโฆษณาได้？",
				"state.ad.service": "ดูโฆษณา ให้ ให้ Mango สามารถให้บริการท่านได้ดียิ่งขึ้น",
				"state.ad.call.action": "สมัครสมาชิกไม่เพียงแค่สามารถข้ามโฆษณา อีกทั้งยังมีภาพยนตร์ Blu-ray ให้ท่านได้เลือกชม",
				"state.blue.title": "สมาชิกได้รับสิทธิเพลิดเพลินกับการรับชมที่ได้อรรถรสที่สุด",
				"state.blue.call.action": "สมัครสมาชิกดูฟรี",
				"state.blue.refresh": "สมัครแล้วโปรดลงทะเบียนและโหลดหน้าจอใหม่อีกครั้งเพื่อรับชม",
				"state.blue.scan.tip": "สแกนเพื่อสมัครสมาชิก",
				"state.blue.login": "ท่านยังไม่ได้ลงทะเบียน โปรดลงทะเบียน",
				"state.rights.title": "สมัครสมาชิกได้รับสิทธิพิเศษ",
				"state.rights.adfree": "ข้ามโฆษณา",
				"state.rights.blue": "เพลิดเพลินกับ Blu-ray",
				"state.rights.film": "คลังภาพยนตร์ของสมาชิก",
				"state.rights.coupon": "มอบคูปองชมภาพยนตร์",
				"state.flash.tip": "ท่านลูกค้า ปลั๊กอินFLASH ของท่านเกิดความผิดปกติ ไม่สามารถเล่นวิดีโอได้",
				"state.flash.solution.text": "ท่านสามารถ↓",
				"state.flash.solution.repair": "ซ่อมปลั๊กอิน FLASH <em>(แนะนำ)<em>",
				"state.flash.solution.app": "ใช้โทรศัพท์สแกนเพื่อรับชม",
				"state.flash.solution.client": "สำหรับลูกค้าที่ใช้คอมพิวเตอร์ตั้งโต๊ะรับชม",
				"state.toast.autoplay": "เนื่องจากข้อจำกัดของบราวเซอร์ โปรดเปิดระดับเสียงด้วยการปรับมือ",
				"state.start.ipad.tip": "ติดตั้ง Mango TV จะได้เพลิดเพลินกับความคล่องไม่ติดขัด 3 เท่า",
				"state.error.code": "รหัสผิดพลาด",
				"state.error.app": "แอพพลิเคชั่น Mango สแกนเพื่อรับชม↓",
				"state.error.refresh": "โหลดใหม่ลองอีกครั้ง",
				"state.payment.scan": "สแกนบาร์โค้ดเข้าสู่ Mango TV เวอร์ชั่นนานาชาติสำหรับโทรศัพท์มือถือ",
				"state.payment.vip.title": "สมัครสมาชิกสามารถรับชมเนื้อหานี้ได้ฟรี",
				"state.payment.vip.desc": "โปรดไปยัง Mango TV เวอร์ชั่นนานาชาติสำหรับโทรศัพท์มือถือ ใช้บัญชี Mango TV เดียวกันลงทะเบียนแล้วสมัครสมาชิก หลังจากสมัครสำเร็จแล้วให้กลับมายังหน้านี้ ลงทะเบียนด้วยบัญชีของ Mango TVอันเดียวกันแล้วโหลดใหม่เพื่อรับชม",
				"state.payment.single.title": "เนื้อหานี้ต้องจ่ายเงินเพื่อกดดู หลังจากซื้อสามารถรับชมได้ฟรี",
				"state.payment.single.desc": "กรุณาไปยัง Mango tv รูปแบบระหว่างประเทศในโทรศัพท์มือถือ ใช้บัญชี Mango tvอันเดียวกันลงทะเบียนแล้วซื้อเนื้อหานี้ ภายหลังซื้อเสร็จสิ้นกลับมายังหน้านี้ ลงทะเบียนด้วยบัญชี Mango tvอันเดียวกัน รีเฟลชเพื่อรับชม",
				"state.payment.coupon.title": "เนื้อหานี้ต้องใช้คูปองชมภาพยนตร์เพื่อรับชมฟรี",
				"state.payment.coupon.desc": "กรุณาไปยัง Mango tv รูปแบบระหว่างประเทศในโทรศัพท์มือถือ ใช้บัญชี Mango tvอันเดียวกันลงทะเบียนแล้ว ใช้คูปองรับชมภาพยนตร์ดูเนื้อหานี้ ค่อยกลับสู่หน้านี้ ลงทะเบียนด้วยบัญชี Mango tvอันเดียวกัน รีเฟลชเพื่อรับชม",
				"state.payment.hd.title": "สมาชิกได้รับสิทธิเพลิดเพลินกับการรับชมที่ได้อรรถรสที่สุด",
				"state.payment.hd.desc": "โปรดไปยัง Mango TV เวอร์ชั่นนานาชาติสำหรับโทรศัพท์มือถือ ใช้บัญชี Mango TV เดียวกันลงทะเบียนแล้วสมัครสมาชิก หลังจากสมัครสำเร็จแล้วให้กลับมายังหน้านี้ ลงทะเบียนด้วยบัญชีของ Mango TVอันเดียวกันแล้วโหลดใหม่เพื่อรับชม",
				"state.payment.rights.early": "แย่งรับชมก่อน",
				"state.payment.rights.hd": "เพลิดเพลินไปกับ Blu-ray",
				"state.payment.rights.device": "หลายอุปกรณ์",
				"state.payment.prevod.title": "เนื้อหานี้เป็นเนื้อหาที่ออกอากาศล่วงหน้าและสามารถรับชมได้ฟรีหลังจากการซื้อ"
			}
		},
		FS = {
			IDLE: 0,
			FRONT_AD_BEGIN: 1,
			FRONT_AD_PLAY: 10,
			FRONT_AD_END: 2,
			VIDEO_PLAY: 3,
			VIDEO_PAUSE: 4,
			VIDEO_LOAD: 11,
			MID_AD_BEGIN: 5,
			MID_AD_END: 6,
			VIDEO_END: 7,
			END_AD_BEGIN: 8,
			END_AD_END: 9,
			AUTO_PLAY_FAIL: 12
		},
		NS = null;

	function VS() {
		NS && clearTimeout(NS), NS = null
	}
	var zS = window.getPCLiveADObject,
		HS = !!window.ActiveXObject || "ActiveXObject" in window || navigator.userAgent.indexOf("Edge") > 1,
		jS = /iPad/i.test(navigator.userAgent),
		$S = /Mac/i.test(navigator.userAgent),
		WS = Va.isSupport(),
		qS = HS || !WS && !$S && !jS,
		GS = function(t) {
			function i(e) {
				var i;
				[um, MS, tm, mb, l_].forEach(function(t) {
						return Dd.install(t)
					}), e.isIpad = jS, e.listenGuestureEvents = jS, e.useFlash = !1, e.isLive = !0, e.maxretry = 3,
					e.autoplay = null == e.autoplay || e.autoplay, e.kernels = N(e.kernels || {}, {
						hls: {
							debug: !1,
							handler: Va
						},
						flv: {
							handler: Ta
						}
					}), e.format = e.format || "hls", (i = t.call(this, e) || this)._injector = e.injector || {
						stk: window.STK,
						honey: window.H
					}, i.retry = 0, i.isSupportFlash = Mt("11.2.0"), i._config = e, e = i.config, i._state = FS
					.IDLE, i.hlsRetry = 0, i.updateLobParam(), i.report = new Yf({
						vm: i
					});
				i.locale = US[i.config.abroad] || US[0], i.isIntelMgtv = "1" == i.config.i18n;
				for (var n in i.bindEvents(), BS) i[n] = BS[n].bind(i);
				return window.livePlayer = i, i.ready.then(function() {
					e.web_request ? e.source ? (i.liveSource = e.source.data, i.initPlugins(), i
					.initSource()) : Yi.warn("set web request source info,but no info input.") : (i
						.liveSourceLoader = new LiveSource("pcweb"), i.liveSourceLoader.loadLiveSource({
							definition: 2,
							activity_id: i.config.activity_id
						}).then(function(t) {
							i.liveSource = t.data, i.initPlugins(), i.initSource()
						}))
				}), i
			}
			r(i, t), n(i, null, [{
				key: "version",
				get: function() {
					return "7.0.2-29233fb"
				}
			}, {
				key: "pver",
				get: function() {
					return "imgotv-" + (qS ? "h5flash" : jS ? "padh5" : "pch5") + "-" + this.version
						.split("-")[0]
				}
			}]);
			var o = i.prototype;
			return o.initSource = function() {
				var t = this,
					e = this._config,
					i = this.getUsefullStream(this.liveSource.sources),
					n = i.streams,
					r = i.currentDef;
				if (r && (this.config.videoUrl = r.url, this.config.format = r.format, this.def = r), r && this
					.emitSync("clarityData", {
						stream: n,
						def: r,
						isAutoDef: !1
					}), 2040352 === e.source.code && 0 !== this.liveSource.preview) {
					this.emit("liveVideoInfo", this.liveSource), this.onFrontAdEnd(), VS();
					var o = this.liveSource.preview_range;
					o > 0 && (NS = setTimeout(function() {
						t.emit("showVipDialog", t.liveSource), t.pause(), t.stopLoad()
					}, 1e3 * o))
				} else 0 == e.source.code && e.source ? !zS || this.isIntelMgtv ? this.onFrontAdEnd() : this
					.emit("liveSource", this.liveSource) : this.emit("liveSourceError", e.source)
			}, o.updateLobParam = function(t) {
				void 0 === t && (t = {}), this._config.lobparam = this.config.lobparam = N(this.config
				.lobparam, {
					suuid: Li() || "",
					ref: location.referrer || document.referrer
				}, t)
			}, o.initPlugins = function() {
				var t = this._config;
				t.plugin = t.plugin || t.plugins, b(t.plugin) || (t.plugin = []);
				var e = [{
						text: this.locale["menu.copy.videourl"],
						action: "copyLivePlayerAddress"
					}, {
						text: this.locale["menu.player.version"] + "：" + this.version,
						action: "showDebugPanel"
					}],
					i = [um.name, tm.name, MS.name, mb.name, {
						name: l_.name,
						baseMenus: e
					}],
					n = t.plugin.map(function(t) {
						return isObject(t) ? t.name : t
					});
				i.forEach(function(e) {
					n.indexOf(e) > -1 || t.plugin.push(e)
				}), this.addPlugins(t.plugin)
			}, o.beforeReload = function() {
				this.emit("switchCamera"), this.updateLobParam()
			}, o.videoSourceError = function() {
				this.liveSource = null, this.stopLoad(), this.pause(), this.__dispatcher.kernel && this
					.__dispatcher.kernel.destroy()
			}, o.reloadSource = function(t) {
				var e = this,
					i = this.liveSource;
				this.liveSource = t.data;
				var n = this.config;
				this.pause(), this.stopLoad();
				var r = this.__dispatcher.kernel;
				r && r.destroy();
				var o = this.getUsefullStream(t.data.sources),
					s = o.streams,
					a = o.currentDef,
					h = o.tips;
				if (a && (this.config.videoUrl = a.url, this.config.format = a.format, this.def = a),
					2040352 === n.source.code && 0 !== this.liveSource.preview) {
					this.emit("liveVideoInfo", this.liveSource), this.emitSync("videoReload"), this
						.onFrontAdEnd(), VS();
					var c = this.liveSource.preview_range;
					c > 0 && (NS = setTimeout(function() {
						e.emit("showVipDialog", e.liveSource), e.pause(), e.stopLoad()
					}, 1e3 * c))
				} else if (0 == n.source.code && n.source) {
					if (!a && h) return this.emit("showHdDialog", {
						buy_tips: h
					}), this.pause(), !1;
					var u = this.config.isIpad ? "native" : a.format;
					this.isSwitchClarity || !zS ? (this.load({
						src: a.url,
						box: u
					}), this.emitSync("videoReady"), this.state = FS.VIDEO_LOAD, this.emitSync(
						"videoReload"), this.emitSync("clarityChanged", {
						stream: a
					})) : !this.isIntelMgtv && (i && i.cameraId != t.cameraId || this.state == FS
						.FRONT_AD_PLAY || this.state == FS.FRONT_AD_BEGIN) ? (this.state = FS
						.FRONT_AD_BEGIN, this.emitSync("videoReload"), this.emitSync("liveSource", this
							.liveSource)) : (this.load({
						src: a.url,
						box: u
					}), this.emitSync("videoReady"), this.state = FS.VIDEO_LOAD, this.emitSync(
						"videoReload"))
				} else this.emit("videoReload"), this.emit("liveSourceError", n.source);
				return a && this.emitSync("clarityData", {
					stream: s,
					def: a,
					isAutoDef: !1
				}), this.isSwitchClarity = !1, !0
			}, o.getUsefullStream = function(t) {
				for (var e, i = [], n = null, r = null, o = u(t); !(e = o()).done;) {
					var s = e.value,
						a = ".flv" === s.format ? "flv" : "hls",
						h = {
							def: s.definition,
							name: s.name,
							vip: "1" == s.needPay ? 1 : 0,
							url: s.url,
							format: a,
							sid: s.sid
						};
					i.push(h), h.url && (n = h), s.tips && (r = s.tips)
				}
				return {
					streams: i,
					currentDef: n,
					tips: r
				}
			}, o.loadLiveSource = function() {
				var t = e(yy.mark(function t() {
					return yy.wrap(function(t) {
						for (;;) switch (t.prev = t.next) {
							case 0:
							case "end":
								return t.stop()
						}
					}, t)
				}));
				return function() {
					return t.apply(this, arguments)
				}
			}(), o.bindEvents = function() {
				this.on("playing", this.onPlaying), this.on("pause", this.onPause), this.on("switchClarity",
					this.onSwitchClarity), this.on("mqttToken", this.onMqttToken), this.on("frontAdEnd",
					this.onFrontAdEnd), this.on("frontAdReady", this.onFrontAdReady), this.on(
					"frontAdBegin", this.onFrontAdBegin), this.on("waiting", this.onWaiting), this.on(
					"flvStreamError", this.onflvStreamError), this.on("hlsRecoverStreamError", this
					.onHlsRecoverStreamError), this.on("autoplayFail", this.onAutoPlayFail), this.on(
					"timeupdate", this.onTimeupdate)
			}, o.onTimeupdate = function() {
				HS ? this.state === FS.FRONT_AD_BEGIN || this.state === FS.FRONT_AD_PLAY ? (this.state = FS
						.FRONT_AD_PLAY, this.emit("frontAdPlay")) : this.state !== FS.VIDEO_LOAD && this
					.state !== FS.FRONT_AD_END || (this.state = FS.VIDEO_PLAY, this.emit("videoPlay", {
						videoUrl: this.config.videoUrl
					}), this.off("timeupdate", this.onTimeupdate)) : this.off("timeupdate", this.onTimeupdate)
			}, o.onPause = function() {
				clearInterval(this.testStackInterval)
			}, o.onAutoPlayFail = function() {
				var t = this,
					e = this.state === FS.FRONT_AD_BEGIN || this.state === FS.FRONT_AD_PLAY;
				this.state = FS.AUTO_PLAY_FAIL, this.on("manualClickPlay", function() {
					e ? (t.state = FS.FRONT_AD_PLAY, t.emit("frontAdPlay")) : (t.state = FS.VIDEO_PLAY,
						t.emit("videoPlay", {
							videoUrl: t.config.videoUrl
						}))
				})
			}, o.onWaiting = function(t) {
				this.state != FS.FRONT_AD_BEGIN && this.state != FS.FRONT_AD_PLAY ? this.state != FS
					.VIDEO_PLAY || this.emit("videoWaiting") : this.emit("frontAdWaiting")
			}, o.onHlsRecoverStreamError = function(t) {
				this.retry < this.config.maxretry ? (this.emit("m3u8PlayFial"), this.retry++) : (this.retry = 0,
					this.emit("hlsStreamError", t))
			}, o.onflvStreamError = function(t) {
				this.retry < this.config.maxretry ? (this.emit("videoWaiting"), this.stopLoad(), this.pause(),
					this.load({
						src: this.config.videoUrl,
						box: this.config.useFlash ? "flash" : this.config.format
					}), this.emit("videoReady"), this.retry++) : (this.retry = 0, t.url = this.config
					.videoUrl, this.emit("flvError", t))
			}, o.onFrontAdBegin = function() {
				this.state = FS.FRONT_AD_BEGIN
			}, o.onFrontAdReady = function() {}, o.onFrontAdEnd = function() {
				VS(), this.liveSource && (this.state = FS.FRONT_AD_END, this.load({
					src: this.config.videoUrl,
					box: this.config.isIpad ? "native" : this.config.format
				}), this.emit("videoReady"))
			}, o.onPlaying = function() {
				this.retry = 0, this.state === FS.FRONT_AD_BEGIN || this.state === FS.FRONT_AD_PLAY ? (this
						.state = FS.FRONT_AD_PLAY, this.emit("frontAdPlay")) : this.state !== FS.VIDEO_LOAD &&
					this.state !== FS.FRONT_AD_END || (this.state = FS.VIDEO_PLAY, this.emit("videoPlay", {
						videoUrl: this.config.videoUrl
					}))
			}, o.testStack = function() {
				var t = this;
				clearInterval(this.testStackInterval), this.testStackInterval = setInterval(function() {
					try {
						if (t.lastCurrentTime == t.currentTime) {
							var e = document.getElementsByTagName("video")[0];
							e.currentTime = Math.max(e.buffered.start(0), e.currentTime + .5), t
								.lastCurrentTime = e.currentTime
						}
						t.lastCurrentTime = t.currentTime
					} catch (e) {
						clearInterval(t.testStackInterval)
					}
				}, 3e3)
			}, o.onMqttToken = function(t) {
				this.addToken({
					clientId: t.clientId,
					chatKey: this.liveSource.chatKey,
					chatFlag: this.liveSource.chatFlag,
					title: this.liveSource.activityName
				})
			}, o.onSwitchClarity = function(t) {
				var e = this;
				this.isSwitchClarity = !0, t.def != this.def.def && (this.pause(), setTimeout(function() {
					e.switchQuality(t.def)
				}))
			}, o.toggleDanmuButton = function(t) {}, o.getLiveVideoInfo = function() {
				var t, e, i;
				if (!this.liveSource) return {};
				var n = this.getUsefullStream(this.liveSource.sources),
					r = (n.streams, n.currentDef);
				return {
					activity_id: this.config.activity_id,
					sid: (null == r ? void 0 : r.sid) || 0,
					pay: (null === (t = this.liveSource) || void 0 === t ? void 0 : t.vip) || 0,
					uvip: "1" == (null === (e = this.config) || void 0 === e ? void 0 : null === (i = e
						.userinfo) || void 0 === i ? void 0 : i.isvip) ? 1 : 0,
					activityName: this.liveSource.activityName,
					roomId: this.liveSource.roomId
				}
			}, o.getVideoInfo = function() {
				var t = this.config.source && this.config.source.data;
				return {
					channelId: t.cameraId,
					liveId: t.activityId
				}
			}, o.reload = function() {
				this.updateLobParam(), this.initSource(), this.stopLoad(), this.pause(), this.emitSync(
					"videoReload")
			}, i
		}(Dd),
		KS = em({
			tagName: "mango-episode-plugin",
			name: "mangoEpisode",
			html: "  ",
			offset: "0",
			level: 200
		}),
		YS = !!window.ActiveXObject || "ActiveXObject" in window || navigator.userAgent.indexOf("Edge") > 1,
		XS = navigator.userAgent.search(/(Windows 10.0|Windows NT 10.0)/) > -1 && navigator.userAgent.indexOf(
			"Edge") > -1,
		ZS = /iPad/i.test(navigator.userAgent),
		QS = /Mac/i.test(navigator.userAgent),
		JS = Va.isSupport(),
		tT = !1,
		eT = kt("__random_seed");
	null == eT && Et("__random_seed", eT = Math.random(), {
		expires: 365,
		domain: ".mgtv.com",
		path: "/"
	}), eT < .85 && (tT = !0);
	var iT = YS && !XS || !(JS && (tT || !Mt("11.2.0"))) && !QS && !ZS,
		nT = "true" === xt("__debug__"),
		rT = !1,
		oT = navigator.userAgent.toLowerCase();
	/spider|googlebot|bingbot|robot/.test(oT) && (rT = !0);
	var sT, aT, hT = function() {
			var t = zi.get("_CDNTEST_");
			null == t && (t = Math.floor(100 * Math.random()) <= 10 ? "1" : "0", zi.set("_CDNTEST_", t));
			return "1" == t
		}(),
		cT = "mango-player";
	Yi.setLevel("error"), [um, u_, tm, mb, l_, y_, KS, vb, wb].forEach(function(t) {
		return Dd.install(t)
	}), sT = "https://s1.hitv.com/libs/??vplayer/7.0.2/vplayer.css?ver=7.0.2-29233fb", (aT = document
		.createElement("link")).rel = "stylesheet", aT.href = sT, document.head.appendChild(aT);
	var uT = function(t) {
		r(i, t);
		var e = i.prototype;

		function i(e) {
			var i;
			if (!k(e) || !e.video_id) throw new TypeError("MangoPlayer options is not valid");
			Yi.info(cT, "player init."), e.isIpad = ZS, e.listenGuestureEvents = ZS, e.kernels = N(e.kernels ||
				{}, {
					hls: {
						debug: !1,
						handler: Va
					},
					dash: {
						debug: !1,
						handler: xs
					}
				}), e.iscdntest = hT, e.cdnld = hT ? "sdkbytelogO3" : "sdkbytelogO2", (i = t.call(this, e) ||
					this).detectMiniMode = function() {
					var t = this.__dispatcher.dom.wrapper;
					t.offsetWidth < 540 ? _e(t, "m-player-h5-mini") : be(t, "m-player-h5-mini"), ZS && _e(t,
						"m-player-h5-ipad")
				}.bind(i), i.detectWindowSize = function(t) {
					var e = this,
						i = t.width,
						n = t.height,
						r = (t.left, t.top, ["player-xl", "player-l", "player-m", "player-s"]);
					Array.from(e.$wrapper.classList).filter(function(t) {
						return -1 !== r.indexOf(t)
					}).map(function(t) {
						e.$wrapper.classList.remove(t)
					});
					var o = function(t, e) {
						return t <= 980 && e <= 371 ? "player-s" : t < 1190 && e < 450 ? "player-s" : t <
							1490 && e < 618 ? "player-m" : t < 1821 && e < 805 ? "player-l" : "player-xl"
					}(i, n);
					this.$wrapper.classList.add(o)
				}.bind(i), window.vplayer = i, i.isAutoplay = 0, i.isContinuePlay = 0, i.isLoopPlay = 0, i
				.isSupportFlash = Mt("11.2.0"), i.isSupportHLS = window.MediaSource && window.MediaSource
				.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'), i._videoinfo = e.VIDEOINFO, i
				._injector = e.injector || {
					stk: window.STK,
					honey: window.H
				}, e = i.config;
			var n = i.locale = US[i.config.abroad] || US[0],
				r = i.isIntelMgtv = "1" == i.config.i18n;
			i._config = e, (r || 34 == Rt(i, "_config.lobparam.cpn", "")) && (iT = !1), i.config.useFlash = iT,
				i.config.debug = nT, i.updateLobParam(), i.isPreloadEnable = i.getPreloadEnable(), i.report =
				new Yf({
					vm: i
				}), i.cms = new Wd({
					vm: i
				});
			var o, s, a, h = new Date;
			for (var c in i.emitSync("startPoint", "pv", h.getTime()), Ie(e.wrapper).attr("mg-stat-mod", "pfc"),
					kb) i[c] = kb[c].bind(i);
			(function(t) {
				for (var e = !1, i = 0; i < Eb.length; i++)
					if (Eb[i] === t) {
						e = !0;
						break
					} return e
			}(e.lobparam.cxid) || rT ? function(t) {
				var e, i, n = Ie(t._config.wrapper);
				t.cms.getVinfo(t._config.video_id).then(function(t) {
					if (t && t.data && t.data.info) {
						e = t.data.info.thumb, (i = document.createElement("div")).className =
							"nonceWrapper";
						var r = "<style>" + Sb +
							'</style>\n            <img style="" id="h5-show-dev-nonce" width="100%" height="100%" src="' +
							e +
							'">\n            <div class="u-icon u-icon-play">\n                <p class="btn"><a href="javascript:void(0);" title="播放">播放</a></p>\n            </div>';
						i.innerHTML = r;
						var o = n[0].firstChild;
						n[0].insertBefore(i, o), n.find("mango-center-state-splash").hide()
					}
				});
				var r = function() {
					n[0].removeChild(i), t.init(), Se(n[0], "click", r)
				};
				Te(n[0], "click", r)
			}(i) : i.init(), e.plugins && 1 == e.plugins.bottom) && _e(i.__dispatcher.dom.wrapper,
				"show-bottom-bar");
			return e.writeHistory && (a = function(t) {
				var e = o.getVideoInfo();
				Rb(e, 0, o.currentTime), s && clearInterval(s), s = setInterval(function() {
					Rb(e, 1, o.currentTime, e.duration)
				}, 18e4)
			}, (o = i).on("videoPlay", a), o.on("videoReplay", a), o.on("videoPause", function(t) {
				var e = o.getVideoInfo();
				Rb(e, 1, o.currentTime, e.duration)
			}), o.on("videoDrag", function(t) {
				var e = o.getVideoInfo();
				Rb(e, 1, o.currentTime, e.duration)
			}), o.on("videoWaiting", function(t) {
				var e = o.getVideoInfo();
				Rb(e, 1, o.currentTime, e.duration)
			}), o.on("videoReload", function(t) {
				s && clearInterval(s)
			}), o.on("videoEnd", function(t) {
				s && clearInterval(s), Rb(o.getVideoInfo(), 2)
			})), i.ready.then(function() {
				e.plugin = e.plugin || e.plugins, b(e.plugin) || (e.plugin = []);
				var t = [{
					text: n["menu.copy.videourl"],
					action: "copyPlayerAddress"
				}, {
					text: n["menu.copy.videotime"],
					action: "copyCurrentPlayerAddress"
				}, {
					text: n["menu.player.version"] + ": " + i.version,
					action: "showDebugPanel"
				}];
				r || (t = t.concat([{
					text: n["menu.player.useflash"],
					action: "switchToFlash"
				}, {
					text: n["menu.player.usehtml5"],
					action: "switchToHtml5"
				}]));
				var o = [];
				i.config.controls && o.push(tm.name), o = o.concat([mb.name, y_.name, {
						name: l_.name,
						baseMenus: t
					}]), e.plugins && e.plugins.episode && o.push(KS.name), r || ZS || null == e
					.plugins || 0 == e.plugins.danmu || o.unshift({
						name: u_.name,
						mode: "css",
						updateByVideo: !0,
						debug: nT
					}), i.config.disableUI && (o = []), o.unshift(um.name);
				var s = e.plugin.map(function(t) {
					return k(t) ? t.name : t
				});
				o.forEach(function(t) {
						s.indexOf(t) > -1 || e.plugin.push(t)
					}), e.plugins && 1 == e.plugins.bottom && e.plugin.push("outer-bottom"), e
					.plugins && 1 == e.plugins.guide && e.plugin.push("mango-guide"), i.addPlugins(e
						.plugin), i.config.useFlash && !i.isSupportFlash && i.emit(
						"noFlashInstallException")
			}), i
		}
		return e.isSupportHls = function() {
			return Va.isSupport()
		}, n(i, null, [{
			key: "version",
			get: function() {
				return "7.0.2-29233fb"
			}
		}, {
			key: "pver",
			get: function() {
				return "imgotv-" + (iT ? "h5flash" : ZS ? "padh5" : "pch5") + "-" + this.version
					.split("-")[0]
			}
		}, {
			key: "PopupFactory",
			get: function() {
				return em
			}
		}]), e.getPreloadEnable = function() {
			return !1
		}, e.init = function() {
			this.cms.init(this.config.video_id), this.detectMiniMode(), this.bindEvent(), Yi.info(cT,
				"player init end.")
		}, e.bindEvent = function() {
			var t = this;
			this.on("c_resize", function(e) {
				t.detectMiniMode(e), t.detectWindowSize(e)
			}), this.on("feedbackClick", function(t) {
				void 0 === t && (t = {});
				try {
					FUN_VIDEO_FEEDBACK_POST && FUN_VIDEO_FEEDBACK_POST(t.token)
				} catch (t) {}
			}), this.on("videoWillEnd", function() {
				var e = zi.get("mango-loop-open");
				if (t.isPreloadEnable && t.cms.nextId && !e) {
					t.preloadCms && t.preloadCms.destroy();
					var i = new Wd({
						vm: t,
						isPreload: !0
					});
					t.preloadCms = i, i.init(t.cms.nextId)
				}
			})
		}, e.playVideo = function(t, e) {
			this.reload({
				video_id: t,
				startTime: e
			})
		}, e.reload = function(t) {
			var e, i, n = !1;
			k(t) ? (e = t.video_id, i = t.startTime, n = t.errorRetry) : e = t, this.config.video_id = e,
				this.isPreload = !1, !isNaN(i) && i > 0 ? this.config.startTime = i : this.config
				.startTime = 0;
			var r = !1;
			this.updateLobParam(), this.preloadCms ? this.preloadCms.getBufferState() && e == this
				.preloadCms.video_id ? (this.cms.destroy(), this.cms = this.preloadCms, this.preloadCms =
					null, r = !0) : (this.preloadCms.destroy(), this.preloadCms = null, this.cms.init(e)) :
				this.cms.init(e, n), this.stopLoad(), this.pause(), this.emitSync("videoReload", {
					video_id: e,
					preloadSuccess: r
				}), r && (this.cms.setCurrent(), this.emitSync("preloadVideoStart"), this.emit("cmsData", {
					data: this.cms.videoInfoData,
					status: "loadComplete"
				})), Yi.info(cT, "reload new video [" + e + "]."), iT = this.config.useFlash, this.config
				.useFlash && !this.isSupportFlash && this.emit("noFlashInstallException")
		}, e.updateLobParam = function(t) {
			void 0 === t && (t = {}), this.config.lobparam = N(this.config.lobparam, {
				suuid: Li() || "",
				ref: location.referrer || document.referrer
			}, t)
		}, e.getVideoInfo = function() {
			return this._videoinfo || window.VIDEOINFO || {}
		}, e.updateVideoInfo = function(t) {
			this._videoinfo = t
		}, i
	}(Dd);
	return uT.MangoLivePlayer = GS, uT
});
/* 05b2c044c20ea02af759422c3a63485b */
